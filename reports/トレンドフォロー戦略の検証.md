# 検証内容・目的
## 検証内容
仮想通貨(BTC_JPY)における単純な順張り・逆張り戦略の優位性を検証する。  
順張りのlong, short、逆張りのlong, shortの4種類のアルゴリズムで検討する。
## 検証目的
botter本で採用されている単純なアルゴリズムを仕掛け・手仕舞いの
ベースのアルゴリズムとして採用してよいかを検証するのが主な目的。  
ランダムなトレードに比べて劣っていないかを検証する。

## アルゴリズム
### 順張り  
if price > close + ATR * rate then buy  
eif price < close - ATR * rate then sell  

### 逆張り
if price < close + ATR * rate then buy  
if price > close - ATR * rate then sell

# 実験条件
使用データ : GMOから取得したBTC_JPYのデータ  
手数料 : 無料  
スリッページ : ありの場合となしの場合で比較検討  
tick : 1分足、5分足、15分足、60分足、180分足  
rate : 0.1, 0.2, 0.5, 0.7, 1.0  

スリッページの大きさは過去のtickデータの値動きの幅から平均と標準偏差を計算し、それをもとに決定する。

# 検証結果
notebook : 20241129_algorithm.ipynb  

スリッページなしの場合は短い足の順張りアルゴリズムが最も良いパフォーマンス。  
スリッページを考慮すると短い足のアルゴリズムは軒並み最悪のパフォーマンス。
rateは大きいほうが良いパフォーマンス。
足は時間が長いほうが良いパフォーマンス。60分と180分は同じくらい。


# 考察
順張り戦略は逆指値などを使用する必要があるのでスリッページが発生するが、
逆張り戦略は指値をおいておけるのでスリッページは発生しない。
スリッページの大きさは、tickデータの値動きの幅から推定した。
推定したスリッページの平均が小さく(8.38e-5)分散が大きい(2.0e-4)のは、同じ価格の連続したtickが存在している影響が考えられる。
そのため、実際のスリッページは平均より大きくなることが想定される。
このことを踏まえると、平均 + 標準偏差としたスリッページで計算した利益が現実のものと最も近くなると想定される。
スリッページを考慮すると短い時間足の順張り戦略の売買は利益がでない。
逆張り戦略もスリッページは発生しないが利益がでない。
スリッページを低減する方法を考える、長い時間足でトレードするなどの対策が必要である。