/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_FND");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 81.75, 83.68, 84.32, 81.04],
    ['2022/08/04', 83.69, 81.86, 84.75, 81.25],
    ['2022/08/05', 84.87, 92.92, 93.15, 84.5],
    ['2022/08/08', 92.57, 92.25, 96.94, 91.96],
    ['2022/08/09', 91.54, 86.47, 91.89, 84.69],
    ['2022/08/10', 89.27, 90.76, 93.21, 89.27],
    ['2022/08/11', 92.05, 89.14, 92.97, 88.67],
    ['2022/08/12', 89.89, 94.03, 94.16, 88.38],
    ['2022/08/15', 93.46, 95.75, 96.06, 93.18],
    ['2022/08/16', 94.57, 99.46, 102.15, 94.57],
    ['2022/08/17', 97.14, 95.88, 97.51, 93.67],
    ['2022/08/18', 95.46, 95.8, 97.27, 94.33],
    ['2022/08/19', 93.77, 92.01, 94.15, 90.88],
    ['2022/08/22', 89.96, 87.58, 90.23, 87.45],
    ['2022/08/23', 87.82, 88.62, 89.6, 87.75],
    ['2022/08/24', 88.73, 88.86, 90.27, 87.64],
    ['2022/08/25', 89.54, 89.25, 90.61, 88.46],
    ['2022/08/26', 89.67, 84.73, 89.9, 83.9],
    ['2022/08/29', 83.65, 83.23, 84.46, 82.73],
    ['2022/08/30', 84.82, 82.91, 85.94, 81.71],
    ['2022/08/31', 83.67, 81.36, 83.67, 79.95],
    ['2022/09/01', 80.65, 81.69, 82.57, 78.35],
    ['2022/09/02', 82.98, 80.03, 83.36, 79.4],
    ['2022/09/06', 80.33, 76.77, 80.47, 76.19],
    ['2022/09/07', 77.2, 81.73, 81.85, 77.2],
    ['2022/09/08', 80.37, 82.18, 82.25, 79.59],
    ['2022/09/09', 82.14, 84.62, 85.06, 82.09],
    ['2022/09/12', 85.31, 87.04, 87.67, 85.05],
    ['2022/09/13', 82.56, 80.61, 82.8, 80.16],
    ['2022/09/14', 81.35, 80.87, 82.21, 78.67],
    ['2022/09/15', 81.09, 80.19, 83.65, 79.53],
    ['2022/09/16', 78.75, 79.87, 80.21, 77.07],
    ['2022/09/19', 79.12, 79.56, 81.07, 78.66],
    ['2022/09/20', 77.94, 75.35, 78.51, 74.99],
    ['2022/09/21', 75.86, 73.54, 77.48, 73.5],
    ['2022/09/22', 72.66, 69.64, 72.85, 68.53],
    ['2022/09/23', 68.1, 70.18, 70.35, 67.74],
    ['2022/09/26', 70.1, 69.25, 72.48, 68.25],
    ['2022/09/27', 71.62, 71.49, 73.33, 69.34],
    ['2022/09/28', 72.35, 76.56, 76.86, 72.35],
    ['2022/09/29', 74.36, 71.15, 75.02, 69.62],
    ['2022/09/30', 70.66, 70.26, 72.4, 68.72],
    ['2022/10/03', 70.85, 72.69, 73.48, 70.0],
    ['2022/10/04', 75.0, 74.54, 76.49, 73.94],
    ['2022/10/05', 72.52, 74.03, 74.9, 71.66],
    ['2022/10/06', 74.04, 73.95, 75.84, 73.51],
    ['2022/10/07', 72.07, 70.0, 72.56, 69.75],
    ['2022/10/10', 70.21, 70.15, 71.38, 68.41],
    ['2022/10/11', 70.29, 70.01, 71.7, 68.21],
    ['2022/10/12', 70.06, 70.79, 71.06, 67.6],
    ['2022/10/13', 68.27, 70.13, 71.13, 65.1],
    ['2022/10/14', 71.32, 67.29, 73.68, 67.02],
    ['2022/10/17', 69.04, 70.64, 71.35, 69.03],
    ['2022/10/18', 72.83, 70.96, 74.96, 70.39],
    ['2022/10/19', 69.21, 66.59, 69.53, 65.79],
    ['2022/10/20', 66.17, 64.72, 68.45, 64.2],
    ['2022/10/21', 64.69, 67.24, 67.55, 63.77],
    ['2022/10/24', 67.44, 69.41, 69.45, 66.05],
    ['2022/10/25', 70.0, 74.64, 74.9, 70.0],
    ['2022/10/26', 74.0, 73.27, 77.3, 73.04],
    ['2022/10/27', 73.76, 71.63, 74.25, 71.12],
    ['2022/10/28', 70.82, 74.77, 75.07, 70.29],
    ['2022/10/31', 73.77, 73.37, 74.83, 73.0],
    ['2022/11/01', 75.47, 71.28, 75.47, 71.26],
    ['2022/11/02', 70.56, 65.57, 70.56, 65.36],
    ['2022/11/03', 64.11, 67.65, 68.08, 63.51],
    ['2022/11/04', 68.94, 69.5, 70.36, 65.14],
    ['2022/11/07', 69.85, 70.69, 71.58, 67.0],
    ['2022/11/08', 72.21, 71.07, 72.69, 68.64],
    ['2022/11/09', 69.96, 69.2, 70.36, 68.57],
    ['2022/11/10', 73.88, 79.31, 81.12, 73.88],
    ['2022/11/11', 79.28, 82.23, 84.26, 78.94],
    ['2022/11/14', 81.54, 77.47, 82.2, 77.42],
    ['2022/11/15', 78.7, 79.5, 80.79, 76.28],
    ['2022/11/16', 77.46, 77.77, 78.79, 75.96],
    ['2022/11/17', 75.67, 74.63, 76.47, 73.19],
    ['2022/11/18', 76.53, 72.9, 76.53, 71.61],
    ['2022/11/21', 72.5, 73.39, 73.85, 71.56],
    ['2022/11/22', 74.54, 75.26, 76.71, 73.51],
    ['2022/11/23', 75.59, 74.03, 75.81, 73.76],
    ['2022/11/25', 73.66, 74.12, 74.85, 73.11],
    ['2022/11/28', 73.23, 70.91, 74.56, 70.86],
    ['2022/11/29', 70.39, 71.3, 71.95, 69.74],
    ['2022/11/30', 71.45, 74.63, 74.74, 69.35],
    ['2022/12/01', 75.85, 77.84, 78.24, 75.33],
    ['2022/12/02', 75.55, 77.12, 77.4, 75.02],
    ['2022/12/05', 75.36, 74.32, 76.17, 73.9],
    ['2022/12/06', 75.98, 72.04, 76.47, 69.81],
    ['2022/12/07', 72.13, 74.65, 74.73, 71.74],
    ['2022/12/08', 74.18, 75.86, 76.06, 73.96],
    ['2022/12/09', 74.83, 75.8, 77.04, 74.43],
    ['2022/12/12', 76.55, 75.83, 76.55, 74.28],
    ['2022/12/13', 81.01, 78.61, 82.19, 77.83],
    ['2022/12/14', 78.25, 79.48, 81.98, 77.71],
    ['2022/12/15', 77.47, 77.39, 78.71, 75.67],
    ['2022/12/16', 76.19, 75.13, 76.85, 74.03],
    ['2022/12/19', 74.89, 70.91, 75.21, 70.6],
    ['2022/12/20', 69.58, 71.17, 72.18, 69.51],
    ['2022/12/21', 72.4, 72.49, 73.39, 71.69],
    ['2022/12/22', 71.0, 71.13, 71.44, 69.75],
    ['2022/12/23', 71.0, 71.47, 71.91, 69.61],
    ['2022/12/27', 70.98, 69.79, 71.2, 69.29],
    ['2022/12/28', 69.79, 68.3, 70.19, 68.29],
    ['2022/12/29', 69.0, 70.99, 71.79, 68.83],
    ['2022/12/30', 69.41, 69.63, 70.24, 69.01],
    ['2023/01/03', 71.36, 72.35, 72.56, 69.12],
    ['2023/01/04', 74.0, 75.5, 75.85, 72.5],
    ['2023/01/05', 73.92, 75.0, 75.4, 72.83],
    ['2023/01/06', 75.76, 77.1, 77.28, 74.41],
    ['2023/01/09', 78.1, 79.0, 80.39, 77.87],
    ['2023/01/10', 78.85, 80.42, 80.8, 78.29],
    ['2023/01/11', 81.74, 84.3, 84.37, 80.84],
    ['2023/01/12', 85.39, 86.58, 87.13, 83.47],
    ['2023/01/13', 85.14, 84.8, 88.72, 84.78],
    ['2023/01/17', 84.12, 83.99, 84.26, 81.61],
    ['2023/01/18', 85.5, 85.22, 88.5, 85.11],
    ['2023/01/19', 83.42, 80.05, 83.82, 79.89],
    ['2023/01/20', 79.79, 83.69, 83.86, 78.18],
    ['2023/01/23', 83.96, 87.32, 87.45, 83.83],
    ['2023/01/24', 87.0, 87.22, 87.79, 85.87],
    ['2023/01/25', 85.32, 88.5, 89.06, 83.71],
    ['2023/01/26', 89.38, 84.72, 90.96, 84.52],
    ['2023/01/27', 83.35, 86.83, 88.62, 83.01],
    ['2023/01/30', 85.66, 85.27, 87.04, 84.99],
    ['2023/01/31', 85.65, 90.77, 90.8, 85.65],
    ['2023/02/01', 90.8, 95.37, 95.71, 89.53],
    ['2023/02/02', 97.0, 100.28, 102.61, 97.0],
    ['2023/02/03', 96.52, 99.79, 100.91, 96.52],
    ['2023/02/06', 97.8, 99.84, 101.02, 97.45],
    ['2023/02/07', 98.52, 100.85, 101.1, 97.12],
    ['2023/02/08', 99.21, 99.0, 99.61, 98.0],
    ['2023/02/09', 100.55, 98.96, 101.5, 98.75],
    ['2023/02/10', 97.01, 94.11, 97.45, 93.95],
    ['2023/02/13', 94.43, 98.13, 99.38, 93.56],
    ['2023/02/14', 96.62, 100.2, 100.46, 95.14],
    ['2023/02/15', 98.9, 100.61, 101.17, 98.19],
    ['2023/02/16', 94.97, 97.72, 100.19, 94.85],
    ['2023/02/17', 96.18, 94.5, 96.71, 92.87],
    ['2023/02/21', 92.45, 88.14, 92.45, 87.34],
    ['2023/02/22', 88.84, 89.11, 90.83, 88.62],
    ['2023/02/23', 89.33, 90.83, 91.18, 88.24],
    ['2023/02/24', 94.99, 91.0, 94.99, 88.78],
    ['2023/02/27', 92.77, 90.38, 92.77, 90.0],
    ['2023/02/28', 90.43, 91.81, 92.56, 89.19],
    ['2023/03/01', 91.34, 88.47, 92.11, 88.08],
    ['2023/03/02', 86.72, 88.39, 89.01, 86.13],
    ['2023/03/03', 89.16, 91.28, 91.5, 88.46],
    ['2023/03/06', 91.54, 89.68, 92.51, 89.09],
    ['2023/03/07', 89.67, 87.83, 90.54, 87.78],
    ['2023/03/08', 88.11, 88.78, 89.07, 87.26],
    ['2023/03/09', 88.57, 85.73, 90.07, 85.51],
    ['2023/03/10', 85.85, 86.75, 88.25, 83.99],
    ['2023/03/13', 85.41, 88.85, 89.74, 85.08],
    ['2023/03/14', 90.48, 88.98, 91.14, 87.62],
    ['2023/03/15', 87.28, 88.75, 89.42, 86.67],
    ['2023/03/16', 88.23, 90.58, 91.13, 88.16],
    ['2023/03/17', 90.72, 91.52, 91.94, 89.46],
    ['2023/03/20', 91.82, 92.43, 94.09, 91.41],
    ['2023/03/21', 93.49, 93.76, 96.12, 93.49],
    ['2023/03/22', 93.98, 92.3, 95.24, 92.21],
    ['2023/03/23', 93.2, 91.92, 93.62, 90.31],
    ['2023/03/24', 91.0, 93.09, 93.37, 90.55],
    ['2023/03/27', 93.41, 92.39, 93.82, 90.15],
    ['2023/03/28', 91.95, 93.41, 93.72, 91.56],
    ['2023/03/29', 94.21, 94.45, 94.55, 92.78],
    ['2023/03/30', 95.44, 94.7, 96.06, 94.24],
    ['2023/03/31', 95.3, 98.22, 98.43, 94.92],
    ['2023/04/03', 97.62, 98.63, 98.73, 96.35],
    ['2023/04/04', 99.37, 98.15, 99.37, 97.59],
    ['2023/04/05', 97.16, 93.32, 97.57, 92.7],
    ['2023/04/06', 92.58, 92.38, 92.79, 90.44],
    ['2023/04/10', 91.78, 97.74, 98.37, 91.63],
    ['2023/04/11', 98.55, 98.7, 99.2, 97.29],
    ['2023/04/12', 99.55, 96.41, 100.0, 96.11],
    ['2023/04/13', 96.95, 98.22, 98.97, 96.25],
    ['2023/04/14', 98.26, 98.41, 99.77, 97.93],
    ['2023/04/17', 98.46, 98.01, 98.79, 97.17],
    ['2023/04/18', 99.24, 100.48, 101.39, 98.66],
    ['2023/04/19', 99.52, 99.34, 99.68, 98.18],
    ['2023/04/20', 98.3, 98.91, 100.15, 98.21],
    ['2023/04/21', 99.22, 98.39, 99.56, 97.18],
    ['2023/04/24', 98.85, 98.9, 99.44, 97.92],
    ['2023/04/25', 99.07, 97.13, 99.62, 97.08],
    ['2023/04/26', 98.09, 93.85, 98.53, 93.35],
    ['2023/04/27', 94.48, 96.4, 96.49, 94.11],
    ['2023/04/28', 97.0, 99.34, 99.7, 96.68],
    ['2023/05/01', 98.84, 99.66, 99.79, 98.37],
    ['2023/05/02', 99.6, 99.47, 100.3, 97.65],
    ['2023/05/03', 99.5, 97.55, 101.31, 97.32],
    ['2023/05/04', 97.5, 97.32, 100.13, 96.57],
    ['2023/05/05', 91.05, 92.44, 94.1, 87.62],
    ['2023/05/08', 92.3, 92.05, 93.0, 90.6],
    ['2023/05/09', 92.0, 91.73, 92.82, 90.84],
    ['2023/05/10', 92.36, 92.65, 93.2, 90.73],
    ['2023/05/11', 93.61, 93.16, 93.83, 91.93],
    ['2023/05/12', 93.28, 92.57, 93.97, 91.89],
    ['2023/05/15', 92.12, 92.28, 92.73, 91.32],
    ['2023/05/16', 89.87, 89.07, 90.65, 87.86],
    ['2023/05/17', 89.24, 91.37, 91.6, 88.58],
    ['2023/05/18', 91.41, 91.08, 91.67, 90.11],
    ['2023/05/19', 90.61, 88.45, 90.61, 87.45],
    ['2023/05/22', 88.06, 90.57, 90.95, 87.96],
    ['2023/05/23', 89.92, 90.71, 91.89, 88.77],
    ['2023/05/24', 90.84, 90.13, 91.09, 87.93],
    ['2023/05/25', 90.7, 88.44, 91.88, 88.31],
    ['2023/05/26', 88.5, 91.79, 92.03, 88.03],
    ['2023/05/30', 92.99, 92.88, 93.61, 91.72],
    ['2023/05/31', 92.96, 91.31, 93.35, 89.77],
    ['2023/06/01', 90.96, 92.47, 93.12, 89.29],
    ['2023/06/02', 93.1, 94.17, 95.0, 92.28],
    ['2023/06/05', 93.13, 91.12, 93.26, 90.92],
    ['2023/06/06', 90.59, 92.98, 93.78, 90.26],
    ['2023/06/07', 94.08, 97.74, 99.17, 93.58],
    ['2023/06/08', 98.17, 96.55, 98.89, 96.23],
    ['2023/06/09', 97.28, 96.0, 97.28, 95.41],
    ['2023/06/12', 94.34, 96.95, 97.41, 94.01],
    ['2023/06/13', 97.5, 97.94, 99.5, 97.38],
    ['2023/06/14', 98.03, 96.14, 99.22, 95.73],
    ['2023/06/15', 95.99, 97.07, 97.43, 94.64],
    ['2023/06/16', 97.36, 96.26, 97.84, 95.68],
    ['2023/06/20', 95.27, 96.02, 96.43, 94.22],
    ['2023/06/21', 96.14, 96.18, 96.93, 94.21],
    ['2023/06/22', 96.03, 95.72, 96.46, 94.36],
    ['2023/06/23', 96.67, 97.97, 100.42, 95.27],
    ['2023/06/26', 97.57, 97.21, 98.59, 95.54],
    ['2023/06/27', 97.97, 102.5, 102.94, 97.67],
    ['2023/06/28', 102.42, 102.86, 104.98, 102.0],
    ['2023/06/29', 102.89, 101.56, 103.51, 100.27],
    ['2023/06/30', 102.64, 103.96, 104.79, 101.75],
    ['2023/07/03', 103.75, 104.02, 104.9, 103.36],
    ['2023/07/05', 103.92, 103.56, 104.45, 102.68],
    ['2023/07/06', 101.87, 100.43, 102.55, 99.92],
    ['2023/07/07', 101.39, 100.92, 102.43, 100.67],
    ['2023/07/10', 100.74, 104.67, 104.68, 100.71],
    ['2023/07/11', 104.91, 109.0, 109.42, 104.82],
    ['2023/07/12', 110.0, 113.26, 114.63, 110.0],
    ['2023/07/13', 113.4, 113.25, 113.96, 112.03],
    ['2023/07/14', 113.03, 111.15, 113.25, 110.6],
    ['2023/07/17', 110.53, 110.49, 111.25, 110.05],
    ['2023/07/18', 110.56, 112.76, 113.2, 109.83],
    ['2023/07/19', 113.08, 115.06, 115.69, 112.79],
    ['2023/07/20', 114.63, 113.21, 116.03, 112.29],
    ['2023/07/21', 111.36, 111.2, 112.35, 110.29],
    ['2023/07/24', 111.0, 110.0, 111.9, 109.84],
    ['2023/07/25', 110.04, 110.65, 112.06, 109.45],
    ['2023/07/26', 110.98, 111.67, 112.73, 110.6],
    ['2023/07/27', 113.42, 110.48, 114.62, 110.4],
    ['2023/07/28', 113.56, 113.95, 114.78, 112.57],
    ['2023/07/31', 114.23, 114.85, 115.25, 114.0],
    ['2023/08/01', 113.19, 114.27, 114.85, 112.75],
    ['2023/08/02', 112.48, 111.53, 113.06, 110.68],
]);
var volumes = [
    1426400.0,
    2102500.0,
    3369800.0,
    2146900.0,
    2137400.0,
    1424500.0,
    968100.0,
    1156300.0,
    1132600.0,
    2140300.0,
    2146900.0,
    970600.0,
    1445300.0,
    1005100.0,
    817100.0,
    728200.0,
    712100.0,
    1370700.0,
    785200.0,
    811200.0,
    1828100.0,
    1816800.0,
    1080500.0,
    1217200.0,
    1025600.0,
    802000.0,
    949800.0,
    1330600.0,
    1423800.0,
    1260800.0,
    901800.0,
    1186300.0,
    1161600.0,
    1645900.0,
    2226700.0,
    1773700.0,
    1412300.0,
    1237300.0,
    1498300.0,
    2397600.0,
    1934300.0,
    1698600.0,
    2134700.0,
    1848600.0,
    1091100.0,
    1015300.0,
    1324600.0,
    1231400.0,
    2510900.0,
    2137300.0,
    1828800.0,
    2275100.0,
    1257400.0,
    1282600.0,
    1546900.0,
    1035600.0,
    1384100.0,
    1126500.0,
    2242700.0,
    1483700.0,
    1771500.0,
    1563500.0,
    1072900.0,
    1473400.0,
    3091500.0,
    3288000.0,
    2746600.0,
    1631200.0,
    1335300.0,
    1715200.0,
    3406600.0,
    2475000.0,
    1773300.0,
    2472600.0,
    943700.0,
    1184500.0,
    1170000.0,
    1040600.0,
    1254300.0,
    863200.0,
    460000.0,
    996500.0,
    1337700.0,
    1769800.0,
    1269500.0,
    622900.0,
    1104700.0,
    1443300.0,
    1065300.0,
    1198000.0,
    992700.0,
    1284700.0,
    1923900.0,
    2516900.0,
    2238200.0,
    1560600.0,
    1430300.0,
    1715100.0,
    1319800.0,
    1504900.0,
    1031900.0,
    2427200.0,
    1925600.0,
    1273200.0,
    1202400.0,
    2104300.0,
    1302800.0,
    1318100.0,
    1571800.0,
    1811600.0,
    1063400.0,
    1567400.0,
    1994500.0,
    1473000.0,
    1644700.0,
    1770500.0,
    1491400.0,
    1731400.0,
    1453400.0,
    623000.0,
    1378700.0,
    1870200.0,
    1815000.0,
    1277400.0,
    1411100.0,
    1697600.0,
    3618300.0,
    2177200.0,
    1893200.0,
    2070900.0,
    1320500.0,
    1502600.0,
    1879400.0,
    1270300.0,
    1037400.0,
    1246900.0,
    1590400.0,
    1861300.0,
    2398600.0,
    1159000.0,
    1819300.0,
    3010300.0,
    1192600.0,
    1606800.0,
    1376400.0,
    884300.0,
    927800.0,
    901500.0,
    1041500.0,
    1965200.0,
    1195400.0,
    2312900.0,
    2261400.0,
    1705700.0,
    965300.0,
    1363800.0,
    1789400.0,
    1384600.0,
    1429400.0,
    958900.0,
    1169300.0,
    871500.0,
    971500.0,
    1037800.0,
    790700.0,
    1476800.0,
    1245800.0,
    1154700.0,
    1138800.0,
    1604900.0,
    1570400.0,
    1503600.0,
    1023500.0,
    997200.0,
    978900.0,
    815100.0,
    1186000.0,
    2848500.0,
    970800.0,
    980900.0,
    1120800.0,
    816700.0,
    1233800.0,
    2073100.0,
    2189500.0,
    841500.0,
    1004200.0,
    839700.0,
    1576900.0,
    1658200.0,
    4863500.0,
    1380100.0,
    1346000.0,
    1219600.0,
    846500.0,
    1196800.0,
    943000.0,
    2181900.0,
    1329300.0,
    963800.0,
    1327300.0,
    1014400.0,
    1209100.0,
    822400.0,
    852000.0,
    909600.0,
    843000.0,
    1109600.0,
    954500.0,
    1039300.0,
    1248500.0,
    1316000.0,
    2590300.0,
    855500.0,
    1038800.0,
    1381800.0,
    784600.0,
    888400.0,
    662900.0,
    885200.0,
    908600.0,
    1045000.0,
    793400.0,
    2074000.0,
    1173400.0,
    1188800.0,
    1108500.0,
    1417700.0,
    1486500.0,
    533900.0,
    954800.0,
    1189200.0,
    652200.0,
    1286400.0,
    1861400.0,
    1929000.0,
    962000.0,
    1533200.0,
    1203000.0,
    1215600.0,
    1004800.0,
    1222200.0,
    1400200.0,
    1367600.0,
    1484700.0,
    653700.0,
    899300.0,
    980300.0,
    1129500.0,
    898600.0,
    1354900.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "FND",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 40,
            end: 70,
            top: 30,
            height: 20,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);