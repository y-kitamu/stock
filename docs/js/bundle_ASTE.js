/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_ASTE");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/09', 41.65, 41.71, 41.91, 41.03],
    ['2022/08/10', 42.59, 43.47, 43.68, 42.15],
    ['2022/08/11', 44.01, 44.43, 44.99, 44.0],
    ['2022/08/12', 44.78, 44.97, 45.59, 44.09],
    ['2022/08/15', 44.55, 45.56, 45.84, 44.29],
    ['2022/08/16', 45.62, 45.62, 46.32, 44.88],
    ['2022/08/17', 44.95, 44.51, 45.29, 44.38],
    ['2022/08/18', 44.52, 43.59, 44.52, 43.22],
    ['2022/08/19', 42.96, 42.74, 43.08, 42.27],
    ['2022/08/22', 42.0, 40.96, 42.0, 40.53],
    ['2022/08/23', 41.03, 41.17, 41.42, 40.53],
    ['2022/08/24', 41.29, 40.86, 41.4, 40.51],
    ['2022/08/25', 40.87, 41.79, 41.82, 40.66],
    ['2022/08/26', 42.14, 39.62, 42.14, 39.5],
    ['2022/08/29', 38.99, 38.34, 39.13, 38.34],
    ['2022/08/30', 38.4, 38.61, 38.61, 37.44],
    ['2022/08/31', 38.54, 38.18, 38.85, 37.58],
    ['2022/09/01', 37.75, 38.1, 38.3, 37.3],
    ['2022/09/02', 38.68, 37.64, 39.04, 37.33],
    ['2022/09/06', 37.63, 37.04, 38.41, 36.76],
    ['2022/09/07', 37.09, 38.58, 38.83, 37.09],
    ['2022/09/08', 38.27, 38.3, 39.01, 37.96],
    ['2022/09/09', 38.63, 39.78, 39.93, 38.39],
    ['2022/09/12', 40.25, 39.59, 40.69, 39.33],
    ['2022/09/13', 38.59, 37.48, 38.77, 37.22],
    ['2022/09/14', 37.25, 36.79, 37.25, 36.09],
    ['2022/09/15', 36.66, 36.63, 37.24, 36.3],
    ['2022/09/16', 36.1, 35.43, 36.1, 34.9],
    ['2022/09/19', 35.32, 36.22, 36.53, 35.32],
    ['2022/09/20', 35.7, 35.41, 35.91, 34.64],
    ['2022/09/21', 35.6, 34.79, 36.09, 34.72],
    ['2022/09/22', 34.43, 33.99, 34.45, 33.68],
    ['2022/09/23', 33.64, 33.17, 33.71, 32.55],
    ['2022/09/26', 33.17, 32.58, 33.89, 32.46],
    ['2022/09/27', 32.96, 32.08, 33.03, 31.91],
    ['2022/09/28', 32.24, 32.45, 32.81, 32.16],
    ['2022/09/29', 32.07, 31.85, 32.74, 31.04],
    ['2022/09/30', 31.89, 31.19, 33.38, 31.1],
    ['2022/10/03', 31.99, 31.64, 32.38, 31.32],
    ['2022/10/04', 32.44, 33.81, 34.24, 32.22],
    ['2022/10/05', 33.2, 33.56, 33.88, 32.88],
    ['2022/10/06', 33.33, 33.59, 34.74, 33.28],
    ['2022/10/07', 33.32, 32.16, 33.32, 31.63],
    ['2022/10/10', 32.45, 33.04, 33.53, 32.04],
    ['2022/10/11', 33.04, 33.65, 33.89, 32.52],
    ['2022/10/12', 33.58, 33.61, 33.76, 33.21],
    ['2022/10/13', 32.95, 34.59, 35.1, 32.81],
    ['2022/10/14', 34.7, 33.4, 34.7, 33.04],
    ['2022/10/17', 34.12, 34.22, 34.91, 34.03],
    ['2022/10/18', 35.15, 35.81, 36.2, 35.02],
    ['2022/10/19', 35.43, 36.13, 36.76, 34.88],
    ['2022/10/20', 35.93, 34.74, 36.49, 34.61],
    ['2022/10/21', 35.04, 36.69, 36.91, 34.48],
    ['2022/10/24', 36.75, 37.27, 37.47, 36.75],
    ['2022/10/25', 37.21, 38.57, 38.69, 37.17],
    ['2022/10/26', 38.62, 40.24, 40.73, 38.4],
    ['2022/10/27', 40.76, 41.75, 42.82, 40.07],
    ['2022/10/28', 41.79, 43.4, 43.62, 41.44],
    ['2022/10/31', 42.84, 43.65, 43.88, 42.54],
    ['2022/11/01', 43.79, 43.53, 44.64, 43.5],
    ['2022/11/02', 40.4, 40.78, 42.74, 39.68],
    ['2022/11/03', 40.94, 42.51, 43.27, 40.53],
    ['2022/11/04', 42.94, 44.07, 44.35, 42.53],
    ['2022/11/07', 44.47, 43.92, 44.73, 42.59],
    ['2022/11/08', 44.05, 44.18, 44.81, 43.06],
    ['2022/11/09', 43.62, 41.53, 43.62, 41.23],
    ['2022/11/10', 43.34, 44.31, 44.4, 42.92],
    ['2022/11/11', 44.72, 44.38, 45.95, 42.91],
    ['2022/11/14', 44.32, 43.46, 44.37, 42.96],
    ['2022/11/15', 44.06, 43.58, 44.65, 43.31],
    ['2022/11/16', 43.51, 42.34, 43.64, 41.98],
    ['2022/11/17', 41.68, 42.75, 43.05, 40.97],
    ['2022/11/18', 43.6, 42.32, 44.25, 41.62],
    ['2022/11/21', 42.18, 42.46, 42.99, 41.81],
    ['2022/11/22', 42.77, 42.59, 43.48, 42.19],
    ['2022/11/23', 42.64, 42.93, 44.96, 42.11],
    ['2022/11/25', 42.56, 44.29, 44.81, 42.56],
    ['2022/11/28', 43.8, 43.29, 44.46, 43.01],
    ['2022/11/29', 43.16, 43.51, 44.45, 42.78],
    ['2022/11/30', 43.52, 44.24, 44.55, 42.39],
    ['2022/12/01', 44.62, 43.82, 44.62, 42.8],
    ['2022/12/02', 43.31, 43.79, 44.18, 42.89],
    ['2022/12/05', 43.74, 44.16, 44.32, 43.29],
    ['2022/12/06', 44.07, 43.19, 44.9, 42.62],
    ['2022/12/07', 43.05, 42.95, 43.39, 42.77],
    ['2022/12/08', 43.29, 43.03, 43.72, 42.36],
    ['2022/12/09', 42.74, 41.66, 43.05, 41.66],
    ['2022/12/12', 41.84, 41.68, 42.26, 41.13],
    ['2022/12/13', 43.35, 43.23, 44.05, 42.4],
    ['2022/12/14', 43.43, 43.6, 44.2, 43.36],
    ['2022/12/15', 42.88, 40.28, 43.38, 40.09],
    ['2022/12/16', 39.66, 40.53, 40.85, 39.5],
    ['2022/12/19', 40.6, 40.9, 41.29, 40.28],
    ['2022/12/20', 41.16, 41.49, 42.55, 40.83],
    ['2022/12/21', 41.98, 41.49, 42.6, 41.48],
    ['2022/12/22', 41.07, 40.4, 41.07, 39.43],
    ['2022/12/23', 40.5, 41.03, 41.24, 40.28],
    ['2022/12/27', 41.19, 41.58, 41.78, 40.88],
    ['2022/12/28', 41.62, 39.98, 42.08, 39.97],
    ['2022/12/29', 40.38, 41.11, 41.17, 40.37],
    ['2022/12/30', 40.76, 40.66, 40.8, 40.35],
    ['2023/01/03', 41.16, 41.21, 41.36, 40.39],
    ['2023/01/04', 41.56, 42.07, 42.22, 41.37],
    ['2023/01/05', 42.12, 41.78, 42.12, 41.03],
    ['2023/01/06', 40.8, 36.73, 41.44, 35.73],
    ['2023/01/09', 37.29, 37.4, 37.83, 36.59],
    ['2023/01/10', 37.5, 37.23, 38.18, 36.92],
    ['2023/01/11', 37.64, 38.55, 38.78, 37.64],
    ['2023/01/12', 39.2, 38.85, 39.52, 38.41],
    ['2023/01/13', 38.38, 38.82, 39.03, 37.59],
    ['2023/01/17', 38.84, 38.58, 39.0, 38.29],
    ['2023/01/18', 38.73, 38.52, 39.05, 38.44],
    ['2023/01/19', 38.19, 37.62, 38.23, 37.29],
    ['2023/01/20', 38.07, 38.56, 38.75, 37.5],
    ['2023/01/23', 38.67, 39.29, 39.54, 38.36],
    ['2023/01/24', 39.13, 40.47, 40.73, 38.92],
    ['2023/01/25', 40.33, 42.09, 42.11, 40.06],
    ['2023/01/26', 42.35, 42.51, 42.55, 41.77],
    ['2023/01/27', 42.34, 43.67, 43.77, 42.34],
    ['2023/01/30', 43.46, 43.11, 44.2, 43.08],
    ['2023/01/31', 43.3, 44.14, 44.86, 42.78],
    ['2023/02/01', 44.15, 44.33, 44.98, 43.23],
    ['2023/02/02', 44.5, 45.33, 45.33, 44.15],
    ['2023/02/03', 44.62, 45.52, 45.65, 44.6],
    ['2023/02/06', 45.16, 44.67, 45.64, 44.08],
    ['2023/02/07', 44.4, 45.25, 45.33, 43.76],
    ['2023/02/08', 45.1, 44.93, 45.25, 44.44],
    ['2023/02/09', 45.28, 43.6, 45.64, 43.34],
    ['2023/02/10', 43.23, 43.74, 43.97, 42.46],
    ['2023/02/13', 43.94, 44.87, 45.06, 43.49],
    ['2023/02/14', 44.43, 44.68, 44.99, 43.89],
    ['2023/02/15', 44.38, 45.28, 45.48, 44.32],
    ['2023/02/16', 44.71, 44.92, 45.4, 44.52],
    ['2023/02/17', 45.21, 45.87, 46.14, 44.92],
    ['2023/02/21', 45.45, 44.04, 45.55, 44.03],
    ['2023/02/22', 44.29, 44.34, 45.35, 43.82],
    ['2023/02/23', 44.7, 45.36, 45.46, 44.48],
    ['2023/02/24', 44.71, 44.54, 45.25, 44.13],
    ['2023/02/27', 45.01, 44.98, 45.36, 44.6],
    ['2023/02/28', 44.89, 45.03, 45.91, 44.79],
    ['2023/03/01', 44.33, 47.13, 47.63, 44.33],
    ['2023/03/02', 47.42, 48.87, 49.05, 47.26],
    ['2023/03/03', 49.1, 49.27, 49.43, 48.3],
    ['2023/03/06', 49.03, 46.85, 49.45, 46.53],
    ['2023/03/07', 46.99, 45.18, 47.03, 45.06],
    ['2023/03/08', 45.4, 45.97, 46.02, 45.01],
    ['2023/03/09', 45.8, 44.54, 45.98, 44.48],
    ['2023/03/10', 44.49, 42.39, 44.49, 41.82],
    ['2023/03/13', 41.64, 40.59, 41.64, 40.31],
    ['2023/03/14', 41.93, 41.35, 42.26, 40.84],
    ['2023/03/15', 40.08, 39.66, 40.49, 38.85],
    ['2023/03/16', 39.15, 39.68, 40.1, 38.38],
    ['2023/03/17', 39.24, 37.85, 39.59, 37.65],
    ['2023/03/20', 38.41, 38.82, 39.23, 38.34],
    ['2023/03/21', 39.83, 39.64, 40.23, 38.9],
    ['2023/03/22', 39.7, 39.28, 40.33, 39.21],
    ['2023/03/23', 39.36, 38.72, 40.02, 38.54],
    ['2023/03/24', 38.16, 38.39, 38.44, 37.47],
    ['2023/03/27', 38.99, 39.21, 39.37, 38.07],
    ['2023/03/28', 39.03, 39.97, 40.05, 39.02],
    ['2023/03/29', 40.39, 40.29, 40.39, 39.73],
    ['2023/03/30', 40.58, 40.5, 40.94, 40.21],
    ['2023/03/31', 40.78, 41.25, 41.53, 40.63],
    ['2023/04/03', 41.38, 41.43, 41.81, 40.63],
    ['2023/04/04', 41.53, 39.33, 42.32, 38.79],
    ['2023/04/05', 39.02, 38.63, 39.22, 38.18],
    ['2023/04/06', 38.73, 38.43, 39.0, 38.09],
    ['2023/04/10', 38.06, 39.27, 39.81, 38.01],
    ['2023/04/11', 39.75, 40.07, 40.6, 38.77],
    ['2023/04/12', 40.58, 40.81, 40.83, 40.05],
    ['2023/04/13', 40.84, 40.97, 41.18, 40.13],
    ['2023/04/14', 40.9, 41.05, 41.46, 40.61],
    ['2023/04/17', 40.97, 41.5, 41.65, 40.96],
    ['2023/04/18', 41.79, 41.69, 42.08, 41.37],
    ['2023/04/19', 41.51, 41.1, 41.51, 40.64],
    ['2023/04/20', 40.68, 41.18, 41.23, 40.19],
    ['2023/04/21', 41.11, 40.95, 41.11, 40.02],
    ['2023/04/24', 40.99, 41.32, 41.57, 40.99],
    ['2023/04/25', 40.72, 40.49, 41.26, 40.46],
    ['2023/04/26', 40.17, 40.11, 40.51, 39.9],
    ['2023/04/27', 40.33, 40.62, 41.02, 39.42],
    ['2023/04/28', 40.41, 41.28, 41.8, 40.41],
    ['2023/05/01', 41.02, 41.52, 42.05, 41.02],
    ['2023/05/02', 41.59, 41.59, 41.91, 40.31],
    ['2023/05/03', 43.94, 43.7, 45.7, 43.37],
    ['2023/05/04', 43.15, 40.44, 43.15, 40.09],
    ['2023/05/05', 41.2, 42.12, 42.54, 41.18],
    ['2023/05/08', 42.61, 41.42, 42.64, 41.27],
    ['2023/05/09', 41.12, 40.65, 41.27, 40.5],
    ['2023/05/10', 41.42, 40.04, 41.42, 39.69],
    ['2023/05/11', 39.35, 39.16, 39.57, 38.88],
    ['2023/05/12', 39.29, 38.76, 39.75, 38.58],
    ['2023/05/15', 38.9, 38.67, 39.21, 38.56],
    ['2023/05/16', 38.41, 37.77, 38.63, 37.71],
    ['2023/05/17', 38.18, 39.11, 39.55, 38.14],
    ['2023/05/18', 38.96, 39.44, 39.56, 38.75],
    ['2023/05/19', 40.06, 39.29, 40.42, 38.91],
    ['2023/05/22', 39.47, 39.04, 39.47, 38.65],
    ['2023/05/23', 38.8, 39.24, 39.56, 38.8],
    ['2023/05/24', 39.06, 38.05, 39.06, 37.92],
    ['2023/05/25', 37.85, 37.92, 38.45, 37.23],
    ['2023/05/26', 37.9, 38.37, 38.6, 37.84],
    ['2023/05/30', 38.62, 37.75, 38.75, 37.71],
    ['2023/05/31', 37.61, 36.86, 37.89, 36.61],
    ['2023/06/01', 36.8, 38.36, 38.5, 36.69],
    ['2023/06/02', 39.15, 41.78, 41.84, 37.96],
    ['2023/06/05', 41.33, 40.54, 41.33, 39.57],
    ['2023/06/06', 40.31, 42.62, 42.88, 40.31],
    ['2023/06/07', 42.95, 44.17, 44.33, 42.95],
    ['2023/06/08', 43.81, 43.54, 43.81, 42.06],
    ['2023/06/09', 43.4, 43.45, 43.52, 42.2],
    ['2023/06/12', 43.6, 44.72, 44.84, 43.12],
    ['2023/06/13', 44.96, 45.7, 46.07, 44.96],
    ['2023/06/14', 45.69, 45.41, 46.21, 45.2],
    ['2023/06/15', 45.1, 44.57, 45.26, 43.99],
    ['2023/06/16', 45.03, 43.96, 45.03, 43.64],
    ['2023/06/20', 43.94, 43.91, 44.92, 43.54],
    ['2023/06/21', 43.73, 44.28, 44.48, 43.5],
    ['2023/06/22', 44.31, 44.11, 44.43, 43.6],
    ['2023/06/23', 43.3, 42.96, 43.74, 42.56],
    ['2023/06/26', 42.86, 43.19, 43.91, 42.86],
    ['2023/06/27', 43.47, 43.88, 44.33, 43.05],
    ['2023/06/28', 43.94, 43.71, 44.03, 43.57],
    ['2023/06/29', 43.68, 45.01, 45.09, 43.68],
    ['2023/06/30', 45.61, 45.44, 46.75, 45.37],
    ['2023/07/03', 45.12, 45.48, 45.54, 44.94],
    ['2023/07/05', 45.14, 43.79, 45.14, 43.68],
    ['2023/07/06', 43.16, 42.77, 43.23, 42.38],
    ['2023/07/07', 42.97, 43.11, 44.07, 42.97],
    ['2023/07/10', 43.0, 43.55, 44.1, 43.0],
    ['2023/07/11', 43.71, 44.45, 44.48, 43.59],
    ['2023/07/12', 45.56, 45.22, 45.88, 45.08],
    ['2023/07/13', 45.58, 46.06, 46.08, 45.36],
    ['2023/07/14', 45.85, 46.7, 46.7, 44.83],
    ['2023/07/17', 46.36, 46.99, 47.22, 46.25],
    ['2023/07/18', 46.83, 47.39, 47.98, 46.83],
    ['2023/07/19', 47.23, 47.33, 47.63, 46.17],
    ['2023/07/20', 47.65, 47.65, 47.8, 46.92],
    ['2023/07/21', 48.01, 47.2, 48.11, 46.67],
    ['2023/07/24', 47.16, 47.71, 47.89, 46.68],
    ['2023/07/25', 47.52, 47.88, 48.05, 47.17],
    ['2023/07/26', 47.74, 47.4, 48.08, 47.0],
    ['2023/07/27', 47.63, 47.62, 47.93, 46.98],
    ['2023/07/28', 48.02, 48.26, 48.55, 47.8],
    ['2023/07/31', 48.37, 49.4, 49.46, 48.37],
    ['2023/08/01', 49.2, 51.24, 51.28, 49.2],
    ['2023/08/02', 51.9, 53.35, 53.39, 50.87],
    ['2023/08/03', 53.36, 52.53, 53.97, 51.28],
    ['2023/08/04', 52.78, 52.25, 52.91, 51.56],
    ['2023/08/07', 52.5, 53.55, 53.68, 52.29],
]);
var volumes = [
    85600.0,
    70800.0,
    109200.0,
    59100.0,
    88000.0,
    82900.0,
    55600.0,
    86900.0,
    86800.0,
    110400.0,
    79300.0,
    55000.0,
    68300.0,
    69400.0,
    49000.0,
    77700.0,
    100800.0,
    95300.0,
    89700.0,
    87500.0,
    113800.0,
    81400.0,
    76100.0,
    101400.0,
    73900.0,
    45000.0,
    58000.0,
    185300.0,
    84800.0,
    40700.0,
    51300.0,
    60500.0,
    94600.0,
    100700.0,
    79100.0,
    155500.0,
    134500.0,
    167400.0,
    235700.0,
    206200.0,
    186000.0,
    137000.0,
    160300.0,
    121000.0,
    200700.0,
    88700.0,
    141400.0,
    92700.0,
    185800.0,
    188700.0,
    96600.0,
    95200.0,
    90500.0,
    68100.0,
    73200.0,
    149600.0,
    121200.0,
    175800.0,
    179700.0,
    154800.0,
    234000.0,
    146400.0,
    140000.0,
    116900.0,
    88600.0,
    111300.0,
    129900.0,
    110600.0,
    81500.0,
    97900.0,
    62000.0,
    117200.0,
    187600.0,
    98000.0,
    83300.0,
    234200.0,
    130600.0,
    184400.0,
    115700.0,
    140500.0,
    90600.0,
    69700.0,
    143600.0,
    118000.0,
    64000.0,
    67400.0,
    60200.0,
    72600.0,
    252300.0,
    111800.0,
    101100.0,
    253200.0,
    101800.0,
    60400.0,
    51200.0,
    62000.0,
    40600.0,
    63700.0,
    45000.0,
    51300.0,
    46000.0,
    80400.0,
    78400.0,
    63600.0,
    370100.0,
    248200.0,
    261000.0,
    192400.0,
    172300.0,
    111000.0,
    67400.0,
    109700.0,
    130000.0,
    118000.0,
    232800.0,
    124900.0,
    96800.0,
    56200.0,
    74800.0,
    94800.0,
    315800.0,
    114300.0,
    95400.0,
    127100.0,
    64800.0,
    72800.0,
    87700.0,
    81100.0,
    57000.0,
    60400.0,
    88800.0,
    63600.0,
    96500.0,
    83600.0,
    74600.0,
    103500.0,
    61900.0,
    100500.0,
    121400.0,
    89700.0,
    91300.0,
    81600.0,
    96100.0,
    148400.0,
    91700.0,
    89700.0,
    85400.0,
    121000.0,
    108600.0,
    163300.0,
    128700.0,
    127900.0,
    430500.0,
    188000.0,
    147400.0,
    105300.0,
    86800.0,
    107400.0,
    65100.0,
    77100.0,
    70500.0,
    60200.0,
    113400.0,
    87400.0,
    86000.0,
    66800.0,
    77000.0,
    117700.0,
    56400.0,
    52400.0,
    47400.0,
    47900.0,
    36700.0,
    49500.0,
    69000.0,
    70500.0,
    104100.0,
    36500.0,
    153100.0,
    62700.0,
    49500.0,
    82600.0,
    48100.0,
    106300.0,
    145100.0,
    183900.0,
    130800.0,
    79400.0,
    68700.0,
    52000.0,
    62100.0,
    55400.0,
    68000.0,
    53300.0,
    117400.0,
    67600.0,
    63600.0,
    57000.0,
    62900.0,
    48400.0,
    57800.0,
    42000.0,
    45300.0,
    105000.0,
    90800.0,
    106100.0,
    76500.0,
    84100.0,
    123500.0,
    83800.0,
    83300.0,
    81500.0,
    88000.0,
    107400.0,
    93200.0,
    259900.0,
    55600.0,
    67000.0,
    64500.0,
    141800.0,
    78300.0,
    40800.0,
    37500.0,
    46700.0,
    51300.0,
    25900.0,
    65700.0,
    52400.0,
    50100.0,
    43400.0,
    50300.0,
    70600.0,
    49900.0,
    59900.0,
    99000.0,
    99700.0,
    82900.0,
    60800.0,
    111400.0,
    62700.0,
    40200.0,
    66800.0,
    42600.0,
    50500.0,
    63100.0,
    115300.0,
    105900.0,
    152900.0,
    161400.0,
    100000.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "ASTE",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);