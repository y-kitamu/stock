/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_AMAT");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/08', 109.2, 107.83, 110.36, 105.94],
    ['2022/08/09', 103.75, 99.66, 103.97, 97.88],
    ['2022/08/10', 102.77, 105.05, 105.13, 100.94],
    ['2022/08/11', 105.79, 105.53, 108.91, 104.99],
    ['2022/08/12', 106.2, 110.38, 111.32, 105.76],
    ['2022/08/15', 109.8, 109.78, 111.65, 108.0],
    ['2022/08/16', 108.44, 108.49, 109.59, 107.01],
    ['2022/08/17', 107.0, 106.0, 107.27, 104.12],
    ['2022/08/18', 106.68, 108.27, 109.33, 105.5],
    ['2022/08/19', 106.63, 104.63, 107.3, 103.35],
    ['2022/08/22', 102.8, 100.81, 103.42, 100.35],
    ['2022/08/23', 101.11, 101.93, 103.31, 101.05],
    ['2022/08/24', 101.25, 101.48, 102.09, 100.14],
    ['2022/08/25', 101.97, 105.0, 105.18, 101.47],
    ['2022/08/26', 105.0, 98.8, 105.0, 98.55],
    ['2022/08/29', 97.55, 96.54, 98.71, 96.37],
    ['2022/08/30', 97.91, 94.52, 98.28, 93.56],
    ['2022/08/31', 94.71, 94.07, 94.82, 92.61],
    ['2022/09/01', 91.54, 91.81, 91.97, 89.03],
    ['2022/09/02', 93.15, 91.24, 93.84, 90.54],
    ['2022/09/06', 91.12, 90.29, 91.6, 89.22],
    ['2022/09/07', 90.57, 91.94, 92.77, 89.88],
    ['2022/09/08', 91.02, 93.79, 93.83, 90.26],
    ['2022/09/09', 95.12, 96.51, 97.01, 95.06],
    ['2022/09/12', 96.9, 96.3, 97.67, 95.24],
    ['2022/09/13', 92.43, 90.39, 93.35, 90.0],
    ['2022/09/14', 91.94, 90.64, 91.94, 89.6],
    ['2022/09/15', 90.04, 88.92, 90.82, 88.09],
    ['2022/09/16', 87.62, 88.87, 89.35, 86.94],
    ['2022/09/19', 87.85, 89.72, 90.29, 87.71],
    ['2022/09/20', 88.02, 88.12, 89.02, 87.35],
    ['2022/09/21', 88.37, 87.09, 91.26, 87.05],
    ['2022/09/22', 86.64, 85.04, 86.79, 84.59],
    ['2022/09/23', 84.19, 84.29, 84.48, 82.7],
    ['2022/09/26', 84.29, 82.94, 85.58, 82.84],
    ['2022/09/27', 84.43, 84.15, 85.18, 82.53],
    ['2022/09/28', 83.0, 86.0, 86.4, 82.84],
    ['2022/09/29', 84.75, 84.42, 85.1, 83.2],
    ['2022/09/30', 81.94, 81.93, 84.46, 81.53],
    ['2022/10/03', 83.04, 86.25, 87.61, 83.01],
    ['2022/10/04', 89.12, 89.41, 90.27, 88.47],
    ['2022/10/05', 87.65, 89.22, 90.17, 86.19],
    ['2022/10/06', 88.98, 88.12, 91.19, 87.88],
    ['2022/10/07', 85.17, 82.6, 85.54, 82.02],
    ['2022/10/10', 82.0, 79.19, 82.13, 77.36],
    ['2022/10/11', 77.74, 76.3, 78.77, 74.97],
    ['2022/10/12', 76.55, 76.01, 77.0, 75.47],
    ['2022/10/13', 72.18, 79.42, 81.52, 71.12],
    ['2022/10/14', 79.56, 74.82, 79.9, 74.59],
    ['2022/10/17', 77.21, 74.41, 77.89, 74.16],
    ['2022/10/18', 76.69, 75.23, 77.44, 74.15],
    ['2022/10/19', 75.0, 77.26, 77.79, 74.44],
    ['2022/10/20', 78.36, 78.66, 82.12, 77.21],
    ['2022/10/21', 78.83, 82.42, 82.65, 78.13],
    ['2022/10/24', 82.83, 84.94, 85.08, 81.9],
    ['2022/10/25', 85.94, 87.53, 88.5, 85.75],
    ['2022/10/26', 86.47, 88.14, 90.25, 85.8],
    ['2022/10/27', 88.78, 86.54, 89.99, 86.37],
    ['2022/10/28', 86.62, 89.72, 89.93, 86.46],
    ['2022/10/31', 88.86, 88.29, 89.4, 87.66],
    ['2022/11/01', 90.5, 89.79, 90.8, 89.0],
    ['2022/11/02', 90.35, 87.76, 93.29, 87.53],
    ['2022/11/03', 85.96, 86.3, 87.71, 84.7],
    ['2022/11/04', 90.05, 91.7, 91.8, 88.84],
    ['2022/11/07', 92.26, 95.04, 95.12, 92.1],
    ['2022/11/08', 96.98, 97.46, 98.79, 94.78],
    ['2022/11/09', 95.28, 94.38, 96.61, 94.24],
    ['2022/11/10', 100.16, 104.79, 104.89, 99.48],
    ['2022/11/11', 105.31, 110.53, 110.89, 104.79],
    ['2022/11/14', 108.86, 107.61, 110.23, 107.45],
    ['2022/11/15', 111.17, 110.46, 112.12, 108.77],
    ['2022/11/16', 105.38, 104.22, 107.13, 102.99],
    ['2022/11/17', 100.42, 104.45, 105.6, 100.21],
    ['2022/11/18', 109.99, 104.7, 110.0, 103.65],
    ['2022/11/21', 103.53, 105.14, 105.91, 101.84],
    ['2022/11/22', 105.92, 107.04, 107.29, 103.85],
    ['2022/11/23', 106.32, 107.67, 108.57, 106.32],
    ['2022/11/25', 106.92, 105.82, 107.5, 105.79],
    ['2022/11/28', 104.0, 103.47, 105.09, 102.81],
    ['2022/11/29', 104.06, 103.25, 104.92, 102.92],
    ['2022/11/30', 103.97, 109.6, 109.64, 102.66],
    ['2022/12/01', 110.15, 107.01, 110.67, 105.76],
    ['2022/12/02', 104.32, 106.71, 107.32, 104.22],
    ['2022/12/05', 106.37, 106.43, 107.69, 105.21],
    ['2022/12/06', 106.82, 104.71, 107.07, 103.77],
    ['2022/12/07', 104.71, 106.11, 107.65, 104.14],
    ['2022/12/08', 107.04, 108.61, 109.44, 106.5],
    ['2022/12/09', 107.78, 107.34, 109.74, 107.0],
    ['2022/12/12', 106.82, 109.37, 109.42, 105.64],
    ['2022/12/13', 115.39, 111.87, 116.09, 111.16],
    ['2022/12/14', 111.36, 109.64, 112.61, 108.55],
    ['2022/12/15', 107.75, 104.56, 108.02, 104.02],
    ['2022/12/16', 104.15, 104.73, 105.93, 103.55],
    ['2022/12/19', 104.83, 103.99, 105.06, 102.67],
    ['2022/12/20', 102.07, 103.5, 104.61, 102.04],
    ['2022/12/21', 104.63, 105.9, 106.51, 104.2],
    ['2022/12/22', 102.11, 97.6, 102.61, 95.97],
    ['2022/12/23', 96.69, 97.22, 97.39, 95.33],
    ['2022/12/27', 96.18, 95.34, 96.84, 95.17],
    ['2022/12/28', 94.67, 94.23, 95.78, 93.68],
    ['2022/12/29', 96.05, 97.14, 97.64, 95.13],
    ['2022/12/30', 95.6, 97.38, 97.48, 95.03],
    ['2023/01/03', 99.77, 96.73, 100.02, 96.12],
    ['2023/01/04', 98.22, 99.31, 99.62, 97.19],
    ['2023/01/05', 97.84, 97.92, 99.24, 97.36],
    ['2023/01/06', 100.0, 104.27, 104.86, 98.58],
    ['2023/01/09', 105.55, 106.49, 108.76, 104.16],
    ['2023/01/10', 106.14, 108.04, 108.19, 105.86],
    ['2023/01/11', 106.68, 110.06, 110.19, 106.53],
    ['2023/01/12', 110.58, 110.2, 111.89, 107.23],
    ['2023/01/13', 107.53, 109.97, 110.2, 107.44],
    ['2023/01/17', 109.41, 109.41, 110.63, 107.78],
    ['2023/01/18', 110.76, 109.7, 112.39, 109.58],
    ['2023/01/19', 109.49, 106.16, 109.64, 106.09],
    ['2023/01/20', 106.8, 109.65, 109.78, 106.49],
    ['2023/01/23', 108.53, 114.16, 114.91, 108.5],
    ['2023/01/24', 113.47, 112.99, 114.07, 112.47],
    ['2023/01/25', 110.99, 113.95, 114.44, 109.41],
    ['2023/01/26', 114.4, 115.58, 115.76, 112.27],
    ['2023/01/27', 112.62, 112.5, 113.89, 110.7],
    ['2023/01/30', 110.69, 108.2, 110.97, 107.97],
    ['2023/01/31', 108.96, 111.49, 111.56, 108.61],
    ['2023/02/01', 112.11, 119.01, 120.13, 111.91],
    ['2023/02/02', 120.31, 124.26, 124.92, 120.3],
    ['2023/02/03', 122.92, 119.98, 123.67, 119.61],
    ['2023/02/06', 118.21, 117.69, 119.44, 116.91],
    ['2023/02/07', 117.39, 120.52, 121.29, 116.75],
    ['2023/02/08', 119.15, 115.95, 119.37, 115.47],
    ['2023/02/09', 118.36, 116.08, 119.56, 115.08],
    ['2023/02/10', 114.8, 114.77, 114.97, 112.97],
    ['2023/02/13', 115.17, 116.53, 116.72, 114.55],
    ['2023/02/14', 114.87, 118.44, 119.01, 113.85],
    ['2023/02/15', 117.0, 119.46, 119.58, 115.99],
    ['2023/02/16', 116.88, 115.39, 118.08, 115.14],
    ['2023/02/17', 116.78, 115.44, 117.4, 113.38],
    ['2023/02/21', 113.64, 111.28, 114.83, 110.93],
    ['2023/02/22', 111.12, 110.41, 112.38, 109.48],
    ['2023/02/23', 112.54, 112.91, 113.96, 109.91],
    ['2023/02/24', 111.01, 111.31, 112.1, 110.38],
    ['2023/02/27', 113.51, 112.07, 113.89, 111.49],
    ['2023/02/28', 116.14, 116.15, 118.07, 114.85],
    ['2023/03/01', 117.7, 117.26, 119.32, 116.94],
    ['2023/03/02', 115.45, 118.45, 119.09, 113.93],
    ['2023/03/03', 118.75, 118.96, 119.14, 116.95],
    ['2023/03/06', 119.85, 118.54, 121.5, 118.22],
    ['2023/03/07', 118.33, 116.37, 118.72, 115.66],
    ['2023/03/08', 116.62, 118.65, 119.1, 116.62],
    ['2023/03/09', 118.69, 117.04, 120.96, 116.85],
    ['2023/03/10', 118.34, 114.39, 118.62, 113.92],
    ['2023/03/13', 113.79, 115.84, 117.32, 111.92],
    ['2023/03/14', 118.78, 120.34, 121.24, 117.88],
    ['2023/03/15', 118.52, 118.48, 118.83, 115.7],
    ['2023/03/16', 118.21, 122.83, 123.43, 116.9],
    ['2023/03/17', 123.65, 122.6, 124.39, 121.62],
    ['2023/03/20', 123.0, 124.04, 124.76, 122.43],
    ['2023/03/21', 123.88, 120.4, 125.62, 118.41],
    ['2023/03/22', 120.27, 118.86, 123.74, 118.69],
    ['2023/03/23', 121.27, 122.78, 124.99, 120.17],
    ['2023/03/24', 121.64, 119.53, 122.12, 118.05],
    ['2023/03/27', 120.75, 118.87, 120.98, 118.32],
    ['2023/03/28', 118.89, 116.4, 119.06, 115.58],
    ['2023/03/29', 118.72, 119.85, 121.01, 117.36],
    ['2023/03/30', 122.0, 122.11, 123.38, 121.34],
    ['2023/03/31', 121.52, 122.83, 123.52, 121.0],
    ['2023/04/03', 121.63, 122.32, 122.44, 120.6],
    ['2023/04/04', 122.94, 120.12, 122.97, 119.39],
    ['2023/04/05', 119.59, 117.32, 119.69, 115.65],
    ['2023/04/06', 114.18, 114.45, 115.29, 111.87],
    ['2023/04/10', 112.47, 116.5, 116.71, 112.45],
    ['2023/04/11', 117.33, 116.38, 117.83, 116.08],
    ['2023/04/12', 117.73, 113.16, 117.8, 112.87],
    ['2023/04/13', 113.53, 113.47, 113.91, 111.52],
    ['2023/04/14', 113.36, 112.9, 115.05, 111.37],
    ['2023/04/17', 109.22, 111.79, 111.97, 109.0],
    ['2023/04/18', 112.5, 111.27, 113.59, 110.53],
    ['2023/04/19', 109.85, 110.34, 110.61, 109.12],
    ['2023/04/20', 111.25, 114.39, 116.33, 111.25],
    ['2023/04/21', 113.47, 113.46, 114.1, 112.21],
    ['2023/04/24', 113.49, 113.61, 113.94, 112.54],
    ['2023/04/25', 112.5, 110.61, 113.66, 110.42],
    ['2023/04/26', 111.16, 110.31, 111.5, 109.82],
    ['2023/04/27', 111.3, 111.68, 112.18, 109.15],
    ['2023/04/28', 111.7, 113.03, 113.26, 111.12],
    ['2023/05/01', 113.3, 112.95, 114.44, 112.1],
    ['2023/05/02', 112.92, 112.16, 113.39, 111.2],
    ['2023/05/03', 111.94, 113.29, 115.27, 111.89],
    ['2023/05/04', 113.05, 112.45, 113.41, 111.72],
    ['2023/05/05', 113.7, 116.06, 116.62, 112.97],
    ['2023/05/08', 116.87, 115.75, 117.59, 114.93],
    ['2023/05/09', 114.08, 113.84, 114.41, 112.86],
    ['2023/05/10', 115.52, 115.41, 116.24, 114.14],
    ['2023/05/11', 115.3, 115.46, 115.84, 113.91],
    ['2023/05/12', 116.71, 116.09, 117.07, 114.99],
    ['2023/05/15', 116.69, 121.11, 121.26, 116.02],
    ['2023/05/16', 120.83, 120.92, 123.07, 120.44],
    ['2023/05/17', 122.25, 125.7, 126.3, 121.88],
    ['2023/05/18', 125.81, 129.92, 132.06, 125.76],
    ['2023/05/19', 128.3, 126.95, 128.32, 125.25],
    ['2023/05/22', 127.23, 126.55, 127.56, 125.65],
    ['2023/05/23', 125.89, 124.49, 126.73, 124.19],
    ['2023/05/24', 121.92, 121.73, 122.62, 120.18],
    ['2023/05/25', 127.17, 130.47, 130.73, 126.13],
    ['2023/05/26', 130.77, 136.06, 136.69, 129.99],
    ['2023/05/30', 138.0, 136.57, 138.8, 135.49],
    ['2023/05/31', 133.6, 133.3, 135.75, 132.16],
    ['2023/06/01', 133.73, 134.83, 136.19, 131.69],
    ['2023/06/02', 135.14, 134.63, 135.33, 132.38],
    ['2023/06/05', 134.82, 133.73, 135.15, 133.04],
    ['2023/06/06', 131.4, 133.94, 135.35, 130.75],
    ['2023/06/07', 135.27, 135.01, 137.04, 133.58],
    ['2023/06/08', 135.85, 136.2, 136.76, 134.15],
    ['2023/06/09', 137.79, 136.12, 137.98, 135.82],
    ['2023/06/12', 137.74, 140.01, 140.23, 136.83],
    ['2023/06/13', 141.5, 141.79, 142.53, 139.41],
    ['2023/06/14', 138.41, 141.17, 141.36, 138.23],
    ['2023/06/15', 138.69, 140.11, 141.43, 137.93],
    ['2023/06/16', 140.89, 138.93, 140.95, 138.13],
    ['2023/06/20', 139.11, 138.52, 140.32, 137.27],
    ['2023/06/21', 138.53, 136.67, 139.16, 135.87],
    ['2023/06/22', 135.0, 138.92, 139.6, 135.0],
    ['2023/06/23', 136.55, 136.07, 136.79, 134.84],
    ['2023/06/26', 136.47, 139.8, 140.87, 136.47],
    ['2023/06/27', 140.15, 146.55, 146.69, 139.96],
    ['2023/06/28', 142.8, 144.03, 145.92, 142.05],
    ['2023/06/29', 144.69, 144.23, 145.25, 143.51],
    ['2023/06/30', 145.3, 144.54, 145.55, 143.44],
    ['2023/07/03', 144.02, 145.47, 145.91, 143.38],
    ['2023/07/05', 144.25, 142.26, 144.92, 142.16],
    ['2023/07/06', 140.66, 140.38, 141.33, 138.76],
    ['2023/07/07', 139.62, 139.57, 142.12, 139.41],
    ['2023/07/10', 139.78, 140.56, 141.88, 139.7],
    ['2023/07/11', 140.18, 137.56, 140.44, 134.01],
    ['2023/07/12', 139.21, 138.89, 139.7, 137.85],
    ['2023/07/13', 140.12, 142.65, 143.66, 140.02],
    ['2023/07/14', 144.57, 142.74, 145.39, 142.38],
    ['2023/07/17', 142.98, 145.5, 146.5, 141.83],
    ['2023/07/18', 143.8, 144.51, 145.15, 141.91],
    ['2023/07/19', 144.05, 141.78, 144.65, 141.18],
    ['2023/07/20', 137.82, 134.04, 138.19, 133.52],
    ['2023/07/21', 135.22, 136.4, 137.3, 135.19],
    ['2023/07/24', 137.6, 138.35, 139.08, 136.85],
    ['2023/07/25', 138.69, 140.06, 141.4, 138.5],
    ['2023/07/26', 137.63, 139.02, 140.29, 136.81],
    ['2023/07/27', 144.23, 146.14, 150.43, 144.21],
    ['2023/07/28', 149.58, 151.93, 153.28, 148.7],
    ['2023/07/31', 151.93, 151.59, 152.68, 150.52],
    ['2023/08/01', 150.92, 152.63, 152.86, 150.28],
    ['2023/08/02', 150.62, 147.33, 150.62, 146.88],
    ['2023/08/03', 146.01, 147.81, 148.7, 145.36],
    ['2023/08/04', 147.52, 145.66, 149.07, 145.07],
]);
var volumes = [
    6038600.0,
    10355800.0,
    8599800.0,
    5555600.0,
    6644700.0,
    8342600.0,
    4892400.0,
    5495600.0,
    10062400.0,
    12380900.0,
    6180100.0,
    4882300.0,
    4741200.0,
    7645200.0,
    7757100.0,
    5609700.0,
    11623200.0,
    8729700.0,
    9953700.0,
    6795400.0,
    5922500.0,
    5567500.0,
    5233000.0,
    5094300.0,
    5329300.0,
    8422200.0,
    5828200.0,
    7120300.0,
    10893600.0,
    5260300.0,
    4435700.0,
    6953400.0,
    8558400.0,
    7384500.0,
    7015800.0,
    6220000.0,
    7992500.0,
    8542500.0,
    9051000.0,
    9631500.0,
    7914900.0,
    7608600.0,
    6686700.0,
    10029900.0,
    14211900.0,
    12441100.0,
    7770200.0,
    17560200.0,
    10453000.0,
    10772300.0,
    10231000.0,
    10579200.0,
    13287900.0,
    11569500.0,
    12005000.0,
    10349400.0,
    8989100.0,
    6822500.0,
    6388600.0,
    6875400.0,
    6105600.0,
    10650300.0,
    6849700.0,
    8692700.0,
    7684200.0,
    10067000.0,
    6864600.0,
    11692800.0,
    11160000.0,
    7761700.0,
    9438600.0,
    12082500.0,
    10682800.0,
    10921100.0,
    9282400.0,
    8497200.0,
    4077500.0,
    3012500.0,
    6382700.0,
    3450400.0,
    11167000.0,
    6976200.0,
    3903300.0,
    4692500.0,
    4571700.0,
    6383600.0,
    5493200.0,
    4705700.0,
    4831400.0,
    9557300.0,
    6429300.0,
    6773500.0,
    12925700.0,
    6162500.0,
    4761800.0,
    4889100.0,
    11326600.0,
    4753500.0,
    6121400.0,
    4274000.0,
    5071800.0,
    3407000.0,
    5921500.0,
    6289500.0,
    4557100.0,
    7241700.0,
    6212300.0,
    4638800.0,
    5532600.0,
    5330900.0,
    5641600.0,
    4848100.0,
    5374100.0,
    5325100.0,
    5078500.0,
    7669300.0,
    3504700.0,
    5957600.0,
    5813000.0,
    8705700.0,
    7351700.0,
    6577100.0,
    9886400.0,
    11206500.0,
    6156900.0,
    5331000.0,
    4935300.0,
    6460500.0,
    5512200.0,
    4374400.0,
    4198200.0,
    4870700.0,
    4980000.0,
    9117600.0,
    9287100.0,
    7583900.0,
    5089200.0,
    7136100.0,
    5808400.0,
    5362700.0,
    13010900.0,
    6756800.0,
    6502200.0,
    7232400.0,
    5775700.0,
    5225900.0,
    4474900.0,
    5701400.0,
    7009600.0,
    8221300.0,
    8322400.0,
    9517700.0,
    6787700.0,
    13761500.0,
    4974700.0,
    10090100.0,
    8342500.0,
    6182200.0,
    6354500.0,
    4628200.0,
    5523800.0,
    7865300.0,
    6213800.0,
    5016500.0,
    5146800.0,
    4772200.0,
    6691700.0,
    6275000.0,
    4096500.0,
    3373000.0,
    5838900.0,
    5299500.0,
    5211600.0,
    6952200.0,
    5055000.0,
    6796800.0,
    8699500.0,
    4516800.0,
    3218100.0,
    6282600.0,
    6245800.0,
    9447000.0,
    8063500.0,
    4171600.0,
    4850200.0,
    5624100.0,
    3579600.0,
    4874200.0,
    3247600.0,
    3173700.0,
    4101000.0,
    3630400.0,
    3838200.0,
    5859200.0,
    5080700.0,
    7349600.0,
    10891200.0,
    10255500.0,
    4709100.0,
    4604500.0,
    6315600.0,
    9575700.0,
    9083800.0,
    7753800.0,
    11368600.0,
    5007000.0,
    5327400.0,
    3798300.0,
    5468900.0,
    4835700.0,
    4507000.0,
    3675200.0,
    5931900.0,
    6859500.0,
    6474600.0,
    5524400.0,
    8846900.0,
    3840000.0,
    4715300.0,
    3763600.0,
    6955400.0,
    7256100.0,
    7343900.0,
    6645200.0,
    3916500.0,
    6142600.0,
    2533600.0,
    5198400.0,
    5793500.0,
    3459400.0,
    6364400.0,
    7710000.0,
    5590100.0,
    5410800.0,
    6058400.0,
    6306700.0,
    6493600.0,
    5379400.0,
    9883200.0,
    15685200.0,
    5276000.0,
    5038500.0,
    4050400.0,
    8928900.0,
    7802000.0,
    4184400.0,
    3088100.0,
    5468300.0,
    4338600.0,
    3982900.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "AMAT",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);