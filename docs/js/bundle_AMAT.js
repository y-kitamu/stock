/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_AMAT");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 104.7, 107.94, 109.51, 104.64],
    ['2022/08/04', 108.34, 109.97, 110.09, 107.96],
    ['2022/08/05', 107.99, 108.54, 110.12, 106.38],
    ['2022/08/08', 108.12, 106.77, 109.27, 104.9],
    ['2022/08/09', 102.73, 98.68, 102.95, 96.92],
    ['2022/08/10', 101.76, 104.02, 104.09, 99.95],
    ['2022/08/11', 104.75, 104.49, 107.84, 103.96],
    ['2022/08/12', 105.15, 109.29, 110.22, 104.72],
    ['2022/08/15', 108.72, 108.7, 110.55, 106.94],
    ['2022/08/16', 107.37, 107.42, 108.51, 105.96],
    ['2022/08/17', 105.95, 104.96, 106.21, 103.09],
    ['2022/08/18', 105.63, 107.2, 108.25, 104.46],
    ['2022/08/19', 105.58, 103.6, 106.24, 102.33],
    ['2022/08/22', 101.79, 99.82, 102.4, 99.36],
    ['2022/08/23', 100.11, 100.93, 102.29, 100.05],
    ['2022/08/24', 100.51, 100.74, 101.34, 99.41],
    ['2022/08/25', 101.22, 104.23, 104.41, 100.73],
    ['2022/08/26', 104.23, 98.08, 104.23, 97.83],
    ['2022/08/29', 96.84, 95.83, 97.99, 95.66],
    ['2022/08/30', 97.19, 93.83, 97.56, 92.88],
    ['2022/08/31', 94.02, 93.38, 94.13, 91.93],
    ['2022/09/01', 90.87, 91.14, 91.3, 88.38],
    ['2022/09/02', 92.47, 90.57, 93.15, 89.88],
    ['2022/09/06', 90.45, 89.63, 90.93, 88.57],
    ['2022/09/07', 89.91, 91.27, 92.09, 89.22],
    ['2022/09/08', 90.35, 93.1, 93.14, 89.6],
    ['2022/09/09', 94.42, 95.8, 96.3, 94.36],
    ['2022/09/12', 96.19, 95.6, 96.96, 94.54],
    ['2022/09/13', 91.75, 89.73, 92.67, 89.34],
    ['2022/09/14', 91.27, 89.98, 91.27, 88.94],
    ['2022/09/15', 89.38, 88.27, 90.16, 87.45],
    ['2022/09/16', 86.98, 88.22, 88.7, 86.3],
    ['2022/09/19', 87.21, 89.06, 89.63, 87.07],
    ['2022/09/20', 87.38, 87.48, 88.37, 86.71],
    ['2022/09/21', 87.72, 86.45, 90.59, 86.41],
    ['2022/09/22', 86.01, 84.42, 86.15, 83.97],
    ['2022/09/23', 83.57, 83.67, 83.86, 82.09],
    ['2022/09/26', 83.67, 82.33, 84.95, 82.23],
    ['2022/09/27', 83.81, 83.53, 84.56, 81.93],
    ['2022/09/28', 82.39, 85.37, 85.77, 82.23],
    ['2022/09/29', 84.13, 83.8, 84.48, 82.59],
    ['2022/09/30', 81.34, 81.33, 83.84, 80.93],
    ['2022/10/03', 82.43, 85.62, 86.97, 82.4],
    ['2022/10/04', 88.47, 88.76, 89.61, 87.82],
    ['2022/10/05', 87.01, 88.57, 89.51, 85.56],
    ['2022/10/06', 88.33, 87.48, 90.52, 87.24],
    ['2022/10/07', 84.55, 82.0, 84.91, 81.42],
    ['2022/10/10', 81.4, 78.61, 81.53, 76.79],
    ['2022/10/11', 77.17, 75.74, 78.19, 74.42],
    ['2022/10/12', 75.99, 75.45, 76.44, 74.92],
    ['2022/10/13', 71.65, 78.84, 80.92, 70.6],
    ['2022/10/14', 78.98, 74.27, 79.32, 74.04],
    ['2022/10/17', 76.64, 73.87, 77.32, 73.62],
    ['2022/10/18', 76.13, 74.68, 76.87, 73.61],
    ['2022/10/19', 74.45, 76.69, 77.22, 73.9],
    ['2022/10/20', 77.79, 78.08, 81.52, 76.64],
    ['2022/10/21', 78.25, 81.82, 82.05, 77.56],
    ['2022/10/24', 82.22, 84.32, 84.46, 81.3],
    ['2022/10/25', 85.31, 86.89, 87.85, 85.12],
    ['2022/10/26', 85.84, 87.49, 89.59, 85.17],
    ['2022/10/27', 88.13, 85.91, 89.33, 85.74],
    ['2022/10/28', 85.99, 89.06, 89.27, 85.83],
    ['2022/10/31', 88.21, 87.64, 88.75, 87.02],
    ['2022/11/01', 89.84, 89.13, 90.14, 88.35],
    ['2022/11/02', 89.69, 87.12, 92.61, 86.89],
    ['2022/11/03', 85.33, 85.67, 87.07, 84.08],
    ['2022/11/04', 89.39, 91.03, 91.13, 88.19],
    ['2022/11/07', 91.58, 94.34, 94.42, 91.43],
    ['2022/11/08', 96.27, 96.75, 98.07, 94.09],
    ['2022/11/09', 94.58, 93.69, 95.9, 93.55],
    ['2022/11/10', 99.43, 104.02, 104.12, 98.75],
    ['2022/11/11', 104.54, 109.72, 110.08, 104.02],
    ['2022/11/14', 108.06, 106.82, 109.42, 106.66],
    ['2022/11/15', 110.36, 109.65, 111.3, 107.97],
    ['2022/11/16', 104.61, 103.46, 106.35, 102.24],
    ['2022/11/17', 99.69, 103.69, 104.83, 99.48],
    ['2022/11/18', 109.19, 103.93, 109.2, 102.89],
    ['2022/11/21', 102.77, 104.37, 105.13, 101.09],
    ['2022/11/22', 105.14, 106.26, 106.5, 103.09],
    ['2022/11/23', 105.8, 107.14, 108.04, 105.8],
    ['2022/11/25', 106.4, 105.3, 106.97, 105.27],
    ['2022/11/28', 103.49, 102.96, 104.57, 102.31],
    ['2022/11/29', 103.55, 102.74, 104.41, 102.42],
    ['2022/11/30', 103.46, 109.06, 109.1, 102.16],
    ['2022/12/01', 109.61, 106.49, 110.13, 105.24],
    ['2022/12/02', 103.81, 106.19, 106.79, 103.71],
    ['2022/12/05', 105.85, 105.91, 107.16, 104.69],
    ['2022/12/06', 106.3, 104.2, 106.55, 103.26],
    ['2022/12/07', 104.2, 105.59, 107.12, 103.63],
    ['2022/12/08', 106.52, 108.08, 108.9, 105.98],
    ['2022/12/09', 107.25, 106.81, 109.2, 106.48],
    ['2022/12/12', 106.3, 108.83, 108.88, 105.12],
    ['2022/12/13', 114.82, 111.32, 115.52, 110.62],
    ['2022/12/14', 110.81, 109.1, 112.06, 108.02],
    ['2022/12/15', 107.22, 104.05, 107.49, 103.51],
    ['2022/12/16', 103.64, 104.22, 105.41, 103.04],
    ['2022/12/19', 104.32, 103.48, 104.55, 102.17],
    ['2022/12/20', 101.57, 102.99, 104.1, 101.54],
    ['2022/12/21', 104.12, 105.38, 105.99, 103.69],
    ['2022/12/22', 101.61, 97.12, 102.11, 95.5],
    ['2022/12/23', 96.22, 96.74, 96.91, 94.86],
    ['2022/12/27', 95.71, 94.87, 96.37, 94.7],
    ['2022/12/28', 94.21, 93.77, 95.31, 93.22],
    ['2022/12/29', 95.58, 96.66, 97.16, 94.66],
    ['2022/12/30', 95.13, 96.9, 97.0, 94.56],
    ['2023/01/03', 99.28, 96.26, 99.53, 95.65],
    ['2023/01/04', 97.74, 98.82, 99.13, 96.71],
    ['2023/01/05', 97.36, 97.44, 98.75, 96.88],
    ['2023/01/06', 99.51, 103.76, 104.35, 98.1],
    ['2023/01/09', 105.03, 105.97, 108.23, 103.65],
    ['2023/01/10', 105.62, 107.51, 107.66, 105.34],
    ['2023/01/11', 106.16, 109.52, 109.65, 106.01],
    ['2023/01/12', 110.04, 109.66, 111.34, 106.7],
    ['2023/01/13', 107.0, 109.43, 109.66, 106.91],
    ['2023/01/17', 108.87, 108.87, 110.09, 107.25],
    ['2023/01/18', 110.22, 109.16, 111.84, 109.04],
    ['2023/01/19', 108.95, 105.64, 109.1, 105.57],
    ['2023/01/20', 106.28, 109.11, 109.24, 105.97],
    ['2023/01/23', 108.0, 113.6, 114.35, 107.97],
    ['2023/01/24', 112.91, 112.44, 113.51, 111.92],
    ['2023/01/25', 110.45, 113.39, 113.88, 108.87],
    ['2023/01/26', 113.84, 115.01, 115.19, 111.72],
    ['2023/01/27', 112.07, 111.95, 113.33, 110.16],
    ['2023/01/30', 110.15, 107.67, 110.43, 107.44],
    ['2023/01/31', 108.43, 110.94, 111.01, 108.08],
    ['2023/02/01', 111.56, 118.43, 119.54, 111.36],
    ['2023/02/02', 119.72, 123.65, 124.31, 119.71],
    ['2023/02/03', 122.32, 119.39, 123.06, 119.02],
    ['2023/02/06', 117.63, 117.11, 118.85, 116.34],
    ['2023/02/07', 116.81, 119.93, 120.7, 116.18],
    ['2023/02/08', 118.57, 115.38, 118.78, 114.9],
    ['2023/02/09', 117.78, 115.51, 118.97, 114.52],
    ['2023/02/10', 114.24, 114.21, 114.41, 112.42],
    ['2023/02/13', 114.61, 115.96, 116.15, 113.99],
    ['2023/02/14', 114.31, 117.86, 118.43, 113.29],
    ['2023/02/15', 116.43, 118.87, 118.99, 115.42],
    ['2023/02/16', 116.31, 114.82, 117.5, 114.58],
    ['2023/02/17', 116.21, 114.87, 116.82, 112.82],
    ['2023/02/21', 113.08, 110.73, 114.27, 110.39],
    ['2023/02/22', 110.83, 110.13, 112.09, 109.2],
    ['2023/02/23', 112.25, 112.62, 113.67, 109.63],
    ['2023/02/24', 110.72, 111.02, 111.81, 110.1],
    ['2023/02/27', 113.22, 111.78, 113.6, 111.2],
    ['2023/02/28', 115.84, 115.85, 117.77, 114.55],
    ['2023/03/01', 117.4, 116.96, 119.01, 116.64],
    ['2023/03/02', 115.15, 118.15, 118.78, 113.64],
    ['2023/03/03', 118.44, 118.65, 118.83, 116.65],
    ['2023/03/06', 119.54, 118.24, 121.19, 117.92],
    ['2023/03/07', 118.03, 116.07, 118.41, 115.36],
    ['2023/03/08', 116.32, 118.35, 118.79, 116.32],
    ['2023/03/09', 118.38, 116.74, 120.65, 116.55],
    ['2023/03/10', 118.04, 114.1, 118.32, 113.63],
    ['2023/03/13', 113.5, 115.54, 117.02, 111.63],
    ['2023/03/14', 118.47, 120.03, 120.93, 117.58],
    ['2023/03/15', 118.22, 118.18, 118.52, 115.4],
    ['2023/03/16', 117.91, 122.51, 123.11, 116.6],
    ['2023/03/17', 123.33, 122.28, 124.07, 121.31],
    ['2023/03/20', 122.68, 123.72, 124.44, 122.12],
    ['2023/03/21', 123.56, 120.09, 125.3, 118.11],
    ['2023/03/22', 119.96, 118.55, 123.42, 118.38],
    ['2023/03/23', 120.96, 122.46, 124.67, 119.86],
    ['2023/03/24', 121.33, 119.22, 121.81, 117.75],
    ['2023/03/27', 120.44, 118.56, 120.67, 118.02],
    ['2023/03/28', 118.58, 116.1, 118.75, 115.28],
    ['2023/03/29', 118.41, 119.54, 120.7, 117.06],
    ['2023/03/30', 121.69, 121.8, 123.06, 121.03],
    ['2023/03/31', 121.21, 122.51, 123.2, 120.69],
    ['2023/04/03', 121.32, 122.01, 122.13, 120.29],
    ['2023/04/04', 122.62, 119.81, 122.65, 119.08],
    ['2023/04/05', 119.28, 117.02, 119.38, 115.35],
    ['2023/04/06', 113.89, 114.16, 114.99, 111.58],
    ['2023/04/10', 112.18, 116.2, 116.41, 112.16],
    ['2023/04/11', 117.03, 116.08, 117.53, 115.78],
    ['2023/04/12', 117.43, 112.87, 117.5, 112.58],
    ['2023/04/13', 113.24, 113.18, 113.62, 111.23],
    ['2023/04/14', 113.07, 112.61, 114.75, 111.08],
    ['2023/04/17', 108.94, 111.5, 111.68, 108.72],
    ['2023/04/18', 112.21, 110.98, 113.3, 110.25],
    ['2023/04/19', 109.57, 110.06, 110.33, 108.84],
    ['2023/04/20', 110.96, 114.1, 116.03, 110.96],
    ['2023/04/21', 113.18, 113.17, 113.81, 111.92],
    ['2023/04/24', 113.2, 113.32, 113.65, 112.25],
    ['2023/04/25', 112.21, 110.33, 113.37, 110.14],
    ['2023/04/26', 110.87, 110.03, 111.21, 109.54],
    ['2023/04/27', 111.01, 111.39, 111.89, 108.87],
    ['2023/04/28', 111.41, 112.74, 112.97, 110.83],
    ['2023/05/01', 113.01, 112.66, 114.15, 111.81],
    ['2023/05/02', 112.63, 111.87, 113.1, 110.91],
    ['2023/05/03', 111.65, 113.0, 114.97, 111.6],
    ['2023/05/04', 112.76, 112.16, 113.12, 111.43],
    ['2023/05/05', 113.41, 115.76, 116.32, 112.68],
    ['2023/05/08', 116.57, 115.45, 117.29, 114.63],
    ['2023/05/09', 113.79, 113.55, 114.12, 112.57],
    ['2023/05/10', 115.22, 115.11, 115.94, 113.85],
    ['2023/05/11', 115.0, 115.16, 115.54, 113.62],
    ['2023/05/12', 116.41, 115.79, 116.77, 114.69],
    ['2023/05/15', 116.39, 120.8, 120.95, 115.72],
    ['2023/05/16', 120.52, 120.61, 122.75, 120.13],
    ['2023/05/17', 121.94, 125.38, 125.98, 121.57],
    ['2023/05/18', 125.49, 129.59, 131.72, 125.44],
    ['2023/05/19', 127.97, 126.62, 127.99, 124.93],
    ['2023/05/22', 126.9, 126.22, 127.23, 125.33],
    ['2023/05/23', 125.57, 124.17, 126.4, 123.87],
    ['2023/05/24', 121.92, 121.73, 122.62, 120.18],
    ['2023/05/25', 127.17, 130.47, 130.73, 126.13],
    ['2023/05/26', 130.77, 136.06, 136.69, 129.99],
    ['2023/05/30', 138.0, 136.57, 138.8, 135.49],
    ['2023/05/31', 133.6, 133.3, 135.75, 132.16],
    ['2023/06/01', 133.73, 134.83, 136.19, 131.69],
    ['2023/06/02', 135.14, 134.63, 135.33, 132.38],
    ['2023/06/05', 134.82, 133.73, 135.15, 133.04],
    ['2023/06/06', 131.4, 133.94, 135.35, 130.75],
    ['2023/06/07', 135.27, 135.01, 137.04, 133.58],
    ['2023/06/08', 135.85, 136.2, 136.76, 134.15],
    ['2023/06/09', 137.79, 136.12, 137.98, 135.82],
    ['2023/06/12', 137.74, 140.01, 140.23, 136.83],
    ['2023/06/13', 141.5, 141.79, 142.53, 139.41],
    ['2023/06/14', 138.41, 141.17, 141.36, 138.23],
    ['2023/06/15', 138.69, 140.11, 141.43, 137.93],
    ['2023/06/16', 140.89, 138.93, 140.95, 138.13],
    ['2023/06/20', 139.11, 138.52, 140.32, 137.27],
    ['2023/06/21', 138.53, 136.67, 139.16, 135.87],
    ['2023/06/22', 135.0, 138.92, 139.6, 135.0],
    ['2023/06/23', 136.55, 136.07, 136.79, 134.84],
    ['2023/06/26', 136.47, 139.8, 140.87, 136.47],
    ['2023/06/27', 140.15, 146.55, 146.69, 139.96],
    ['2023/06/28', 142.8, 144.03, 145.92, 142.05],
    ['2023/06/29', 144.69, 144.23, 145.25, 143.51],
    ['2023/06/30', 145.3, 144.54, 145.55, 143.44],
    ['2023/07/03', 144.02, 145.47, 145.91, 143.38],
    ['2023/07/05', 144.25, 142.26, 144.92, 142.16],
    ['2023/07/06', 140.66, 140.38, 141.33, 138.76],
    ['2023/07/07', 139.62, 139.57, 142.12, 139.41],
    ['2023/07/10', 139.78, 140.56, 141.88, 139.7],
    ['2023/07/11', 140.18, 137.56, 140.44, 134.01],
    ['2023/07/12', 139.21, 138.89, 139.7, 137.85],
    ['2023/07/13', 140.12, 142.65, 143.66, 140.02],
    ['2023/07/14', 144.57, 142.74, 145.39, 142.38],
    ['2023/07/17', 142.98, 145.5, 146.5, 141.83],
    ['2023/07/18', 143.8, 144.51, 145.15, 141.91],
    ['2023/07/19', 144.05, 141.78, 144.65, 141.18],
    ['2023/07/20', 137.82, 134.04, 138.19, 133.52],
    ['2023/07/21', 135.22, 136.4, 137.3, 135.19],
    ['2023/07/24', 137.6, 138.35, 139.08, 136.85],
    ['2023/07/25', 138.69, 140.06, 141.4, 138.5],
    ['2023/07/26', 137.63, 139.02, 140.29, 136.81],
    ['2023/07/27', 144.23, 146.14, 150.43, 144.21],
    ['2023/07/28', 149.58, 151.93, 153.28, 148.7],
    ['2023/07/31', 151.93, 151.59, 152.68, 150.52],
    ['2023/08/01', 150.92, 152.63, 152.86, 150.28],
    ['2023/08/02', 150.62, 147.33, 150.62, 146.88],
]);
var volumes = [
    6088000.0,
    5279600.0,
    4784000.0,
    6038600.0,
    10355800.0,
    8599800.0,
    5555600.0,
    6644700.0,
    8342600.0,
    4892400.0,
    5495600.0,
    10062400.0,
    12380900.0,
    6180100.0,
    4882300.0,
    4741200.0,
    7645200.0,
    7757100.0,
    5609700.0,
    11623200.0,
    8729700.0,
    9953700.0,
    6795400.0,
    5922500.0,
    5567500.0,
    5233000.0,
    5094300.0,
    5329300.0,
    8422200.0,
    5828200.0,
    7120300.0,
    10893600.0,
    5260300.0,
    4435700.0,
    6953400.0,
    8558400.0,
    7384500.0,
    7015800.0,
    6220000.0,
    7992500.0,
    8542500.0,
    9051000.0,
    9631500.0,
    7914900.0,
    7608600.0,
    6686700.0,
    10029900.0,
    14211900.0,
    12441100.0,
    7770200.0,
    17560200.0,
    10453000.0,
    10772300.0,
    10231000.0,
    10579200.0,
    13287900.0,
    11569500.0,
    12005000.0,
    10349400.0,
    8989100.0,
    6822500.0,
    6388600.0,
    6875400.0,
    6105600.0,
    10650300.0,
    6849700.0,
    8692700.0,
    7684200.0,
    10067000.0,
    6864600.0,
    11692800.0,
    11160000.0,
    7761700.0,
    9438600.0,
    12082500.0,
    10682800.0,
    10921100.0,
    9282400.0,
    8497200.0,
    4077500.0,
    3012500.0,
    6382700.0,
    3450400.0,
    11167000.0,
    6976200.0,
    3903300.0,
    4692500.0,
    4571700.0,
    6383600.0,
    5493200.0,
    4705700.0,
    4831400.0,
    9557300.0,
    6429300.0,
    6773500.0,
    12925700.0,
    6162500.0,
    4761800.0,
    4889100.0,
    11326600.0,
    4753500.0,
    6121400.0,
    4274000.0,
    5071800.0,
    3407000.0,
    5921500.0,
    6289500.0,
    4557100.0,
    7241700.0,
    6212300.0,
    4638800.0,
    5532600.0,
    5330900.0,
    5641600.0,
    4848100.0,
    5374100.0,
    5325100.0,
    5078500.0,
    7669300.0,
    3504700.0,
    5957600.0,
    5813000.0,
    8705700.0,
    7351700.0,
    6577100.0,
    9886400.0,
    11206500.0,
    6156900.0,
    5331000.0,
    4935300.0,
    6460500.0,
    5512200.0,
    4374400.0,
    4198200.0,
    4870700.0,
    4980000.0,
    9117600.0,
    9287100.0,
    7583900.0,
    5089200.0,
    7136100.0,
    5808400.0,
    5362700.0,
    13010900.0,
    6756800.0,
    6502200.0,
    7232400.0,
    5775700.0,
    5225900.0,
    4474900.0,
    5701400.0,
    7009600.0,
    8221300.0,
    8322400.0,
    9517700.0,
    6787700.0,
    13761500.0,
    4974700.0,
    10090100.0,
    8342500.0,
    6182200.0,
    6354500.0,
    4628200.0,
    5523800.0,
    7865300.0,
    6213800.0,
    5016500.0,
    5146800.0,
    4772200.0,
    6691700.0,
    6275000.0,
    4096500.0,
    3373000.0,
    5838900.0,
    5299500.0,
    5211600.0,
    6952200.0,
    5055000.0,
    6796800.0,
    8699500.0,
    4516800.0,
    3218100.0,
    6282600.0,
    6245800.0,
    9447000.0,
    8063500.0,
    4171600.0,
    4850200.0,
    5624100.0,
    3579600.0,
    4874200.0,
    3247600.0,
    3173700.0,
    4101000.0,
    3630400.0,
    3838200.0,
    5859200.0,
    5080700.0,
    7349600.0,
    10891200.0,
    10255500.0,
    4709100.0,
    4604500.0,
    6315600.0,
    9575700.0,
    9083800.0,
    7753800.0,
    11368600.0,
    5007000.0,
    5327400.0,
    3798300.0,
    5468900.0,
    4835700.0,
    4507000.0,
    3675200.0,
    5931900.0,
    6859500.0,
    6474600.0,
    5524400.0,
    8846900.0,
    3840000.0,
    4715300.0,
    3763600.0,
    6955400.0,
    7256100.0,
    7343900.0,
    6645200.0,
    3916500.0,
    6142600.0,
    2533600.0,
    5198400.0,
    5793500.0,
    3459400.0,
    6364400.0,
    7710000.0,
    5590100.0,
    5410800.0,
    6058400.0,
    6306700.0,
    6493600.0,
    5379400.0,
    9883200.0,
    15685200.0,
    5276000.0,
    5038500.0,
    4050400.0,
    8928900.0,
    7802000.0,
    4184400.0,
    3088100.0,
    5468300.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "AMAT",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);