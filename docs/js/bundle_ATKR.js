/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_ATKR");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 95.1, 90.53, 95.1, 90.33],
    ['2022/08/04', 90.01, 90.05, 92.17, 89.52],
    ['2022/08/05', 89.0, 88.89, 90.86, 88.15],
    ['2022/08/08', 89.29, 90.18, 90.6, 87.39],
    ['2022/08/09', 89.49, 87.07, 89.58, 86.14],
    ['2022/08/10', 89.25, 89.55, 90.9, 88.78],
    ['2022/08/11', 90.28, 91.48, 92.27, 89.67],
    ['2022/08/12', 91.5, 92.16, 92.66, 91.03],
    ['2022/08/15', 90.74, 91.75, 92.01, 90.01],
    ['2022/08/16', 90.99, 91.33, 92.18, 90.22],
    ['2022/08/17', 89.53, 90.62, 91.08, 87.23],
    ['2022/08/18', 90.91, 93.57, 94.19, 90.91],
    ['2022/08/19', 92.72, 90.62, 92.72, 89.52],
    ['2022/08/22', 89.41, 88.51, 89.89, 87.45],
    ['2022/08/23', 88.28, 88.5, 89.43, 87.9],
    ['2022/08/24', 89.12, 88.68, 89.72, 87.9],
    ['2022/08/25', 89.27, 91.0, 91.09, 89.11],
    ['2022/08/26', 91.0, 87.71, 91.44, 87.7],
    ['2022/08/29', 87.02, 87.8, 88.67, 86.3],
    ['2022/08/30', 88.19, 85.91, 89.05, 85.14],
    ['2022/08/31', 86.12, 84.41, 86.12, 83.74],
    ['2022/09/01', 83.88, 86.84, 86.95, 83.33],
    ['2022/09/02', 87.8, 83.93, 88.09, 83.88],
    ['2022/09/06', 84.4, 84.29, 85.39, 83.12],
    ['2022/09/07', 84.01, 85.57, 85.66, 82.77],
    ['2022/09/08', 84.34, 84.67, 85.2, 82.79],
    ['2022/09/09', 85.36, 88.41, 88.41, 85.16],
    ['2022/09/12', 89.04, 88.37, 89.79, 87.88],
    ['2022/09/13', 85.3, 82.1, 85.87, 81.71],
    ['2022/09/14', 82.43, 81.31, 82.65, 79.55],
    ['2022/09/15', 81.21, 80.21, 82.34, 79.52],
    ['2022/09/16', 78.55, 79.5, 79.5, 76.55],
    ['2022/09/19', 78.28, 79.46, 80.73, 78.22],
    ['2022/09/20', 78.82, 76.9, 78.82, 75.45],
    ['2022/09/21', 77.82, 76.33, 79.32, 76.28],
    ['2022/09/22', 76.35, 74.86, 76.61, 74.84],
    ['2022/09/23', 73.01, 72.74, 73.61, 71.29],
    ['2022/09/26', 72.06, 70.9, 74.21, 70.83],
    ['2022/09/27', 71.96, 71.64, 72.86, 70.5],
    ['2022/09/28', 71.65, 74.97, 75.57, 71.65],
    ['2022/09/29', 73.54, 76.68, 76.8, 72.68],
    ['2022/09/30', 77.27, 77.81, 80.15, 76.79],
    ['2022/10/03', 78.19, 82.18, 83.24, 78.19],
    ['2022/10/04', 84.38, 86.45, 86.5, 84.18],
    ['2022/10/05', 85.0, 86.95, 87.87, 84.31],
    ['2022/10/06', 85.74, 88.4, 89.56, 85.74],
    ['2022/10/07', 87.89, 86.27, 88.6, 85.8],
    ['2022/10/10', 87.67, 87.95, 89.22, 86.75],
    ['2022/10/11', 86.73, 86.69, 88.9, 85.61],
    ['2022/10/12', 86.98, 86.44, 88.0, 86.02],
    ['2022/10/13', 84.77, 90.07, 91.05, 83.66],
    ['2022/10/14', 90.57, 83.18, 91.24, 82.95],
    ['2022/10/17', 85.5, 88.66, 88.87, 85.5],
    ['2022/10/18', 91.29, 91.05, 92.08, 89.17],
    ['2022/10/19', 90.81, 87.89, 91.59, 86.11],
    ['2022/10/20', 88.17, 87.08, 89.14, 86.01],
    ['2022/10/21', 87.86, 91.53, 91.84, 87.64],
    ['2022/10/24', 91.91, 93.38, 94.74, 91.5],
    ['2022/10/25', 92.45, 94.41, 95.18, 92.05],
    ['2022/10/26', 95.33, 95.08, 98.56, 94.29],
    ['2022/10/27', 96.59, 94.53, 97.08, 94.11],
    ['2022/10/28', 95.21, 94.74, 96.16, 92.98],
    ['2022/10/31', 94.05, 95.3, 96.97, 93.83],
    ['2022/11/01', 96.76, 97.73, 98.26, 94.6],
    ['2022/11/02', 98.07, 93.37, 98.71, 93.25],
    ['2022/11/03', 92.11, 92.28, 95.14, 90.93],
    ['2022/11/04', 95.05, 93.35, 95.99, 92.31],
    ['2022/11/07', 94.63, 92.38, 94.63, 91.84],
    ['2022/11/08', 93.06, 91.72, 93.19, 90.94],
    ['2022/11/09', 91.27, 94.36, 94.78, 91.23],
    ['2022/11/10', 98.18, 100.87, 102.62, 97.35],
    ['2022/11/11', 101.49, 101.66, 104.55, 100.6],
    ['2022/11/14', 100.79, 103.54, 104.08, 99.99],
    ['2022/11/15', 105.62, 106.4, 106.49, 104.3],
    ['2022/11/16', 105.22, 104.61, 106.9, 103.21],
    ['2022/11/17', 102.56, 100.62, 103.93, 99.78],
    ['2022/11/18', 115.29, 116.0, 119.95, 109.54],
    ['2022/11/21', 117.27, 117.15, 119.35, 115.09],
    ['2022/11/22', 118.4, 121.66, 122.25, 116.95],
    ['2022/11/23', 121.24, 119.0, 122.6, 117.19],
    ['2022/11/25', 118.2, 117.23, 118.7, 115.83],
    ['2022/11/28', 115.24, 115.69, 117.0, 114.28],
    ['2022/11/29', 115.69, 118.45, 118.53, 115.6],
    ['2022/11/30', 118.57, 122.15, 122.71, 114.88],
    ['2022/12/01', 122.75, 124.47, 126.57, 121.5],
    ['2022/12/02', 123.05, 124.68, 125.82, 122.65],
    ['2022/12/05', 123.96, 121.81, 123.96, 120.13],
    ['2022/12/06', 122.62, 123.47, 123.94, 120.89],
    ['2022/12/07', 122.78, 122.21, 124.42, 121.53],
    ['2022/12/08', 123.1, 125.03, 125.76, 122.61],
    ['2022/12/09', 124.72, 123.0, 126.92, 122.88],
    ['2022/12/12', 123.28, 122.58, 123.97, 121.12],
    ['2022/12/13', 126.07, 125.38, 128.36, 124.7],
    ['2022/12/14', 125.38, 122.15, 126.17, 121.66],
    ['2022/12/15', 120.0, 116.0, 120.4, 115.44],
    ['2022/12/16', 114.38, 116.89, 117.22, 113.0],
    ['2022/12/19', 116.99, 113.34, 117.9, 113.07],
    ['2022/12/20', 112.8, 113.82, 114.77, 112.16],
    ['2022/12/21', 115.09, 116.37, 117.17, 113.91],
    ['2022/12/22', 115.0, 114.28, 115.0, 111.9],
    ['2022/12/23', 114.18, 113.99, 114.9, 112.93],
    ['2022/12/27', 114.24, 116.0, 116.02, 113.01],
    ['2022/12/28', 116.64, 112.65, 117.38, 112.64],
    ['2022/12/29', 113.91, 113.53, 114.76, 112.83],
    ['2022/12/30', 113.0, 113.42, 113.64, 111.94],
    ['2023/01/03', 115.01, 114.83, 116.31, 112.94],
    ['2023/01/04', 115.7, 115.1, 117.0, 113.7],
    ['2023/01/05', 114.36, 115.02, 116.16, 113.99],
    ['2023/01/06', 117.03, 119.07, 119.45, 117.02],
    ['2023/01/09', 120.47, 116.55, 121.76, 116.37],
    ['2023/01/10', 116.36, 120.85, 120.97, 115.63],
    ['2023/01/11', 121.13, 122.9, 123.86, 120.59],
    ['2023/01/12', 124.28, 124.36, 125.93, 123.26],
    ['2023/01/13', 123.12, 126.16, 126.3, 123.12],
    ['2023/01/17', 125.94, 122.85, 127.0, 122.76],
    ['2023/01/18', 123.65, 121.4, 125.33, 121.33],
    ['2023/01/19', 120.09, 116.61, 120.55, 114.99],
    ['2023/01/20', 117.45, 118.88, 119.04, 115.8],
    ['2023/01/23', 119.51, 120.17, 122.17, 119.41],
    ['2023/01/24', 119.04, 120.25, 122.07, 118.35],
    ['2023/01/25', 118.74, 120.75, 121.85, 118.74],
    ['2023/01/26', 122.27, 124.61, 125.15, 121.08],
    ['2023/01/27', 124.18, 127.43, 127.77, 123.91],
    ['2023/01/30', 126.37, 127.56, 129.49, 126.37],
    ['2023/01/31', 128.25, 130.25, 130.37, 127.45],
    ['2023/02/01', 138.94, 148.91, 149.41, 137.5],
    ['2023/02/02', 152.07, 141.11, 153.55, 139.79],
    ['2023/02/03', 139.08, 144.47, 146.13, 138.1],
    ['2023/02/06', 143.3, 144.58, 146.6, 142.66],
    ['2023/02/07', 144.0, 147.24, 148.11, 143.23],
    ['2023/02/08', 144.6, 142.02, 146.37, 141.34],
    ['2023/02/09', 143.55, 141.07, 145.27, 140.12],
    ['2023/02/10', 140.0, 142.91, 143.35, 139.76],
    ['2023/02/13', 143.38, 145.42, 146.64, 142.04],
    ['2023/02/14', 144.33, 145.75, 147.56, 143.8],
    ['2023/02/15', 145.13, 147.9, 148.57, 144.02],
    ['2023/02/16', 145.85, 145.63, 147.66, 145.51],
    ['2023/02/17', 145.98, 146.46, 147.15, 144.77],
    ['2023/02/21', 145.0, 140.98, 146.18, 140.05],
    ['2023/02/22', 141.71, 140.97, 142.71, 139.71],
    ['2023/02/23', 142.89, 142.8, 143.84, 140.88],
    ['2023/02/24', 141.0, 143.14, 143.69, 140.13],
    ['2023/02/27', 144.65, 145.31, 146.57, 144.65],
    ['2023/02/28', 144.97, 146.02, 147.48, 144.36],
    ['2023/03/01', 146.24, 148.9, 150.7, 145.33],
    ['2023/03/02', 147.24, 151.99, 152.38, 145.55],
    ['2023/03/03', 153.02, 153.01, 154.86, 150.84],
    ['2023/03/06', 153.04, 152.34, 154.84, 152.28],
    ['2023/03/07', 152.2, 149.42, 153.55, 149.17],
    ['2023/03/08', 149.97, 149.61, 150.08, 147.89],
    ['2023/03/09', 150.0, 146.07, 151.03, 146.06],
    ['2023/03/10', 145.75, 138.66, 145.75, 135.33],
    ['2023/03/13', 136.09, 135.85, 137.74, 132.5],
    ['2023/03/14', 140.01, 140.02, 141.98, 137.01],
    ['2023/03/15', 136.1, 131.32, 136.32, 129.34],
    ['2023/03/16', 129.47, 133.93, 135.09, 127.79],
    ['2023/03/17', 132.8, 130.71, 132.95, 129.71],
    ['2023/03/20', 132.52, 135.19, 136.57, 131.82],
    ['2023/03/21', 138.65, 140.89, 141.73, 138.2],
    ['2023/03/22', 140.52, 136.68, 141.73, 136.26],
    ['2023/03/23', 137.73, 134.65, 139.51, 132.78],
    ['2023/03/24', 131.92, 133.9, 134.29, 130.1],
    ['2023/03/27', 135.97, 135.82, 136.8, 133.54],
    ['2023/03/28', 135.54, 136.0, 137.66, 134.67],
    ['2023/03/29', 138.0, 137.23, 138.0, 135.69],
    ['2023/03/30', 139.12, 139.23, 141.99, 139.0],
    ['2023/03/31', 140.54, 140.48, 141.32, 139.07],
    ['2023/04/03', 140.8, 141.26, 144.37, 139.07],
    ['2023/04/04', 141.13, 129.68, 142.38, 127.92],
    ['2023/04/05', 128.27, 127.15, 129.33, 123.0],
    ['2023/04/06', 126.5, 121.9, 126.5, 121.58],
    ['2023/04/10', 121.0, 126.56, 128.16, 121.0],
    ['2023/04/11', 126.91, 128.43, 129.11, 126.91],
    ['2023/04/12', 130.15, 129.34, 131.02, 127.81],
    ['2023/04/13', 129.95, 130.96, 131.02, 126.39],
    ['2023/04/14', 131.23, 131.7, 132.62, 130.01],
    ['2023/04/17', 132.3, 131.94, 134.9, 131.49],
    ['2023/04/18', 132.74, 134.32, 134.77, 131.09],
    ['2023/04/19', 134.14, 133.87, 134.77, 132.09],
    ['2023/04/20', 132.32, 132.68, 133.78, 131.12],
    ['2023/04/21', 131.6, 126.48, 131.6, 124.8],
    ['2023/04/24', 126.46, 130.0, 130.63, 126.4],
    ['2023/04/25', 128.46, 125.95, 130.33, 125.45],
    ['2023/04/26', 124.59, 120.5, 125.88, 119.58],
    ['2023/04/27', 121.07, 125.35, 125.35, 120.45],
    ['2023/04/28', 124.06, 126.33, 126.71, 124.06],
    ['2023/05/01', 125.87, 126.08, 128.5, 124.96],
    ['2023/05/02', 125.73, 126.24, 126.84, 124.16],
    ['2023/05/03', 127.14, 127.23, 129.81, 127.08],
    ['2023/05/04', 125.73, 122.37, 126.34, 120.61],
    ['2023/05/05', 125.56, 125.49, 126.21, 123.6],
    ['2023/05/08', 126.85, 127.75, 128.89, 125.27],
    ['2023/05/09', 130.48, 128.41, 133.6, 124.14],
    ['2023/05/10', 130.85, 122.96, 130.85, 122.26],
    ['2023/05/11', 121.25, 121.98, 124.22, 120.94],
    ['2023/05/12', 123.12, 124.16, 125.52, 122.76],
    ['2023/05/15', 123.73, 122.52, 124.48, 121.91],
    ['2023/05/16', 121.27, 118.06, 121.91, 117.29],
    ['2023/05/17', 119.08, 119.62, 120.01, 117.57],
    ['2023/05/18', 119.83, 124.36, 124.77, 118.62],
    ['2023/05/19', 125.5, 122.44, 126.54, 121.3],
    ['2023/05/22', 123.37, 123.7, 126.48, 123.37],
    ['2023/05/23', 122.45, 122.87, 124.11, 121.24],
    ['2023/05/24', 122.03, 118.44, 122.14, 117.14],
    ['2023/05/25', 118.82, 119.49, 120.48, 117.7],
    ['2023/05/26', 120.29, 121.19, 121.34, 119.08],
    ['2023/05/30', 121.19, 121.47, 123.65, 118.76],
    ['2023/05/31', 120.05, 116.77, 121.45, 116.14],
    ['2023/06/01', 117.53, 119.85, 121.09, 117.0],
    ['2023/06/02', 122.72, 126.62, 127.71, 121.9],
    ['2023/06/05', 126.54, 126.27, 128.51, 124.0],
    ['2023/06/06', 126.46, 131.94, 132.02, 125.84],
    ['2023/06/07', 132.41, 138.52, 139.3, 132.02],
    ['2023/06/08', 139.0, 138.9, 139.71, 137.54],
    ['2023/06/09', 138.5, 138.1, 139.61, 136.4],
    ['2023/06/12', 138.36, 142.73, 143.49, 138.2],
    ['2023/06/13', 142.77, 143.24, 144.85, 142.35],
    ['2023/06/14', 144.11, 143.82, 146.77, 142.85],
    ['2023/06/15', 142.86, 141.95, 144.33, 139.87],
    ['2023/06/16', 143.29, 139.87, 143.29, 139.47],
    ['2023/06/20', 138.47, 142.81, 143.06, 137.82],
    ['2023/06/21', 142.34, 144.12, 145.47, 142.21],
    ['2023/06/22', 143.52, 145.3, 146.05, 143.03],
    ['2023/06/23', 143.0, 144.3, 146.52, 143.0],
    ['2023/06/26', 143.52, 146.56, 147.86, 143.52],
    ['2023/06/27', 147.92, 152.62, 153.57, 147.5],
    ['2023/06/28', 152.26, 152.32, 154.03, 151.2],
    ['2023/06/29', 152.42, 155.38, 156.1, 152.42],
    ['2023/06/30', 156.96, 155.94, 157.45, 154.06],
    ['2023/07/03', 156.03, 154.37, 157.44, 154.34],
    ['2023/07/05', 152.79, 151.62, 155.45, 149.97],
    ['2023/07/06', 150.17, 144.89, 151.24, 144.37],
    ['2023/07/07', 144.66, 147.61, 150.01, 144.62],
    ['2023/07/10', 147.61, 150.7, 151.22, 146.36],
    ['2023/07/11', 151.54, 150.57, 152.24, 149.1],
    ['2023/07/12', 152.78, 152.0, 153.82, 150.61],
    ['2023/07/13', 153.11, 154.02, 154.9, 151.38],
    ['2023/07/14', 154.41, 152.67, 154.5, 150.93],
    ['2023/07/17', 152.1, 154.1, 155.84, 151.77],
    ['2023/07/18', 154.44, 161.83, 163.18, 153.93],
    ['2023/07/19', 160.59, 159.74, 161.98, 157.68],
    ['2023/07/20', 160.0, 160.22, 160.85, 157.14],
    ['2023/07/21', 161.2, 157.63, 161.5, 157.24],
    ['2023/07/24', 158.17, 158.42, 161.15, 158.04],
    ['2023/07/25', 157.94, 161.1, 162.77, 157.94],
    ['2023/07/26', 159.45, 156.11, 161.14, 154.57],
    ['2023/07/27', 157.79, 155.53, 158.99, 154.94],
    ['2023/07/28', 157.43, 157.39, 157.65, 155.43],
    ['2023/07/31', 159.07, 158.67, 159.85, 157.27],
    ['2023/08/01', 157.43, 163.43, 163.71, 157.31],
    ['2023/08/02', 161.73, 158.36, 164.76, 158.29],
]);
var volumes = [
    572600.0,
    399200.0,
    357600.0,
    314400.0,
    472400.0,
    355000.0,
    272900.0,
    196500.0,
    215700.0,
    575600.0,
    466300.0,
    293300.0,
    262100.0,
    455000.0,
    378800.0,
    315400.0,
    260000.0,
    358900.0,
    230300.0,
    389600.0,
    288000.0,
    461600.0,
    379300.0,
    324100.0,
    299700.0,
    428300.0,
    341400.0,
    270300.0,
    567000.0,
    555200.0,
    417400.0,
    980000.0,
    332100.0,
    465300.0,
    259400.0,
    280100.0,
    380300.0,
    339600.0,
    335900.0,
    258100.0,
    378600.0,
    446500.0,
    556100.0,
    627700.0,
    483200.0,
    498600.0,
    493200.0,
    618900.0,
    464600.0,
    513100.0,
    551900.0,
    457200.0,
    408400.0,
    332300.0,
    558600.0,
    336000.0,
    482300.0,
    543600.0,
    416600.0,
    497900.0,
    505500.0,
    406600.0,
    501100.0,
    367200.0,
    482900.0,
    295700.0,
    289500.0,
    345000.0,
    351700.0,
    661400.0,
    573700.0,
    374400.0,
    499800.0,
    634300.0,
    716900.0,
    702500.0,
    1393900.0,
    819500.0,
    579300.0,
    475700.0,
    184700.0,
    420100.0,
    383400.0,
    650400.0,
    501100.0,
    497600.0,
    572000.0,
    631500.0,
    477000.0,
    461600.0,
    387400.0,
    273000.0,
    500900.0,
    464000.0,
    572000.0,
    634800.0,
    477300.0,
    439100.0,
    320800.0,
    379200.0,
    263000.0,
    268400.0,
    342000.0,
    224300.0,
    273100.0,
    514500.0,
    549300.0,
    330700.0,
    358800.0,
    391000.0,
    386500.0,
    411500.0,
    306600.0,
    308800.0,
    323300.0,
    309100.0,
    537000.0,
    368600.0,
    279200.0,
    274100.0,
    432400.0,
    399600.0,
    476200.0,
    486000.0,
    686800.0,
    1484400.0,
    1061200.0,
    550000.0,
    283600.0,
    462100.0,
    373200.0,
    391600.0,
    377800.0,
    274600.0,
    281300.0,
    364800.0,
    328100.0,
    349900.0,
    331700.0,
    391000.0,
    239800.0,
    334200.0,
    366800.0,
    467600.0,
    424500.0,
    387500.0,
    401400.0,
    419100.0,
    328100.0,
    259200.0,
    354700.0,
    757500.0,
    512600.0,
    392700.0,
    592000.0,
    480500.0,
    786200.0,
    538400.0,
    429200.0,
    340800.0,
    398500.0,
    308900.0,
    405300.0,
    238300.0,
    379900.0,
    479900.0,
    613200.0,
    360500.0,
    629700.0,
    814200.0,
    852500.0,
    560300.0,
    308200.0,
    442100.0,
    360600.0,
    460600.0,
    432200.0,
    315100.0,
    249100.0,
    282300.0,
    768700.0,
    371400.0,
    425100.0,
    1083300.0,
    643000.0,
    379700.0,
    342600.0,
    455700.0,
    310400.0,
    576600.0,
    531000.0,
    831400.0,
    862600.0,
    929200.0,
    662000.0,
    634900.0,
    380200.0,
    694600.0,
    393900.0,
    385700.0,
    391600.0,
    384400.0,
    363600.0,
    395800.0,
    355300.0,
    295900.0,
    406900.0,
    387700.0,
    425500.0,
    481500.0,
    281400.0,
    494500.0,
    608400.0,
    448200.0,
    393200.0,
    544600.0,
    439800.0,
    427900.0,
    324100.0,
    463200.0,
    323800.0,
    343100.0,
    332700.0,
    490900.0,
    288100.0,
    424300.0,
    309200.0,
    431500.0,
    533300.0,
    214100.0,
    405600.0,
    569500.0,
    376300.0,
    354800.0,
    315300.0,
    293800.0,
    341800.0,
    287300.0,
    438100.0,
    735100.0,
    439000.0,
    413800.0,
    258400.0,
    288700.0,
    365200.0,
    356500.0,
    209600.0,
    273100.0,
    242800.0,
    423400.0,
    341300.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "ATKR",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);