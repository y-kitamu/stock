/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_LII");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 236.43, 240.05, 240.34, 234.13],
    ['2022/08/04', 237.25, 240.48, 242.85, 237.25],
    ['2022/08/05', 238.08, 240.06, 240.25, 234.37],
    ['2022/08/08', 240.96, 242.53, 245.83, 240.96],
    ['2022/08/09', 241.1, 239.13, 241.1, 236.91],
    ['2022/08/10', 244.19, 245.41, 248.97, 242.52],
    ['2022/08/11', 247.03, 247.2, 250.88, 245.9],
    ['2022/08/12', 248.72, 257.51, 257.86, 247.86],
    ['2022/08/15', 257.37, 262.93, 263.28, 254.75],
    ['2022/08/16', 260.98, 262.58, 262.9, 258.88],
    ['2022/08/17', 260.83, 263.1, 266.74, 259.91],
    ['2022/08/18', 261.87, 262.71, 262.79, 257.94],
    ['2022/08/19', 260.59, 254.43, 260.59, 252.8],
    ['2022/08/22', 251.18, 246.18, 251.18, 245.81],
    ['2022/08/23', 244.24, 242.18, 246.45, 241.73],
    ['2022/08/24', 240.86, 245.93, 246.41, 240.29],
    ['2022/08/25', 245.47, 248.32, 248.52, 244.63],
    ['2022/08/26', 248.23, 238.66, 249.28, 238.4],
    ['2022/08/29', 237.35, 239.32, 241.27, 235.62],
    ['2022/08/30', 240.65, 238.36, 242.54, 236.94],
    ['2022/08/31', 239.55, 237.21, 241.07, 236.31],
    ['2022/09/01', 237.09, 245.83, 246.35, 236.09],
    ['2022/09/02', 249.4, 242.92, 249.4, 241.62],
    ['2022/09/06', 244.19, 246.95, 247.38, 239.67],
    ['2022/09/07', 247.76, 254.77, 254.83, 246.27],
    ['2022/09/08', 252.02, 254.76, 257.06, 250.92],
    ['2022/09/09', 255.24, 255.08, 259.06, 253.81],
    ['2022/09/12', 255.86, 259.62, 260.49, 254.3],
    ['2022/09/13', 252.88, 250.96, 254.61, 250.27],
    ['2022/09/14', 251.86, 247.27, 252.22, 243.56],
    ['2022/09/15', 245.94, 247.01, 251.26, 245.0],
    ['2022/09/16', 244.75, 241.47, 244.75, 237.22],
    ['2022/09/19', 240.36, 242.61, 243.47, 238.82],
    ['2022/09/20', 241.3, 232.46, 241.3, 229.46],
    ['2022/09/21', 233.91, 229.64, 240.3, 229.51],
    ['2022/09/22', 228.98, 221.05, 229.28, 220.48],
    ['2022/09/23', 219.39, 221.5, 222.51, 217.37],
    ['2022/09/26', 221.19, 217.64, 222.64, 216.87],
    ['2022/09/27', 220.65, 218.6, 222.15, 215.48],
    ['2022/09/28', 221.53, 228.58, 229.01, 218.23],
    ['2022/09/29', 226.21, 219.81, 228.27, 217.2],
    ['2022/09/30', 221.12, 219.97, 223.99, 217.42],
    ['2022/10/03', 220.83, 225.99, 228.34, 214.15],
    ['2022/10/04', 228.83, 234.4, 235.32, 228.83],
    ['2022/10/05', 230.23, 233.17, 235.64, 230.23],
    ['2022/10/06', 231.58, 228.17, 233.61, 226.73],
    ['2022/10/07', 225.78, 218.35, 225.78, 217.14],
    ['2022/10/10', 219.73, 221.47, 222.69, 218.2],
    ['2022/10/11', 221.74, 221.64, 225.58, 220.03],
    ['2022/10/12', 221.07, 218.7, 223.2, 218.22],
    ['2022/10/13', 212.39, 215.0, 218.76, 200.51],
    ['2022/10/14', 216.86, 211.99, 219.03, 208.69],
    ['2022/10/17', 217.06, 218.99, 220.63, 216.71],
    ['2022/10/18', 225.63, 224.77, 228.17, 222.26],
    ['2022/10/19', 221.55, 213.92, 223.23, 211.63],
    ['2022/10/20', 214.74, 211.41, 215.89, 209.19],
    ['2022/10/21', 212.98, 221.84, 222.52, 212.49],
    ['2022/10/24', 223.96, 224.62, 227.0, 219.92],
    ['2022/10/25', 224.8, 232.69, 233.72, 224.8],
    ['2022/10/26', 232.28, 231.33, 237.35, 230.05],
    ['2022/10/27', 227.21, 224.85, 227.62, 216.94],
    ['2022/10/28', 221.3, 234.54, 234.56, 221.3],
    ['2022/10/31', 231.03, 230.74, 232.9, 228.82],
    ['2022/11/01', 235.54, 231.89, 237.31, 231.39],
    ['2022/11/02', 232.64, 228.63, 239.62, 228.38],
    ['2022/11/03', 224.61, 233.09, 234.17, 224.61],
    ['2022/11/04', 236.87, 231.54, 238.27, 227.17],
    ['2022/11/07', 232.69, 234.78, 235.16, 229.03],
    ['2022/11/08', 237.22, 242.51, 243.74, 234.66],
    ['2022/11/09', 240.73, 233.43, 241.13, 233.37],
    ['2022/11/10', 246.48, 260.05, 260.42, 244.78],
    ['2022/11/11', 259.86, 266.76, 272.51, 258.49],
    ['2022/11/14', 264.03, 261.65, 266.9, 261.41],
    ['2022/11/15', 267.26, 268.05, 271.37, 266.03],
    ['2022/11/16', 267.82, 263.45, 269.0, 261.08],
    ['2022/11/17', 258.85, 261.78, 262.16, 253.79],
    ['2022/11/18', 267.12, 265.31, 269.5, 262.06],
    ['2022/11/21', 263.9, 263.91, 267.55, 260.56],
    ['2022/11/22', 265.43, 263.18, 266.34, 263.0],
    ['2022/11/23', 264.14, 263.26, 267.14, 261.94],
    ['2022/11/25', 264.37, 264.2, 265.29, 261.58],
    ['2022/11/28', 261.73, 256.87, 262.8, 254.15],
    ['2022/11/29', 255.32, 257.67, 258.82, 254.36],
    ['2022/11/30', 255.47, 257.27, 257.36, 247.73],
    ['2022/12/01', 263.44, 265.11, 269.38, 260.41],
    ['2022/12/02', 258.69, 262.86, 265.26, 258.69],
    ['2022/12/05', 260.78, 256.86, 260.78, 252.16],
    ['2022/12/06', 258.08, 252.92, 258.4, 248.1],
    ['2022/12/07', 253.65, 255.16, 256.77, 252.41],
    ['2022/12/08', 255.09, 257.07, 259.25, 255.09],
    ['2022/12/09', 256.45, 254.47, 258.35, 254.47],
    ['2022/12/12', 254.16, 256.91, 258.4, 249.88],
    ['2022/12/13', 269.09, 262.92, 269.94, 260.21],
    ['2022/12/14', 261.57, 255.61, 261.57, 253.86],
    ['2022/12/15', 251.91, 245.63, 251.91, 242.1],
    ['2022/12/16', 244.33, 243.51, 248.22, 243.0],
    ['2022/12/19', 242.47, 241.91, 248.94, 240.4],
    ['2022/12/20', 240.75, 241.43, 242.71, 237.62],
    ['2022/12/21', 242.37, 244.22, 245.33, 240.81],
    ['2022/12/22', 240.47, 238.64, 241.73, 235.29],
    ['2022/12/23', 237.56, 240.12, 240.91, 236.22],
    ['2022/12/27', 239.84, 239.99, 243.01, 238.91],
    ['2022/12/28', 240.94, 236.59, 243.18, 236.3],
    ['2022/12/29', 238.71, 240.2, 243.72, 238.71],
    ['2022/12/30', 238.28, 237.38, 238.92, 234.0],
    ['2023/01/03', 241.81, 239.45, 242.33, 236.49],
    ['2023/01/04', 243.06, 240.44, 244.54, 237.56],
    ['2023/01/05', 236.9, 232.94, 239.18, 231.43],
    ['2023/01/06', 234.46, 241.33, 242.5, 234.46],
    ['2023/01/09', 243.13, 243.28, 247.33, 238.78],
    ['2023/01/10', 241.39, 246.44, 247.2, 241.39],
    ['2023/01/11', 247.79, 252.27, 253.26, 247.79],
    ['2023/01/12', 253.0, 250.66, 254.76, 248.63],
    ['2023/01/13', 249.8, 251.12, 251.4, 248.31],
    ['2023/01/17', 251.07, 250.77, 252.41, 249.62],
    ['2023/01/18', 251.72, 240.13, 252.68, 240.02],
    ['2023/01/19', 237.07, 231.34, 239.7, 231.18],
    ['2023/01/20', 232.97, 237.81, 237.81, 230.64],
    ['2023/01/23', 239.09, 242.79, 243.26, 237.62],
    ['2023/01/24', 242.7, 247.57, 249.57, 241.27],
    ['2023/01/25', 245.35, 245.82, 248.73, 243.56],
    ['2023/01/26', 247.0, 246.32, 248.91, 243.6],
    ['2023/01/27', 245.82, 247.21, 249.73, 244.77],
    ['2023/01/30', 245.66, 243.27, 249.11, 241.59],
    ['2023/01/31', 264.91, 258.61, 266.76, 242.12],
    ['2023/02/01', 254.51, 266.09, 267.3, 253.19],
    ['2023/02/02', 268.11, 276.62, 276.68, 266.99],
    ['2023/02/03', 272.11, 272.67, 276.57, 271.32],
    ['2023/02/06', 268.57, 266.34, 269.08, 264.4],
    ['2023/02/07', 263.41, 261.31, 264.1, 257.12],
    ['2023/02/08', 258.94, 261.05, 263.59, 258.94],
    ['2023/02/09', 263.96, 260.64, 267.19, 259.91],
    ['2023/02/10', 259.57, 257.67, 262.42, 256.29],
    ['2023/02/13', 258.89, 263.72, 264.88, 258.5],
    ['2023/02/14', 262.1, 262.33, 264.66, 259.51],
    ['2023/02/15', 260.37, 264.0, 264.57, 259.13],
    ['2023/02/16', 259.41, 264.79, 267.66, 259.35],
    ['2023/02/17', 263.69, 267.29, 267.54, 259.93],
    ['2023/02/21', 263.76, 252.33, 264.98, 252.05],
    ['2023/02/22', 254.38, 251.71, 256.89, 249.49],
    ['2023/02/23', 251.87, 252.83, 254.7, 248.9],
    ['2023/02/24', 249.28, 249.18, 251.23, 246.51],
    ['2023/02/27', 252.34, 251.07, 256.1, 249.9],
    ['2023/02/28', 250.65, 252.86, 254.99, 250.38],
    ['2023/03/01', 251.19, 250.28, 254.05, 249.84],
    ['2023/03/02', 247.91, 253.52, 253.52, 247.63],
    ['2023/03/03', 256.08, 260.31, 260.74, 253.64],
    ['2023/03/06', 260.05, 257.87, 262.36, 257.33],
    ['2023/03/07', 258.25, 255.08, 261.2, 253.97],
    ['2023/03/08', 255.88, 255.94, 256.41, 252.49],
    ['2023/03/09', 257.29, 249.26, 257.29, 248.39],
    ['2023/03/10', 249.2, 243.39, 250.46, 240.65],
    ['2023/03/13', 240.24, 242.21, 244.36, 238.14],
    ['2023/03/14', 247.56, 245.83, 250.03, 242.58],
    ['2023/03/15', 242.2, 240.08, 243.06, 234.68],
    ['2023/03/16', 238.26, 243.45, 247.13, 236.03],
    ['2023/03/17', 241.54, 242.1, 242.56, 238.8],
    ['2023/03/20', 243.81, 247.56, 249.17, 241.57],
    ['2023/03/21', 250.49, 247.45, 251.79, 244.63],
    ['2023/03/22', 247.85, 243.05, 251.85, 242.82],
    ['2023/03/23', 244.35, 244.07, 251.73, 242.64],
    ['2023/03/24', 241.13, 242.26, 242.51, 237.05],
    ['2023/03/27', 245.45, 240.95, 245.45, 240.64],
    ['2023/03/28', 240.98, 242.4, 244.44, 240.48],
    ['2023/03/29', 245.31, 243.31, 246.86, 241.31],
    ['2023/03/30', 245.51, 244.48, 246.33, 243.04],
    ['2023/03/31', 246.65, 250.42, 251.02, 246.55],
    ['2023/04/03', 249.47, 246.47, 250.71, 244.66],
    ['2023/04/04', 246.4, 236.85, 247.67, 235.25],
    ['2023/04/05', 236.76, 234.66, 239.69, 232.29],
    ['2023/04/06', 234.54, 234.38, 235.6, 231.21],
    ['2023/04/10', 231.37, 236.13, 236.92, 231.37],
    ['2023/04/11', 237.69, 241.99, 243.42, 237.69],
    ['2023/04/12', 245.72, 246.25, 248.03, 244.57],
    ['2023/04/13', 247.71, 250.37, 250.88, 242.84],
    ['2023/04/14', 251.01, 248.43, 254.3, 245.38],
    ['2023/04/17', 249.23, 249.63, 252.39, 247.2],
    ['2023/04/18', 252.61, 253.56, 254.12, 250.09],
    ['2023/04/19', 253.38, 257.97, 258.01, 252.71],
    ['2023/04/20', 256.92, 262.63, 264.38, 256.44],
    ['2023/04/21', 263.78, 261.71, 265.12, 258.95],
    ['2023/04/24', 259.11, 260.09, 263.07, 257.2],
    ['2023/04/25', 259.98, 258.09, 262.72, 258.07],
    ['2023/04/26', 257.23, 256.19, 260.26, 255.86],
    ['2023/04/27', 268.72, 279.24, 279.95, 263.97],
    ['2023/04/28', 279.93, 280.95, 283.97, 274.69],
    ['2023/05/01', 280.02, 281.46, 284.24, 278.86],
    ['2023/05/02', 281.6, 280.65, 281.6, 276.23],
    ['2023/05/03', 282.18, 282.3, 285.89, 281.34],
    ['2023/05/04', 283.81, 277.79, 283.84, 276.43],
    ['2023/05/05', 279.04, 281.59, 283.92, 278.65],
    ['2023/05/08', 282.82, 280.99, 282.82, 278.25],
    ['2023/05/09', 279.87, 280.55, 283.54, 279.02],
    ['2023/05/10', 283.32, 287.1, 287.93, 278.92],
    ['2023/05/11', 285.59, 288.43, 289.61, 284.44],
    ['2023/05/12', 288.72, 287.92, 290.8, 282.94],
    ['2023/05/15', 287.02, 285.5, 287.93, 282.79],
    ['2023/05/16', 282.61, 279.95, 283.68, 278.9],
    ['2023/05/17', 280.47, 285.69, 287.4, 279.59],
    ['2023/05/18', 284.86, 291.48, 292.09, 283.91],
    ['2023/05/19', 292.97, 287.06, 293.72, 284.73],
    ['2023/05/22', 286.27, 279.95, 287.46, 278.99],
    ['2023/05/23', 277.61, 274.48, 278.05, 273.0],
    ['2023/05/24', 273.06, 272.99, 274.95, 270.58],
    ['2023/05/25', 274.67, 275.46, 277.22, 271.8],
    ['2023/05/26', 275.54, 279.58, 281.03, 275.2],
    ['2023/05/30', 280.43, 280.01, 281.54, 276.96],
    ['2023/05/31', 278.4, 274.57, 279.95, 274.52],
    ['2023/06/01', 274.64, 282.01, 282.2, 272.89],
    ['2023/06/02', 285.02, 297.21, 298.23, 283.65],
    ['2023/06/05', 296.58, 293.68, 296.78, 293.1],
    ['2023/06/06', 299.54, 298.71, 302.4, 294.04],
    ['2023/06/07', 297.77, 306.77, 308.51, 297.6],
    ['2023/06/08', 304.48, 303.94, 306.29, 302.66],
    ['2023/06/09', 305.14, 302.34, 305.14, 297.56],
    ['2023/06/12', 302.7, 304.02, 306.15, 300.24],
    ['2023/06/13', 304.56, 308.75, 310.44, 303.39],
    ['2023/06/14', 308.75, 305.59, 309.93, 303.38],
    ['2023/06/15', 304.73, 307.68, 308.88, 303.32],
    ['2023/06/16', 309.48, 309.98, 311.55, 307.39],
    ['2023/06/20', 308.02, 311.1, 312.97, 308.02],
    ['2023/06/21', 311.73, 312.49, 313.46, 309.37],
    ['2023/06/22', 313.1, 311.92, 314.17, 309.15],
    ['2023/06/23', 308.96, 310.64, 313.68, 308.83],
    ['2023/06/26', 311.0, 313.9, 315.02, 311.0],
    ['2023/06/27', 316.32, 321.6, 323.13, 314.63],
    ['2023/06/28', 320.23, 320.34, 321.79, 319.64],
    ['2023/06/29', 320.28, 322.99, 323.52, 317.88],
    ['2023/06/30', 325.13, 326.07, 328.77, 323.57],
    ['2023/07/03', 324.79, 327.05, 327.98, 323.36],
    ['2023/07/05', 324.26, 321.64, 324.79, 319.96],
    ['2023/07/06', 319.32, 318.4, 319.54, 314.11],
    ['2023/07/07', 317.68, 320.08, 323.7, 316.59],
    ['2023/07/10', 320.36, 324.64, 326.79, 318.1],
    ['2023/07/11', 326.15, 327.17, 329.01, 326.15],
    ['2023/07/12', 332.0, 334.3, 337.45, 328.08],
    ['2023/07/13', 334.29, 337.33, 337.39, 332.14],
    ['2023/07/14', 337.29, 336.13, 337.73, 333.75],
    ['2023/07/17', 336.83, 340.46, 342.18, 334.39],
    ['2023/07/18', 338.36, 339.34, 342.86, 338.36],
    ['2023/07/19', 338.27, 334.25, 339.52, 332.06],
    ['2023/07/20', 335.31, 332.01, 336.65, 330.67],
    ['2023/07/21', 332.55, 330.96, 334.19, 328.94],
    ['2023/07/24', 332.54, 331.91, 337.35, 330.22],
    ['2023/07/25', 329.83, 333.53, 335.43, 329.48],
    ['2023/07/26', 333.1, 335.99, 336.26, 331.6],
    ['2023/07/27', 351.64, 356.46, 357.34, 340.77],
    ['2023/07/28', 360.75, 363.36, 370.28, 360.06],
    ['2023/07/31', 364.87, 367.44, 368.42, 361.87],
    ['2023/08/01', 366.63, 374.98, 375.24, 366.63],
    ['2023/08/02', 373.42, 372.75, 374.62, 366.71],
]);
var volumes = [
    177800.0,
    264500.0,
    193400.0,
    174500.0,
    239700.0,
    230100.0,
    205400.0,
    313300.0,
    372600.0,
    309300.0,
    411300.0,
    192000.0,
    288500.0,
    179800.0,
    210900.0,
    238600.0,
    210400.0,
    227600.0,
    220800.0,
    304200.0,
    334800.0,
    431300.0,
    226000.0,
    340800.0,
    319800.0,
    285500.0,
    357000.0,
    406000.0,
    454600.0,
    369200.0,
    322200.0,
    636400.0,
    292800.0,
    515900.0,
    462400.0,
    513800.0,
    421600.0,
    511100.0,
    235300.0,
    433100.0,
    365400.0,
    369400.0,
    355500.0,
    474100.0,
    184900.0,
    311600.0,
    256500.0,
    223500.0,
    329300.0,
    279500.0,
    1175400.0,
    354700.0,
    254500.0,
    273700.0,
    434700.0,
    402500.0,
    340900.0,
    331400.0,
    297900.0,
    479400.0,
    681100.0,
    223300.0,
    326300.0,
    339100.0,
    347600.0,
    283000.0,
    299700.0,
    223500.0,
    323300.0,
    304300.0,
    501800.0,
    503400.0,
    266700.0,
    230800.0,
    280900.0,
    342800.0,
    331400.0,
    247600.0,
    214800.0,
    203000.0,
    51200.0,
    235600.0,
    178600.0,
    723600.0,
    484600.0,
    213200.0,
    258900.0,
    324500.0,
    191600.0,
    199200.0,
    170100.0,
    336900.0,
    365700.0,
    516700.0,
    644400.0,
    633000.0,
    287800.0,
    351600.0,
    223500.0,
    204300.0,
    157200.0,
    134400.0,
    170700.0,
    164600.0,
    190700.0,
    288400.0,
    304500.0,
    433100.0,
    311800.0,
    430000.0,
    290700.0,
    242900.0,
    225100.0,
    209400.0,
    344500.0,
    402400.0,
    303000.0,
    245700.0,
    300900.0,
    271500.0,
    459000.0,
    256800.0,
    267600.0,
    616000.0,
    735600.0,
    521700.0,
    461700.0,
    331900.0,
    235600.0,
    265700.0,
    233500.0,
    227900.0,
    229700.0,
    184100.0,
    194100.0,
    159700.0,
    284000.0,
    257800.0,
    400800.0,
    187100.0,
    261400.0,
    200800.0,
    185600.0,
    282600.0,
    294400.0,
    142400.0,
    185300.0,
    303600.0,
    270700.0,
    123500.0,
    370900.0,
    296500.0,
    415200.0,
    240800.0,
    435000.0,
    381000.0,
    477200.0,
    343100.0,
    261800.0,
    221900.0,
    398400.0,
    304400.0,
    258100.0,
    287800.0,
    266100.0,
    225900.0,
    288900.0,
    312300.0,
    230800.0,
    348000.0,
    181800.0,
    336800.0,
    388000.0,
    364400.0,
    310800.0,
    333400.0,
    339500.0,
    394500.0,
    300700.0,
    375200.0,
    215400.0,
    310200.0,
    425600.0,
    408100.0,
    925800.0,
    383800.0,
    292800.0,
    264000.0,
    426300.0,
    326100.0,
    183300.0,
    189200.0,
    183000.0,
    367800.0,
    468100.0,
    365800.0,
    382900.0,
    365300.0,
    275800.0,
    235100.0,
    272100.0,
    414500.0,
    337100.0,
    330500.0,
    333600.0,
    281100.0,
    261400.0,
    520100.0,
    414600.0,
    454200.0,
    284200.0,
    432400.0,
    320900.0,
    359800.0,
    316400.0,
    280700.0,
    336800.0,
    347200.0,
    328200.0,
    379400.0,
    219600.0,
    318900.0,
    210100.0,
    339400.0,
    193400.0,
    333500.0,
    250700.0,
    193800.0,
    231300.0,
    98300.0,
    235400.0,
    224400.0,
    284100.0,
    249900.0,
    125700.0,
    288700.0,
    236800.0,
    213000.0,
    257600.0,
    169900.0,
    496600.0,
    304100.0,
    270400.0,
    217900.0,
    236000.0,
    339700.0,
    759500.0,
    531100.0,
    294000.0,
    369800.0,
    272900.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "LII",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);