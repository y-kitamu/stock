/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_LII");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/15', 261.67, 267.32, 267.68, 259.0],
    ['2022/08/16', 265.34, 266.96, 267.29, 263.2],
    ['2022/08/17', 265.19, 267.49, 271.19, 264.25],
    ['2022/08/18', 266.24, 267.1, 267.18, 262.25],
    ['2022/08/19', 264.94, 258.68, 264.94, 257.02],
    ['2022/08/22', 255.37, 250.29, 255.37, 249.92],
    ['2022/08/23', 248.32, 246.22, 250.57, 245.77],
    ['2022/08/24', 244.88, 250.04, 250.53, 244.3],
    ['2022/08/25', 249.57, 252.47, 252.67, 248.72],
    ['2022/08/26', 252.38, 242.65, 253.44, 242.38],
    ['2022/08/29', 241.31, 243.32, 245.3, 239.55],
    ['2022/08/30', 243.6, 241.28, 245.52, 239.85],
    ['2022/08/31', 242.49, 240.12, 244.03, 239.21],
    ['2022/09/01', 240.0, 248.85, 249.37, 238.99],
    ['2022/09/02', 252.46, 245.9, 252.46, 244.58],
    ['2022/09/06', 247.19, 249.98, 250.42, 242.61],
    ['2022/09/07', 250.8, 257.9, 257.96, 249.29],
    ['2022/09/08', 255.11, 257.89, 260.21, 254.0],
    ['2022/09/09', 258.37, 258.21, 262.24, 256.92],
    ['2022/09/12', 259.0, 262.81, 263.69, 257.42],
    ['2022/09/13', 255.98, 254.04, 257.73, 253.34],
    ['2022/09/14', 254.95, 250.3, 255.31, 246.55],
    ['2022/09/15', 248.96, 250.04, 254.34, 248.01],
    ['2022/09/16', 247.75, 244.43, 247.75, 240.13],
    ['2022/09/19', 243.31, 245.59, 246.46, 241.75],
    ['2022/09/20', 244.26, 235.31, 244.26, 232.28],
    ['2022/09/21', 236.78, 232.46, 243.25, 232.33],
    ['2022/09/22', 231.79, 223.76, 232.09, 223.19],
    ['2022/09/23', 222.08, 224.22, 225.24, 220.04],
    ['2022/09/26', 223.9, 220.31, 225.37, 219.53],
    ['2022/09/27', 223.36, 221.28, 224.88, 218.12],
    ['2022/09/28', 224.25, 231.38, 231.82, 220.91],
    ['2022/09/29', 228.99, 222.51, 231.07, 219.87],
    ['2022/09/30', 223.83, 222.67, 226.74, 220.09],
    ['2022/10/03', 223.54, 228.76, 231.14, 216.78],
    ['2022/10/04', 231.64, 237.28, 238.21, 231.64],
    ['2022/10/05', 233.06, 236.03, 238.53, 233.06],
    ['2022/10/06', 234.42, 230.97, 236.48, 229.51],
    ['2022/10/07', 228.55, 221.03, 228.55, 219.8],
    ['2022/10/10', 222.43, 224.19, 225.42, 220.88],
    ['2022/10/11', 224.46, 224.36, 228.35, 222.73],
    ['2022/10/12', 223.78, 221.38, 225.94, 220.9],
    ['2022/10/13', 215.0, 217.64, 221.44, 202.97],
    ['2022/10/14', 219.52, 214.59, 221.72, 211.25],
    ['2022/10/17', 219.72, 221.68, 223.34, 219.37],
    ['2022/10/18', 228.4, 227.53, 230.97, 224.99],
    ['2022/10/19', 224.27, 216.54, 225.97, 214.23],
    ['2022/10/20', 217.38, 214.0, 218.54, 211.76],
    ['2022/10/21', 215.59, 224.56, 225.25, 215.1],
    ['2022/10/24', 226.71, 227.38, 229.79, 222.62],
    ['2022/10/25', 227.56, 235.55, 236.59, 227.56],
    ['2022/10/26', 235.13, 234.17, 240.26, 232.87],
    ['2022/10/27', 230.0, 227.61, 230.41, 219.6],
    ['2022/10/28', 224.02, 237.42, 237.44, 224.02],
    ['2022/10/31', 233.86, 233.57, 235.76, 231.63],
    ['2022/11/01', 238.43, 234.74, 240.22, 234.23],
    ['2022/11/02', 235.49, 231.44, 242.56, 231.18],
    ['2022/11/03', 227.37, 235.95, 237.04, 227.37],
    ['2022/11/04', 239.78, 234.38, 241.19, 229.96],
    ['2022/11/07', 235.55, 237.66, 238.05, 231.84],
    ['2022/11/08', 240.13, 245.49, 246.73, 237.54],
    ['2022/11/09', 243.68, 236.29, 244.09, 236.23],
    ['2022/11/10', 249.5, 263.24, 263.62, 247.78],
    ['2022/11/11', 263.05, 270.03, 275.85, 261.66],
    ['2022/11/14', 267.27, 264.86, 270.18, 264.62],
    ['2022/11/15', 270.54, 271.34, 274.7, 269.29],
    ['2022/11/16', 271.11, 266.68, 272.3, 264.28],
    ['2022/11/17', 262.03, 264.99, 265.38, 256.9],
    ['2022/11/18', 270.4, 268.57, 272.81, 265.28],
    ['2022/11/21', 267.14, 267.15, 270.83, 263.76],
    ['2022/11/22', 268.69, 266.41, 269.61, 266.23],
    ['2022/11/23', 267.38, 266.49, 270.42, 265.15],
    ['2022/11/25', 267.61, 267.44, 268.55, 264.79],
    ['2022/11/28', 264.94, 260.02, 266.02, 257.27],
    ['2022/11/29', 258.45, 260.83, 262.0, 257.48],
    ['2022/11/30', 258.6, 260.43, 260.52, 250.77],
    ['2022/12/01', 266.67, 268.36, 272.69, 263.61],
    ['2022/12/02', 261.86, 266.09, 268.51, 261.86],
    ['2022/12/05', 263.98, 260.01, 263.98, 255.25],
    ['2022/12/06', 261.25, 256.02, 261.57, 251.14],
    ['2022/12/07', 256.76, 258.29, 259.92, 255.51],
    ['2022/12/08', 258.22, 260.22, 262.43, 258.22],
    ['2022/12/09', 259.6, 257.59, 261.52, 257.59],
    ['2022/12/12', 257.28, 260.06, 261.57, 252.95],
    ['2022/12/13', 272.39, 266.15, 273.25, 263.4],
    ['2022/12/14', 264.78, 258.75, 264.78, 256.97],
    ['2022/12/15', 255.0, 248.64, 255.0, 245.07],
    ['2022/12/16', 247.33, 246.5, 251.27, 245.98],
    ['2022/12/19', 245.45, 244.88, 251.99, 243.35],
    ['2022/12/20', 243.7, 244.39, 245.69, 240.54],
    ['2022/12/21', 245.34, 247.22, 248.34, 243.76],
    ['2022/12/22', 243.42, 241.57, 244.7, 238.18],
    ['2022/12/23', 240.47, 243.07, 243.87, 239.12],
    ['2022/12/27', 242.78, 242.93, 245.99, 241.84],
    ['2022/12/28', 243.9, 239.49, 246.16, 239.2],
    ['2022/12/29', 240.57, 242.07, 245.62, 240.57],
    ['2022/12/30', 240.14, 239.23, 240.78, 235.82],
    ['2023/01/03', 243.69, 241.32, 244.22, 238.33],
    ['2023/01/04', 244.95, 242.31, 246.45, 239.41],
    ['2023/01/05', 238.75, 234.75, 241.04, 233.23],
    ['2023/01/06', 236.29, 243.21, 244.39, 236.29],
    ['2023/01/09', 245.02, 245.18, 249.26, 240.64],
    ['2023/01/10', 243.27, 248.36, 249.13, 243.27],
    ['2023/01/11', 249.72, 254.24, 255.23, 249.72],
    ['2023/01/12', 254.97, 252.61, 256.74, 250.57],
    ['2023/01/13', 251.75, 253.08, 253.36, 250.24],
    ['2023/01/17', 253.03, 252.72, 254.38, 251.56],
    ['2023/01/18', 253.68, 242.0, 254.65, 241.89],
    ['2023/01/19', 238.92, 233.14, 241.57, 232.98],
    ['2023/01/20', 234.78, 239.66, 239.66, 232.44],
    ['2023/01/23', 240.95, 244.68, 245.16, 239.47],
    ['2023/01/24', 244.59, 249.5, 251.51, 243.15],
    ['2023/01/25', 247.26, 247.73, 250.67, 245.46],
    ['2023/01/26', 248.92, 248.24, 250.85, 245.5],
    ['2023/01/27', 247.73, 249.14, 251.68, 246.68],
    ['2023/01/30', 247.57, 245.17, 251.05, 243.47],
    ['2023/01/31', 266.97, 260.62, 268.84, 244.01],
    ['2023/02/01', 256.49, 268.16, 269.38, 255.16],
    ['2023/02/02', 270.2, 278.78, 278.84, 269.07],
    ['2023/02/03', 274.23, 274.79, 278.72, 273.43],
    ['2023/02/06', 270.66, 268.41, 271.18, 266.46],
    ['2023/02/07', 265.46, 263.35, 266.16, 259.12],
    ['2023/02/08', 260.96, 263.08, 265.64, 260.96],
    ['2023/02/09', 266.02, 262.67, 269.27, 261.93],
    ['2023/02/10', 261.59, 259.68, 264.46, 258.29],
    ['2023/02/13', 260.91, 265.77, 266.94, 260.51],
    ['2023/02/14', 264.14, 264.37, 266.72, 261.53],
    ['2023/02/15', 262.4, 266.06, 266.63, 261.15],
    ['2023/02/16', 261.43, 266.85, 269.75, 261.37],
    ['2023/02/17', 265.74, 269.37, 269.62, 261.95],
    ['2023/02/21', 265.81, 254.3, 267.04, 254.01],
    ['2023/02/22', 256.36, 253.67, 258.89, 251.43],
    ['2023/02/23', 253.83, 254.8, 256.68, 250.84],
    ['2023/02/24', 251.22, 251.12, 253.19, 248.43],
    ['2023/02/27', 254.31, 253.03, 258.1, 251.85],
    ['2023/02/28', 252.6, 254.83, 256.98, 252.33],
    ['2023/03/01', 253.15, 252.23, 256.03, 251.79],
    ['2023/03/02', 249.84, 255.49, 255.49, 249.56],
    ['2023/03/03', 258.07, 262.34, 262.77, 255.62],
    ['2023/03/06', 262.08, 259.88, 264.4, 259.33],
    ['2023/03/07', 260.26, 257.07, 263.23, 255.95],
    ['2023/03/08', 257.87, 257.93, 258.41, 254.46],
    ['2023/03/09', 259.29, 251.2, 259.29, 250.33],
    ['2023/03/10', 251.14, 245.29, 252.41, 242.52],
    ['2023/03/13', 242.11, 244.1, 246.26, 240.0],
    ['2023/03/14', 249.49, 247.75, 251.98, 244.47],
    ['2023/03/15', 244.09, 241.95, 244.95, 236.51],
    ['2023/03/16', 240.12, 245.35, 249.06, 237.87],
    ['2023/03/17', 243.42, 243.99, 244.45, 240.66],
    ['2023/03/20', 245.71, 249.49, 251.11, 243.45],
    ['2023/03/21', 252.44, 249.38, 253.75, 246.54],
    ['2023/03/22', 249.78, 244.94, 253.81, 244.71],
    ['2023/03/23', 246.25, 245.97, 253.69, 244.53],
    ['2023/03/24', 243.01, 244.15, 244.4, 238.9],
    ['2023/03/27', 247.36, 242.83, 247.36, 242.51],
    ['2023/03/28', 242.86, 244.29, 246.34, 242.35],
    ['2023/03/29', 247.22, 245.21, 248.78, 243.19],
    ['2023/03/30', 246.35, 245.32, 247.18, 243.87],
    ['2023/03/31', 247.5, 251.28, 251.88, 247.4],
    ['2023/04/03', 250.33, 247.32, 251.57, 245.5],
    ['2023/04/04', 247.25, 237.66, 248.52, 236.06],
    ['2023/04/05', 237.57, 235.47, 240.51, 233.09],
    ['2023/04/06', 235.35, 235.18, 236.41, 232.0],
    ['2023/04/10', 232.16, 236.94, 237.73, 232.16],
    ['2023/04/11', 238.51, 242.82, 244.26, 238.51],
    ['2023/04/12', 246.56, 247.1, 248.88, 245.41],
    ['2023/04/13', 248.56, 251.23, 251.74, 243.67],
    ['2023/04/14', 251.87, 249.28, 255.17, 246.22],
    ['2023/04/17', 250.09, 250.49, 253.26, 248.05],
    ['2023/04/18', 253.48, 254.43, 254.99, 250.95],
    ['2023/04/19', 254.25, 258.86, 258.9, 253.58],
    ['2023/04/20', 257.8, 263.53, 265.29, 257.32],
    ['2023/04/21', 264.69, 262.61, 266.03, 259.84],
    ['2023/04/24', 260.0, 260.98, 263.97, 258.08],
    ['2023/04/25', 260.87, 258.98, 263.62, 258.96],
    ['2023/04/26', 258.11, 257.07, 261.15, 256.74],
    ['2023/04/27', 269.64, 280.2, 280.91, 264.88],
    ['2023/04/28', 280.89, 281.91, 284.95, 275.63],
    ['2023/05/01', 280.98, 282.43, 285.22, 279.82],
    ['2023/05/02', 282.57, 281.61, 282.57, 277.18],
    ['2023/05/03', 283.15, 283.27, 286.87, 282.31],
    ['2023/05/04', 284.78, 278.74, 284.81, 277.38],
    ['2023/05/05', 280.0, 282.56, 284.89, 279.61],
    ['2023/05/08', 283.79, 281.95, 283.79, 279.21],
    ['2023/05/09', 280.83, 281.51, 284.51, 279.98],
    ['2023/05/10', 284.29, 288.09, 288.92, 279.88],
    ['2023/05/11', 286.57, 289.42, 290.6, 285.42],
    ['2023/05/12', 289.71, 288.91, 291.8, 283.91],
    ['2023/05/15', 288.01, 286.48, 288.92, 283.76],
    ['2023/05/16', 283.58, 280.91, 284.65, 279.86],
    ['2023/05/17', 281.43, 286.67, 288.39, 280.55],
    ['2023/05/18', 285.84, 292.48, 293.09, 284.88],
    ['2023/05/19', 293.98, 288.05, 294.73, 285.71],
    ['2023/05/22', 287.25, 280.91, 288.45, 279.95],
    ['2023/05/23', 278.56, 275.42, 279.0, 273.94],
    ['2023/05/24', 274.0, 273.93, 275.89, 271.51],
    ['2023/05/25', 275.61, 276.41, 278.17, 272.73],
    ['2023/05/26', 276.49, 280.54, 282.0, 276.14],
    ['2023/05/30', 281.39, 280.97, 282.51, 277.91],
    ['2023/05/31', 279.36, 275.51, 280.91, 275.46],
    ['2023/06/01', 275.58, 282.98, 283.17, 273.83],
    ['2023/06/02', 286.0, 298.23, 299.25, 284.62],
    ['2023/06/05', 297.6, 294.69, 297.8, 294.11],
    ['2023/06/06', 300.57, 299.74, 303.44, 295.05],
    ['2023/06/07', 298.79, 307.82, 309.57, 298.62],
    ['2023/06/08', 305.53, 304.98, 307.34, 303.7],
    ['2023/06/09', 306.19, 303.38, 306.19, 298.58],
    ['2023/06/12', 303.74, 305.06, 307.2, 301.27],
    ['2023/06/13', 305.61, 309.81, 311.51, 304.43],
    ['2023/06/14', 309.81, 306.64, 310.99, 304.42],
    ['2023/06/15', 305.78, 308.74, 309.94, 304.36],
    ['2023/06/16', 310.54, 311.04, 312.62, 308.45],
    ['2023/06/20', 309.08, 312.17, 314.04, 309.08],
    ['2023/06/21', 312.8, 313.56, 314.54, 310.43],
    ['2023/06/22', 314.18, 312.99, 315.25, 310.21],
    ['2023/06/23', 310.02, 311.71, 314.76, 309.89],
    ['2023/06/26', 312.07, 314.98, 316.1, 312.07],
    ['2023/06/27', 317.41, 322.7, 324.24, 315.71],
    ['2023/06/28', 321.33, 321.44, 322.9, 320.74],
    ['2023/06/29', 320.28, 322.99, 323.52, 317.88],
    ['2023/06/30', 325.13, 326.07, 328.77, 323.57],
    ['2023/07/03', 324.79, 327.05, 327.98, 323.36],
    ['2023/07/05', 324.26, 321.64, 324.79, 319.96],
    ['2023/07/06', 319.32, 318.4, 319.54, 314.11],
    ['2023/07/07', 317.68, 320.08, 323.7, 316.59],
    ['2023/07/10', 320.36, 324.64, 326.79, 318.1],
    ['2023/07/11', 326.15, 327.17, 329.01, 326.15],
    ['2023/07/12', 332.0, 334.3, 337.45, 328.08],
    ['2023/07/13', 334.29, 337.33, 337.39, 332.14],
    ['2023/07/14', 337.29, 336.13, 337.73, 333.75],
    ['2023/07/17', 336.83, 340.46, 342.18, 334.39],
    ['2023/07/18', 338.36, 339.34, 342.86, 338.36],
    ['2023/07/19', 338.27, 334.25, 339.52, 332.06],
    ['2023/07/20', 335.31, 332.01, 336.65, 330.67],
    ['2023/07/21', 332.55, 330.96, 334.19, 328.94],
    ['2023/07/24', 332.54, 331.91, 337.35, 330.22],
    ['2023/07/25', 329.83, 333.53, 335.43, 329.48],
    ['2023/07/26', 333.1, 335.99, 336.26, 331.6],
    ['2023/07/27', 351.64, 356.46, 357.34, 340.77],
    ['2023/07/28', 360.75, 363.36, 370.28, 360.06],
    ['2023/07/31', 364.87, 367.44, 368.42, 361.87],
    ['2023/08/01', 366.63, 374.98, 375.24, 366.63],
    ['2023/08/02', 373.42, 372.75, 374.62, 366.71],
    ['2023/08/03', 371.83, 373.61, 375.2, 369.48],
    ['2023/08/04', 376.57, 371.91, 379.87, 371.26],
    ['2023/08/07', 373.91, 377.15, 382.41, 373.91],
    ['2023/08/08', 374.4, 377.38, 377.89, 369.0],
    ['2023/08/09', 376.62, 371.87, 376.62, 370.25],
    ['2023/08/10', 374.0, 371.72, 376.47, 369.07],
    ['2023/08/11', 371.53, 371.01, 374.64, 370.88],
]);
var volumes = [
    372600.0,
    309300.0,
    411300.0,
    192000.0,
    288500.0,
    179800.0,
    210900.0,
    238600.0,
    210400.0,
    227600.0,
    220800.0,
    304200.0,
    334800.0,
    431300.0,
    226000.0,
    340800.0,
    319800.0,
    285500.0,
    357000.0,
    406000.0,
    454600.0,
    369200.0,
    322200.0,
    636400.0,
    292800.0,
    515900.0,
    462400.0,
    513800.0,
    421600.0,
    511100.0,
    235300.0,
    433100.0,
    365400.0,
    369400.0,
    355500.0,
    474100.0,
    184900.0,
    311600.0,
    256500.0,
    223500.0,
    329300.0,
    279500.0,
    1175400.0,
    354700.0,
    254500.0,
    273700.0,
    434700.0,
    402500.0,
    340900.0,
    331400.0,
    297900.0,
    479400.0,
    681100.0,
    223300.0,
    326300.0,
    339100.0,
    347600.0,
    283000.0,
    299700.0,
    223500.0,
    323300.0,
    304300.0,
    501800.0,
    503400.0,
    266700.0,
    230800.0,
    280900.0,
    342800.0,
    331400.0,
    247600.0,
    214800.0,
    203000.0,
    51200.0,
    235600.0,
    178600.0,
    723600.0,
    484600.0,
    213200.0,
    258900.0,
    324500.0,
    191600.0,
    199200.0,
    170100.0,
    336900.0,
    365700.0,
    516700.0,
    644400.0,
    633000.0,
    287800.0,
    351600.0,
    223500.0,
    204300.0,
    157200.0,
    134400.0,
    170700.0,
    164600.0,
    190700.0,
    288400.0,
    304500.0,
    433100.0,
    311800.0,
    430000.0,
    290700.0,
    242900.0,
    225100.0,
    209400.0,
    344500.0,
    402400.0,
    303000.0,
    245700.0,
    300900.0,
    271500.0,
    459000.0,
    256800.0,
    267600.0,
    616000.0,
    735600.0,
    521700.0,
    461700.0,
    331900.0,
    235600.0,
    265700.0,
    233500.0,
    227900.0,
    229700.0,
    184100.0,
    194100.0,
    159700.0,
    284000.0,
    257800.0,
    400800.0,
    187100.0,
    261400.0,
    200800.0,
    185600.0,
    282600.0,
    294400.0,
    142400.0,
    185300.0,
    303600.0,
    270700.0,
    123500.0,
    370900.0,
    296500.0,
    415200.0,
    240800.0,
    435000.0,
    381000.0,
    477200.0,
    343100.0,
    261800.0,
    221900.0,
    398400.0,
    304400.0,
    258100.0,
    287800.0,
    266100.0,
    225900.0,
    288900.0,
    312300.0,
    230800.0,
    348000.0,
    181800.0,
    336800.0,
    388000.0,
    364400.0,
    310800.0,
    333400.0,
    339500.0,
    394500.0,
    300700.0,
    375200.0,
    215400.0,
    310200.0,
    425600.0,
    408100.0,
    925800.0,
    383800.0,
    292800.0,
    264000.0,
    426300.0,
    326100.0,
    183300.0,
    189200.0,
    183000.0,
    367800.0,
    468100.0,
    365800.0,
    382900.0,
    365300.0,
    275800.0,
    235100.0,
    272100.0,
    414500.0,
    337100.0,
    330500.0,
    333600.0,
    281100.0,
    261400.0,
    520100.0,
    414600.0,
    454200.0,
    284200.0,
    432400.0,
    320900.0,
    359800.0,
    316400.0,
    280700.0,
    336800.0,
    347200.0,
    328200.0,
    379400.0,
    219600.0,
    318900.0,
    210100.0,
    339400.0,
    193400.0,
    333500.0,
    250700.0,
    193800.0,
    231300.0,
    98300.0,
    235400.0,
    224400.0,
    284100.0,
    249900.0,
    125700.0,
    288700.0,
    236800.0,
    213000.0,
    257600.0,
    169900.0,
    496600.0,
    304100.0,
    270400.0,
    217900.0,
    236000.0,
    339700.0,
    759500.0,
    531100.0,
    294000.0,
    369800.0,
    272900.0,
    265700.0,
    320400.0,
    229800.0,
    179700.0,
    190700.0,
    145300.0,
    218800.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "LII",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);