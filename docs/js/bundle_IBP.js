/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_IBP");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/08', 100.8, 101.38, 103.13, 100.63],
    ['2022/08/09', 100.92, 98.05, 101.41, 97.05],
    ['2022/08/10', 101.01, 100.32, 102.85, 99.97],
    ['2022/08/11', 101.22, 102.6, 105.46, 101.22],
    ['2022/08/12', 103.3, 104.8, 104.82, 101.8],
    ['2022/08/15', 104.5, 103.85, 105.79, 102.71],
    ['2022/08/16', 103.73, 105.26, 106.56, 102.04],
    ['2022/08/17', 103.8, 103.97, 105.33, 102.74],
    ['2022/08/18', 103.42, 104.48, 105.57, 103.08],
    ['2022/08/19', 103.65, 100.27, 103.65, 99.71],
    ['2022/08/22', 99.06, 98.2, 100.3, 97.62],
    ['2022/08/23', 98.55, 98.5, 100.15, 97.8],
    ['2022/08/24', 97.08, 98.75, 100.0, 96.89],
    ['2022/08/25', 98.46, 100.24, 101.48, 98.46],
    ['2022/08/26', 101.05, 92.73, 101.05, 91.93],
    ['2022/08/29', 91.84, 93.19, 93.75, 91.84],
    ['2022/08/30', 93.31, 92.3, 94.31, 91.69],
    ['2022/08/31', 92.69, 90.56, 93.64, 89.87],
    ['2022/09/01', 89.18, 88.89, 89.27, 86.45],
    ['2022/09/02', 90.28, 89.42, 90.97, 88.41],
    ['2022/09/06', 89.18, 87.89, 89.97, 87.16],
    ['2022/09/07', 88.28, 91.23, 91.4, 88.28],
    ['2022/09/08', 90.15, 91.22, 91.25, 89.78],
    ['2022/09/09', 91.8, 91.11, 92.0, 90.67],
    ['2022/09/12', 91.7, 92.39, 93.38, 91.7],
    ['2022/09/13', 88.86, 87.65, 89.75, 86.96],
    ['2022/09/14', 87.06, 85.52, 88.46, 84.52],
    ['2022/09/15', 85.17, 83.83, 87.0, 83.43],
    ['2022/09/16', 82.77, 85.4, 85.6, 82.65],
    ['2022/09/19', 85.16, 86.22, 86.63, 84.76],
    ['2022/09/20', 85.08, 84.03, 85.08, 82.89],
    ['2022/09/21', 84.94, 83.89, 86.82, 83.69],
    ['2022/09/22', 82.88, 79.7, 83.28, 78.5],
    ['2022/09/23', 78.6, 79.19, 80.33, 77.7],
    ['2022/09/26', 78.93, 76.5, 80.39, 76.42],
    ['2022/09/27', 78.04, 78.92, 79.04, 76.65],
    ['2022/09/28', 80.24, 83.78, 84.23, 79.52],
    ['2022/09/29', 82.17, 81.54, 82.62, 80.81],
    ['2022/09/30', 81.27, 80.99, 83.59, 80.53],
    ['2022/10/03', 83.08, 84.94, 85.65, 82.38],
    ['2022/10/04', 87.27, 90.04, 90.52, 87.27],
    ['2022/10/05', 88.08, 88.7, 89.68, 86.58],
    ['2022/10/06', 88.61, 89.58, 89.91, 87.46],
    ['2022/10/07', 87.95, 86.4, 87.95, 85.6],
    ['2022/10/10', 86.95, 86.09, 87.58, 85.14],
    ['2022/10/11', 85.86, 86.72, 88.12, 84.57],
    ['2022/10/12', 86.55, 84.04, 86.55, 83.4],
    ['2022/10/13', 81.74, 83.6, 84.64, 79.14],
    ['2022/10/14', 84.39, 79.32, 84.92, 79.26],
    ['2022/10/17', 81.52, 82.17, 83.36, 80.75],
    ['2022/10/18', 84.3, 85.31, 85.93, 83.5],
    ['2022/10/19', 83.7, 79.69, 83.7, 78.92],
    ['2022/10/20', 79.27, 78.06, 81.92, 77.96],
    ['2022/10/21', 78.66, 81.75, 82.05, 78.49],
    ['2022/10/24', 82.23, 80.61, 82.32, 79.86],
    ['2022/10/25', 81.24, 86.03, 86.94, 81.24],
    ['2022/10/26', 86.25, 84.26, 86.99, 83.96],
    ['2022/10/27', 85.33, 84.41, 86.91, 83.84],
    ['2022/10/28', 84.15, 87.04, 87.17, 82.51],
    ['2022/10/31', 85.85, 86.0, 86.75, 84.88],
    ['2022/11/01', 88.25, 82.76, 88.25, 81.11],
    ['2022/11/02', 82.98, 79.08, 83.64, 78.38],
    ['2022/11/03', 77.0, 77.24, 78.48, 74.69],
    ['2022/11/04', 78.85, 80.34, 80.55, 77.34],
    ['2022/11/07', 80.64, 79.18, 80.85, 77.44],
    ['2022/11/08', 79.53, 78.21, 80.33, 77.35],
    ['2022/11/09', 76.98, 77.94, 79.92, 76.98],
    ['2022/11/10', 84.14, 84.48, 89.68, 83.55],
    ['2022/11/11', 84.89, 84.65, 86.74, 82.38],
    ['2022/11/14', 83.91, 79.48, 85.28, 79.27],
    ['2022/11/15', 82.78, 82.23, 84.3, 80.52],
    ['2022/11/16', 81.67, 79.39, 81.67, 79.22],
    ['2022/11/17', 77.39, 79.0, 79.04, 76.28],
    ['2022/11/18', 80.82, 78.09, 81.18, 77.59],
    ['2022/11/21', 78.29, 77.33, 78.3, 77.12],
    ['2022/11/22', 78.56, 79.05, 79.33, 77.62],
    ['2022/11/23', 78.51, 80.96, 81.35, 78.33],
    ['2022/11/25', 80.3, 81.59, 82.15, 80.29],
    ['2022/11/28', 80.9, 80.55, 82.22, 79.85],
    ['2022/11/29', 79.91, 82.65, 82.98, 79.82],
    ['2022/11/30', 82.25, 84.93, 85.46, 79.91],
    ['2022/12/01', 85.72, 87.88, 89.13, 85.72],
    ['2022/12/02', 85.79, 87.43, 88.42, 85.79],
    ['2022/12/05', 85.33, 86.02, 86.91, 84.98],
    ['2022/12/06', 87.02, 84.08, 88.76, 83.38],
    ['2022/12/07', 84.34, 86.59, 87.68, 84.34],
    ['2022/12/08', 86.52, 87.58, 89.59, 85.72],
    ['2022/12/09', 86.25, 87.54, 88.92, 86.25],
    ['2022/12/12', 87.47, 88.8, 89.32, 86.28],
    ['2022/12/13', 94.18, 92.09, 95.33, 90.32],
    ['2022/12/14', 90.71, 90.82, 92.0, 90.24],
    ['2022/12/15', 89.38, 92.45, 92.93, 89.23],
    ['2022/12/16', 90.97, 91.81, 92.24, 90.7],
    ['2022/12/19', 91.0, 89.31, 91.23, 88.94],
    ['2022/12/20', 88.49, 87.24, 89.04, 87.05],
    ['2022/12/21', 88.68, 88.31, 89.24, 87.9],
    ['2022/12/22', 87.3, 87.21, 87.49, 85.43],
    ['2022/12/23', 86.92, 87.53, 88.18, 86.41],
    ['2022/12/27', 87.54, 87.17, 90.72, 86.04],
    ['2022/12/28', 87.41, 84.06, 88.47, 84.02],
    ['2022/12/29', 85.11, 87.17, 87.7, 84.38],
    ['2022/12/30', 85.87, 85.6, 86.92, 85.28],
    ['2023/01/03', 87.57, 87.76, 88.52, 86.2],
    ['2023/01/04', 89.45, 90.65, 90.65, 88.7],
    ['2023/01/05', 89.98, 90.1, 91.21, 88.65],
    ['2023/01/06', 91.57, 92.72, 93.12, 90.3],
    ['2023/01/09', 93.51, 93.46, 94.23, 92.85],
    ['2023/01/10', 92.74, 92.74, 93.55, 91.77],
    ['2023/01/11', 95.99, 99.04, 99.04, 95.9],
    ['2023/01/12', 99.75, 99.49, 100.05, 95.51],
    ['2023/01/13', 98.28, 103.6, 103.96, 98.28],
    ['2023/01/17', 102.78, 101.36, 103.88, 100.95],
    ['2023/01/18', 102.12, 103.44, 103.9, 102.12],
    ['2023/01/19', 102.43, 98.37, 102.43, 97.79],
    ['2023/01/20', 99.34, 102.61, 102.61, 98.15],
    ['2023/01/23', 102.34, 103.03, 103.29, 102.07],
    ['2023/01/24', 102.96, 104.58, 104.58, 102.65],
    ['2023/01/25', 102.97, 104.4, 104.85, 102.7],
    ['2023/01/26', 105.46, 108.2, 108.52, 105.14],
    ['2023/01/27', 107.5, 108.15, 108.69, 106.53],
    ['2023/01/30', 106.81, 103.84, 108.16, 103.65],
    ['2023/01/31', 104.48, 110.09, 110.09, 104.48],
    ['2023/02/01', 109.31, 112.26, 113.31, 107.93],
    ['2023/02/02', 113.79, 117.25, 118.26, 113.7],
    ['2023/02/03', 114.23, 115.27, 116.83, 113.79],
    ['2023/02/06', 113.85, 113.44, 114.8, 112.65],
    ['2023/02/07', 112.29, 113.25, 113.79, 110.53],
    ['2023/02/08', 112.01, 110.21, 113.38, 109.8],
    ['2023/02/09', 111.55, 108.94, 112.69, 108.87],
    ['2023/02/10', 107.99, 107.49, 109.27, 107.42],
    ['2023/02/13', 107.78, 111.8, 112.8, 107.78],
    ['2023/02/14', 110.23, 113.09, 113.37, 109.27],
    ['2023/02/15', 111.58, 113.7, 113.89, 110.4],
    ['2023/02/16', 111.2, 111.91, 114.3, 111.19],
    ['2023/02/17', 111.66, 109.76, 111.66, 107.71],
    ['2023/02/21', 106.77, 104.19, 108.11, 103.36],
    ['2023/02/22', 109.04, 111.83, 115.44, 107.27],
    ['2023/02/23', 116.33, 115.31, 116.33, 109.81],
    ['2023/02/24', 113.4, 113.82, 114.94, 111.62],
    ['2023/02/27', 115.66, 116.72, 116.9, 114.24],
    ['2023/02/28', 115.95, 115.38, 117.13, 115.25],
    ['2023/03/01', 115.18, 117.85, 118.22, 114.72],
    ['2023/03/02', 115.75, 117.51, 117.77, 115.03],
    ['2023/03/03', 118.69, 120.83, 121.07, 116.55],
    ['2023/03/06', 121.5, 117.82, 121.6, 116.01],
    ['2023/03/07', 117.86, 114.86, 118.63, 114.7],
    ['2023/03/08', 115.49, 114.44, 115.49, 112.03],
    ['2023/03/09', 114.02, 114.46, 115.94, 113.87],
    ['2023/03/10', 114.42, 109.29, 114.42, 108.07],
    ['2023/03/13', 106.9, 109.44, 110.19, 104.66],
    ['2023/03/14', 111.79, 107.83, 112.03, 106.72],
    ['2023/03/15', 105.57, 105.26, 107.52, 103.49],
    ['2023/03/16', 103.69, 106.33, 107.64, 102.57],
    ['2023/03/17', 106.05, 103.72, 106.52, 103.44],
    ['2023/03/20', 104.5, 105.12, 106.61, 104.5],
    ['2023/03/21', 106.72, 108.72, 109.21, 106.72],
    ['2023/03/22', 108.45, 105.93, 109.22, 105.78],
    ['2023/03/23', 107.2, 105.95, 109.69, 104.74],
    ['2023/03/24', 105.25, 108.95, 109.29, 103.62],
    ['2023/03/27', 110.47, 108.18, 110.49, 107.24],
    ['2023/03/28', 108.11, 109.38, 111.18, 107.8],
    ['2023/03/29', 110.22, 110.76, 111.17, 109.28],
    ['2023/03/30', 111.65, 110.14, 112.4, 109.86],
    ['2023/03/31', 110.34, 114.03, 114.12, 109.81],
    ['2023/04/03', 113.52, 114.0, 114.68, 112.4],
    ['2023/04/04', 114.86, 109.53, 115.16, 108.27],
    ['2023/04/05', 108.6, 107.71, 109.11, 107.4],
    ['2023/04/06', 108.06, 106.87, 108.06, 104.34],
    ['2023/04/10', 106.27, 107.94, 109.17, 105.13],
    ['2023/04/11', 109.17, 111.55, 112.7, 109.14],
    ['2023/04/12', 113.37, 111.31, 114.0, 110.82],
    ['2023/04/13', 112.1, 111.61, 113.1, 110.69],
    ['2023/04/14', 111.44, 111.87, 112.81, 110.54],
    ['2023/04/17', 112.03, 112.78, 113.18, 111.43],
    ['2023/04/18', 114.26, 118.82, 120.25, 113.8],
    ['2023/04/19', 118.8, 119.67, 120.11, 116.82],
    ['2023/04/20', 119.53, 121.82, 125.87, 119.53],
    ['2023/04/21', 122.66, 122.22, 123.38, 121.45],
    ['2023/04/24', 122.05, 123.19, 123.57, 121.76],
    ['2023/04/25', 122.21, 120.59, 123.38, 120.59],
    ['2023/04/26', 120.12, 118.37, 120.95, 118.12],
    ['2023/04/27', 119.25, 121.96, 122.62, 119.25],
    ['2023/04/28', 121.34, 124.27, 124.54, 121.34],
    ['2023/05/01', 123.91, 122.7, 125.71, 122.39],
    ['2023/05/02', 121.68, 121.51, 121.79, 118.79],
    ['2023/05/03', 121.45, 122.66, 125.27, 121.45],
    ['2023/05/04', 120.0, 112.08, 122.44, 110.89],
    ['2023/05/05', 115.0, 117.16, 117.22, 113.83],
    ['2023/05/08', 117.75, 114.07, 117.75, 112.98],
    ['2023/05/09', 113.38, 114.34, 116.59, 112.12],
    ['2023/05/10', 116.35, 113.7, 116.35, 111.3],
    ['2023/05/11', 113.08, 114.53, 114.81, 111.89],
    ['2023/05/12', 114.52, 113.1, 116.39, 112.24],
    ['2023/05/15', 113.32, 114.64, 115.4, 112.47],
    ['2023/05/16', 113.67, 112.97, 113.73, 111.48],
    ['2023/05/17', 113.59, 114.07, 115.01, 112.47],
    ['2023/05/18', 113.54, 114.61, 114.95, 112.81],
    ['2023/05/19', 115.54, 111.37, 115.54, 111.29],
    ['2023/05/22', 111.35, 109.91, 113.0, 109.78],
    ['2023/05/23', 109.29, 108.14, 110.29, 107.37],
    ['2023/05/24', 107.54, 107.36, 108.23, 106.59],
    ['2023/05/25', 107.77, 107.05, 109.9, 106.81],
    ['2023/05/26', 107.03, 106.98, 107.62, 105.55],
    ['2023/05/30', 107.83, 106.81, 109.01, 106.13],
    ['2023/05/31', 106.23, 104.54, 108.0, 103.51],
    ['2023/06/01', 104.78, 106.43, 106.71, 103.53],
    ['2023/06/02', 107.78, 113.8, 114.39, 107.45],
    ['2023/06/05', 111.58, 112.05, 113.03, 109.96],
    ['2023/06/06', 112.05, 117.16, 117.42, 111.62],
    ['2023/06/07', 117.77, 120.12, 121.61, 117.77],
    ['2023/06/08', 119.63, 118.83, 122.63, 118.26],
    ['2023/06/09', 119.08, 116.52, 119.18, 116.21],
    ['2023/06/12', 116.73, 120.8, 121.24, 115.59],
    ['2023/06/13', 120.78, 120.83, 123.35, 120.36],
    ['2023/06/14', 121.02, 119.73, 122.48, 117.94],
    ['2023/06/15', 120.32, 127.12, 127.31, 120.15],
    ['2023/06/16', 129.11, 126.76, 129.11, 124.82],
    ['2023/06/20', 127.11, 127.83, 129.71, 126.76],
    ['2023/06/21', 127.1, 129.32, 130.89, 127.0],
    ['2023/06/22', 128.93, 129.22, 130.5, 126.74],
    ['2023/06/23', 127.78, 132.74, 134.18, 127.78],
    ['2023/06/26', 133.07, 133.02, 135.77, 132.51],
    ['2023/06/27', 132.85, 135.57, 136.58, 132.85],
    ['2023/06/28', 135.53, 134.09, 136.53, 133.1],
    ['2023/06/29', 133.8, 138.84, 139.42, 133.13],
    ['2023/06/30', 140.8, 140.16, 141.15, 138.54],
    ['2023/07/03', 139.42, 138.28, 140.68, 136.44],
    ['2023/07/05', 138.44, 137.05, 138.44, 134.56],
    ['2023/07/06', 134.95, 134.54, 136.15, 133.04],
    ['2023/07/07', 134.98, 135.11, 137.77, 134.31],
    ['2023/07/10', 134.28, 138.32, 138.66, 134.28],
    ['2023/07/11', 138.98, 139.71, 140.33, 138.6],
    ['2023/07/12', 142.65, 145.51, 146.88, 141.55],
    ['2023/07/13', 146.42, 146.44, 147.55, 143.91],
    ['2023/07/14', 146.31, 145.9, 146.79, 143.34],
    ['2023/07/17', 144.8, 146.24, 147.65, 144.55],
    ['2023/07/18', 146.25, 147.1, 148.72, 144.85],
    ['2023/07/19', 146.27, 148.29, 148.9, 146.13],
    ['2023/07/20', 149.14, 145.39, 149.92, 142.61],
    ['2023/07/21', 146.72, 144.07, 146.72, 144.05],
    ['2023/07/24', 143.69, 145.01, 146.95, 143.69],
    ['2023/07/25', 143.91, 147.42, 148.03, 143.34],
    ['2023/07/26', 146.7, 149.08, 149.44, 146.1],
    ['2023/07/27', 150.0, 146.17, 150.88, 145.16],
    ['2023/07/28', 147.94, 148.39, 150.46, 147.82],
    ['2023/07/31', 149.08, 148.02, 150.16, 146.68],
    ['2023/08/01', 148.92, 148.73, 150.56, 147.91],
    ['2023/08/02', 151.52, 151.78, 154.04, 149.16],
    ['2023/08/03', 150.83, 150.18, 152.43, 147.15],
    ['2023/08/04', 150.53, 154.12, 156.27, 150.41],
]);
var volumes = [
    140000.0,
    152700.0,
    185100.0,
    146500.0,
    83300.0,
    81000.0,
    178100.0,
    66800.0,
    73100.0,
    106200.0,
    120800.0,
    71600.0,
    62000.0,
    86600.0,
    156400.0,
    90200.0,
    139600.0,
    178200.0,
    208900.0,
    139100.0,
    142600.0,
    165600.0,
    66600.0,
    123400.0,
    78000.0,
    137900.0,
    159800.0,
    123600.0,
    267900.0,
    109400.0,
    103000.0,
    119300.0,
    198000.0,
    148700.0,
    138300.0,
    267400.0,
    379900.0,
    180800.0,
    201500.0,
    183700.0,
    174100.0,
    157900.0,
    81200.0,
    127100.0,
    97200.0,
    141100.0,
    124300.0,
    83000.0,
    98100.0,
    97700.0,
    101600.0,
    107400.0,
    124200.0,
    145800.0,
    282400.0,
    202700.0,
    135200.0,
    140000.0,
    201500.0,
    103000.0,
    343700.0,
    227700.0,
    275900.0,
    198000.0,
    176800.0,
    146300.0,
    152500.0,
    382200.0,
    190400.0,
    184300.0,
    333900.0,
    108100.0,
    135800.0,
    96700.0,
    110200.0,
    121300.0,
    164700.0,
    83900.0,
    195100.0,
    160000.0,
    274000.0,
    244800.0,
    229200.0,
    162000.0,
    164100.0,
    205200.0,
    235200.0,
    198100.0,
    152600.0,
    256000.0,
    265100.0,
    248000.0,
    609900.0,
    333100.0,
    240500.0,
    138300.0,
    120300.0,
    119400.0,
    89600.0,
    101000.0,
    143900.0,
    83400.0,
    158300.0,
    339900.0,
    162300.0,
    155700.0,
    145900.0,
    133500.0,
    508300.0,
    382300.0,
    211400.0,
    181400.0,
    223600.0,
    233200.0,
    227700.0,
    135500.0,
    170700.0,
    125200.0,
    259300.0,
    105200.0,
    135900.0,
    173200.0,
    134000.0,
    303900.0,
    232700.0,
    163400.0,
    206300.0,
    131900.0,
    115100.0,
    112300.0,
    196800.0,
    193500.0,
    188400.0,
    200600.0,
    264700.0,
    354700.0,
    592500.0,
    285900.0,
    278900.0,
    192300.0,
    302400.0,
    386200.0,
    265200.0,
    322700.0,
    219200.0,
    313700.0,
    374300.0,
    363800.0,
    222700.0,
    412700.0,
    411100.0,
    221700.0,
    309600.0,
    693400.0,
    170600.0,
    223700.0,
    163400.0,
    244600.0,
    391600.0,
    228600.0,
    235100.0,
    209500.0,
    97700.0,
    176300.0,
    197800.0,
    269600.0,
    172500.0,
    186200.0,
    161700.0,
    162400.0,
    208800.0,
    240800.0,
    115900.0,
    101300.0,
    458700.0,
    239800.0,
    329500.0,
    203600.0,
    168500.0,
    189200.0,
    201800.0,
    180800.0,
    285600.0,
    171700.0,
    165500.0,
    252800.0,
    512800.0,
    312600.0,
    223100.0,
    251600.0,
    155100.0,
    155500.0,
    150300.0,
    99200.0,
    147100.0,
    165300.0,
    144000.0,
    145500.0,
    120500.0,
    190400.0,
    149000.0,
    99200.0,
    108200.0,
    116500.0,
    165700.0,
    122000.0,
    261900.0,
    144500.0,
    115500.0,
    235500.0,
    198200.0,
    223200.0,
    182000.0,
    220400.0,
    246300.0,
    304200.0,
    583400.0,
    181200.0,
    163300.0,
    182900.0,
    659800.0,
    320300.0,
    213300.0,
    167900.0,
    257700.0,
    202100.0,
    74900.0,
    186900.0,
    190900.0,
    180500.0,
    163500.0,
    138500.0,
    174100.0,
    152900.0,
    244000.0,
    95700.0,
    168000.0,
    206700.0,
    192600.0,
    150300.0,
    172400.0,
    174100.0,
    155300.0,
    233900.0,
    181300.0,
    153900.0,
    218000.0,
    356000.0,
    347500.0,
    232700.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "IBP",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);