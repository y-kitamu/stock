/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_ELF");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/09', 37.08, 36.55, 37.18, 36.28],
    ['2022/08/10', 37.28, 36.48, 37.33, 35.87],
    ['2022/08/11', 36.74, 36.41, 37.04, 36.29],
    ['2022/08/12', 36.03, 36.7, 36.77, 35.88],
    ['2022/08/15', 36.42, 37.93, 37.93, 36.42],
    ['2022/08/16', 37.68, 37.68, 37.99, 37.38],
    ['2022/08/17', 37.5, 37.61, 37.91, 37.29],
    ['2022/08/18', 37.36, 38.42, 38.45, 37.32],
    ['2022/08/19', 38.13, 37.91, 38.13, 37.48],
    ['2022/08/22', 37.45, 37.5, 37.83, 37.2],
    ['2022/08/23', 37.54, 37.47, 37.83, 37.33],
    ['2022/08/24', 37.52, 38.1, 38.52, 37.44],
    ['2022/08/25', 38.11, 38.41, 38.91, 37.95],
    ['2022/08/26', 38.48, 36.98, 38.79, 36.75],
    ['2022/08/29', 36.38, 36.92, 37.31, 36.12],
    ['2022/08/30', 36.99, 37.9, 37.93, 36.68],
    ['2022/08/31', 37.96, 38.13, 38.9, 37.65],
    ['2022/09/01', 37.95, 38.44, 38.49, 37.18],
    ['2022/09/02', 38.84, 38.32, 39.21, 38.04],
    ['2022/09/06', 38.45, 37.99, 38.73, 37.23],
    ['2022/09/07', 38.08, 39.03, 39.15, 37.3],
    ['2022/09/08', 38.69, 38.95, 39.5, 38.45],
    ['2022/09/09', 38.97, 38.88, 39.4, 38.67],
    ['2022/09/12', 38.85, 38.98, 39.29, 38.71],
    ['2022/09/13', 38.11, 38.2, 38.72, 37.85],
    ['2022/09/14', 38.48, 40.48, 40.5, 38.04],
    ['2022/09/15', 40.65, 40.4, 40.89, 39.48],
    ['2022/09/16', 40.1, 39.37, 40.1, 38.95],
    ['2022/09/19', 39.1, 39.51, 39.85, 39.07],
    ['2022/09/20', 39.22, 39.52, 39.69, 39.03],
    ['2022/09/21', 40.47, 39.82, 41.31, 39.74],
    ['2022/09/22', 40.11, 39.41, 40.11, 39.05],
    ['2022/09/23', 38.82, 38.66, 39.2, 37.84],
    ['2022/09/26', 38.51, 38.75, 39.76, 38.3],
    ['2022/09/27', 39.27, 37.5, 39.63, 37.44],
    ['2022/09/28', 37.68, 38.28, 38.55, 37.24],
    ['2022/09/29', 37.88, 37.55, 37.88, 37.06],
    ['2022/09/30', 37.34, 37.62, 38.7, 36.77],
    ['2022/10/03', 38.01, 38.59, 38.82, 37.33],
    ['2022/10/04', 39.31, 39.68, 40.08, 38.96],
    ['2022/10/05', 39.22, 39.03, 39.28, 37.97],
    ['2022/10/06', 38.87, 38.7, 39.43, 38.68],
    ['2022/10/07', 38.5, 38.27, 38.62, 38.06],
    ['2022/10/10', 38.13, 37.49, 38.2, 37.31],
    ['2022/10/11', 39.0, 39.74, 40.92, 38.81],
    ['2022/10/12', 39.81, 40.08, 40.56, 39.32],
    ['2022/10/13', 39.32, 39.81, 40.35, 38.77],
    ['2022/10/14', 40.21, 39.38, 40.5, 39.25],
    ['2022/10/17', 40.09, 41.5, 41.91, 40.01],
    ['2022/10/18', 42.24, 41.85, 43.35, 41.8],
    ['2022/10/19', 41.68, 40.17, 41.77, 40.09],
    ['2022/10/20', 40.06, 40.08, 40.97, 39.86],
    ['2022/10/21', 40.56, 41.56, 41.56, 40.07],
    ['2022/10/24', 41.58, 41.66, 41.82, 40.65],
    ['2022/10/25', 42.05, 43.36, 43.84, 42.05],
    ['2022/10/26', 43.09, 42.17, 43.76, 42.13],
    ['2022/10/27', 42.29, 42.95, 43.55, 42.16],
    ['2022/10/28', 42.88, 43.82, 43.86, 42.6],
    ['2022/10/31', 43.82, 43.26, 44.07, 43.14],
    ['2022/11/01', 43.55, 43.7, 44.23, 42.93],
    ['2022/11/02', 42.5, 41.66, 43.64, 41.52],
    ['2022/11/03', 45.31, 48.09, 48.44, 44.28],
    ['2022/11/04', 49.21, 48.64, 49.99, 47.24],
    ['2022/11/07', 48.81, 50.12, 50.18, 48.45],
    ['2022/11/08', 50.26, 50.49, 51.15, 49.71],
    ['2022/11/09', 50.38, 49.75, 50.47, 49.43],
    ['2022/11/10', 51.22, 51.57, 52.01, 50.66],
    ['2022/11/11', 51.73, 49.59, 52.05, 49.37],
    ['2022/11/14', 49.65, 50.17, 50.99, 49.02],
    ['2022/11/15', 51.03, 51.75, 52.63, 50.93],
    ['2022/11/16', 52.43, 52.92, 53.35, 51.6],
    ['2022/11/17', 52.75, 52.71, 53.68, 52.24],
    ['2022/11/18', 53.55, 54.91, 55.43, 53.0],
    ['2022/11/21', 55.09, 54.42, 55.71, 54.04],
    ['2022/11/22', 54.68, 54.3, 55.04, 52.8],
    ['2022/11/23', 54.46, 54.92, 55.88, 54.22],
    ['2022/11/25', 54.75, 55.51, 55.7, 54.52],
    ['2022/11/28', 55.37, 55.48, 56.92, 55.22],
    ['2022/11/29', 55.29, 53.68, 55.49, 53.54],
    ['2022/11/30', 53.67, 54.96, 55.28, 53.38],
    ['2022/12/01', 54.88, 55.4, 55.9, 54.51],
    ['2022/12/02', 55.05, 55.26, 55.57, 54.7],
    ['2022/12/05', 54.57, 53.93, 55.05, 53.68],
    ['2022/12/06', 54.03, 54.81, 55.66, 53.98],
    ['2022/12/07', 54.58, 54.5, 54.95, 54.1],
    ['2022/12/08', 54.92, 55.07, 55.64, 54.42],
    ['2022/12/09', 54.64, 53.82, 55.02, 53.78],
    ['2022/12/12', 53.83, 54.59, 54.67, 52.37],
    ['2022/12/13', 56.1, 55.81, 56.62, 54.75],
    ['2022/12/14', 55.81, 56.31, 56.79, 55.19],
    ['2022/12/15', 55.41, 55.5, 56.09, 55.14],
    ['2022/12/16', 54.86, 54.95, 55.68, 54.21],
    ['2022/12/19', 54.99, 52.97, 55.16, 52.88],
    ['2022/12/20', 52.8, 53.78, 53.9, 52.34],
    ['2022/12/21', 54.43, 54.64, 55.13, 54.16],
    ['2022/12/22', 54.13, 55.02, 55.32, 53.76],
    ['2022/12/23', 54.85, 54.48, 54.93, 54.2],
    ['2022/12/27', 54.48, 55.48, 55.95, 54.33],
    ['2022/12/28', 55.38, 55.59, 55.66, 54.75],
    ['2022/12/29', 56.0, 55.68, 56.52, 55.01],
    ['2022/12/30', 55.32, 55.3, 55.46, 54.57],
    ['2023/01/03', 56.17, 55.34, 56.96, 54.9],
    ['2023/01/04', 55.06, 55.97, 57.0, 55.06],
    ['2023/01/05', 55.86, 55.61, 56.46, 55.0],
    ['2023/01/06', 56.04, 58.05, 58.76, 55.9],
    ['2023/01/09', 57.95, 55.76, 58.49, 55.6],
    ['2023/01/10', 55.5, 51.15, 55.69, 51.05],
    ['2023/01/11', 51.01, 49.2, 51.29, 48.46],
    ['2023/01/12', 49.24, 49.99, 50.62, 48.1],
    ['2023/01/13', 50.59, 52.75, 53.25, 50.21],
    ['2023/01/17', 52.66, 53.62, 54.1, 52.55],
    ['2023/01/18', 54.11, 53.64, 54.7, 53.0],
    ['2023/01/19', 53.63, 52.66, 54.3, 52.56],
    ['2023/01/20', 53.14, 54.17, 54.17, 52.63],
    ['2023/01/23', 54.09, 54.0, 54.92, 53.67],
    ['2023/01/24', 53.43, 55.15, 55.47, 52.87],
    ['2023/01/25', 54.75, 56.3, 56.35, 54.75],
    ['2023/01/26', 56.86, 57.91, 57.93, 56.65],
    ['2023/01/27', 57.88, 56.66, 58.21, 56.48],
    ['2023/01/30', 56.75, 57.08, 58.14, 56.69],
    ['2023/01/31', 57.27, 57.55, 58.15, 56.66],
    ['2023/02/01', 57.39, 58.51, 58.58, 56.5],
    ['2023/02/02', 69.26, 67.29, 69.3, 62.35],
    ['2023/02/03', 67.25, 69.74, 71.62, 67.0],
    ['2023/02/06', 69.54, 68.67, 70.55, 67.4],
    ['2023/02/07', 68.45, 72.03, 72.2, 68.45],
    ['2023/02/08', 71.81, 71.57, 72.15, 70.45],
    ['2023/02/09', 72.62, 72.82, 73.0, 71.55],
    ['2023/02/10', 71.91, 71.32, 72.85, 71.24],
    ['2023/02/13', 71.6, 73.44, 73.84, 71.41],
    ['2023/02/14', 73.0, 73.77, 75.41, 72.66],
    ['2023/02/15', 73.25, 74.63, 74.98, 72.77],
    ['2023/02/16', 74.12, 74.0, 75.12, 73.61],
    ['2023/02/17', 73.82, 73.65, 74.37, 73.01],
    ['2023/02/21', 72.67, 73.19, 73.72, 71.72],
    ['2023/02/22', 73.64, 73.12, 73.64, 71.93],
    ['2023/02/23', 72.92, 73.75, 74.12, 72.92],
    ['2023/02/24', 72.75, 73.34, 73.83, 72.25],
    ['2023/02/27', 73.66, 74.07, 74.43, 73.18],
    ['2023/02/28', 73.68, 74.75, 75.77, 73.54],
    ['2023/03/01', 75.07, 74.19, 75.42, 73.45],
    ['2023/03/02', 72.84, 75.22, 75.78, 71.64],
    ['2023/03/03', 75.45, 75.19, 76.01, 74.52],
    ['2023/03/06', 74.84, 72.08, 74.84, 71.05],
    ['2023/03/07', 71.0, 73.7, 74.09, 70.25],
    ['2023/03/08', 73.7, 74.01, 74.39, 73.31],
    ['2023/03/09', 74.05, 71.13, 74.3, 70.64],
    ['2023/03/10', 71.0, 69.57, 71.3, 69.56],
    ['2023/03/13', 68.36, 69.58, 70.35, 67.59],
    ['2023/03/14', 71.34, 72.02, 72.6, 70.64],
    ['2023/03/15', 71.67, 73.33, 73.77, 71.03],
    ['2023/03/16', 73.11, 74.32, 74.44, 71.94],
    ['2023/03/17', 73.88, 72.47, 74.32, 72.28],
    ['2023/03/20', 73.07, 74.51, 74.98, 72.63],
    ['2023/03/21', 75.0, 74.31, 75.78, 73.08],
    ['2023/03/22', 74.22, 73.11, 74.7, 73.08],
    ['2023/03/23', 74.63, 75.19, 76.18, 73.87],
    ['2023/03/24', 75.49, 78.48, 79.12, 75.35],
    ['2023/03/27', 78.53, 79.31, 79.88, 77.36],
    ['2023/03/28', 79.39, 79.71, 80.47, 78.71],
    ['2023/03/29', 80.4, 80.42, 81.63, 79.36],
    ['2023/03/30', 80.07, 78.92, 81.0, 78.62],
    ['2023/03/31', 80.75, 82.35, 83.94, 80.54],
    ['2023/04/03', 81.84, 83.29, 83.72, 80.95],
    ['2023/04/04', 83.19, 82.42, 83.81, 81.96],
    ['2023/04/05', 82.16, 80.38, 82.16, 78.89],
    ['2023/04/06', 80.44, 81.35, 81.39, 79.62],
    ['2023/04/10', 81.28, 84.03, 84.42, 81.01],
    ['2023/04/11', 84.14, 84.16, 85.6, 83.86],
    ['2023/04/12', 84.17, 85.61, 86.17, 83.9],
    ['2023/04/13', 86.1, 87.13, 87.59, 85.09],
    ['2023/04/14', 87.33, 90.14, 90.43, 87.3],
    ['2023/04/17', 90.05, 90.74, 91.53, 89.73],
    ['2023/04/18', 91.55, 92.58, 94.03, 91.4],
    ['2023/04/19', 93.01, 93.03, 94.69, 92.37],
    ['2023/04/20', 93.49, 95.33, 96.62, 93.25],
    ['2023/04/21', 95.68, 96.68, 96.85, 94.39],
    ['2023/04/24', 96.61, 94.84, 97.03, 93.86],
    ['2023/04/25', 94.3, 92.39, 94.83, 92.07],
    ['2023/04/26', 92.59, 93.85, 93.93, 92.06],
    ['2023/04/27', 93.68, 92.85, 94.34, 91.16],
    ['2023/04/28', 92.35, 92.76, 93.05, 91.67],
    ['2023/05/01', 93.2, 92.72, 94.87, 92.03],
    ['2023/05/02', 93.1, 91.74, 93.19, 91.2],
    ['2023/05/03', 88.0, 92.47, 93.75, 87.01],
    ['2023/05/04', 92.41, 89.42, 92.88, 88.97],
    ['2023/05/05', 89.5, 88.39, 90.0, 87.47],
    ['2023/05/08', 88.93, 90.01, 90.65, 88.39],
    ['2023/05/09', 90.1, 86.55, 90.2, 86.24],
    ['2023/05/10', 87.05, 88.47, 88.99, 86.53],
    ['2023/05/11', 88.5, 89.57, 90.06, 87.73],
    ['2023/05/12', 89.8, 90.29, 91.64, 89.62],
    ['2023/05/15', 90.29, 91.56, 92.96, 90.22],
    ['2023/05/16', 91.1, 89.07, 91.21, 89.02],
    ['2023/05/17', 88.77, 90.14, 90.51, 86.88],
    ['2023/05/18', 90.33, 90.61, 91.63, 89.8],
    ['2023/05/19', 90.94, 89.81, 91.0, 89.0],
    ['2023/05/22', 89.62, 85.95, 90.09, 85.65],
    ['2023/05/23', 85.55, 85.01, 86.67, 84.65],
    ['2023/05/24', 84.39, 86.45, 86.71, 83.8],
    ['2023/05/25', 95.7, 104.15, 104.31, 94.53],
    ['2023/05/26', 103.33, 101.28, 104.09, 100.23],
    ['2023/05/30', 102.26, 104.93, 107.15, 102.26],
    ['2023/05/31', 104.61, 104.02, 105.44, 101.37],
    ['2023/06/01', 104.71, 106.54, 106.83, 104.4],
    ['2023/06/02', 103.24, 105.19, 106.25, 102.9],
    ['2023/06/05', 103.25, 105.11, 106.38, 103.25],
    ['2023/06/06', 104.63, 106.99, 107.74, 104.41],
    ['2023/06/07', 106.72, 103.48, 108.43, 103.42],
    ['2023/06/08', 103.58, 106.2, 106.57, 103.5],
    ['2023/06/09', 106.23, 104.51, 106.66, 104.22],
    ['2023/06/12', 106.98, 105.44, 108.45, 105.4],
    ['2023/06/13', 105.26, 102.51, 105.26, 100.52],
    ['2023/06/14', 102.13, 101.93, 103.91, 100.24],
    ['2023/06/15', 102.28, 105.1, 105.11, 102.28],
    ['2023/06/16', 106.81, 104.08, 106.92, 103.01],
    ['2023/06/20', 105.54, 107.19, 109.05, 105.01],
    ['2023/06/21', 107.0, 111.47, 113.38, 106.39],
    ['2023/06/22', 110.92, 112.81, 113.33, 110.24],
    ['2023/06/23', 111.94, 108.45, 112.44, 108.43],
    ['2023/06/26', 108.27, 107.41, 110.39, 105.6],
    ['2023/06/27', 108.0, 110.09, 110.75, 107.16],
    ['2023/06/28', 109.65, 110.56, 113.43, 109.42],
    ['2023/06/29', 110.53, 112.5, 114.3, 110.53],
    ['2023/06/30', 113.87, 114.23, 115.79, 113.09],
    ['2023/07/03', 114.76, 113.25, 114.96, 112.64],
    ['2023/07/05', 113.64, 114.37, 114.95, 112.62],
    ['2023/07/06', 113.54, 111.1, 114.02, 110.77],
    ['2023/07/07', 111.1, 110.0, 112.66, 109.51],
    ['2023/07/10', 110.35, 112.34, 113.3, 110.35],
    ['2023/07/11', 112.62, 113.49, 114.26, 111.42],
    ['2023/07/12', 114.0, 114.44, 115.28, 112.68],
    ['2023/07/13', 114.79, 115.61, 116.84, 113.51],
    ['2023/07/14', 115.85, 115.6, 116.79, 115.09],
    ['2023/07/17', 115.44, 118.66, 118.68, 115.25],
    ['2023/07/18', 118.01, 119.51, 120.61, 117.32],
    ['2023/07/19', 119.5, 113.63, 119.7, 113.45],
    ['2023/07/20', 113.04, 113.72, 114.55, 110.55],
    ['2023/07/21', 114.8, 111.62, 116.23, 110.18],
    ['2023/07/24', 111.62, 109.36, 111.62, 108.01],
    ['2023/07/25', 109.67, 114.1, 115.16, 109.67],
    ['2023/07/26', 113.36, 113.07, 114.05, 111.61],
    ['2023/07/27', 114.0, 111.49, 114.25, 110.92],
    ['2023/07/28', 113.23, 115.94, 116.97, 112.41],
    ['2023/07/31', 116.0, 116.72, 117.56, 115.01],
    ['2023/08/01', 116.0, 116.5, 117.68, 114.66],
    ['2023/08/02', 134.6, 133.19, 137.48, 132.0],
    ['2023/08/03', 133.2, 132.06, 134.33, 130.0],
    ['2023/08/04', 133.07, 128.15, 133.56, 126.32],
    ['2023/08/07', 129.49, 130.9, 131.79, 128.39],
]);
var volumes = [
    831100.0,
    947800.0,
    665300.0,
    646500.0,
    828100.0,
    609400.0,
    428500.0,
    461700.0,
    451000.0,
    430000.0,
    366600.0,
    840200.0,
    526200.0,
    486800.0,
    377300.0,
    646800.0,
    925000.0,
    625900.0,
    658200.0,
    576200.0,
    641900.0,
    634800.0,
    558900.0,
    416800.0,
    449500.0,
    812900.0,
    594800.0,
    851300.0,
    520100.0,
    396600.0,
    868800.0,
    494400.0,
    792400.0,
    535100.0,
    777600.0,
    618700.0,
    381900.0,
    711700.0,
    628900.0,
    548500.0,
    459200.0,
    387300.0,
    440100.0,
    570900.0,
    1707700.0,
    813000.0,
    444900.0,
    404200.0,
    855000.0,
    835200.0,
    600500.0,
    459000.0,
    449100.0,
    478000.0,
    730900.0,
    588700.0,
    665200.0,
    707200.0,
    652400.0,
    551300.0,
    883000.0,
    2709900.0,
    930000.0,
    839700.0,
    733900.0,
    528300.0,
    689100.0,
    839400.0,
    769800.0,
    618300.0,
    608200.0,
    749200.0,
    806400.0,
    663200.0,
    764500.0,
    415400.0,
    175300.0,
    536500.0,
    884000.0,
    840700.0,
    657100.0,
    734700.0,
    760200.0,
    820300.0,
    504600.0,
    550800.0,
    443600.0,
    570500.0,
    723500.0,
    461500.0,
    493500.0,
    774400.0,
    543200.0,
    608300.0,
    326900.0,
    374500.0,
    236600.0,
    393200.0,
    414000.0,
    550200.0,
    401700.0,
    614400.0,
    565600.0,
    815900.0,
    1604400.0,
    1949400.0,
    2456300.0,
    2353200.0,
    1278400.0,
    1121300.0,
    687700.0,
    579500.0,
    482500.0,
    442800.0,
    738700.0,
    764800.0,
    461300.0,
    584000.0,
    492400.0,
    606200.0,
    558600.0,
    1020400.0,
    3590100.0,
    1825800.0,
    1008000.0,
    1247900.0,
    778000.0,
    697500.0,
    560800.0,
    588200.0,
    621000.0,
    455900.0,
    436100.0,
    636300.0,
    709900.0,
    607900.0,
    531200.0,
    454200.0,
    866700.0,
    914100.0,
    570700.0,
    954500.0,
    1076900.0,
    1947000.0,
    1569900.0,
    743700.0,
    1309300.0,
    1143500.0,
    1586600.0,
    767400.0,
    1034300.0,
    805900.0,
    1227900.0,
    660800.0,
    1008100.0,
    508700.0,
    702400.0,
    1390200.0,
    782700.0,
    724400.0,
    978100.0,
    691400.0,
    1399800.0,
    841100.0,
    508000.0,
    803400.0,
    447800.0,
    1014100.0,
    753100.0,
    917300.0,
    733500.0,
    1076300.0,
    990900.0,
    944200.0,
    992200.0,
    1025900.0,
    987600.0,
    1265200.0,
    1049000.0,
    717600.0,
    869900.0,
    659700.0,
    825300.0,
    588300.0,
    1302100.0,
    863000.0,
    1111700.0,
    702300.0,
    1032900.0,
    554400.0,
    540400.0,
    956800.0,
    835700.0,
    763000.0,
    768900.0,
    771900.0,
    664200.0,
    1282000.0,
    988200.0,
    2039500.0,
    4106900.0,
    1701400.0,
    1389000.0,
    1276000.0,
    917200.0,
    1356700.0,
    692200.0,
    794200.0,
    943400.0,
    709400.0,
    714800.0,
    739700.0,
    1308400.0,
    790200.0,
    731300.0,
    1508000.0,
    1186400.0,
    1854800.0,
    1355900.0,
    1072300.0,
    831500.0,
    960600.0,
    993100.0,
    871300.0,
    2188100.0,
    340500.0,
    1336700.0,
    817200.0,
    934700.0,
    783300.0,
    753900.0,
    727400.0,
    653400.0,
    615100.0,
    771800.0,
    761700.0,
    1268900.0,
    761400.0,
    906600.0,
    917100.0,
    1577000.0,
    722500.0,
    890600.0,
    1204900.0,
    1037900.0,
    1911400.0,
    4262900.0,
    1544400.0,
    1469400.0,
    1093100.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "ELF",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);