/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_IPAR");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 82.97, 83.76, 84.13, 82.09],
    ['2022/08/04', 83.87, 84.98, 85.24, 83.53],
    ['2022/08/05', 84.15, 83.57, 84.9, 82.8],
    ['2022/08/08', 83.47, 84.02, 84.99, 83.27],
    ['2022/08/09', 84.04, 82.4, 84.59, 81.69],
    ['2022/08/10', 80.86, 79.46, 82.76, 76.93],
    ['2022/08/11', 80.57, 79.57, 81.14, 79.43],
    ['2022/08/12', 79.97, 81.14, 81.28, 78.75],
    ['2022/08/15', 81.05, 83.65, 83.8, 81.05],
    ['2022/08/16', 83.15, 83.52, 84.49, 82.54],
    ['2022/08/17', 83.43, 82.55, 84.33, 81.92],
    ['2022/08/18', 82.18, 83.51, 84.07, 81.81],
    ['2022/08/19', 83.24, 81.93, 83.24, 81.36],
    ['2022/08/22', 81.67, 80.91, 81.67, 80.31],
    ['2022/08/23', 80.59, 80.67, 81.3, 79.9],
    ['2022/08/24', 80.49, 79.58, 81.1, 79.52],
    ['2022/08/25', 79.49, 81.35, 81.35, 78.11],
    ['2022/08/26', 81.43, 79.78, 81.43, 79.67],
    ['2022/08/29', 79.03, 78.48, 79.33, 78.2],
    ['2022/08/30', 79.03, 77.43, 79.03, 77.03],
    ['2022/08/31', 77.79, 76.89, 78.72, 76.88],
    ['2022/09/01', 76.58, 77.4, 77.56, 75.66],
    ['2022/09/02', 78.09, 76.5, 78.66, 75.79],
    ['2022/09/06', 76.5, 75.38, 77.35, 74.71],
    ['2022/09/07', 75.43, 76.75, 76.95, 74.83],
    ['2022/09/08', 76.59, 76.68, 77.27, 75.53],
    ['2022/09/09', 78.26, 80.08, 80.19, 77.25],
    ['2022/09/12', 80.35, 81.85, 83.15, 80.35],
    ['2022/09/13', 80.61, 76.66, 82.49, 76.36],
    ['2022/09/14', 76.52, 77.05, 77.48, 75.83],
    ['2022/09/15', 76.67, 75.59, 77.77, 75.0],
    ['2022/09/16', 75.29, 77.79, 77.79, 75.0],
    ['2022/09/19', 77.08, 78.44, 78.9, 77.08],
    ['2022/09/20', 77.75, 78.67, 79.1, 77.59],
    ['2022/09/21', 79.23, 78.09, 80.79, 77.57],
    ['2022/09/22', 78.32, 78.0, 78.65, 76.87],
    ['2022/09/23', 77.67, 76.2, 77.67, 75.45],
    ['2022/09/26', 76.07, 75.59, 77.97, 74.9],
    ['2022/09/27', 76.15, 73.46, 76.82, 73.33],
    ['2022/09/28', 73.79, 74.24, 74.74, 72.26],
    ['2022/09/29', 73.97, 72.72, 74.18, 71.42],
    ['2022/09/30', 72.65, 74.37, 75.66, 71.9],
    ['2022/10/03', 75.26, 75.18, 76.63, 74.41],
    ['2022/10/04', 75.79, 77.17, 77.66, 75.79],
    ['2022/10/05', 76.6, 75.9, 76.6, 75.09],
    ['2022/10/06', 75.26, 75.74, 76.51, 74.63],
    ['2022/10/07', 75.42, 73.19, 75.59, 72.84],
    ['2022/10/10', 73.54, 74.11, 74.72, 72.29],
    ['2022/10/11', 73.92, 74.92, 76.08, 73.81],
    ['2022/10/12', 75.2, 75.12, 75.51, 74.15],
    ['2022/10/13', 74.32, 76.88, 77.58, 72.92],
    ['2022/10/14', 77.26, 75.63, 77.26, 75.18],
    ['2022/10/17', 76.7, 77.81, 78.13, 76.13],
    ['2022/10/18', 79.33, 78.39, 80.14, 78.04],
    ['2022/10/19', 77.69, 77.12, 79.48, 76.01],
    ['2022/10/20', 76.85, 73.68, 77.85, 73.58],
    ['2022/10/21', 74.16, 73.67, 74.26, 72.47],
    ['2022/10/24', 74.46, 73.87, 74.46, 72.4],
    ['2022/10/25', 74.32, 78.68, 79.13, 73.89],
    ['2022/10/26', 78.6, 77.79, 79.27, 77.49],
    ['2022/10/27', 78.12, 77.79, 79.36, 77.44],
    ['2022/10/28', 78.34, 80.02, 80.95, 77.83],
    ['2022/10/31', 79.83, 79.71, 80.71, 78.59],
    ['2022/11/01', 80.31, 80.74, 81.32, 79.52],
    ['2022/11/02', 80.41, 77.91, 81.69, 77.69],
    ['2022/11/03', 77.77, 77.96, 78.42, 76.08],
    ['2022/11/04', 78.96, 81.3, 81.68, 78.96],
    ['2022/11/07', 80.82, 82.42, 83.85, 80.37],
    ['2022/11/08', 82.94, 82.85, 83.62, 82.03],
    ['2022/11/09', 82.09, 78.42, 82.38, 76.6],
    ['2022/11/10', 78.85, 81.41, 84.48, 77.63],
    ['2022/11/11', 82.34, 85.76, 87.24, 82.1],
    ['2022/11/14', 86.06, 84.83, 89.25, 83.6],
    ['2022/11/15', 85.99, 87.61, 88.28, 84.87],
    ['2022/11/16', 87.6, 87.28, 88.51, 86.3],
    ['2022/11/17', 85.76, 86.83, 87.97, 85.76],
    ['2022/11/18', 88.25, 86.75, 88.94, 84.01],
    ['2022/11/21', 86.58, 87.23, 88.28, 85.77],
    ['2022/11/22', 90.17, 90.59, 91.13, 87.11],
    ['2022/11/23', 90.27, 89.63, 91.13, 88.76],
    ['2022/11/25', 89.38, 90.34, 90.85, 89.34],
    ['2022/11/28', 89.58, 90.46, 91.25, 88.7],
    ['2022/11/29', 90.77, 90.26, 91.17, 89.68],
    ['2022/11/30', 90.62, 93.92, 94.43, 89.3],
    ['2022/12/01', 94.45, 95.05, 95.22, 92.58],
    ['2022/12/02', 93.54, 97.92, 98.92, 92.77],
    ['2022/12/05', 96.99, 97.47, 98.43, 96.12],
    ['2022/12/06', 97.95, 97.03, 99.32, 96.0],
    ['2022/12/07', 96.51, 95.81, 97.74, 95.6],
    ['2022/12/08', 96.47, 96.1, 96.49, 95.32],
    ['2022/12/09', 96.1, 95.43, 96.44, 95.07],
    ['2022/12/12', 95.49, 95.23, 95.93, 93.24],
    ['2022/12/13', 96.65, 94.17, 97.44, 93.66],
    ['2022/12/14', 93.97, 94.14, 95.36, 92.95],
    ['2022/12/15', 93.43, 92.39, 93.56, 91.44],
    ['2022/12/16', 91.92, 91.52, 92.43, 90.68],
    ['2022/12/19', 91.86, 92.79, 93.45, 90.93],
    ['2022/12/20', 92.79, 92.5, 94.46, 92.27],
    ['2022/12/21', 93.21, 95.78, 96.07, 92.44],
    ['2022/12/22', 95.11, 95.58, 95.83, 93.62],
    ['2022/12/23', 96.11, 97.75, 97.91, 95.59],
    ['2022/12/27', 97.77, 98.36, 98.54, 97.04],
    ['2022/12/28', 98.08, 95.2, 98.4, 95.12],
    ['2022/12/29', 96.05, 96.94, 97.35, 95.25],
    ['2022/12/30', 96.39, 95.63, 96.73, 93.25],
    ['2023/01/03', 96.79, 96.54, 97.19, 94.89],
    ['2023/01/04', 96.88, 95.76, 97.8, 95.68],
    ['2023/01/05', 96.24, 104.14, 104.9, 96.03],
    ['2023/01/06', 105.69, 109.7, 109.9, 101.21],
    ['2023/01/09', 109.93, 109.55, 110.66, 108.27],
    ['2023/01/10', 108.64, 110.52, 111.64, 108.64],
    ['2023/01/11', 110.98, 110.26, 111.61, 110.02],
    ['2023/01/12', 110.54, 111.06, 111.9, 109.4],
    ['2023/01/13', 110.82, 110.55, 111.36, 110.06],
    ['2023/01/17', 110.95, 109.66, 110.96, 109.54],
    ['2023/01/18', 109.96, 108.97, 110.35, 107.34],
    ['2023/01/19', 108.71, 109.56, 110.19, 108.2],
    ['2023/01/20', 110.4, 111.98, 112.64, 109.88],
    ['2023/01/23', 112.35, 112.74, 115.02, 110.97],
    ['2023/01/24', 114.46, 113.16, 115.76, 113.04],
    ['2023/01/25', 112.67, 112.83, 113.15, 111.74],
    ['2023/01/26', 113.14, 111.57, 114.37, 111.27],
    ['2023/01/27', 111.17, 111.95, 112.75, 110.17],
    ['2023/01/30', 111.53, 114.88, 115.13, 111.53],
    ['2023/01/31', 115.51, 117.13, 117.3, 114.59],
    ['2023/02/01', 117.16, 118.9, 120.21, 116.35],
    ['2023/02/02', 119.35, 119.75, 122.25, 118.78],
    ['2023/02/03', 119.46, 117.39, 120.45, 116.5],
    ['2023/02/06', 116.52, 115.5, 117.99, 115.02],
    ['2023/02/07', 115.06, 116.05, 116.25, 113.44],
    ['2023/02/08', 115.43, 112.32, 115.52, 112.25],
    ['2023/02/09', 112.99, 113.56, 113.83, 110.8],
    ['2023/02/10', 113.07, 112.9, 114.3, 112.84],
    ['2023/02/13', 113.68, 117.81, 117.94, 113.58],
    ['2023/02/14', 117.77, 116.36, 119.38, 116.19],
    ['2023/02/15', 116.44, 116.63, 116.82, 115.33],
    ['2023/02/16', 115.28, 114.27, 115.61, 112.58],
    ['2023/02/17', 114.46, 117.07, 117.59, 114.1],
    ['2023/02/21', 116.33, 116.67, 117.6, 115.39],
    ['2023/02/22', 117.17, 118.95, 118.95, 115.36],
    ['2023/02/23', 119.41, 119.24, 119.9, 117.92],
    ['2023/02/24', 118.57, 119.03, 119.59, 117.15],
    ['2023/02/27', 119.13, 119.1, 120.52, 118.56],
    ['2023/02/28', 119.35, 119.3, 122.04, 119.16],
    ['2023/03/01', 127.8, 130.13, 130.13, 123.05],
    ['2023/03/02', 129.81, 137.48, 137.48, 129.81],
    ['2023/03/03', 138.27, 138.72, 139.56, 133.67],
    ['2023/03/06', 137.88, 137.11, 138.69, 133.96],
    ['2023/03/07', 138.83, 136.43, 139.42, 135.82],
    ['2023/03/08', 136.45, 134.66, 136.45, 133.05],
    ['2023/03/09', 135.15, 132.56, 135.15, 132.16],
    ['2023/03/10', 132.08, 132.49, 133.07, 128.81],
    ['2023/03/13', 130.59, 132.45, 135.72, 130.59],
    ['2023/03/14', 135.44, 136.01, 136.2, 132.51],
    ['2023/03/15', 133.25, 139.12, 139.36, 131.94],
    ['2023/03/16', 137.96, 141.08, 141.08, 136.5],
    ['2023/03/17', 139.46, 136.31, 140.53, 135.92],
    ['2023/03/20', 137.16, 138.6, 140.04, 137.16],
    ['2023/03/21', 140.51, 139.88, 142.3, 138.17],
    ['2023/03/22', 140.48, 137.79, 142.85, 137.44],
    ['2023/03/23', 139.61, 138.38, 141.36, 137.82],
    ['2023/03/24', 137.31, 139.08, 140.83, 136.77],
    ['2023/03/27', 140.26, 140.28, 140.75, 138.29],
    ['2023/03/28', 139.9, 143.21, 143.59, 139.9],
    ['2023/03/29', 143.92, 141.95, 144.34, 141.48],
    ['2023/03/30', 141.95, 141.42, 142.52, 141.19],
    ['2023/03/31', 142.09, 141.59, 143.23, 140.55],
    ['2023/04/03', 142.12, 145.75, 146.21, 141.54],
    ['2023/04/04', 145.38, 144.42, 145.38, 143.02],
    ['2023/04/05', 144.23, 138.27, 144.53, 137.35],
    ['2023/04/06', 138.37, 137.79, 139.36, 136.74],
    ['2023/04/10', 137.37, 138.39, 139.54, 136.37],
    ['2023/04/11', 138.96, 139.57, 140.98, 138.77],
    ['2023/04/12', 140.75, 144.33, 144.88, 140.57],
    ['2023/04/13', 145.47, 145.64, 147.5, 145.47],
    ['2023/04/14', 145.31, 146.36, 148.14, 144.64],
    ['2023/04/17', 146.4, 149.15, 150.04, 146.22],
    ['2023/04/18', 149.02, 148.73, 150.76, 148.13],
    ['2023/04/19', 148.85, 150.87, 150.91, 147.65],
    ['2023/04/20', 152.15, 156.87, 160.43, 152.15],
    ['2023/04/21', 157.76, 156.59, 159.56, 155.72],
    ['2023/04/24', 157.55, 155.83, 158.03, 154.72],
    ['2023/04/25', 155.43, 153.23, 155.83, 152.43],
    ['2023/04/26', 152.43, 151.97, 154.9, 151.06],
    ['2023/04/27', 152.15, 153.56, 157.4, 151.24],
    ['2023/04/28', 153.52, 151.09, 154.86, 150.92],
    ['2023/05/01', 151.67, 150.87, 153.69, 150.3],
    ['2023/05/02', 150.28, 151.83, 152.38, 148.91],
    ['2023/05/03', 150.31, 151.08, 152.94, 148.82],
    ['2023/05/04', 150.5, 148.05, 150.5, 146.77],
    ['2023/05/05', 148.45, 151.96, 153.52, 146.76],
    ['2023/05/08', 151.96, 152.04, 152.87, 149.9],
    ['2023/05/09', 151.05, 133.72, 151.18, 129.62],
    ['2023/05/10', 134.48, 134.62, 135.16, 131.52],
    ['2023/05/11', 134.55, 135.29, 136.21, 133.79],
    ['2023/05/12', 135.42, 136.27, 137.84, 135.0],
    ['2023/05/15', 137.27, 135.56, 138.61, 134.75],
    ['2023/05/16', 134.74, 135.3, 137.44, 133.02],
    ['2023/05/17', 135.51, 134.18, 137.13, 133.23],
    ['2023/05/18', 134.05, 132.59, 135.07, 132.39],
    ['2023/05/19', 133.6, 133.61, 134.34, 132.28],
    ['2023/05/22', 134.19, 132.45, 134.19, 131.63],
    ['2023/05/23', 132.45, 130.97, 133.23, 129.94],
    ['2023/05/24', 130.46, 130.34, 131.01, 129.48],
    ['2023/05/25', 130.05, 129.12, 130.74, 127.69],
    ['2023/05/26', 129.4, 127.8, 130.6, 127.66],
    ['2023/05/30', 127.79, 127.72, 129.15, 126.62],
    ['2023/05/31', 128.22, 125.02, 128.22, 124.43],
    ['2023/06/01', 125.28, 126.52, 128.32, 125.28],
    ['2023/06/02', 127.61, 131.23, 131.61, 126.98],
    ['2023/06/05', 130.03, 128.05, 130.08, 126.05],
    ['2023/06/06', 128.04, 134.52, 134.65, 128.04],
    ['2023/06/07', 134.57, 133.91, 136.27, 132.85],
    ['2023/06/08', 133.7, 134.25, 135.71, 133.55],
    ['2023/06/09', 133.76, 133.25, 134.34, 132.73],
    ['2023/06/12', 134.08, 135.67, 137.56, 133.78],
    ['2023/06/13', 136.66, 135.68, 137.14, 134.96],
    ['2023/06/14', 136.66, 136.02, 139.24, 135.05],
    ['2023/06/15', 136.46, 139.78, 139.97, 136.46],
    ['2023/06/16', 140.22, 137.79, 140.22, 135.84],
    ['2023/06/20', 138.05, 137.04, 138.65, 136.56],
    ['2023/06/21', 137.14, 139.06, 140.0, 136.98],
    ['2023/06/22', 139.38, 136.75, 139.38, 136.32],
    ['2023/06/23', 136.0, 134.0, 136.88, 133.76],
    ['2023/06/26', 134.43, 134.53, 135.19, 133.68],
    ['2023/06/27', 134.92, 133.6, 135.99, 133.23],
    ['2023/06/28', 133.74, 132.46, 134.73, 131.43],
    ['2023/06/29', 132.47, 133.24, 134.76, 132.32],
    ['2023/06/30', 134.29, 135.23, 135.5, 133.56],
    ['2023/07/03', 135.15, 137.14, 137.14, 135.03],
    ['2023/07/05', 136.79, 135.14, 136.79, 134.27],
    ['2023/07/06', 133.79, 130.82, 134.1, 129.83],
    ['2023/07/07', 130.63, 130.25, 132.13, 130.25],
    ['2023/07/10', 130.61, 134.78, 135.34, 130.35],
    ['2023/07/11', 135.13, 134.9, 135.51, 133.63],
    ['2023/07/12', 136.35, 134.41, 137.04, 134.39],
    ['2023/07/13', 134.98, 133.59, 134.98, 132.55],
    ['2023/07/14', 133.24, 133.63, 134.06, 132.17],
    ['2023/07/17', 133.06, 134.57, 135.91, 132.57],
    ['2023/07/18', 134.61, 136.11, 136.79, 133.91],
    ['2023/07/19', 136.11, 133.55, 137.43, 131.09],
    ['2023/07/20', 133.6, 130.77, 133.6, 130.35],
    ['2023/07/21', 132.01, 132.04, 133.53, 131.66],
    ['2023/07/24', 131.47, 130.95, 132.83, 129.51],
    ['2023/07/25', 140.0, 143.99, 144.6, 137.38],
    ['2023/07/26', 144.0, 150.7, 151.95, 141.72],
    ['2023/07/27', 150.83, 149.29, 152.29, 148.56],
    ['2023/07/28', 150.9, 150.32, 152.04, 148.1],
    ['2023/07/31', 150.61, 149.56, 150.84, 148.5],
    ['2023/08/01', 148.88, 148.49, 150.24, 147.16],
    ['2023/08/02', 147.02, 148.69, 150.84, 147.02],
]);
var volumes = [
    49000.0,
    64500.0,
    90200.0,
    70300.0,
    72700.0,
    159200.0,
    72500.0,
    67200.0,
    87600.0,
    61300.0,
    77800.0,
    67900.0,
    71400.0,
    53200.0,
    63100.0,
    43100.0,
    73800.0,
    54200.0,
    67800.0,
    43400.0,
    64700.0,
    56400.0,
    49600.0,
    68700.0,
    72900.0,
    70000.0,
    126900.0,
    88500.0,
    105400.0,
    73400.0,
    67500.0,
    169500.0,
    64400.0,
    59400.0,
    93700.0,
    67800.0,
    87900.0,
    87800.0,
    96300.0,
    132000.0,
    100700.0,
    179500.0,
    89700.0,
    66700.0,
    90400.0,
    67600.0,
    82100.0,
    58500.0,
    87400.0,
    74700.0,
    67900.0,
    43500.0,
    79500.0,
    55200.0,
    57500.0,
    92500.0,
    76600.0,
    71100.0,
    58300.0,
    63700.0,
    61400.0,
    63100.0,
    66600.0,
    85800.0,
    70300.0,
    59900.0,
    68200.0,
    96400.0,
    109200.0,
    122300.0,
    228700.0,
    116700.0,
    152000.0,
    160900.0,
    109800.0,
    101100.0,
    76800.0,
    71200.0,
    96900.0,
    48100.0,
    43200.0,
    59200.0,
    56000.0,
    100000.0,
    81800.0,
    130900.0,
    108600.0,
    90800.0,
    67100.0,
    80500.0,
    86800.0,
    67100.0,
    144000.0,
    118500.0,
    104700.0,
    241700.0,
    94700.0,
    121000.0,
    64900.0,
    103400.0,
    88000.0,
    44300.0,
    64000.0,
    54300.0,
    55300.0,
    86500.0,
    112500.0,
    217500.0,
    209900.0,
    154300.0,
    116300.0,
    103600.0,
    83800.0,
    163300.0,
    107900.0,
    124300.0,
    105500.0,
    99400.0,
    100700.0,
    113800.0,
    160100.0,
    94200.0,
    67400.0,
    75700.0,
    121700.0,
    126000.0,
    143400.0,
    162900.0,
    87100.0,
    83000.0,
    146100.0,
    98900.0,
    73500.0,
    97200.0,
    94100.0,
    68600.0,
    146700.0,
    97100.0,
    127100.0,
    151300.0,
    100700.0,
    86200.0,
    115300.0,
    190500.0,
    160300.0,
    189000.0,
    236800.0,
    205100.0,
    208000.0,
    120500.0,
    176000.0,
    211300.0,
    179200.0,
    247800.0,
    190300.0,
    151100.0,
    286300.0,
    111100.0,
    172300.0,
    137800.0,
    138300.0,
    142100.0,
    115500.0,
    137300.0,
    89300.0,
    91700.0,
    213800.0,
    141000.0,
    89500.0,
    170500.0,
    103700.0,
    199000.0,
    100300.0,
    134100.0,
    124900.0,
    117000.0,
    159300.0,
    109000.0,
    140500.0,
    275000.0,
    171200.0,
    102200.0,
    106900.0,
    87600.0,
    110800.0,
    106500.0,
    110600.0,
    148100.0,
    154900.0,
    90700.0,
    138900.0,
    106500.0,
    422700.0,
    215800.0,
    202500.0,
    98300.0,
    123500.0,
    104500.0,
    125200.0,
    147500.0,
    82400.0,
    85400.0,
    101300.0,
    116000.0,
    124800.0,
    92100.0,
    86700.0,
    232900.0,
    149700.0,
    86900.0,
    108100.0,
    124300.0,
    169600.0,
    87600.0,
    61600.0,
    172900.0,
    139000.0,
    137900.0,
    114800.0,
    337200.0,
    93500.0,
    76700.0,
    81500.0,
    223000.0,
    98600.0,
    68400.0,
    148600.0,
    179700.0,
    203500.0,
    60300.0,
    198000.0,
    96800.0,
    108600.0,
    88800.0,
    98000.0,
    100900.0,
    89200.0,
    94000.0,
    92200.0,
    77900.0,
    141500.0,
    92800.0,
    92600.0,
    64600.0,
    228400.0,
    248900.0,
    199500.0,
    132200.0,
    110800.0,
    73700.0,
    61200.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "IPAR",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);