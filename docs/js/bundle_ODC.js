/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_ODC");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/11', 27.55, 26.85, 27.55, 26.71],
    ['2022/08/12', 26.59, 27.92, 27.92, 26.51],
    ['2022/08/15', 27.5, 28.5, 28.5, 27.5],
    ['2022/08/16', 28.14, 28.41, 28.8, 27.82],
    ['2022/08/17', 28.5, 28.11, 28.55, 28.11],
    ['2022/08/18', 28.38, 28.71, 28.84, 28.18],
    ['2022/08/19', 28.7, 28.65, 28.85, 28.34],
    ['2022/08/22', 28.65, 29.36, 29.52, 28.55],
    ['2022/08/23', 29.13, 28.62, 29.37, 28.62],
    ['2022/08/24', 28.83, 28.1, 28.86, 27.6],
    ['2022/08/25', 28.16, 27.63, 28.16, 27.3],
    ['2022/08/26', 27.91, 27.75, 28.46, 27.45],
    ['2022/08/29', 27.63, 27.44, 27.63, 27.23],
    ['2022/08/30', 27.32, 27.14, 27.4, 27.03],
    ['2022/08/31', 27.14, 27.59, 27.59, 26.7],
    ['2022/09/01', 26.98, 27.2, 27.37, 26.73],
    ['2022/09/02', 27.06, 27.07, 27.32, 26.89],
    ['2022/09/06', 27.3, 26.76, 27.4, 26.56],
    ['2022/09/07', 26.5, 26.4, 26.5, 26.11],
    ['2022/09/08', 26.17, 26.49, 26.64, 25.49],
    ['2022/09/09', 26.4, 26.58, 26.7, 26.4],
    ['2022/09/12', 26.81, 26.53, 27.08, 26.3],
    ['2022/09/13', 26.11, 26.05, 26.59, 25.89],
    ['2022/09/14', 25.92, 25.51, 26.29, 25.4],
    ['2022/09/15', 25.48, 25.68, 25.99, 25.4],
    ['2022/09/16', 25.68, 26.11, 26.26, 25.48],
    ['2022/09/19', 25.93, 25.36, 25.97, 25.01],
    ['2022/09/20', 25.6, 26.2, 26.2, 25.31],
    ['2022/09/21', 26.19, 26.01, 26.41, 26.0],
    ['2022/09/22', 25.86, 25.26, 26.1, 25.26],
    ['2022/09/23', 25.5, 24.75, 25.91, 24.02],
    ['2022/09/26', 24.41, 24.49, 24.67, 23.88],
    ['2022/09/27', 24.31, 24.37, 24.75, 24.01],
    ['2022/09/28', 24.74, 24.37, 24.74, 24.15],
    ['2022/09/29', 24.4, 24.37, 24.51, 24.06],
    ['2022/09/30', 25.3, 24.2, 25.3, 24.12],
    ['2022/10/03', 24.78, 24.49, 25.3, 24.32],
    ['2022/10/04', 24.38, 23.96, 24.57, 23.95],
    ['2022/10/05', 23.9, 23.64, 24.43, 23.63],
    ['2022/10/06', 23.11, 23.39, 23.75, 22.81],
    ['2022/10/07', 23.25, 22.6, 23.5, 22.2],
    ['2022/10/10', 22.7, 22.65, 23.25, 22.65],
    ['2022/10/11', 22.96, 22.49, 23.22, 22.35],
    ['2022/10/12', 22.53, 23.2, 23.2, 22.52],
    ['2022/10/13', 23.16, 22.87, 23.16, 22.14],
    ['2022/10/14', 24.19, 26.23, 26.91, 24.0],
    ['2022/10/17', 26.51, 26.77, 27.75, 26.38],
    ['2022/10/18', 27.16, 27.37, 27.98, 26.95],
    ['2022/10/19', 27.3, 27.51, 27.89, 26.6],
    ['2022/10/20', 27.51, 27.0, 27.9, 26.9],
    ['2022/10/21', 27.39, 27.17, 27.77, 26.8],
    ['2022/10/24', 27.0, 27.79, 28.24, 26.58],
    ['2022/10/25', 27.66, 27.13, 27.91, 26.81],
    ['2022/10/26', 27.12, 27.56, 28.15, 26.54],
    ['2022/10/27', 28.11, 27.79, 28.11, 27.38],
    ['2022/10/28', 27.84, 30.17, 30.3, 27.84],
    ['2022/10/31', 29.94, 29.53, 30.8, 29.53],
    ['2022/11/01', 29.76, 29.78, 30.36, 29.7],
    ['2022/11/02', 29.89, 29.56, 30.23, 29.4],
    ['2022/11/03', 29.66, 30.6, 30.74, 29.33],
    ['2022/11/04', 30.71, 30.29, 30.71, 29.91],
    ['2022/11/07', 30.0, 30.24, 30.61, 30.0],
    ['2022/11/08', 30.34, 32.17, 32.35, 30.34],
    ['2022/11/09', 31.19, 31.83, 31.83, 30.75],
    ['2022/11/10', 31.47, 31.25, 31.84, 30.83],
    ['2022/11/11', 31.0, 31.44, 31.5, 30.85],
    ['2022/11/14', 31.0, 31.78, 32.38, 30.49],
    ['2022/11/15', 31.81, 32.05, 32.05, 31.06],
    ['2022/11/16', 31.5, 31.74, 32.01, 31.08],
    ['2022/11/17', 31.57, 31.55, 32.01, 31.38],
    ['2022/11/18', 31.1, 31.49, 31.75, 31.1],
    ['2022/11/21', 31.7, 32.15, 32.33, 30.65],
    ['2022/11/22', 32.44, 32.23, 32.44, 31.98],
    ['2022/11/23', 32.45, 32.2, 32.45, 31.44],
    ['2022/11/25', 32.31, 32.18, 32.31, 31.97],
    ['2022/11/28', 31.95, 32.45, 32.46, 31.7],
    ['2022/11/29', 32.43, 32.34, 32.43, 31.65],
    ['2022/11/30', 32.31, 32.7, 32.7, 32.27],
    ['2022/12/01', 32.75, 32.5, 32.75, 32.41],
    ['2022/12/02', 32.5, 32.5, 32.5, 31.98],
    ['2022/12/05', 32.57, 32.5, 32.57, 31.58],
    ['2022/12/06', 32.17, 32.54, 32.83, 31.98],
    ['2022/12/07', 32.84, 34.12, 34.2, 32.81],
    ['2022/12/08', 34.6, 34.42, 34.61, 33.57],
    ['2022/12/09', 34.58, 33.5, 34.58, 33.5],
    ['2022/12/12', 33.83, 33.47, 34.32, 33.2],
    ['2022/12/13', 33.41, 32.06, 33.66, 32.0],
    ['2022/12/14', 32.01, 32.2, 32.7, 32.01],
    ['2022/12/15', 32.7, 32.17, 32.83, 31.9],
    ['2022/12/16', 31.76, 32.22, 32.47, 31.76],
    ['2022/12/19', 32.32, 32.49, 32.7, 32.32],
    ['2022/12/20', 32.76, 32.81, 33.38, 32.76],
    ['2022/12/21', 33.22, 33.02, 33.86, 33.02],
    ['2022/12/22', 33.3, 32.88, 33.44, 32.87],
    ['2022/12/23', 33.13, 32.64, 33.28, 32.64],
    ['2022/12/27', 32.83, 33.44, 33.67, 32.83],
    ['2022/12/28', 33.65, 32.94, 33.87, 32.74],
    ['2022/12/29', 33.22, 33.33, 33.6, 33.0],
    ['2022/12/30', 33.49, 33.54, 33.82, 32.68],
    ['2023/01/03', 33.5, 33.82, 34.13, 33.45],
    ['2023/01/04', 33.6, 33.84, 34.1, 33.42],
    ['2023/01/05', 34.14, 34.41, 34.41, 33.4],
    ['2023/01/06', 34.14, 34.7, 34.7, 33.99],
    ['2023/01/09', 34.7, 34.86, 35.3, 34.58],
    ['2023/01/10', 34.98, 35.0, 35.12, 34.53],
    ['2023/01/11', 35.14, 35.02, 35.14, 34.91],
    ['2023/01/12', 35.0, 35.07, 35.85, 35.0],
    ['2023/01/13', 35.05, 35.21, 35.39, 34.61],
    ['2023/01/17', 34.38, 35.18, 35.44, 34.38],
    ['2023/01/18', 35.0, 35.09, 35.14, 34.55],
    ['2023/01/19', 34.94, 35.3, 35.3, 34.6],
    ['2023/01/20', 35.05, 35.37, 35.4, 35.05],
    ['2023/01/23', 35.35, 34.87, 35.35, 34.7],
    ['2023/01/24', 34.6, 34.79, 35.05, 34.41],
    ['2023/01/25', 34.58, 34.94, 34.94, 34.42],
    ['2023/01/26', 34.95, 35.05, 35.05, 34.6],
    ['2023/01/27', 34.58, 35.43, 35.44, 34.27],
    ['2023/01/30', 35.45, 35.79, 36.04, 35.23],
    ['2023/01/31', 35.93, 36.29, 36.29, 35.32],
    ['2023/02/01', 36.35, 36.53, 36.78, 36.25],
    ['2023/02/02', 36.74, 36.86, 36.97, 36.23],
    ['2023/02/03', 36.31, 37.3, 37.33, 36.31],
    ['2023/02/06', 37.1, 37.4, 37.6, 37.04],
    ['2023/02/07', 37.51, 37.96, 38.35, 37.2],
    ['2023/02/08', 38.0, 38.1, 38.44, 37.85],
    ['2023/02/09', 38.18, 37.76, 38.18, 37.56],
    ['2023/02/10', 37.83, 37.72, 38.19, 37.46],
    ['2023/02/13', 37.75, 37.66, 38.23, 37.38],
    ['2023/02/14', 37.84, 37.49, 37.88, 37.3],
    ['2023/02/15', 37.55, 37.55, 37.97, 37.4],
    ['2023/02/16', 36.65, 37.19, 37.31, 36.65],
    ['2023/02/17', 36.62, 37.02, 37.22, 36.62],
    ['2023/02/21', 37.14, 36.29, 37.14, 36.19],
    ['2023/02/22', 36.19, 36.69, 36.83, 36.19],
    ['2023/02/23', 37.59, 37.57, 37.59, 36.69],
    ['2023/02/24', 37.14, 36.94, 37.14, 36.52],
    ['2023/02/27', 37.8, 37.87, 38.12, 37.11],
    ['2023/02/28', 37.78, 37.43, 37.78, 37.12],
    ['2023/03/01', 37.45, 37.34, 37.45, 37.05],
    ['2023/03/02', 37.34, 37.47, 37.87, 37.23],
    ['2023/03/03', 36.66, 38.2, 38.2, 36.66],
    ['2023/03/06', 38.21, 37.73, 38.21, 37.43],
    ['2023/03/07', 37.84, 37.61, 38.32, 37.53],
    ['2023/03/08', 37.55, 38.11, 38.43, 37.53],
    ['2023/03/09', 37.0, 39.06, 39.2, 37.0],
    ['2023/03/10', 39.2, 40.14, 40.28, 38.06],
    ['2023/03/13', 40.31, 39.97, 40.85, 39.63],
    ['2023/03/14', 40.24, 39.78, 40.56, 39.75],
    ['2023/03/15', 39.57, 39.18, 39.88, 39.18],
    ['2023/03/16', 39.89, 40.29, 40.45, 39.59],
    ['2023/03/17', 40.46, 37.72, 40.46, 37.52],
    ['2023/03/20', 37.88, 38.49, 39.05, 37.62],
    ['2023/03/21', 37.86, 37.65, 38.5, 37.27],
    ['2023/03/22', 37.97, 35.89, 37.97, 35.87],
    ['2023/03/23', 35.84, 37.25, 37.71, 34.63],
    ['2023/03/24', 37.64, 36.99, 37.77, 36.02],
    ['2023/03/27', 37.46, 38.5, 39.05, 37.13],
    ['2023/03/28', 38.48, 37.26, 38.48, 36.01],
    ['2023/03/29', 37.26, 38.05, 38.31, 37.26],
    ['2023/03/30', 38.5, 38.73, 39.43, 38.14],
    ['2023/03/31', 39.21, 41.61, 42.02, 39.21],
    ['2023/04/03', 41.14, 42.25, 42.26, 40.22],
    ['2023/04/04', 41.84, 41.08, 41.92, 40.62],
    ['2023/04/05', 40.96, 40.92, 41.48, 40.45],
    ['2023/04/06', 41.06, 40.94, 41.68, 40.69],
    ['2023/04/10', 40.62, 41.0, 42.35, 40.53],
    ['2023/04/11', 40.9, 41.66, 41.87, 40.9],
    ['2023/04/12', 41.5, 43.09, 43.12, 41.47],
    ['2023/04/13', 42.64, 42.81, 42.96, 41.88],
    ['2023/04/14', 42.65, 40.89, 42.65, 40.83],
    ['2023/04/17', 41.17, 40.98, 41.59, 40.79],
    ['2023/04/18', 40.71, 42.45, 42.95, 40.44],
    ['2023/04/19', 42.42, 43.3, 43.39, 42.4],
    ['2023/04/20', 42.61, 43.93, 43.97, 42.45],
    ['2023/04/21', 43.55, 44.17, 44.94, 43.4],
    ['2023/04/24', 44.16, 44.94, 44.94, 43.32],
    ['2023/04/25', 44.95, 42.62, 45.59, 42.37],
    ['2023/04/26', 42.62, 42.92, 43.32, 42.33],
    ['2023/04/27', 43.0, 42.43, 43.1, 41.83],
    ['2023/04/28', 42.06, 42.38, 42.71, 41.32],
    ['2023/05/01', 42.15, 42.27, 42.27, 41.07],
    ['2023/05/02', 41.75, 42.59, 42.88, 40.78],
    ['2023/05/03', 42.16, 43.04, 43.46, 41.74],
    ['2023/05/04', 42.81, 42.24, 42.81, 41.7],
    ['2023/05/05', 42.54, 42.04, 42.57, 41.71],
    ['2023/05/08', 42.04, 41.81, 42.07, 41.05],
    ['2023/05/09', 41.24, 41.26, 41.67, 39.98],
    ['2023/05/10', 41.29, 40.24, 41.99, 40.1],
    ['2023/05/11', 39.89, 40.19, 40.3, 39.24],
    ['2023/05/12', 40.3, 40.55, 40.93, 39.85],
    ['2023/05/15', 40.28, 41.15, 41.15, 40.11],
    ['2023/05/16', 40.61, 40.03, 40.7, 39.52],
    ['2023/05/17', 39.88, 41.28, 41.52, 39.75],
    ['2023/05/18', 41.09, 40.34, 41.27, 39.86],
    ['2023/05/19', 40.77, 40.88, 41.16, 39.8],
    ['2023/05/22', 40.87, 38.26, 40.89, 38.22],
    ['2023/05/23', 38.2, 38.87, 39.26, 38.0],
    ['2023/05/24', 38.82, 37.94, 38.83, 37.81],
    ['2023/05/25', 37.95, 38.37, 39.02, 37.66],
    ['2023/05/26', 38.52, 38.26, 39.1, 38.06],
    ['2023/05/30', 38.26, 37.54, 38.27, 37.1],
    ['2023/05/31', 37.14, 37.97, 38.38, 36.84],
    ['2023/06/01', 37.61, 37.88, 38.56, 37.42],
    ['2023/06/02', 38.15, 39.56, 39.96, 37.95],
    ['2023/06/05', 39.88, 38.29, 39.88, 37.86],
    ['2023/06/06', 38.99, 38.86, 39.07, 38.37],
    ['2023/06/07', 38.8, 39.27, 39.84, 38.56],
    ['2023/06/08', 39.51, 40.55, 40.71, 39.46],
    ['2023/06/09', 44.84, 47.07, 47.09, 44.25],
    ['2023/06/12', 48.62, 50.67, 52.72, 48.5],
    ['2023/06/13', 50.09, 50.1, 51.0, 49.62],
    ['2023/06/14', 49.8, 49.86, 50.67, 49.31],
    ['2023/06/15', 49.69, 50.82, 50.93, 49.69],
    ['2023/06/16', 50.43, 54.91, 54.97, 50.13],
    ['2023/06/20', 54.93, 57.42, 57.9, 54.47],
    ['2023/06/21', 57.33, 56.35, 58.29, 56.35],
    ['2023/06/22', 55.84, 56.23, 58.34, 55.26],
    ['2023/06/23', 56.48, 53.95, 57.84, 52.64],
    ['2023/06/26', 53.93, 56.94, 57.45, 53.76],
    ['2023/06/27', 56.69, 57.44, 59.12, 56.69],
    ['2023/06/28', 57.23, 58.39, 59.0, 57.23],
    ['2023/06/29', 58.4, 58.49, 59.19, 57.42],
    ['2023/06/30', 58.91, 58.99, 60.0, 57.88],
    ['2023/07/03', 59.0, 59.14, 59.44, 58.52],
    ['2023/07/05', 59.16, 60.66, 60.82, 58.61],
    ['2023/07/06', 60.06, 61.95, 62.27, 59.28],
    ['2023/07/07', 62.0, 62.92, 64.0, 61.79],
    ['2023/07/10', 63.08, 61.94, 63.9, 61.57],
    ['2023/07/11', 62.0, 62.79, 63.5, 62.0],
    ['2023/07/12', 62.88, 62.53, 63.05, 62.05],
    ['2023/07/13', 62.55, 63.42, 63.51, 62.07],
    ['2023/07/14', 63.86, 62.46, 63.86, 62.3],
    ['2023/07/17', 62.15, 62.31, 63.01, 62.15],
    ['2023/07/18', 61.94, 62.08, 62.79, 61.17],
    ['2023/07/19', 61.99, 63.64, 63.64, 61.65],
    ['2023/07/20', 63.5, 63.77, 64.11, 62.63],
    ['2023/07/21', 63.77, 63.09, 63.99, 62.57],
    ['2023/07/24', 63.07, 63.34, 63.76, 62.66],
    ['2023/07/25', 63.16, 62.85, 63.87, 62.53],
    ['2023/07/26', 62.94, 64.06, 64.07, 62.94],
    ['2023/07/27', 64.08, 63.55, 64.75, 63.03],
    ['2023/07/28', 63.55, 63.62, 64.15, 63.55],
    ['2023/07/31', 63.6, 62.77, 63.9, 62.45],
    ['2023/08/01', 62.45, 63.89, 64.17, 62.45],
    ['2023/08/02', 64.0, 63.61, 64.54, 63.48],
    ['2023/08/03', 63.59, 63.71, 64.61, 63.51],
    ['2023/08/04', 63.6, 63.7, 63.92, 62.87],
    ['2023/08/07', 63.85, 63.69, 64.17, 63.46],
    ['2023/08/08', 63.67, 64.32, 64.53, 63.46],
    ['2023/08/09', 64.05, 64.0, 64.69, 63.6],
]);
var volumes = [
    8600.0,
    14400.0,
    8400.0,
    16800.0,
    3900.0,
    4400.0,
    8500.0,
    16800.0,
    5800.0,
    7500.0,
    7300.0,
    10100.0,
    4100.0,
    2700.0,
    15400.0,
    5700.0,
    2900.0,
    9300.0,
    4600.0,
    4800.0,
    3600.0,
    8100.0,
    5300.0,
    7000.0,
    4200.0,
    20400.0,
    9300.0,
    9500.0,
    4700.0,
    4400.0,
    12000.0,
    9300.0,
    7600.0,
    6100.0,
    6600.0,
    10900.0,
    7600.0,
    10100.0,
    10000.0,
    13500.0,
    21200.0,
    8700.0,
    14300.0,
    4700.0,
    23800.0,
    69200.0,
    13500.0,
    15000.0,
    6300.0,
    15200.0,
    10500.0,
    11500.0,
    7000.0,
    14100.0,
    5800.0,
    24900.0,
    11900.0,
    14900.0,
    14600.0,
    8000.0,
    5200.0,
    3900.0,
    15600.0,
    12500.0,
    4900.0,
    6400.0,
    7600.0,
    12000.0,
    3900.0,
    4000.0,
    3100.0,
    3700.0,
    6700.0,
    4100.0,
    1400.0,
    11100.0,
    4600.0,
    13800.0,
    7000.0,
    3300.0,
    6200.0,
    5100.0,
    21800.0,
    10600.0,
    26500.0,
    6900.0,
    21500.0,
    11400.0,
    7800.0,
    7800.0,
    4400.0,
    5000.0,
    4600.0,
    5200.0,
    3000.0,
    2800.0,
    4700.0,
    6400.0,
    2800.0,
    12900.0,
    8800.0,
    7500.0,
    6600.0,
    22000.0,
    10600.0,
    8300.0,
    24500.0,
    16100.0,
    7000.0,
    4700.0,
    7600.0,
    6400.0,
    6200.0,
    6900.0,
    2600.0,
    33900.0,
    14800.0,
    22300.0,
    17800.0,
    16300.0,
    11000.0,
    8600.0,
    13900.0,
    36600.0,
    17200.0,
    8300.0,
    11500.0,
    12500.0,
    7100.0,
    5300.0,
    6400.0,
    5300.0,
    5700.0,
    5400.0,
    9000.0,
    6100.0,
    17500.0,
    7600.0,
    6000.0,
    17300.0,
    13300.0,
    9000.0,
    17200.0,
    16400.0,
    33100.0,
    24400.0,
    26100.0,
    15900.0,
    13700.0,
    20300.0,
    43100.0,
    27100.0,
    35100.0,
    61900.0,
    105000.0,
    48900.0,
    34500.0,
    36800.0,
    27600.0,
    13000.0,
    26800.0,
    21000.0,
    11300.0,
    15300.0,
    14400.0,
    24200.0,
    31800.0,
    25500.0,
    18200.0,
    37400.0,
    15300.0,
    53300.0,
    10500.0,
    22000.0,
    45100.0,
    25200.0,
    44200.0,
    17600.0,
    8500.0,
    16400.0,
    16000.0,
    10300.0,
    16400.0,
    12100.0,
    11300.0,
    13700.0,
    8900.0,
    11000.0,
    10400.0,
    9100.0,
    11900.0,
    19200.0,
    11500.0,
    15400.0,
    13300.0,
    29600.0,
    17900.0,
    12900.0,
    15200.0,
    10800.0,
    16100.0,
    8100.0,
    17500.0,
    18500.0,
    16800.0,
    21700.0,
    20500.0,
    22100.0,
    112200.0,
    104800.0,
    71000.0,
    75900.0,
    43300.0,
    107000.0,
    82100.0,
    75900.0,
    64300.0,
    695000.0,
    87300.0,
    55500.0,
    51900.0,
    41800.0,
    133900.0,
    21100.0,
    42900.0,
    68600.0,
    56900.0,
    53600.0,
    49100.0,
    40800.0,
    31800.0,
    34400.0,
    54100.0,
    63400.0,
    39200.0,
    37600.0,
    27400.0,
    23700.0,
    23700.0,
    31500.0,
    22600.0,
    13400.0,
    29800.0,
    27400.0,
    15100.0,
    10100.0,
    22600.0,
    19700.0,
    22500.0,
    28700.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "ODC",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);