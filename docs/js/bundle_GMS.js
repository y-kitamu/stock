/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_GMS");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/05', 52.25, 52.68, 52.69, 51.44],
    ['2022/08/08', 52.85, 53.03, 53.75, 52.38],
    ['2022/08/09', 52.76, 51.56, 52.76, 51.32],
    ['2022/08/10', 53.07, 53.16, 53.7, 52.98],
    ['2022/08/11', 53.49, 53.64, 54.46, 53.22],
    ['2022/08/12', 53.67, 54.74, 54.87, 53.48],
    ['2022/08/15', 54.11, 54.95, 54.95, 53.64],
    ['2022/08/16', 54.46, 55.1, 55.36, 54.06],
    ['2022/08/17', 54.07, 53.58, 54.19, 53.51],
    ['2022/08/18', 54.01, 54.73, 54.99, 53.7],
    ['2022/08/19', 54.14, 53.76, 54.54, 53.43],
    ['2022/08/22', 52.88, 52.89, 53.37, 52.42],
    ['2022/08/23', 53.06, 52.75, 53.69, 52.52],
    ['2022/08/24', 52.54, 52.99, 53.5, 52.27],
    ['2022/08/25', 53.09, 54.01, 54.61, 52.97],
    ['2022/08/26', 53.91, 51.14, 53.92, 51.09],
    ['2022/08/29', 50.59, 50.81, 51.45, 50.43],
    ['2022/08/30', 51.08, 49.75, 51.08, 49.39],
    ['2022/08/31', 49.59, 48.2, 49.74, 48.2],
    ['2022/09/01', 52.33, 46.78, 52.82, 45.62],
    ['2022/09/02', 47.45, 46.05, 47.67, 45.73],
    ['2022/09/06', 46.34, 45.67, 46.53, 45.01],
    ['2022/09/07', 45.09, 45.21, 45.51, 42.8],
    ['2022/09/08', 44.23, 44.7, 44.79, 43.42],
    ['2022/09/09', 45.31, 45.65, 46.36, 44.84],
    ['2022/09/12', 46.18, 46.29, 46.8, 45.93],
    ['2022/09/13', 44.9, 43.05, 45.08, 43.01],
    ['2022/09/14', 43.06, 42.42, 43.6, 41.83],
    ['2022/09/15', 42.07, 43.13, 43.79, 41.75],
    ['2022/09/16', 43.11, 43.77, 44.17, 42.63],
    ['2022/09/19', 43.15, 44.0, 44.95, 43.15],
    ['2022/09/20', 43.47, 42.92, 43.47, 42.39],
    ['2022/09/21', 43.47, 42.44, 43.73, 42.16],
    ['2022/09/22', 42.19, 41.06, 42.31, 40.85],
    ['2022/09/23', 40.34, 39.45, 40.34, 38.95],
    ['2022/09/26', 39.28, 38.52, 39.89, 38.31],
    ['2022/09/27', 39.22, 39.09, 40.08, 38.83],
    ['2022/09/28', 39.45, 40.7, 40.96, 39.15],
    ['2022/09/29', 39.78, 39.9, 40.29, 39.07],
    ['2022/09/30', 40.04, 40.01, 40.85, 39.51],
    ['2022/10/03', 40.95, 41.65, 41.95, 40.41],
    ['2022/10/04', 42.78, 44.2, 44.2, 42.78],
    ['2022/10/05', 44.44, 44.95, 45.17, 43.94],
    ['2022/10/06', 44.42, 44.46, 45.32, 44.3],
    ['2022/10/07', 43.75, 42.78, 43.88, 42.41],
    ['2022/10/10', 43.08, 43.39, 43.54, 42.78],
    ['2022/10/11', 43.23, 42.9, 43.77, 42.44],
    ['2022/10/12', 42.93, 42.18, 42.93, 41.69],
    ['2022/10/13', 41.17, 42.69, 43.12, 40.17],
    ['2022/10/14', 43.02, 40.79, 43.04, 40.75],
    ['2022/10/17', 41.74, 42.38, 42.85, 41.74],
    ['2022/10/18', 43.34, 43.8, 44.42, 43.21],
    ['2022/10/19', 43.26, 42.69, 43.72, 42.01],
    ['2022/10/20', 42.55, 41.45, 43.25, 41.04],
    ['2022/10/21', 41.77, 43.61, 43.72, 41.61],
    ['2022/10/24', 43.83, 44.45, 44.59, 43.4],
    ['2022/10/25', 44.45, 46.34, 46.94, 44.45],
    ['2022/10/26', 46.8, 46.37, 47.57, 45.8],
    ['2022/10/27', 46.75, 46.61, 47.78, 46.41],
    ['2022/10/28', 46.7, 47.47, 47.93, 46.31],
    ['2022/10/31', 47.24, 47.2, 47.86, 46.93],
    ['2022/11/01', 47.92, 47.76, 47.94, 46.84],
    ['2022/11/02', 47.59, 45.46, 48.05, 45.38],
    ['2022/11/03', 44.56, 44.61, 45.41, 44.1],
    ['2022/11/04', 45.34, 45.4, 46.25, 44.49],
    ['2022/11/07', 45.73, 45.74, 45.81, 44.92],
    ['2022/11/08', 46.16, 46.3, 46.96, 45.73],
    ['2022/11/09', 45.69, 45.92, 46.68, 45.52],
    ['2022/11/10', 48.61, 50.53, 50.77, 48.58],
    ['2022/11/11', 50.62, 50.53, 51.85, 50.25],
    ['2022/11/14', 49.96, 49.86, 51.11, 49.56],
    ['2022/11/15', 51.23, 50.61, 51.47, 50.17],
    ['2022/11/16', 50.38, 49.33, 50.38, 49.17],
    ['2022/11/17', 48.39, 48.69, 48.74, 48.02],
    ['2022/11/18', 49.63, 49.67, 49.9, 49.12],
    ['2022/11/21', 49.45, 49.18, 49.67, 48.98],
    ['2022/11/22', 49.38, 49.34, 50.18, 49.0],
    ['2022/11/23', 49.29, 49.0, 50.0, 48.99],
    ['2022/11/25', 49.0, 49.09, 49.58, 48.98],
    ['2022/11/28', 48.71, 48.17, 49.15, 47.72],
    ['2022/11/29', 48.16, 48.09, 48.63, 48.01],
    ['2022/11/30', 48.32, 49.1, 49.13, 46.5],
    ['2022/12/01', 49.56, 50.11, 50.41, 49.52],
    ['2022/12/02', 49.2, 50.17, 50.26, 49.2],
    ['2022/12/05', 49.61, 48.33, 49.61, 48.03],
    ['2022/12/06', 48.15, 47.88, 48.92, 47.42],
    ['2022/12/07', 47.79, 49.38, 49.6, 47.79],
    ['2022/12/08', 54.3, 54.99, 56.79, 52.5],
    ['2022/12/09', 54.28, 53.75, 55.55, 53.73],
    ['2022/12/12', 54.48, 55.35, 55.79, 54.28],
    ['2022/12/13', 58.03, 56.65, 58.72, 56.08],
    ['2022/12/14', 56.47, 53.7, 57.57, 53.68],
    ['2022/12/15', 52.57, 52.58, 52.85, 52.0],
    ['2022/12/16', 51.62, 52.58, 53.1, 51.3],
    ['2022/12/19', 52.39, 51.94, 53.18, 51.89],
    ['2022/12/20', 51.73, 52.42, 52.81, 51.44],
    ['2022/12/21', 53.04, 52.49, 53.5, 52.23],
    ['2022/12/22', 51.81, 51.08, 51.81, 50.28],
    ['2022/12/23', 50.64, 50.88, 51.24, 50.51],
    ['2022/12/27', 51.06, 50.7, 51.32, 50.66],
    ['2022/12/28', 50.87, 49.52, 51.01, 49.36],
    ['2022/12/29', 49.98, 50.85, 51.37, 49.98],
    ['2022/12/30', 50.33, 49.8, 50.76, 49.72],
    ['2023/01/03', 50.71, 51.0, 51.38, 50.17],
    ['2023/01/04', 51.81, 51.42, 52.34, 51.08],
    ['2023/01/05', 50.76, 49.98, 51.05, 49.51],
    ['2023/01/06', 50.77, 51.59, 51.87, 50.33],
    ['2023/01/09', 51.99, 51.63, 52.57, 51.42],
    ['2023/01/10', 51.44, 52.08, 52.14, 50.96],
    ['2023/01/11', 52.48, 53.22, 53.76, 52.41],
    ['2023/01/12', 53.46, 52.87, 53.58, 52.63],
    ['2023/01/13', 52.1, 53.18, 53.8, 52.1],
    ['2023/01/17', 53.08, 53.22, 53.59, 52.89],
    ['2023/01/18', 53.48, 53.56, 54.68, 53.22],
    ['2023/01/19', 52.97, 52.03, 53.19, 51.43],
    ['2023/01/20', 52.27, 53.01, 53.01, 51.53],
    ['2023/01/23', 53.17, 53.72, 54.1, 53.17],
    ['2023/01/24', 54.13, 54.05, 54.56, 53.28],
    ['2023/01/25', 53.35, 55.81, 55.82, 53.31],
    ['2023/01/26', 56.21, 57.06, 57.06, 55.65],
    ['2023/01/27', 56.54, 56.96, 57.9, 56.54],
    ['2023/01/30', 56.21, 56.43, 57.27, 56.19],
    ['2023/01/31', 56.69, 59.32, 59.32, 56.69],
    ['2023/02/01', 59.09, 60.0, 60.37, 58.8],
    ['2023/02/02', 60.65, 61.34, 61.76, 59.91],
    ['2023/02/03', 60.33, 61.04, 61.71, 60.33],
    ['2023/02/06', 60.49, 60.02, 60.67, 59.55],
    ['2023/02/07', 59.44, 60.6, 61.0, 59.21],
    ['2023/02/08', 59.97, 59.61, 60.38, 59.03],
    ['2023/02/09', 60.3, 59.85, 61.28, 59.79],
    ['2023/02/10', 59.64, 59.9, 60.38, 59.55],
    ['2023/02/13', 60.1, 61.08, 61.26, 59.86],
    ['2023/02/14', 60.6, 60.74, 61.18, 59.82],
    ['2023/02/15', 60.3, 61.49, 61.49, 59.93],
    ['2023/02/16', 60.34, 61.45, 61.93, 60.28],
    ['2023/02/17', 61.54, 61.13, 61.54, 60.66],
    ['2023/02/21', 59.94, 58.36, 60.36, 57.89],
    ['2023/02/22', 58.47, 59.1, 59.35, 58.47],
    ['2023/02/23', 59.5, 59.74, 59.93, 59.02],
    ['2023/02/24', 58.81, 60.16, 60.16, 58.78],
    ['2023/02/27', 60.98, 61.05, 61.23, 60.86],
    ['2023/02/28', 60.6, 60.71, 61.53, 60.6],
    ['2023/03/01', 60.54, 62.1, 62.19, 60.54],
    ['2023/03/02', 59.0, 58.93, 59.44, 56.38],
    ['2023/03/03', 59.74, 61.76, 61.77, 59.05],
    ['2023/03/06', 62.0, 59.34, 62.13, 58.96],
    ['2023/03/07', 59.46, 59.11, 59.81, 58.62],
    ['2023/03/08', 59.14, 59.5, 60.12, 58.71],
    ['2023/03/09', 59.21, 57.88, 59.75, 57.82],
    ['2023/03/10', 57.71, 56.2, 57.71, 55.23],
    ['2023/03/13', 55.0, 53.44, 55.45, 53.33],
    ['2023/03/14', 55.14, 53.91, 55.6, 52.95],
    ['2023/03/15', 52.53, 51.9, 53.04, 51.31],
    ['2023/03/16', 51.14, 53.75, 54.03, 50.93],
    ['2023/03/17', 53.37, 52.84, 53.89, 52.32],
    ['2023/03/20', 53.7, 53.6, 54.84, 53.59],
    ['2023/03/21', 54.96, 55.24, 55.8, 54.47],
    ['2023/03/22', 55.28, 54.16, 56.57, 54.15],
    ['2023/03/23', 54.63, 53.85, 55.45, 53.15],
    ['2023/03/24', 52.94, 54.13, 54.28, 52.13],
    ['2023/03/27', 54.72, 55.56, 56.02, 54.72],
    ['2023/03/28', 55.21, 55.52, 56.01, 55.1],
    ['2023/03/29', 56.24, 56.01, 56.29, 55.39],
    ['2023/03/30', 56.49, 56.3, 56.85, 56.3],
    ['2023/03/31', 56.77, 57.89, 58.07, 56.77],
    ['2023/04/03', 57.75, 57.57, 58.17, 56.51],
    ['2023/04/04', 57.86, 54.43, 57.86, 54.24],
    ['2023/04/05', 53.82, 52.89, 54.06, 52.26],
    ['2023/04/06', 53.09, 52.83, 53.12, 52.0],
    ['2023/04/10', 52.62, 53.66, 54.28, 52.33],
    ['2023/04/11', 54.19, 54.6, 55.23, 54.02],
    ['2023/04/12', 55.36, 55.37, 55.91, 55.11],
    ['2023/04/13', 55.54, 55.64, 56.1, 54.87],
    ['2023/04/14', 55.83, 55.92, 56.53, 55.17],
    ['2023/04/17', 56.06, 56.33, 56.38, 55.7],
    ['2023/04/18', 56.73, 57.23, 57.27, 56.64],
    ['2023/04/19', 57.06, 57.18, 57.34, 56.56],
    ['2023/04/20', 56.88, 57.77, 57.82, 56.69],
    ['2023/04/21', 57.78, 56.35, 57.85, 56.31],
    ['2023/04/24', 56.32, 57.05, 57.34, 56.23],
    ['2023/04/25', 56.27, 56.02, 56.79, 55.94],
    ['2023/04/26', 55.38, 54.85, 56.16, 54.59],
    ['2023/04/27', 54.99, 56.43, 56.48, 54.99],
    ['2023/04/28', 56.18, 58.06, 58.2, 56.18],
    ['2023/05/01', 57.92, 58.1, 58.79, 57.75],
    ['2023/05/02', 57.65, 57.25, 57.82, 56.05],
    ['2023/05/03', 57.45, 57.46, 58.57, 57.27],
    ['2023/05/04', 56.93, 55.9, 57.01, 55.88],
    ['2023/05/05', 56.91, 57.66, 57.92, 56.55],
    ['2023/05/08', 57.69, 58.33, 58.62, 57.52],
    ['2023/05/09', 58.28, 58.97, 59.42, 58.28],
    ['2023/05/10', 59.15, 59.61, 60.06, 58.79],
    ['2023/05/11', 58.88, 59.88, 59.98, 58.58],
    ['2023/05/12', 59.88, 59.96, 60.65, 59.39],
    ['2023/05/15', 60.06, 61.57, 61.85, 59.76],
    ['2023/05/16', 60.96, 62.0, 62.29, 60.7],
    ['2023/05/17', 62.39, 63.36, 63.63, 61.82],
    ['2023/05/18', 63.05, 64.76, 65.11, 63.05],
    ['2023/05/19', 65.15, 64.42, 65.43, 63.72],
    ['2023/05/22', 64.51, 64.36, 65.24, 64.08],
    ['2023/05/23', 64.0, 63.98, 64.74, 63.19],
    ['2023/05/24', 63.81, 63.99, 64.33, 63.25],
    ['2023/05/25', 63.87, 65.2, 65.65, 63.87],
    ['2023/05/26', 65.19, 66.67, 66.79, 65.11],
    ['2023/05/30', 67.07, 65.67, 67.55, 65.3],
    ['2023/05/31', 65.15, 63.33, 65.3, 62.47],
    ['2023/06/01', 63.47, 63.87, 64.16, 62.28],
    ['2023/06/02', 65.02, 66.18, 66.26, 64.61],
    ['2023/06/05', 65.18, 64.53, 65.18, 63.07],
    ['2023/06/06', 64.04, 66.63, 66.75, 64.04],
    ['2023/06/07', 67.22, 67.72, 68.37, 67.22],
    ['2023/06/08', 67.6, 68.67, 68.86, 67.38],
    ['2023/06/09', 68.49, 68.01, 68.5, 67.63],
    ['2023/06/12', 68.0, 67.88, 68.32, 67.51],
    ['2023/06/13', 68.18, 67.76, 68.85, 67.65],
    ['2023/06/14', 67.74, 66.68, 68.41, 66.63],
    ['2023/06/15', 66.43, 67.13, 68.03, 66.43],
    ['2023/06/16', 67.6, 66.01, 67.9, 66.01],
    ['2023/06/20', 65.76, 67.4, 67.45, 65.76],
    ['2023/06/21', 67.4, 67.59, 68.15, 66.8],
    ['2023/06/22', 67.57, 68.09, 69.25, 67.3],
    ['2023/06/23', 68.19, 67.83, 69.96, 67.79],
    ['2023/06/26', 66.58, 67.75, 70.47, 66.5],
    ['2023/06/27', 68.0, 71.0, 72.18, 68.0],
    ['2023/06/28', 71.0, 70.02, 71.69, 69.88],
    ['2023/06/29', 70.0, 70.28, 71.34, 69.96],
    ['2023/06/30', 70.94, 69.2, 71.57, 68.85],
    ['2023/07/03', 68.99, 69.79, 70.21, 68.99],
    ['2023/07/05', 68.93, 68.89, 69.29, 68.08],
    ['2023/07/06', 68.26, 67.28, 68.26, 66.85],
    ['2023/07/07', 67.44, 68.14, 68.65, 67.34],
    ['2023/07/10', 67.96, 69.32, 69.37, 67.58],
    ['2023/07/11', 69.72, 69.43, 70.21, 69.05],
    ['2023/07/12', 70.52, 70.43, 71.11, 70.02],
    ['2023/07/13', 70.48, 71.05, 71.11, 70.13],
    ['2023/07/14', 70.76, 70.74, 70.81, 69.84],
    ['2023/07/17', 70.56, 70.84, 71.6, 70.5],
    ['2023/07/18', 71.23, 72.7, 72.75, 71.23],
    ['2023/07/19', 72.74, 72.43, 73.43, 71.91],
    ['2023/07/20', 72.84, 72.11, 72.84, 71.68],
    ['2023/07/21', 72.6, 72.47, 73.14, 72.0],
    ['2023/07/24', 72.58, 72.9, 73.63, 72.58],
    ['2023/07/25', 72.46, 73.22, 74.09, 72.46],
    ['2023/07/26', 73.06, 73.1, 74.32, 72.74],
    ['2023/07/27', 73.42, 72.75, 74.03, 72.54],
    ['2023/07/28', 73.28, 72.94, 74.09, 72.62],
    ['2023/07/31', 73.0, 73.69, 73.8, 72.99],
    ['2023/08/01', 72.9, 74.8, 75.15, 72.9],
    ['2023/08/02', 73.92, 74.42, 74.7, 73.66],
    ['2023/08/03', 73.86, 74.13, 74.24, 73.12],
]);
var volumes = [
    202900.0,
    225500.0,
    160900.0,
    142700.0,
    158000.0,
    111500.0,
    131900.0,
    124500.0,
    164600.0,
    117500.0,
    124100.0,
    128300.0,
    145700.0,
    116200.0,
    138400.0,
    145800.0,
    78500.0,
    162100.0,
    241300.0,
    452900.0,
    294900.0,
    330700.0,
    413700.0,
    333800.0,
    271100.0,
    271600.0,
    240200.0,
    205500.0,
    308600.0,
    1107800.0,
    244700.0,
    239900.0,
    280200.0,
    225600.0,
    417800.0,
    282000.0,
    186200.0,
    532400.0,
    257600.0,
    681100.0,
    377400.0,
    276400.0,
    295400.0,
    196100.0,
    207700.0,
    163600.0,
    201400.0,
    325000.0,
    209600.0,
    170300.0,
    238100.0,
    181200.0,
    206000.0,
    329700.0,
    216900.0,
    159200.0,
    225500.0,
    178400.0,
    189200.0,
    184500.0,
    176000.0,
    182400.0,
    155300.0,
    158400.0,
    191300.0,
    262500.0,
    139000.0,
    131600.0,
    265400.0,
    173300.0,
    182500.0,
    141300.0,
    175800.0,
    145700.0,
    119300.0,
    97500.0,
    141200.0,
    129400.0,
    73400.0,
    150200.0,
    124900.0,
    273400.0,
    214800.0,
    140000.0,
    159200.0,
    167900.0,
    233700.0,
    537200.0,
    322600.0,
    356500.0,
    516200.0,
    610700.0,
    417700.0,
    1713400.0,
    274300.0,
    250300.0,
    185800.0,
    190300.0,
    117600.0,
    156200.0,
    155100.0,
    165300.0,
    250300.0,
    240400.0,
    215400.0,
    216200.0,
    154200.0,
    169200.0,
    157400.0,
    202000.0,
    187000.0,
    168300.0,
    186300.0,
    206400.0,
    165400.0,
    219700.0,
    177300.0,
    197600.0,
    176000.0,
    204500.0,
    158200.0,
    166900.0,
    539500.0,
    283900.0,
    228000.0,
    229700.0,
    184800.0,
    192600.0,
    175400.0,
    168100.0,
    134600.0,
    228200.0,
    169300.0,
    196300.0,
    155000.0,
    154700.0,
    204900.0,
    254000.0,
    170900.0,
    189600.0,
    226600.0,
    364000.0,
    359100.0,
    522700.0,
    344300.0,
    298100.0,
    330700.0,
    280000.0,
    239900.0,
    315000.0,
    279200.0,
    301600.0,
    447200.0,
    254300.0,
    1005400.0,
    249700.0,
    254000.0,
    246800.0,
    173600.0,
    227900.0,
    285900.0,
    232500.0,
    171300.0,
    218100.0,
    293600.0,
    193500.0,
    221600.0,
    276700.0,
    208600.0,
    304900.0,
    193300.0,
    186500.0,
    203800.0,
    207100.0,
    191100.0,
    122000.0,
    158800.0,
    283500.0,
    169400.0,
    147300.0,
    158000.0,
    166100.0,
    113400.0,
    207300.0,
    124400.0,
    122700.0,
    183300.0,
    147100.0,
    136900.0,
    113400.0,
    142000.0,
    162000.0,
    186700.0,
    203000.0,
    225600.0,
    238900.0,
    227800.0,
    283700.0,
    238300.0,
    235700.0,
    193000.0,
    144300.0,
    239600.0,
    203200.0,
    237300.0,
    294100.0,
    342200.0,
    241100.0,
    255400.0,
    259000.0,
    276100.0,
    180700.0,
    236900.0,
    625100.0,
    625200.0,
    438900.0,
    917600.0,
    2239900.0,
    435400.0,
    288100.0,
    486500.0,
    2323900.0,
    962600.0,
    1374200.0,
    683200.0,
    967600.0,
    315100.0,
    155200.0,
    362900.0,
    266700.0,
    323900.0,
    326100.0,
    242300.0,
    228500.0,
    250200.0,
    178300.0,
    226100.0,
    261200.0,
    349700.0,
    204300.0,
    357100.0,
    374200.0,
    213900.0,
    140200.0,
    191400.0,
    138200.0,
    154700.0,
    195800.0,
    195900.0,
    190300.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "GMS",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);