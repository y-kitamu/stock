/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_NVT");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 34.31, 34.53, 34.82, 34.04],
    ['2022/08/04', 34.6, 34.06, 34.6, 34.05],
    ['2022/08/05', 33.82, 34.11, 34.26, 33.54],
    ['2022/08/08', 34.61, 34.27, 35.02, 34.26],
    ['2022/08/09', 34.12, 33.89, 34.29, 33.71],
    ['2022/08/10', 34.55, 34.99, 35.17, 34.54],
    ['2022/08/11', 35.39, 35.08, 35.73, 35.01],
    ['2022/08/12', 35.03, 35.6, 35.7, 35.01],
    ['2022/08/15', 35.35, 35.81, 35.93, 35.35],
    ['2022/08/16', 35.7, 36.52, 36.58, 35.7],
    ['2022/08/17', 36.04, 35.8, 36.21, 35.7],
    ['2022/08/18', 35.73, 36.31, 36.39, 35.64],
    ['2022/08/19', 36.1, 35.48, 36.18, 35.39],
    ['2022/08/22', 34.89, 34.54, 34.99, 34.49],
    ['2022/08/23', 34.57, 34.53, 34.87, 34.36],
    ['2022/08/24', 34.53, 34.57, 34.78, 34.44],
    ['2022/08/25', 34.72, 34.84, 34.9, 34.61],
    ['2022/08/26', 34.79, 33.4, 34.79, 33.38],
    ['2022/08/29', 33.06, 33.05, 33.21, 32.77],
    ['2022/08/30', 33.29, 32.71, 33.29, 32.48],
    ['2022/08/31', 32.98, 32.4, 32.98, 32.17],
    ['2022/09/01', 32.17, 32.27, 32.29, 31.56],
    ['2022/09/02', 32.7, 32.12, 32.98, 32.0],
    ['2022/09/06', 32.38, 32.23, 32.38, 31.69],
    ['2022/09/07', 32.22, 33.12, 33.2, 32.18],
    ['2022/09/08', 32.79, 33.88, 33.9, 32.65],
    ['2022/09/09', 34.12, 34.64, 34.73, 34.03],
    ['2022/09/12', 34.85, 34.62, 35.04, 34.45],
    ['2022/09/13', 34.02, 33.21, 34.17, 33.13],
    ['2022/09/14', 33.37, 33.12, 33.37, 32.5],
    ['2022/09/15', 32.92, 33.21, 33.5, 32.77],
    ['2022/09/16', 32.65, 32.04, 32.65, 31.84],
    ['2022/09/19', 31.79, 32.76, 32.92, 31.75],
    ['2022/09/20', 32.43, 32.43, 32.54, 31.94],
    ['2022/09/21', 32.68, 31.68, 32.84, 31.66],
    ['2022/09/22', 31.8, 31.24, 31.8, 31.1],
    ['2022/09/23', 30.87, 30.96, 30.99, 30.26],
    ['2022/09/26', 30.72, 30.56, 31.22, 30.41],
    ['2022/09/27', 31.01, 30.29, 31.03, 29.96],
    ['2022/09/28', 30.54, 31.09, 31.28, 30.36],
    ['2022/09/29', 30.75, 31.0, 31.02, 30.23],
    ['2022/09/30', 31.1, 31.07, 31.61, 30.79],
    ['2022/10/03', 31.64, 32.04, 32.6, 31.56],
    ['2022/10/04', 32.67, 33.23, 33.36, 32.67],
    ['2022/10/05', 32.72, 33.24, 33.58, 32.62],
    ['2022/10/06', 33.04, 32.78, 33.18, 32.61],
    ['2022/10/07', 32.35, 31.56, 32.36, 31.42],
    ['2022/10/10', 31.8, 31.46, 31.89, 31.26],
    ['2022/10/11', 31.46, 31.64, 31.93, 31.21],
    ['2022/10/12', 31.72, 31.24, 31.72, 31.16],
    ['2022/10/13', 30.46, 32.5, 32.75, 30.09],
    ['2022/10/14', 32.72, 31.72, 33.09, 31.67],
    ['2022/10/17', 32.32, 32.61, 32.75, 32.25],
    ['2022/10/18', 33.4, 33.09, 33.5, 32.75],
    ['2022/10/19', 32.65, 32.39, 32.89, 32.05],
    ['2022/10/20', 32.36, 31.64, 32.77, 31.55],
    ['2022/10/21', 31.69, 32.79, 32.82, 31.63],
    ['2022/10/24', 33.12, 33.36, 33.58, 32.71],
    ['2022/10/25', 33.28, 33.98, 34.21, 33.12],
    ['2022/10/26', 34.22, 33.9, 34.48, 33.9],
    ['2022/10/27', 34.26, 33.85, 34.41, 33.71],
    ['2022/10/28', 36.2, 36.16, 36.6, 35.13],
    ['2022/10/31', 36.53, 36.07, 36.78, 36.07],
    ['2022/11/01', 36.41, 36.87, 37.1, 36.21],
    ['2022/11/02', 36.69, 35.87, 37.11, 35.83],
    ['2022/11/03', 35.27, 35.95, 36.5, 34.98],
    ['2022/11/04', 36.73, 37.85, 37.88, 36.57],
    ['2022/11/07', 37.81, 37.56, 38.02, 37.3],
    ['2022/11/08', 37.58, 38.05, 38.51, 37.53],
    ['2022/11/09', 37.79, 37.8, 38.34, 37.74],
    ['2022/11/10', 39.07, 39.03, 39.38, 38.39],
    ['2022/11/11', 39.05, 38.57, 39.5, 38.5],
    ['2022/11/14', 38.53, 38.46, 39.0, 38.34],
    ['2022/11/15', 39.12, 38.69, 39.16, 38.35],
    ['2022/11/16', 38.39, 38.49, 38.85, 38.31],
    ['2022/11/17', 38.04, 38.24, 38.29, 37.79],
    ['2022/11/18', 38.87, 38.91, 38.91, 38.39],
    ['2022/11/21', 38.9, 38.54, 39.05, 38.53],
    ['2022/11/22', 38.71, 39.52, 39.53, 38.59],
    ['2022/11/23', 39.45, 39.59, 39.94, 39.45],
    ['2022/11/25', 39.51, 39.71, 39.83, 39.51],
    ['2022/11/28', 39.38, 38.92, 39.74, 38.9],
    ['2022/11/29', 39.37, 39.01, 39.37, 38.76],
    ['2022/11/30', 39.05, 39.54, 39.55, 38.54],
    ['2022/12/01', 39.77, 39.74, 40.04, 39.41],
    ['2022/12/02', 39.21, 39.37, 39.65, 39.07],
    ['2022/12/05', 39.11, 38.77, 39.11, 38.72],
    ['2022/12/06', 38.92, 38.52, 39.05, 38.05],
    ['2022/12/07', 38.41, 38.51, 38.98, 38.41],
    ['2022/12/08', 38.85, 38.85, 39.0, 38.59],
    ['2022/12/09', 38.76, 38.54, 39.03, 38.46],
    ['2022/12/12', 38.54, 39.21, 39.21, 38.52],
    ['2022/12/13', 39.66, 38.73, 39.79, 38.41],
    ['2022/12/14', 38.94, 38.45, 39.18, 38.03],
    ['2022/12/15', 37.99, 37.14, 38.02, 36.95],
    ['2022/12/16', 36.73, 36.62, 36.9, 36.27],
    ['2022/12/19', 36.7, 36.83, 37.25, 36.69],
    ['2022/12/20', 36.86, 37.2, 37.63, 36.82],
    ['2022/12/21', 37.59, 38.2, 38.25, 37.44],
    ['2022/12/22', 37.8, 37.53, 37.8, 37.01],
    ['2022/12/23', 37.46, 37.77, 38.06, 37.39],
    ['2022/12/27', 37.73, 37.91, 38.24, 37.67],
    ['2022/12/28', 37.98, 37.34, 38.2, 37.31],
    ['2022/12/29', 37.68, 37.74, 38.06, 37.55],
    ['2022/12/30', 37.5, 38.02, 38.07, 37.4],
    ['2023/01/03', 38.1, 37.63, 38.32, 37.35],
    ['2023/01/04', 37.79, 38.05, 38.24, 37.72],
    ['2023/01/05', 37.98, 37.28, 38.13, 37.07],
    ['2023/01/06', 37.55, 38.29, 38.37, 37.41],
    ['2023/01/09', 38.54, 38.41, 39.46, 38.35],
    ['2023/01/10', 38.33, 38.66, 38.67, 38.25],
    ['2023/01/11', 38.76, 38.76, 38.98, 38.74],
    ['2023/01/12', 38.96, 39.19, 39.61, 38.72],
    ['2023/01/13', 38.92, 39.27, 39.32, 38.84],
    ['2023/01/17', 39.39, 39.39, 39.55, 39.07],
    ['2023/01/18', 39.57, 38.78, 39.68, 38.78],
    ['2023/01/19', 38.56, 38.14, 38.67, 37.87],
    ['2023/01/20', 38.25, 38.58, 38.58, 37.75],
    ['2023/01/23', 38.67, 38.42, 38.76, 38.2],
    ['2023/01/24', 38.11, 38.52, 39.0, 37.93],
    ['2023/01/25', 38.2, 38.48, 38.68, 37.88],
    ['2023/01/26', 38.81, 38.7, 39.02, 38.41],
    ['2023/01/27', 38.65, 38.74, 39.22, 38.6],
    ['2023/01/30', 38.48, 38.71, 39.09, 38.48],
    ['2023/01/31', 38.97, 39.46, 39.5, 38.67],
    ['2023/02/01', 39.33, 39.45, 39.65, 38.86],
    ['2023/02/02', 39.59, 39.08, 39.63, 38.86],
    ['2023/02/03', 38.82, 39.96, 40.11, 38.72],
    ['2023/02/06', 39.6, 40.14, 40.39, 39.55],
    ['2023/02/07', 42.28, 43.12, 43.21, 41.05],
    ['2023/02/08', 43.78, 44.36, 44.45, 43.12],
    ['2023/02/09', 44.47, 44.29, 44.69, 44.09],
    ['2023/02/10', 44.38, 44.24, 44.67, 43.97],
    ['2023/02/13', 44.24, 45.02, 45.15, 43.99],
    ['2023/02/14', 44.94, 45.26, 45.48, 44.72],
    ['2023/02/15', 44.86, 45.34, 45.73, 44.77],
    ['2023/02/16', 44.83, 45.48, 45.9, 44.68],
    ['2023/02/17', 45.42, 45.94, 46.09, 45.2],
    ['2023/02/21', 45.44, 45.12, 45.85, 44.75],
    ['2023/02/22', 45.22, 45.1, 45.74, 44.99],
    ['2023/02/23', 45.3, 45.64, 45.84, 45.09],
    ['2023/02/24', 45.25, 45.52, 45.75, 44.82],
    ['2023/02/27', 45.79, 45.28, 46.07, 45.1],
    ['2023/02/28', 45.28, 45.51, 45.8, 45.28],
    ['2023/03/01', 45.53, 45.81, 46.08, 45.4],
    ['2023/03/02', 45.53, 45.79, 45.79, 45.06],
    ['2023/03/03', 45.97, 45.93, 46.02, 45.49],
    ['2023/03/06', 45.84, 45.7, 46.22, 45.52],
    ['2023/03/07', 45.8, 45.73, 46.24, 45.45],
    ['2023/03/08', 45.99, 45.77, 46.32, 45.63],
    ['2023/03/09', 46.03, 44.61, 46.04, 44.57],
    ['2023/03/10', 44.33, 43.31, 44.64, 43.04],
    ['2023/03/13', 42.61, 42.11, 42.85, 41.82],
    ['2023/03/14', 43.51, 43.91, 44.46, 43.11],
    ['2023/03/15', 42.77, 40.79, 42.77, 40.5],
    ['2023/03/16', 40.46, 42.05, 42.09, 40.35],
    ['2023/03/17', 41.7, 40.85, 41.75, 40.64],
    ['2023/03/20', 41.39, 41.63, 41.85, 40.84],
    ['2023/03/21', 42.54, 42.29, 42.85, 41.89],
    ['2023/03/22', 42.33, 41.34, 42.42, 41.26],
    ['2023/03/23', 41.49, 40.76, 42.02, 40.48],
    ['2023/03/24', 40.25, 40.62, 40.79, 39.71],
    ['2023/03/27', 40.9, 41.17, 41.49, 40.8],
    ['2023/03/28', 41.21, 41.27, 41.56, 40.96],
    ['2023/03/29', 41.74, 41.81, 41.99, 41.34],
    ['2023/03/30', 42.09, 41.91, 42.26, 41.7],
    ['2023/03/31', 42.18, 42.63, 42.66, 41.93],
    ['2023/04/03', 43.46, 44.17, 44.83, 43.46],
    ['2023/04/04', 44.04, 41.29, 44.11, 40.93],
    ['2023/04/05', 41.1, 40.87, 41.17, 40.21],
    ['2023/04/06', 40.93, 41.41, 41.6, 40.54],
    ['2023/04/10', 41.23, 41.76, 41.86, 41.03],
    ['2023/04/11', 42.02, 41.86, 42.12, 41.64],
    ['2023/04/12', 42.27, 42.59, 42.63, 42.01],
    ['2023/04/13', 42.68, 42.43, 42.77, 41.56],
    ['2023/04/14', 42.58, 42.51, 42.91, 41.96],
    ['2023/04/17', 42.48, 42.62, 42.92, 42.26],
    ['2023/04/18', 42.74, 42.46, 43.07, 42.33],
    ['2023/04/19', 44.06, 43.72, 44.19, 43.34],
    ['2023/04/20', 43.43, 43.42, 43.96, 43.21],
    ['2023/04/21', 43.3, 43.26, 43.54, 42.96],
    ['2023/04/24', 43.24, 43.49, 43.52, 43.07],
    ['2023/04/25', 42.99, 43.18, 43.66, 42.99],
    ['2023/04/26', 42.86, 42.32, 43.0, 42.29],
    ['2023/04/27', 42.55, 43.66, 43.76, 42.55],
    ['2023/04/28', 41.85, 41.8, 42.39, 40.06],
    ['2023/05/01', 42.22, 42.52, 42.74, 41.52],
    ['2023/05/02', 42.5, 42.46, 42.66, 41.78],
    ['2023/05/03', 42.72, 42.3, 43.22, 42.29],
    ['2023/05/04', 41.79, 40.69, 41.79, 40.43],
    ['2023/05/05', 41.3, 41.61, 42.08, 41.25],
    ['2023/05/08', 41.79, 41.29, 41.93, 40.96],
    ['2023/05/09', 41.2, 41.57, 41.67, 40.88],
    ['2023/05/10', 41.98, 41.51, 42.11, 40.96],
    ['2023/05/11', 41.25, 41.12, 41.47, 40.9],
    ['2023/05/12', 41.46, 41.12, 41.71, 40.78],
    ['2023/05/15', 41.06, 41.3, 41.47, 40.91],
    ['2023/05/16', 41.04, 40.35, 41.2, 40.09],
    ['2023/05/17', 40.76, 41.17, 41.31, 40.51],
    ['2023/05/18', 41.06, 42.28, 42.4, 40.79],
    ['2023/05/19', 42.69, 42.14, 42.8, 41.76],
    ['2023/05/22', 42.73, 42.88, 43.86, 42.35],
    ['2023/05/23', 42.21, 41.59, 42.26, 41.24],
    ['2023/05/24', 41.11, 40.83, 41.11, 40.31],
    ['2023/05/25', 42.0, 43.44, 43.49, 41.87],
    ['2023/05/26', 43.52, 44.59, 44.85, 43.44],
    ['2023/05/30', 45.03, 44.66, 45.18, 44.36],
    ['2023/05/31', 44.9, 43.24, 45.25, 43.15],
    ['2023/06/01', 43.49, 44.12, 44.13, 43.07],
    ['2023/06/02', 44.61, 45.98, 46.3, 44.61],
    ['2023/06/05', 45.58, 45.16, 45.64, 44.71],
    ['2023/06/06', 45.23, 45.89, 46.11, 44.92],
    ['2023/06/07', 46.13, 47.45, 47.48, 45.92],
    ['2023/06/08', 47.23, 47.51, 47.74, 47.0],
    ['2023/06/09', 47.67, 47.3, 47.67, 46.74],
    ['2023/06/12', 47.42, 48.17, 48.25, 46.99],
    ['2023/06/13', 48.1, 48.18, 48.69, 47.91],
    ['2023/06/14', 48.15, 47.83, 48.36, 47.19],
    ['2023/06/15', 47.55, 48.15, 48.24, 47.41],
    ['2023/06/16', 48.27, 47.49, 48.43, 47.43],
    ['2023/06/20', 47.05, 47.57, 47.73, 46.55],
    ['2023/06/21', 47.46, 47.73, 48.21, 47.24],
    ['2023/06/22', 47.67, 47.7, 47.91, 47.17],
    ['2023/06/23', 47.15, 48.04, 48.29, 47.01],
    ['2023/06/26', 48.15, 49.61, 49.86, 48.09],
    ['2023/06/27', 49.39, 50.62, 50.83, 49.39],
    ['2023/06/28', 50.42, 50.61, 50.77, 50.18],
    ['2023/06/29', 50.61, 50.76, 50.93, 50.29],
    ['2023/06/30', 51.4, 51.5, 51.77, 50.85],
    ['2023/07/03', 51.33, 51.23, 51.45, 50.95],
    ['2023/07/05', 50.69, 50.24, 50.79, 50.21],
    ['2023/07/06', 49.86, 49.45, 50.17, 49.1],
    ['2023/07/07', 49.29, 50.44, 51.02, 49.29],
    ['2023/07/10', 50.4, 51.65, 51.7, 50.04],
    ['2023/07/11', 51.8, 51.71, 52.22, 51.44],
    ['2023/07/12', 52.11, 52.02, 52.74, 51.69],
    ['2023/07/13', 52.31, 52.93, 52.98, 51.99],
    ['2023/07/14', 52.97, 52.94, 53.14, 52.47],
    ['2023/07/17', 52.92, 53.71, 53.89, 52.74],
    ['2023/07/18', 53.6, 55.34, 55.43, 53.47],
    ['2023/07/19', 54.95, 54.41, 55.12, 53.99],
    ['2023/07/20', 54.69, 53.81, 54.81, 53.79],
    ['2023/07/21', 53.98, 53.36, 54.36, 53.36],
    ['2023/07/24', 53.32, 53.14, 53.77, 52.95],
    ['2023/07/25', 52.82, 52.86, 53.41, 52.67],
    ['2023/07/26', 52.77, 52.23, 52.91, 51.2],
    ['2023/07/27', 54.49, 52.33, 54.56, 52.08],
    ['2023/07/28', 53.29, 53.21, 55.23, 52.71],
    ['2023/07/31', 53.81, 52.88, 53.99, 51.9],
    ['2023/08/01', 52.45, 54.66, 54.89, 52.25],
    ['2023/08/02', 54.42, 56.15, 56.34, 54.38],
]);
var volumes = [
    613000.0,
    629200.0,
    567700.0,
    731900.0,
    706500.0,
    720100.0,
    568800.0,
    340000.0,
    390000.0,
    678500.0,
    546800.0,
    566900.0,
    502400.0,
    546100.0,
    458700.0,
    302400.0,
    334200.0,
    397700.0,
    710300.0,
    566500.0,
    616600.0,
    731500.0,
    585000.0,
    646700.0,
    526400.0,
    683900.0,
    570500.0,
    822100.0,
    437600.0,
    843100.0,
    889700.0,
    1779400.0,
    672800.0,
    669200.0,
    1062900.0,
    668900.0,
    861300.0,
    617800.0,
    604300.0,
    478900.0,
    579800.0,
    717200.0,
    958900.0,
    1159200.0,
    731100.0,
    1257200.0,
    816200.0,
    934900.0,
    1377700.0,
    771300.0,
    1299500.0,
    1017900.0,
    782200.0,
    1270800.0,
    913400.0,
    703700.0,
    682300.0,
    726300.0,
    765600.0,
    635500.0,
    1565600.0,
    1770300.0,
    1752000.0,
    1291300.0,
    1020800.0,
    869500.0,
    1118100.0,
    1156900.0,
    644500.0,
    674500.0,
    660000.0,
    1021900.0,
    1041000.0,
    1303000.0,
    780500.0,
    808200.0,
    666100.0,
    733800.0,
    924900.0,
    514600.0,
    272000.0,
    1048900.0,
    651400.0,
    978500.0,
    1072000.0,
    795300.0,
    523700.0,
    1335700.0,
    1010000.0,
    521100.0,
    631500.0,
    917500.0,
    1840600.0,
    983600.0,
    1230800.0,
    2188600.0,
    734100.0,
    1425400.0,
    1209200.0,
    756100.0,
    450800.0,
    400300.0,
    568900.0,
    541500.0,
    646400.0,
    703600.0,
    1012800.0,
    956600.0,
    879400.0,
    751000.0,
    486300.0,
    817600.0,
    588600.0,
    457300.0,
    882400.0,
    740100.0,
    855200.0,
    753500.0,
    1593800.0,
    1016800.0,
    638200.0,
    689700.0,
    518600.0,
    661800.0,
    1001400.0,
    1007200.0,
    1453600.0,
    1048600.0,
    1617300.0,
    3673300.0,
    1792800.0,
    1348700.0,
    1360200.0,
    1263700.0,
    1095900.0,
    988100.0,
    1296200.0,
    1317500.0,
    912900.0,
    1076000.0,
    1353100.0,
    936200.0,
    1348100.0,
    1230800.0,
    838500.0,
    1265300.0,
    833900.0,
    1040400.0,
    1460300.0,
    631600.0,
    997900.0,
    965700.0,
    946200.0,
    1779000.0,
    1685100.0,
    1173200.0,
    1724500.0,
    912100.0,
    1093200.0,
    979200.0,
    613100.0,
    1116600.0,
    780700.0,
    552100.0,
    1128600.0,
    567700.0,
    751200.0,
    1634300.0,
    1296300.0,
    1797700.0,
    1743000.0,
    1728300.0,
    953400.0,
    815900.0,
    1152100.0,
    861200.0,
    761000.0,
    699400.0,
    1363600.0,
    711700.0,
    579800.0,
    668900.0,
    1002700.0,
    725400.0,
    1468700.0,
    2295400.0,
    1496000.0,
    893400.0,
    923700.0,
    1421400.0,
    872900.0,
    816500.0,
    808300.0,
    651300.0,
    603200.0,
    592400.0,
    520100.0,
    641800.0,
    606600.0,
    799400.0,
    1022400.0,
    854400.0,
    973000.0,
    769600.0,
    1746300.0,
    1342500.0,
    947400.0,
    1024600.0,
    1073200.0,
    1182500.0,
    599200.0,
    515200.0,
    1074900.0,
    651600.0,
    817800.0,
    697900.0,
    1122800.0,
    946200.0,
    903200.0,
    1581000.0,
    1337700.0,
    950000.0,
    772300.0,
    1656400.0,
    1726500.0,
    1674600.0,
    1485300.0,
    834600.0,
    939000.0,
    407400.0,
    1104300.0,
    1496600.0,
    1183200.0,
    1058600.0,
    1269300.0,
    1264600.0,
    1117300.0,
    1473900.0,
    1405300.0,
    1868800.0,
    1364200.0,
    1558300.0,
    1128800.0,
    836700.0,
    1335600.0,
    2636500.0,
    2091100.0,
    2297300.0,
    1875200.0,
    2385100.0,
    3191600.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "NVT",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 40,
            end: 70,
            top: 30,
            height: 20,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);