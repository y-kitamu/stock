/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_NVT");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/08', 35.21, 34.86, 35.62, 34.85],
    ['2022/08/09', 34.71, 34.48, 34.88, 34.29],
    ['2022/08/10', 35.15, 35.59, 35.78, 35.14],
    ['2022/08/11', 36.0, 35.69, 36.35, 35.62],
    ['2022/08/12', 35.63, 36.21, 36.32, 35.61],
    ['2022/08/15', 35.96, 36.43, 36.55, 35.96],
    ['2022/08/16', 36.32, 37.15, 37.21, 36.32],
    ['2022/08/17', 36.66, 36.42, 36.84, 36.32],
    ['2022/08/18', 36.35, 36.94, 37.01, 36.26],
    ['2022/08/19', 36.72, 36.09, 36.8, 36.0],
    ['2022/08/22', 35.49, 35.14, 35.6, 35.09],
    ['2022/08/23', 35.17, 35.13, 35.47, 34.95],
    ['2022/08/24', 35.13, 35.17, 35.38, 35.03],
    ['2022/08/25', 35.32, 35.44, 35.5, 35.21],
    ['2022/08/26', 35.39, 33.98, 35.39, 33.96],
    ['2022/08/29', 33.63, 33.62, 33.78, 33.34],
    ['2022/08/30', 33.86, 33.27, 33.86, 33.04],
    ['2022/08/31', 33.55, 32.96, 33.55, 32.73],
    ['2022/09/01', 32.73, 32.83, 32.85, 32.1],
    ['2022/09/02', 33.26, 32.67, 33.55, 32.55],
    ['2022/09/06', 32.94, 32.79, 32.94, 32.24],
    ['2022/09/07', 32.78, 33.69, 33.77, 32.74],
    ['2022/09/08', 33.36, 34.46, 34.49, 33.21],
    ['2022/09/09', 34.71, 35.24, 35.33, 34.62],
    ['2022/09/12', 35.45, 35.22, 35.65, 35.04],
    ['2022/09/13', 34.61, 33.78, 34.76, 33.7],
    ['2022/09/14', 33.95, 33.69, 33.95, 33.06],
    ['2022/09/15', 33.49, 33.78, 34.08, 33.34],
    ['2022/09/16', 33.21, 32.59, 33.21, 32.39],
    ['2022/09/19', 32.34, 33.33, 33.49, 32.3],
    ['2022/09/20', 32.99, 32.99, 33.1, 32.49],
    ['2022/09/21', 33.24, 32.23, 33.41, 32.21],
    ['2022/09/22', 32.35, 31.78, 32.35, 31.64],
    ['2022/09/23', 31.4, 31.49, 31.52, 30.78],
    ['2022/09/26', 31.25, 31.09, 31.76, 30.94],
    ['2022/09/27', 31.55, 30.81, 31.57, 30.48],
    ['2022/09/28', 31.07, 31.63, 31.83, 30.88],
    ['2022/09/29', 31.28, 31.54, 31.56, 30.75],
    ['2022/09/30', 31.64, 31.61, 32.15, 31.32],
    ['2022/10/03', 32.19, 32.59, 33.16, 32.11],
    ['2022/10/04', 33.23, 33.8, 33.94, 33.23],
    ['2022/10/05', 33.29, 33.81, 34.16, 33.18],
    ['2022/10/06', 33.61, 33.35, 33.75, 33.17],
    ['2022/10/07', 32.91, 32.1, 32.92, 31.96],
    ['2022/10/10', 32.35, 32.0, 32.44, 31.8],
    ['2022/10/11', 32.0, 32.19, 32.48, 31.75],
    ['2022/10/12', 32.27, 31.78, 32.27, 31.7],
    ['2022/10/13', 30.99, 33.06, 33.32, 30.61],
    ['2022/10/14', 33.29, 32.27, 33.66, 32.22],
    ['2022/10/17', 32.88, 33.17, 33.32, 32.81],
    ['2022/10/18', 33.98, 33.66, 34.08, 33.32],
    ['2022/10/19', 33.21, 32.95, 33.46, 32.6],
    ['2022/10/20', 32.74, 32.02, 33.15, 31.92],
    ['2022/10/21', 32.07, 33.18, 33.21, 32.01],
    ['2022/10/24', 33.51, 33.76, 33.98, 33.1],
    ['2022/10/25', 33.67, 34.38, 34.62, 33.51],
    ['2022/10/26', 34.63, 34.3, 34.89, 34.3],
    ['2022/10/27', 34.67, 34.25, 34.82, 34.11],
    ['2022/10/28', 36.63, 36.59, 37.03, 35.55],
    ['2022/10/31', 36.96, 36.5, 37.22, 36.5],
    ['2022/11/01', 36.84, 37.31, 37.54, 36.64],
    ['2022/11/02', 37.13, 36.3, 37.55, 36.26],
    ['2022/11/03', 35.69, 36.38, 36.93, 35.4],
    ['2022/11/04', 37.17, 38.3, 38.33, 37.0],
    ['2022/11/07', 38.26, 38.01, 38.47, 37.74],
    ['2022/11/08', 38.03, 38.5, 38.97, 37.98],
    ['2022/11/09', 38.24, 38.25, 38.79, 38.19],
    ['2022/11/10', 39.53, 39.49, 39.85, 38.85],
    ['2022/11/11', 39.51, 39.03, 39.97, 38.96],
    ['2022/11/14', 38.99, 38.92, 39.46, 38.79],
    ['2022/11/15', 39.58, 39.15, 39.62, 38.8],
    ['2022/11/16', 38.85, 38.95, 39.31, 38.76],
    ['2022/11/17', 38.49, 38.69, 38.74, 38.24],
    ['2022/11/18', 39.33, 39.37, 39.37, 38.85],
    ['2022/11/21', 39.36, 39.0, 39.51, 38.99],
    ['2022/11/22', 39.17, 39.99, 40.0, 39.05],
    ['2022/11/23', 39.92, 40.06, 40.41, 39.92],
    ['2022/11/25', 39.98, 40.18, 40.3, 39.98],
    ['2022/11/28', 39.85, 39.38, 40.21, 39.36],
    ['2022/11/29', 39.84, 39.47, 39.84, 39.22],
    ['2022/11/30', 39.51, 40.01, 40.02, 39.0],
    ['2022/12/01', 40.24, 40.21, 40.52, 39.88],
    ['2022/12/02', 39.68, 39.84, 40.12, 39.53],
    ['2022/12/05', 39.57, 39.23, 39.57, 39.18],
    ['2022/12/06', 39.38, 38.98, 39.51, 38.5],
    ['2022/12/07', 38.87, 38.97, 39.44, 38.87],
    ['2022/12/08', 39.31, 39.31, 39.46, 39.04],
    ['2022/12/09', 39.22, 39.0, 39.49, 38.92],
    ['2022/12/12', 39.0, 39.68, 39.68, 38.98],
    ['2022/12/13', 40.13, 39.19, 40.26, 38.87],
    ['2022/12/14', 39.4, 38.91, 39.64, 38.48],
    ['2022/12/15', 38.44, 37.58, 38.47, 37.39],
    ['2022/12/16', 37.17, 37.05, 37.34, 36.7],
    ['2022/12/19', 37.14, 37.27, 37.69, 37.13],
    ['2022/12/20', 37.3, 37.64, 38.08, 37.26],
    ['2022/12/21', 38.04, 38.65, 38.71, 37.88],
    ['2022/12/22', 38.25, 37.98, 38.25, 37.45],
    ['2022/12/23', 37.9, 38.22, 38.51, 37.83],
    ['2022/12/27', 38.18, 38.36, 38.69, 38.12],
    ['2022/12/28', 38.43, 37.78, 38.65, 37.75],
    ['2022/12/29', 38.13, 38.19, 38.51, 37.99],
    ['2022/12/30', 37.94, 38.47, 38.53, 37.85],
    ['2023/01/03', 38.55, 38.08, 38.77, 37.79],
    ['2023/01/04', 38.24, 38.5, 38.69, 38.17],
    ['2023/01/05', 38.43, 37.72, 38.58, 37.51],
    ['2023/01/06', 38.0, 38.74, 38.83, 37.85],
    ['2023/01/09', 39.0, 38.87, 39.93, 38.81],
    ['2023/01/10', 38.78, 39.12, 39.13, 38.7],
    ['2023/01/11', 39.22, 39.22, 39.44, 39.2],
    ['2023/01/12', 39.42, 39.66, 40.08, 39.18],
    ['2023/01/13', 39.38, 39.74, 39.79, 39.3],
    ['2023/01/17', 39.86, 39.86, 40.02, 39.53],
    ['2023/01/18', 40.04, 39.24, 40.15, 39.24],
    ['2023/01/19', 38.84, 38.42, 38.95, 38.15],
    ['2023/01/20', 38.53, 38.86, 38.86, 38.03],
    ['2023/01/23', 38.95, 38.7, 39.04, 38.48],
    ['2023/01/24', 38.39, 38.8, 39.29, 38.21],
    ['2023/01/25', 38.48, 38.76, 38.96, 38.16],
    ['2023/01/26', 39.1, 38.98, 39.31, 38.69],
    ['2023/01/27', 38.93, 39.02, 39.51, 38.88],
    ['2023/01/30', 38.76, 38.99, 39.38, 38.76],
    ['2023/01/31', 39.26, 39.75, 39.79, 38.95],
    ['2023/02/01', 39.62, 39.74, 39.94, 39.15],
    ['2023/02/02', 39.88, 39.37, 39.92, 39.15],
    ['2023/02/03', 39.11, 40.25, 40.4, 39.0],
    ['2023/02/06', 39.89, 40.44, 40.69, 39.84],
    ['2023/02/07', 42.59, 43.44, 43.53, 41.35],
    ['2023/02/08', 44.1, 44.69, 44.78, 43.44],
    ['2023/02/09', 44.8, 44.62, 45.02, 44.41],
    ['2023/02/10', 44.71, 44.57, 45.0, 44.29],
    ['2023/02/13', 44.57, 45.35, 45.48, 44.31],
    ['2023/02/14', 45.27, 45.59, 45.81, 45.05],
    ['2023/02/15', 45.19, 45.67, 46.07, 45.1],
    ['2023/02/16', 45.16, 45.81, 46.24, 45.01],
    ['2023/02/17', 45.75, 46.28, 46.42, 45.53],
    ['2023/02/21', 45.77, 45.45, 46.19, 45.08],
    ['2023/02/22', 45.55, 45.43, 46.08, 45.32],
    ['2023/02/23', 45.63, 45.98, 46.18, 45.42],
    ['2023/02/24', 45.58, 45.85, 46.09, 45.15],
    ['2023/02/27', 46.13, 45.61, 46.41, 45.43],
    ['2023/02/28', 45.61, 45.84, 46.14, 45.61],
    ['2023/03/01', 45.86, 46.15, 46.42, 45.73],
    ['2023/03/02', 45.86, 46.13, 46.13, 45.4],
    ['2023/03/03', 46.31, 46.27, 46.36, 45.82],
    ['2023/03/06', 46.18, 46.04, 46.56, 45.85],
    ['2023/03/07', 46.14, 46.07, 46.58, 45.78],
    ['2023/03/08', 46.33, 46.11, 46.66, 45.97],
    ['2023/03/09', 46.37, 44.94, 46.38, 44.9],
    ['2023/03/10', 44.66, 43.63, 44.97, 43.35],
    ['2023/03/13', 42.92, 42.42, 43.16, 42.12],
    ['2023/03/14', 43.83, 44.23, 44.79, 43.43],
    ['2023/03/15', 43.08, 41.09, 43.08, 40.8],
    ['2023/03/16', 40.76, 42.36, 42.4, 40.65],
    ['2023/03/17', 42.01, 41.15, 42.06, 40.94],
    ['2023/03/20', 41.69, 41.94, 42.16, 41.14],
    ['2023/03/21', 42.85, 42.6, 43.17, 42.2],
    ['2023/03/22', 42.64, 41.64, 42.73, 41.56],
    ['2023/03/23', 41.79, 41.06, 42.33, 40.78],
    ['2023/03/24', 40.55, 40.92, 41.09, 40.0],
    ['2023/03/27', 41.2, 41.47, 41.79, 41.1],
    ['2023/03/28', 41.51, 41.57, 41.87, 41.26],
    ['2023/03/29', 42.05, 42.12, 42.3, 41.64],
    ['2023/03/30', 42.4, 42.22, 42.57, 42.01],
    ['2023/03/31', 42.49, 42.94, 42.97, 42.24],
    ['2023/04/03', 43.78, 44.49, 45.16, 43.78],
    ['2023/04/04', 44.36, 41.59, 44.43, 41.23],
    ['2023/04/05', 41.4, 41.17, 41.47, 40.51],
    ['2023/04/06', 41.23, 41.71, 41.9, 40.84],
    ['2023/04/10', 41.53, 42.07, 42.17, 41.33],
    ['2023/04/11', 42.33, 42.17, 42.43, 41.95],
    ['2023/04/12', 42.58, 42.9, 42.94, 42.32],
    ['2023/04/13', 42.99, 42.74, 43.08, 41.87],
    ['2023/04/14', 42.89, 42.82, 43.23, 42.27],
    ['2023/04/17', 42.79, 42.93, 43.24, 42.57],
    ['2023/04/18', 43.05, 42.77, 43.39, 42.65],
    ['2023/04/19', 44.38, 44.04, 44.51, 43.66],
    ['2023/04/20', 43.75, 43.74, 44.28, 43.53],
    ['2023/04/21', 43.62, 43.58, 43.86, 43.28],
    ['2023/04/24', 43.56, 43.81, 43.84, 43.39],
    ['2023/04/25', 43.31, 43.5, 43.98, 43.31],
    ['2023/04/26', 43.18, 42.63, 43.32, 42.6],
    ['2023/04/27', 42.69, 43.8, 43.9, 42.69],
    ['2023/04/28', 41.98, 41.93, 42.53, 40.19],
    ['2023/05/01', 42.36, 42.66, 42.88, 41.65],
    ['2023/05/02', 42.64, 42.6, 42.79, 41.91],
    ['2023/05/03', 42.86, 42.44, 43.35, 42.43],
    ['2023/05/04', 41.92, 40.82, 41.92, 40.56],
    ['2023/05/05', 41.43, 41.74, 42.22, 41.38],
    ['2023/05/08', 41.92, 41.42, 42.06, 41.09],
    ['2023/05/09', 41.33, 41.7, 41.8, 41.01],
    ['2023/05/10', 42.12, 41.64, 42.25, 41.1],
    ['2023/05/11', 41.38, 41.25, 41.6, 41.03],
    ['2023/05/12', 41.59, 41.25, 41.84, 40.91],
    ['2023/05/15', 41.19, 41.43, 41.6, 41.04],
    ['2023/05/16', 41.17, 40.48, 41.33, 40.22],
    ['2023/05/17', 40.89, 41.3, 41.44, 40.64],
    ['2023/05/18', 41.19, 42.42, 42.54, 40.92],
    ['2023/05/19', 42.83, 42.28, 42.94, 41.89],
    ['2023/05/22', 42.87, 43.02, 44.0, 42.49],
    ['2023/05/23', 42.35, 41.72, 42.4, 41.37],
    ['2023/05/24', 41.24, 40.96, 41.24, 40.44],
    ['2023/05/25', 42.14, 43.58, 43.63, 42.0],
    ['2023/05/26', 43.66, 44.73, 44.99, 43.58],
    ['2023/05/30', 45.17, 44.8, 45.33, 44.5],
    ['2023/05/31', 45.04, 43.38, 45.4, 43.29],
    ['2023/06/01', 43.63, 44.26, 44.27, 43.21],
    ['2023/06/02', 44.75, 46.13, 46.45, 44.75],
    ['2023/06/05', 45.73, 45.31, 45.78, 44.85],
    ['2023/06/06', 45.38, 46.04, 46.26, 45.06],
    ['2023/06/07', 46.28, 47.6, 47.63, 46.07],
    ['2023/06/08', 47.38, 47.66, 47.89, 47.15],
    ['2023/06/09', 47.82, 47.45, 47.82, 46.89],
    ['2023/06/12', 47.57, 48.32, 48.41, 47.15],
    ['2023/06/13', 48.25, 48.33, 48.85, 48.06],
    ['2023/06/14', 48.3, 47.98, 48.52, 47.34],
    ['2023/06/15', 47.7, 48.3, 48.4, 47.56],
    ['2023/06/16', 48.43, 47.64, 48.59, 47.58],
    ['2023/06/20', 47.2, 47.72, 47.88, 46.7],
    ['2023/06/21', 47.61, 47.88, 48.37, 47.39],
    ['2023/06/22', 47.82, 47.85, 48.06, 47.33],
    ['2023/06/23', 47.3, 48.19, 48.45, 47.16],
    ['2023/06/26', 48.3, 49.77, 50.03, 48.24],
    ['2023/06/27', 49.55, 50.78, 50.99, 49.55],
    ['2023/06/28', 50.58, 50.77, 50.93, 50.34],
    ['2023/06/29', 50.77, 50.92, 51.09, 50.45],
    ['2023/06/30', 51.57, 51.67, 51.94, 51.01],
    ['2023/07/03', 51.5, 51.39, 51.62, 51.11],
    ['2023/07/05', 50.85, 50.4, 50.95, 50.37],
    ['2023/07/06', 50.02, 49.61, 50.33, 49.26],
    ['2023/07/07', 49.45, 50.6, 51.18, 49.45],
    ['2023/07/10', 50.56, 51.82, 51.87, 50.2],
    ['2023/07/11', 51.97, 51.88, 52.38, 51.61],
    ['2023/07/12', 52.28, 52.19, 52.91, 51.86],
    ['2023/07/13', 52.48, 53.1, 53.15, 52.16],
    ['2023/07/14', 53.14, 53.11, 53.31, 52.64],
    ['2023/07/17', 53.09, 53.88, 54.06, 52.91],
    ['2023/07/18', 53.77, 55.52, 55.61, 53.64],
    ['2023/07/19', 55.13, 54.58, 55.3, 54.16],
    ['2023/07/20', 54.69, 53.81, 54.81, 53.79],
    ['2023/07/21', 53.98, 53.36, 54.36, 53.36],
    ['2023/07/24', 53.32, 53.14, 53.77, 52.95],
    ['2023/07/25', 52.82, 52.86, 53.41, 52.67],
    ['2023/07/26', 52.77, 52.23, 52.91, 51.2],
    ['2023/07/27', 54.49, 52.33, 54.56, 52.08],
    ['2023/07/28', 53.29, 53.21, 55.23, 52.71],
    ['2023/07/31', 53.81, 52.88, 53.99, 51.9],
    ['2023/08/01', 52.45, 54.66, 54.89, 52.25],
    ['2023/08/02', 54.42, 56.15, 56.34, 54.38],
    ['2023/08/03', 55.6, 55.13, 55.83, 54.58],
    ['2023/08/04', 55.29, 54.36, 55.65, 54.32],
]);
var volumes = [
    731900.0,
    706500.0,
    720100.0,
    568800.0,
    340000.0,
    390000.0,
    678500.0,
    546800.0,
    566900.0,
    502400.0,
    546100.0,
    458700.0,
    302400.0,
    334200.0,
    397700.0,
    710300.0,
    566500.0,
    616600.0,
    731500.0,
    585000.0,
    646700.0,
    526400.0,
    683900.0,
    570500.0,
    822100.0,
    437600.0,
    843100.0,
    889700.0,
    1779400.0,
    672800.0,
    669200.0,
    1062900.0,
    668900.0,
    861300.0,
    617800.0,
    604300.0,
    478900.0,
    579800.0,
    717200.0,
    958900.0,
    1159200.0,
    731100.0,
    1257200.0,
    816200.0,
    934900.0,
    1377700.0,
    771300.0,
    1299500.0,
    1017900.0,
    782200.0,
    1270800.0,
    913400.0,
    703700.0,
    682300.0,
    726300.0,
    765600.0,
    635500.0,
    1565600.0,
    1770300.0,
    1752000.0,
    1291300.0,
    1020800.0,
    869500.0,
    1118100.0,
    1156900.0,
    644500.0,
    674500.0,
    660000.0,
    1021900.0,
    1041000.0,
    1303000.0,
    780500.0,
    808200.0,
    666100.0,
    733800.0,
    924900.0,
    514600.0,
    272000.0,
    1048900.0,
    651400.0,
    978500.0,
    1072000.0,
    795300.0,
    523700.0,
    1335700.0,
    1010000.0,
    521100.0,
    631500.0,
    917500.0,
    1840600.0,
    983600.0,
    1230800.0,
    2188600.0,
    734100.0,
    1425400.0,
    1209200.0,
    756100.0,
    450800.0,
    400300.0,
    568900.0,
    541500.0,
    646400.0,
    703600.0,
    1012800.0,
    956600.0,
    879400.0,
    751000.0,
    486300.0,
    817600.0,
    588600.0,
    457300.0,
    882400.0,
    740100.0,
    855200.0,
    753500.0,
    1593800.0,
    1016800.0,
    638200.0,
    689700.0,
    518600.0,
    661800.0,
    1001400.0,
    1007200.0,
    1453600.0,
    1048600.0,
    1617300.0,
    3673300.0,
    1792800.0,
    1348700.0,
    1360200.0,
    1263700.0,
    1095900.0,
    988100.0,
    1296200.0,
    1317500.0,
    912900.0,
    1076000.0,
    1353100.0,
    936200.0,
    1348100.0,
    1230800.0,
    838500.0,
    1265300.0,
    833900.0,
    1040400.0,
    1460300.0,
    631600.0,
    997900.0,
    965700.0,
    946200.0,
    1779000.0,
    1685100.0,
    1173200.0,
    1724500.0,
    912100.0,
    1093200.0,
    979200.0,
    613100.0,
    1116600.0,
    780700.0,
    552100.0,
    1128600.0,
    567700.0,
    751200.0,
    1634300.0,
    1296300.0,
    1797700.0,
    1743000.0,
    1728300.0,
    953400.0,
    815900.0,
    1152100.0,
    861200.0,
    761000.0,
    699400.0,
    1363600.0,
    711700.0,
    579800.0,
    668900.0,
    1002700.0,
    725400.0,
    1468700.0,
    2295400.0,
    1496000.0,
    893400.0,
    923700.0,
    1421400.0,
    872900.0,
    816500.0,
    808300.0,
    651300.0,
    603200.0,
    592400.0,
    520100.0,
    641800.0,
    606600.0,
    799400.0,
    1022400.0,
    854400.0,
    973000.0,
    769600.0,
    1746300.0,
    1342500.0,
    947400.0,
    1024600.0,
    1073200.0,
    1182500.0,
    599200.0,
    515200.0,
    1074900.0,
    651600.0,
    817800.0,
    697900.0,
    1122800.0,
    946200.0,
    903200.0,
    1581000.0,
    1337700.0,
    950000.0,
    772300.0,
    1656400.0,
    1726500.0,
    1674600.0,
    1485300.0,
    834600.0,
    939000.0,
    407400.0,
    1104300.0,
    1496600.0,
    1183200.0,
    1058600.0,
    1269300.0,
    1264600.0,
    1117300.0,
    1473900.0,
    1405300.0,
    1868800.0,
    1364200.0,
    1558300.0,
    1128800.0,
    836700.0,
    1335600.0,
    2636500.0,
    2091100.0,
    2297300.0,
    1875200.0,
    2385100.0,
    3191600.0,
    2169600.0,
    1389600.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "NVT",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);