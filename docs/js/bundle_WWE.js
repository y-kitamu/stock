/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_WWE");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 70.61, 70.55, 71.03, 69.98],
    ['2022/08/04', 70.35, 70.8, 71.44, 69.87],
    ['2022/08/05', 70.15, 70.42, 71.01, 69.16],
    ['2022/08/08', 70.57, 71.23, 71.73, 69.95],
    ['2022/08/09', 71.1, 71.69, 71.72, 70.32],
    ['2022/08/10', 72.37, 71.77, 73.04, 71.41],
    ['2022/08/11', 72.23, 72.0, 73.24, 71.56],
    ['2022/08/12', 71.78, 72.1, 72.65, 71.17],
    ['2022/08/15', 71.87, 71.73, 72.71, 70.99],
    ['2022/08/16', 72.57, 72.82, 74.77, 72.54],
    ['2022/08/17', 72.75, 71.38, 72.84, 70.58],
    ['2022/08/18', 71.1, 70.23, 71.13, 69.8],
    ['2022/08/19', 69.62, 70.46, 70.72, 69.53],
    ['2022/08/22', 69.99, 69.28, 70.48, 69.2],
    ['2022/08/23', 69.68, 68.42, 69.85, 67.97],
    ['2022/08/24', 68.37, 68.43, 69.2, 67.64],
    ['2022/08/25', 69.1, 69.27, 69.7, 68.8],
    ['2022/08/26', 68.78, 67.21, 69.39, 67.21],
    ['2022/08/29', 66.71, 66.95, 67.5, 66.57],
    ['2022/08/30', 66.69, 66.74, 66.98, 65.44],
    ['2022/08/31', 66.82, 67.6, 67.74, 66.58],
    ['2022/09/01', 67.31, 67.09, 67.79, 66.16],
    ['2022/09/02', 67.51, 67.39, 68.07, 67.07],
    ['2022/09/06', 67.59, 67.26, 67.63, 66.37],
    ['2022/09/07', 66.87, 66.14, 67.65, 64.65],
    ['2022/09/08', 66.58, 67.69, 69.07, 66.25],
    ['2022/09/09', 67.96, 68.84, 68.99, 67.66],
    ['2022/09/12', 68.96, 69.68, 70.19, 68.84],
    ['2022/09/13', 68.51, 67.85, 69.41, 67.73],
    ['2022/09/14', 67.93, 68.5, 68.64, 67.18],
    ['2022/09/15', 68.83, 67.91, 69.58, 67.6],
    ['2022/09/16', 67.45, 67.35, 67.45, 65.85],
    ['2022/09/19', 67.12, 68.46, 68.46, 66.96],
    ['2022/09/20', 68.25, 67.38, 68.26, 66.59],
    ['2022/09/21', 67.07, 66.86, 68.16, 66.64],
    ['2022/09/22', 67.3, 67.91, 67.94, 66.23],
    ['2022/09/23', 67.71, 67.67, 68.19, 66.14],
    ['2022/09/26', 67.03, 67.4, 68.15, 66.37],
    ['2022/09/27', 67.8, 67.91, 69.65, 67.16],
    ['2022/09/28', 68.09, 68.49, 69.93, 68.08],
    ['2022/09/29', 68.4, 68.89, 68.9, 67.64],
    ['2022/09/30', 68.65, 69.87, 71.11, 68.65],
    ['2022/10/03', 70.63, 71.8, 72.6, 69.99],
    ['2022/10/04', 72.26, 73.8, 73.83, 72.05],
    ['2022/10/05', 73.5, 73.41, 75.12, 73.14],
    ['2022/10/06', 73.27, 72.9, 73.74, 71.8],
    ['2022/10/07', 72.74, 72.42, 73.51, 71.79],
    ['2022/10/10', 72.57, 73.63, 73.92, 72.27],
    ['2022/10/11', 73.08, 74.62, 75.8, 72.83],
    ['2022/10/12', 74.68, 74.23, 75.17, 73.22],
    ['2022/10/13', 73.53, 75.17, 75.38, 72.72],
    ['2022/10/14', 75.77, 75.38, 76.4, 74.7],
    ['2022/10/17', 75.68, 75.1, 76.57, 74.92],
    ['2022/10/18', 75.79, 75.98, 76.39, 74.72],
    ['2022/10/19', 76.67, 76.69, 77.03, 75.69],
    ['2022/10/20', 76.56, 76.15, 77.01, 75.56],
    ['2022/10/21', 76.15, 77.77, 77.91, 75.95],
    ['2022/10/24', 78.32, 77.17, 79.49, 76.92],
    ['2022/10/25', 77.34, 77.56, 78.13, 76.43],
    ['2022/10/26', 78.24, 78.5, 79.23, 78.16],
    ['2022/10/27', 78.81, 78.1, 79.34, 77.87],
    ['2022/10/28', 78.39, 78.38, 78.53, 76.93],
    ['2022/10/31', 78.41, 78.55, 79.24, 77.88],
    ['2022/11/01', 78.58, 78.37, 79.14, 77.85],
    ['2022/11/02', 78.04, 77.21, 79.07, 76.96],
    ['2022/11/03', 75.77, 73.71, 76.8, 71.7],
    ['2022/11/04', 73.75, 73.7, 74.11, 72.39],
    ['2022/11/07', 73.78, 73.87, 74.54, 73.08],
    ['2022/11/08', 74.18, 74.99, 75.56, 73.57],
    ['2022/11/09', 74.79, 74.56, 75.66, 74.19],
    ['2022/11/10', 75.8, 75.28, 75.9, 73.97],
    ['2022/11/11', 75.7, 75.0, 75.83, 74.0],
    ['2022/11/14', 75.02, 74.96, 77.09, 74.84],
    ['2022/11/15', 75.47, 76.58, 77.29, 74.52],
    ['2022/11/16', 76.66, 77.47, 77.65, 76.06],
    ['2022/11/17', 76.8, 76.67, 77.14, 76.21],
    ['2022/11/18', 77.04, 78.04, 78.45, 77.04],
    ['2022/11/21', 78.83, 78.47, 79.25, 77.48],
    ['2022/11/22', 78.48, 79.21, 79.75, 78.47],
    ['2022/11/23', 79.27, 80.08, 80.63, 79.27],
    ['2022/11/25', 79.99, 80.36, 80.52, 79.98],
    ['2022/11/28', 80.04, 80.45, 81.28, 79.07],
    ['2022/11/29', 80.73, 79.05, 80.73, 78.52],
    ['2022/11/30', 78.88, 79.54, 80.08, 77.67],
    ['2022/12/01', 79.62, 78.77, 79.65, 76.03],
    ['2022/12/02', 78.22, 80.15, 80.37, 78.1],
    ['2022/12/05', 79.55, 78.46, 79.98, 78.03],
    ['2022/12/06', 78.23, 77.52, 78.63, 77.17],
    ['2022/12/07', 77.45, 76.94, 78.4, 76.9],
    ['2022/12/08', 77.38, 76.49, 77.38, 75.63],
    ['2022/12/09', 76.38, 75.4, 77.23, 75.3],
    ['2022/12/12', 75.52, 75.09, 75.85, 73.26],
    ['2022/12/13', 75.93, 73.41, 76.17, 73.35],
    ['2022/12/14', 72.91, 73.49, 73.84, 72.52],
    ['2022/12/15', 73.02, 72.19, 73.02, 72.06],
    ['2022/12/16', 72.03, 73.58, 73.77, 71.88],
    ['2022/12/19', 73.47, 70.24, 73.47, 69.62],
    ['2022/12/20', 70.43, 70.51, 71.53, 70.36],
    ['2022/12/21', 70.62, 70.26, 70.81, 69.93],
    ['2022/12/22', 69.77, 71.05, 71.08, 69.73],
    ['2022/12/23', 70.7, 69.55, 71.06, 68.93],
    ['2022/12/27', 69.24, 68.95, 69.77, 68.76],
    ['2022/12/28', 68.66, 67.33, 68.68, 67.23],
    ['2022/12/29', 67.81, 68.34, 68.39, 67.29],
    ['2022/12/30', 67.88, 68.34, 68.35, 67.13],
    ['2023/01/03', 68.55, 68.4, 69.18, 67.87],
    ['2023/01/04', 68.56, 70.26, 70.55, 68.56],
    ['2023/01/05', 70.12, 71.85, 71.93, 69.71],
    ['2023/01/06', 79.84, 84.04, 89.19, 79.84],
    ['2023/01/09', 84.17, 87.58, 89.26, 83.27],
    ['2023/01/10', 88.48, 90.0, 90.52, 87.52],
    ['2023/01/11', 92.25, 89.26, 93.38, 87.42],
    ['2023/01/12', 89.27, 89.1, 90.15, 87.77],
    ['2023/01/13', 88.93, 89.16, 90.37, 87.53],
    ['2023/01/17', 90.75, 89.42, 90.82, 87.66],
    ['2023/01/18', 89.72, 88.6, 90.14, 88.39],
    ['2023/01/19', 88.76, 88.61, 89.25, 88.0],
    ['2023/01/20', 89.24, 88.45, 89.8, 88.14],
    ['2023/01/23', 88.26, 88.16, 88.6, 87.54],
    ['2023/01/24', 87.76, 86.89, 88.32, 86.86],
    ['2023/01/25', 87.07, 86.54, 87.82, 86.25],
    ['2023/01/26', 86.12, 85.56, 86.81, 85.44],
    ['2023/01/27', 85.17, 84.4, 86.02, 84.28],
    ['2023/01/30', 84.18, 84.72, 85.44, 83.97],
    ['2023/01/31', 84.52, 84.39, 85.3, 83.7],
    ['2023/02/01', 84.22, 85.97, 86.48, 83.79],
    ['2023/02/02', 86.15, 85.08, 86.15, 84.17],
    ['2023/02/03', 85.77, 89.48, 90.44, 85.77],
    ['2023/02/06', 88.99, 90.31, 90.32, 87.87],
    ['2023/02/07', 90.13, 90.18, 90.3, 88.47],
    ['2023/02/08', 90.18, 88.91, 90.76, 88.84],
    ['2023/02/09', 89.35, 88.26, 89.41, 87.3],
    ['2023/02/10', 87.85, 87.6, 88.8, 87.37],
    ['2023/02/13', 87.62, 87.26, 87.95, 87.08],
    ['2023/02/14', 86.76, 87.06, 87.63, 86.39],
    ['2023/02/15', 87.06, 87.18, 87.38, 86.68],
    ['2023/02/16', 86.87, 86.94, 87.42, 86.21],
    ['2023/02/17', 87.18, 87.74, 91.24, 86.91],
    ['2023/02/21', 87.23, 86.21, 88.16, 85.65],
    ['2023/02/22', 85.9, 84.84, 87.03, 84.82],
    ['2023/02/23', 84.96, 86.29, 86.3, 84.84],
    ['2023/02/24', 85.09, 85.56, 86.38, 84.77],
    ['2023/02/27', 85.25, 85.78, 86.3, 84.78],
    ['2023/02/28', 85.77, 83.78, 86.08, 83.72],
    ['2023/03/01', 83.88, 83.45, 84.61, 83.33],
    ['2023/03/02', 82.74, 83.33, 83.84, 82.24],
    ['2023/03/03', 83.26, 83.36, 83.89, 82.99],
    ['2023/03/06', 83.34, 81.57, 83.35, 81.57],
    ['2023/03/07', 81.66, 81.15, 82.24, 81.04],
    ['2023/03/08', 80.99, 81.44, 82.17, 80.24],
    ['2023/03/09', 81.49, 80.78, 81.58, 80.1],
    ['2023/03/10', 80.56, 80.93, 81.26, 80.38],
    ['2023/03/13', 80.32, 79.95, 80.7, 79.06],
    ['2023/03/14', 80.42, 81.66, 82.24, 80.32],
    ['2023/03/15', 81.07, 83.46, 84.01, 81.07],
    ['2023/03/16', 82.49, 84.25, 84.78, 82.41],
    ['2023/03/17', 84.45, 83.23, 84.45, 82.05],
    ['2023/03/20', 83.64, 84.69, 85.32, 83.26],
    ['2023/03/21', 85.26, 86.02, 86.05, 85.26],
    ['2023/03/22', 86.16, 84.08, 86.3, 84.05],
    ['2023/03/23', 84.38, 84.25, 86.1, 83.8],
    ['2023/03/24', 83.98, 84.85, 85.05, 83.88],
    ['2023/03/27', 85.07, 87.27, 87.71, 84.9],
    ['2023/03/28', 86.84, 87.88, 92.09, 86.59],
    ['2023/03/29', 88.02, 89.21, 90.24, 87.51],
    ['2023/03/30', 89.15, 90.49, 91.89, 89.15],
    ['2023/03/31', 90.9, 91.15, 92.34, 90.69],
    ['2023/04/03', 85.5, 89.19, 90.04, 82.71],
    ['2023/04/04', 89.22, 97.11, 97.56, 88.89],
    ['2023/04/05', 97.22, 98.76, 99.58, 96.41],
    ['2023/04/06', 98.8, 100.26, 100.96, 98.1],
    ['2023/04/10', 100.32, 102.69, 103.44, 100.16],
    ['2023/04/11', 102.45, 102.75, 102.97, 99.33],
    ['2023/04/12', 103.33, 102.66, 103.85, 101.7],
    ['2023/04/13', 104.76, 103.03, 104.77, 102.01],
    ['2023/04/14', 102.77, 104.57, 104.6, 102.11],
    ['2023/04/17', 104.68, 105.34, 105.4, 103.82],
    ['2023/04/18', 105.24, 105.53, 105.56, 104.23],
    ['2023/04/19', 105.2, 105.75, 105.77, 104.53],
    ['2023/04/20', 105.77, 106.07, 106.97, 105.26],
    ['2023/04/21', 105.75, 109.22, 109.67, 105.29],
    ['2023/04/24', 108.55, 109.04, 110.11, 108.14],
    ['2023/04/25', 108.78, 108.07, 109.05, 107.62],
    ['2023/04/26', 107.55, 105.81, 108.07, 105.79],
    ['2023/04/27', 105.63, 105.51, 106.91, 104.96],
    ['2023/04/28', 106.75, 107.04, 107.9, 106.41],
    ['2023/05/01', 106.75, 108.34, 108.55, 106.75],
    ['2023/05/02', 108.01, 105.59, 108.37, 105.56],
    ['2023/05/03', 106.21, 108.01, 108.48, 106.07],
    ['2023/05/04', 107.95, 105.32, 109.71, 105.25],
    ['2023/05/05', 106.39, 106.73, 107.68, 104.5],
    ['2023/05/08', 107.12, 106.21, 107.19, 106.03],
    ['2023/05/09', 106.29, 105.65, 108.36, 105.62],
    ['2023/05/10', 106.12, 104.93, 107.26, 104.6],
    ['2023/05/11', 105.54, 104.59, 105.54, 104.24],
    ['2023/05/12', 104.29, 105.05, 105.68, 103.96],
    ['2023/05/15', 104.43, 107.06, 108.84, 104.01],
    ['2023/05/16', 106.87, 108.71, 109.11, 105.42],
    ['2023/05/17', 106.87, 100.79, 107.62, 98.81],
    ['2023/05/18', 101.16, 103.87, 104.58, 101.16],
    ['2023/05/19', 103.46, 101.52, 103.67, 99.89],
    ['2023/05/22', 101.83, 101.82, 104.15, 100.79],
    ['2023/05/23', 100.96, 101.06, 101.94, 100.12],
    ['2023/05/24', 101.18, 102.01, 102.9, 100.59],
    ['2023/05/25', 101.39, 101.41, 102.46, 100.22],
    ['2023/05/26', 101.78, 99.98, 101.78, 99.65],
    ['2023/05/30', 99.87, 101.01, 102.06, 99.87],
    ['2023/05/31', 100.88, 101.2, 102.08, 100.03],
    ['2023/06/01', 101.82, 99.51, 102.29, 99.48],
    ['2023/06/02', 99.63, 101.53, 102.59, 99.63],
    ['2023/06/05', 101.53, 100.1, 101.85, 99.53],
    ['2023/06/06', 99.96, 99.81, 100.24, 99.13],
    ['2023/06/07', 99.88, 98.59, 100.82, 98.09],
    ['2023/06/08', 98.88, 97.84, 99.64, 95.45],
    ['2023/06/09', 97.9, 98.42, 99.49, 97.6],
    ['2023/06/12', 98.88, 100.67, 101.74, 98.64],
    ['2023/06/13', 100.29, 101.32, 102.3, 100.29],
    ['2023/06/14', 101.7, 101.98, 102.97, 101.41],
    ['2023/06/15', 102.06, 103.42, 103.61, 101.25],
    ['2023/06/16', 104.04, 102.72, 104.71, 101.32],
    ['2023/06/20', 102.39, 101.01, 102.68, 100.68],
    ['2023/06/21', 101.09, 101.31, 101.68, 100.34],
    ['2023/06/22', 100.83, 101.46, 101.79, 100.37],
    ['2023/06/23', 101.1, 100.81, 101.61, 99.96],
    ['2023/06/26', 100.85, 105.2, 105.71, 100.83],
    ['2023/06/27', 105.48, 107.56, 108.35, 104.5],
    ['2023/06/28', 107.22, 108.03, 108.32, 106.3],
    ['2023/06/29', 107.93, 107.87, 108.32, 106.29],
    ['2023/06/30', 108.18, 108.47, 108.87, 107.37],
    ['2023/07/03', 108.17, 108.54, 109.24, 107.59],
    ['2023/07/05', 108.69, 108.45, 108.82, 107.27],
    ['2023/07/06', 108.11, 107.29, 108.28, 106.67],
    ['2023/07/07', 107.29, 107.84, 108.05, 107.04],
    ['2023/07/10', 107.34, 109.0, 109.96, 106.85],
    ['2023/07/11', 109.52, 111.0, 112.22, 109.05],
    ['2023/07/12', 111.5, 109.21, 112.0, 108.59],
    ['2023/07/13', 109.16, 107.86, 109.79, 107.2],
    ['2023/07/14', 107.64, 108.03, 109.05, 107.32],
    ['2023/07/17', 107.65, 107.12, 107.99, 105.4],
    ['2023/07/18', 107.32, 106.73, 108.09, 105.85],
    ['2023/07/19', 106.73, 105.9, 107.91, 105.7],
    ['2023/07/20', 105.61, 108.23, 108.34, 104.34],
    ['2023/07/21', 107.77, 105.87, 108.39, 104.97],
    ['2023/07/24', 105.28, 106.42, 106.65, 104.7],
    ['2023/07/25', 106.03, 106.01, 106.31, 105.62],
    ['2023/07/26', 105.35, 105.75, 105.87, 104.78],
    ['2023/07/27', 106.18, 105.07, 106.83, 104.5],
    ['2023/07/28', 105.1, 105.91, 106.26, 104.79],
    ['2023/07/31', 105.83, 105.0, 107.75, 104.78],
    ['2023/08/01', 104.74, 104.06, 106.03, 103.79],
    ['2023/08/02', 102.95, 105.77, 106.41, 101.81],
]);
var volumes = [
    305300.0,
    342200.0,
    431200.0,
    436000.0,
    441200.0,
    581600.0,
    1005600.0,
    301300.0,
    447100.0,
    935800.0,
    594400.0,
    555000.0,
    466000.0,
    367400.0,
    508900.0,
    444300.0,
    237600.0,
    272500.0,
    297900.0,
    573300.0,
    632200.0,
    381700.0,
    613400.0,
    576000.0,
    759800.0,
    792500.0,
    424600.0,
    396600.0,
    553700.0,
    418900.0,
    355500.0,
    688900.0,
    377700.0,
    329100.0,
    641100.0,
    732900.0,
    960100.0,
    1084100.0,
    777200.0,
    1467700.0,
    485800.0,
    1168600.0,
    796500.0,
    1853000.0,
    1306200.0,
    532300.0,
    529200.0,
    624400.0,
    1796500.0,
    651500.0,
    471700.0,
    533900.0,
    588700.0,
    771900.0,
    547000.0,
    454100.0,
    682700.0,
    1026100.0,
    915000.0,
    548200.0,
    822500.0,
    489100.0,
    763000.0,
    473800.0,
    568500.0,
    1531700.0,
    736700.0,
    623600.0,
    395100.0,
    337900.0,
    514300.0,
    498400.0,
    593400.0,
    748200.0,
    679400.0,
    410400.0,
    682400.0,
    332500.0,
    399500.0,
    298500.0,
    139700.0,
    719200.0,
    649600.0,
    1546700.0,
    658500.0,
    536200.0,
    445100.0,
    445600.0,
    471100.0,
    557800.0,
    696500.0,
    887400.0,
    1000800.0,
    556300.0,
    403500.0,
    944800.0,
    711900.0,
    793900.0,
    355100.0,
    407700.0,
    405700.0,
    267400.0,
    384700.0,
    364800.0,
    432900.0,
    906500.0,
    625300.0,
    1163100.0,
    8427200.0,
    3400300.0,
    1479000.0,
    3194100.0,
    2324000.0,
    1386000.0,
    1612700.0,
    681100.0,
    564700.0,
    640000.0,
    1109200.0,
    584400.0,
    526700.0,
    501800.0,
    542000.0,
    634600.0,
    665700.0,
    701900.0,
    1142500.0,
    1971700.0,
    778200.0,
    518300.0,
    357300.0,
    577300.0,
    367600.0,
    387400.0,
    622400.0,
    272200.0,
    589200.0,
    3005400.0,
    819100.0,
    693600.0,
    524400.0,
    700300.0,
    658800.0,
    1010300.0,
    850400.0,
    454700.0,
    615700.0,
    656100.0,
    381600.0,
    993100.0,
    985800.0,
    812400.0,
    1157300.0,
    1781100.0,
    1473700.0,
    771600.0,
    983800.0,
    692100.0,
    491700.0,
    439000.0,
    461700.0,
    392200.0,
    870600.0,
    2025900.0,
    1224100.0,
    1321300.0,
    1825300.0,
    9777600.0,
    9153600.0,
    3082600.0,
    1693400.0,
    1976400.0,
    1676200.0,
    1385600.0,
    1177700.0,
    641200.0,
    946900.0,
    696000.0,
    739600.0,
    979200.0,
    1515500.0,
    885400.0,
    800200.0,
    858600.0,
    986100.0,
    822600.0,
    477300.0,
    836300.0,
    1018700.0,
    683800.0,
    999300.0,
    499500.0,
    669800.0,
    659900.0,
    483700.0,
    429600.0,
    828000.0,
    1120000.0,
    2367700.0,
    1299900.0,
    938800.0,
    805800.0,
    659600.0,
    604900.0,
    479500.0,
    514900.0,
    391900.0,
    703700.0,
    647100.0,
    373900.0,
    429100.0,
    360700.0,
    672000.0,
    994100.0,
    1034600.0,
    500100.0,
    366600.0,
    503800.0,
    526500.0,
    698900.0,
    512200.0,
    395700.0,
    334500.0,
    433500.0,
    1034300.0,
    1250000.0,
    470000.0,
    509600.0,
    346100.0,
    207600.0,
    265900.0,
    541500.0,
    361300.0,
    551700.0,
    771900.0,
    1061800.0,
    596600.0,
    623800.0,
    859200.0,
    423200.0,
    352900.0,
    475100.0,
    457600.0,
    324800.0,
    821900.0,
    666700.0,
    1000200.0,
    246300.0,
    554600.0,
    599500.0,
    832800.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "WWE",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);