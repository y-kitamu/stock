/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_ANET");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/11', 127.8, 126.03, 128.0, 125.8],
    ['2022/08/12', 127.4, 126.86, 128.06, 126.4],
    ['2022/08/15', 126.37, 128.74, 128.95, 126.29],
    ['2022/08/16', 128.57, 129.91, 130.25, 127.76],
    ['2022/08/17', 129.0, 129.46, 130.71, 128.07],
    ['2022/08/18', 130.57, 132.74, 132.87, 130.21],
    ['2022/08/19', 131.2, 130.0, 131.27, 129.04],
    ['2022/08/22', 127.5, 127.14, 127.52, 125.53],
    ['2022/08/23', 125.4, 126.96, 129.22, 125.12],
    ['2022/08/24', 126.96, 125.63, 127.13, 125.22],
    ['2022/08/25', 126.0, 126.49, 127.14, 125.65],
    ['2022/08/26', 126.55, 123.03, 127.03, 122.97],
    ['2022/08/29', 121.3, 121.58, 123.02, 121.2],
    ['2022/08/30', 123.21, 121.1, 123.47, 119.72],
    ['2022/08/31', 121.0, 119.88, 122.85, 119.31],
    ['2022/09/01', 118.82, 117.28, 118.82, 114.23],
    ['2022/09/02', 118.42, 117.3, 120.51, 116.88],
    ['2022/09/06', 117.71, 117.55, 118.84, 115.82],
    ['2022/09/07', 117.92, 120.27, 120.33, 117.14],
    ['2022/09/08', 119.09, 122.78, 122.88, 118.89],
    ['2022/09/09', 124.0, 124.41, 125.29, 123.44],
    ['2022/09/12', 125.6, 124.75, 126.7, 123.94],
    ['2022/09/13', 122.02, 119.92, 122.33, 119.46],
    ['2022/09/14', 119.98, 122.26, 123.02, 119.98],
    ['2022/09/15', 122.04, 116.94, 122.24, 116.3],
    ['2022/09/16', 115.61, 115.73, 115.95, 112.88],
    ['2022/09/19', 114.07, 114.94, 115.92, 113.72],
    ['2022/09/20', 114.02, 114.07, 114.51, 112.47],
    ['2022/09/21', 117.07, 113.82, 118.81, 113.77],
    ['2022/09/22', 112.83, 112.55, 113.68, 111.19],
    ['2022/09/23', 111.08, 109.97, 111.47, 108.43],
    ['2022/09/26', 110.22, 109.1, 111.64, 108.77],
    ['2022/09/27', 111.56, 110.92, 112.86, 109.3],
    ['2022/09/28', 111.77, 116.69, 117.3, 111.31],
    ['2022/09/29', 115.9, 114.75, 117.03, 112.6],
    ['2022/09/30', 114.11, 112.89, 116.33, 112.74],
    ['2022/10/03', 114.87, 115.83, 117.08, 113.57],
    ['2022/10/04', 118.99, 120.81, 120.93, 118.35],
    ['2022/10/05', 118.83, 121.35, 122.12, 118.38],
    ['2022/10/06', 121.0, 121.9, 123.31, 120.65],
    ['2022/10/07', 119.7, 116.41, 119.93, 115.69],
    ['2022/10/10', 116.93, 109.48, 116.93, 106.26],
    ['2022/10/11', 108.49, 107.05, 108.97, 106.16],
    ['2022/10/12', 107.86, 103.65, 108.38, 103.25],
    ['2022/10/13', 99.1, 103.91, 105.2, 98.21],
    ['2022/10/14', 104.6, 100.37, 105.28, 100.33],
    ['2022/10/17', 103.39, 104.56, 105.97, 102.72],
    ['2022/10/18', 108.0, 106.28, 108.82, 104.6],
    ['2022/10/19', 105.04, 105.11, 107.49, 104.06],
    ['2022/10/20', 104.83, 105.64, 108.95, 104.83],
    ['2022/10/21', 105.65, 110.52, 111.0, 105.39],
    ['2022/10/24', 110.75, 110.74, 112.14, 109.04],
    ['2022/10/25', 107.0, 112.63, 113.1, 106.5],
    ['2022/10/26', 110.47, 108.97, 111.89, 108.03],
    ['2022/10/27', 121.21, 119.13, 126.53, 118.21],
    ['2022/10/28', 119.43, 121.47, 121.75, 117.11],
    ['2022/10/31', 120.45, 120.86, 123.37, 119.9],
    ['2022/11/01', 120.38, 127.71, 128.06, 118.11],
    ['2022/11/02', 127.87, 125.04, 130.12, 124.75],
    ['2022/11/03', 123.73, 122.25, 125.97, 121.96],
    ['2022/11/04', 131.64, 131.07, 133.7, 128.88],
    ['2022/11/07', 131.59, 130.58, 131.99, 129.58],
    ['2022/11/08', 130.73, 129.11, 131.09, 128.21],
    ['2022/11/09', 124.89, 122.92, 125.35, 122.43],
    ['2022/11/10', 130.2, 126.98, 130.29, 125.67],
    ['2022/11/11', 127.48, 128.55, 129.77, 125.67],
    ['2022/11/14', 128.5, 131.2, 134.61, 128.35],
    ['2022/11/15', 133.4, 132.65, 134.21, 130.56],
    ['2022/11/16', 131.29, 130.69, 131.72, 128.56],
    ['2022/11/17', 129.41, 132.06, 133.58, 129.0],
    ['2022/11/18', 134.17, 135.48, 135.7, 133.09],
    ['2022/11/21', 134.96, 134.61, 136.95, 134.0],
    ['2022/11/22', 133.02, 136.04, 136.26, 132.05],
    ['2022/11/23', 136.14, 137.19, 137.39, 134.93],
    ['2022/11/25', 137.23, 135.76, 137.35, 135.63],
    ['2022/11/28', 135.4, 133.7, 135.93, 132.78],
    ['2022/11/29', 134.05, 133.71, 134.47, 132.43],
    ['2022/11/30', 133.71, 139.3, 139.32, 132.83],
    ['2022/12/01', 140.05, 139.78, 140.81, 137.7],
    ['2022/12/02', 136.5, 135.04, 137.3, 133.22],
    ['2022/12/05', 133.16, 132.83, 134.29, 132.07],
    ['2022/12/06', 133.69, 129.04, 133.76, 127.79],
    ['2022/12/07', 128.41, 126.76, 128.76, 124.74],
    ['2022/12/08', 128.06, 128.13, 128.68, 126.16],
    ['2022/12/09', 128.53, 127.9, 131.73, 127.81],
    ['2022/12/12', 127.87, 130.96, 130.99, 126.39],
    ['2022/12/13', 136.71, 133.02, 137.85, 132.01],
    ['2022/12/14', 133.28, 130.99, 135.29, 129.79],
    ['2022/12/15', 129.16, 125.58, 129.53, 124.75],
    ['2022/12/16', 123.84, 123.66, 124.52, 122.16],
    ['2022/12/19', 124.25, 122.55, 124.25, 121.45],
    ['2022/12/20', 121.81, 121.77, 122.95, 120.55],
    ['2022/12/21', 122.5, 123.33, 124.58, 122.17],
    ['2022/12/22', 122.22, 120.37, 122.22, 118.59],
    ['2022/12/23', 120.09, 119.77, 120.4, 118.28],
    ['2022/12/27', 119.89, 118.86, 119.92, 118.02],
    ['2022/12/28', 118.55, 119.17, 119.89, 117.87],
    ['2022/12/29', 120.95, 121.88, 122.37, 120.81],
    ['2022/12/30', 120.6, 121.35, 121.42, 119.56],
    ['2023/01/03', 122.91, 120.91, 123.78, 118.9],
    ['2023/01/04', 120.6, 113.84, 121.1, 113.15],
    ['2023/01/05', 112.37, 109.49, 112.37, 109.17],
    ['2023/01/06', 110.2, 112.45, 113.0, 108.91],
    ['2023/01/09', 113.77, 114.87, 117.33, 113.7],
    ['2023/01/10', 114.63, 115.23, 116.21, 113.94],
    ['2023/01/11', 115.2, 116.33, 116.38, 114.01],
    ['2023/01/12', 116.75, 117.18, 117.69, 114.55],
    ['2023/01/13', 115.28, 115.0, 116.91, 114.98],
    ['2023/01/17', 114.93, 116.3, 116.94, 114.51],
    ['2023/01/18', 117.62, 115.0, 118.37, 114.79],
    ['2023/01/19', 114.55, 111.51, 115.07, 111.0],
    ['2023/01/20', 111.89, 115.13, 115.32, 111.68],
    ['2023/01/23', 115.63, 119.16, 120.1, 115.49],
    ['2023/01/24', 118.59, 121.77, 121.96, 117.61],
    ['2023/01/25', 119.34, 121.54, 121.9, 117.65],
    ['2023/01/26', 123.58, 123.99, 125.03, 122.92],
    ['2023/01/27', 123.64, 126.06, 127.07, 123.5],
    ['2023/01/30', 125.01, 123.84, 125.59, 123.32],
    ['2023/01/31', 123.7, 126.02, 126.38, 123.43],
    ['2023/02/01', 125.49, 130.52, 131.0, 123.74],
    ['2023/02/02', 131.55, 133.44, 134.45, 130.5],
    ['2023/02/03', 130.87, 131.96, 133.79, 130.29],
    ['2023/02/06', 130.74, 129.69, 132.74, 129.09],
    ['2023/02/07', 129.52, 134.91, 135.74, 129.01],
    ['2023/02/08', 135.34, 136.46, 138.1, 134.55],
    ['2023/02/09', 138.0, 136.52, 138.82, 135.74],
    ['2023/02/10', 135.45, 133.27, 135.91, 132.29],
    ['2023/02/13', 134.5, 136.0, 136.88, 134.0],
    ['2023/02/14', 134.53, 141.46, 144.37, 130.08],
    ['2023/02/15', 142.94, 141.53, 145.17, 140.75],
    ['2023/02/16', 140.33, 141.68, 143.86, 139.3],
    ['2023/02/17', 140.37, 138.23, 141.0, 136.69],
    ['2023/02/21', 136.93, 134.53, 137.99, 134.45],
    ['2023/02/22', 133.12, 135.21, 136.0, 132.52],
    ['2023/02/23', 137.86, 136.84, 140.35, 134.2],
    ['2023/02/24', 135.11, 135.53, 136.03, 133.2],
    ['2023/02/27', 137.77, 138.0, 139.24, 137.1],
    ['2023/02/28', 137.95, 138.7, 139.85, 137.95],
    ['2023/03/01', 138.8, 138.56, 139.15, 137.32],
    ['2023/03/02', 138.0, 136.58, 138.0, 134.47],
    ['2023/03/03', 137.88, 140.68, 140.83, 137.61],
    ['2023/03/06', 142.36, 142.58, 144.73, 141.36],
    ['2023/03/07', 144.0, 142.87, 144.46, 141.5],
    ['2023/03/08', 143.0, 148.4, 148.9, 143.0],
    ['2023/03/09', 148.79, 148.65, 152.07, 147.78],
    ['2023/03/10', 148.42, 146.46, 150.73, 145.21],
    ['2023/03/13', 145.17, 146.87, 148.59, 142.45],
    ['2023/03/14', 149.83, 153.15, 153.25, 148.16],
    ['2023/03/15', 151.11, 153.8, 154.02, 150.62],
    ['2023/03/16', 153.99, 162.68, 164.26, 153.05],
    ['2023/03/17', 162.52, 163.26, 164.24, 160.08],
    ['2023/03/20', 162.26, 164.2, 165.25, 161.05],
    ['2023/03/21', 165.95, 168.08, 169.17, 164.52],
    ['2023/03/22', 167.56, 166.06, 170.13, 165.99],
    ['2023/03/23', 168.32, 169.39, 171.44, 167.29],
    ['2023/03/24', 168.86, 168.94, 169.95, 167.05],
    ['2023/03/27', 169.38, 167.96, 171.13, 167.57],
    ['2023/03/28', 165.99, 163.0, 166.36, 161.04],
    ['2023/03/29', 164.85, 162.5, 165.03, 161.34],
    ['2023/03/30', 163.5, 162.49, 163.9, 161.81],
    ['2023/03/31', 162.54, 167.86, 168.06, 160.73],
    ['2023/04/03', 165.65, 167.74, 168.32, 165.03],
    ['2023/04/04', 167.75, 166.74, 168.66, 165.6],
    ['2023/04/05', 165.45, 162.86, 165.75, 162.24],
    ['2023/04/06', 158.69, 159.85, 161.04, 157.15],
    ['2023/04/10', 158.59, 163.13, 163.43, 158.3],
    ['2023/04/11', 162.0, 159.61, 162.5, 159.16],
    ['2023/04/12', 161.72, 161.41, 162.99, 160.03],
    ['2023/04/13', 162.64, 164.79, 165.23, 161.77],
    ['2023/04/14', 164.12, 163.6, 166.84, 162.64],
    ['2023/04/17', 164.52, 163.42, 164.62, 162.24],
    ['2023/04/18', 165.22, 162.69, 165.75, 161.76],
    ['2023/04/19', 161.12, 158.09, 161.24, 156.26],
    ['2023/04/20', 155.08, 155.39, 157.43, 154.51],
    ['2023/04/21', 155.43, 155.87, 156.41, 153.74],
    ['2023/04/24', 155.87, 156.56, 156.85, 154.63],
    ['2023/04/25', 156.56, 153.58, 157.64, 153.02],
    ['2023/04/26', 157.46, 155.96, 159.58, 155.18],
    ['2023/04/27', 157.01, 156.76, 157.46, 152.35],
    ['2023/04/28', 156.0, 160.16, 160.28, 155.33],
    ['2023/05/01', 160.55, 160.16, 162.09, 159.43],
    ['2023/05/02', 145.31, 134.98, 146.0, 134.73],
    ['2023/05/03', 135.1, 132.73, 136.11, 132.25],
    ['2023/05/04', 132.02, 135.34, 136.81, 131.68],
    ['2023/05/05', 135.39, 137.98, 139.38, 134.46],
    ['2023/05/08', 138.1, 138.07, 139.98, 137.87],
    ['2023/05/09', 136.91, 138.52, 139.36, 136.74],
    ['2023/05/10', 140.41, 141.24, 141.9, 138.68],
    ['2023/05/11', 141.43, 139.01, 141.94, 138.43],
    ['2023/05/12', 139.14, 138.63, 140.44, 136.93],
    ['2023/05/15', 138.5, 137.98, 139.66, 137.87],
    ['2023/05/16', 137.5, 136.14, 138.4, 135.87],
    ['2023/05/17', 136.59, 135.83, 137.13, 134.63],
    ['2023/05/18', 134.56, 141.46, 141.8, 133.42],
    ['2023/05/19', 142.81, 143.91, 145.77, 142.02],
    ['2023/05/22', 145.24, 145.37, 147.66, 144.72],
    ['2023/05/23', 143.97, 140.47, 144.89, 140.41],
    ['2023/05/24', 142.3, 141.22, 142.88, 139.18],
    ['2023/05/25', 153.22, 156.2, 156.76, 150.63],
    ['2023/05/26', 157.01, 170.35, 170.69, 157.0],
    ['2023/05/30', 171.02, 174.42, 178.36, 170.11],
    ['2023/05/31', 170.01, 166.34, 170.6, 165.83],
    ['2023/06/01', 165.8, 166.68, 167.77, 164.73],
    ['2023/06/02', 167.25, 162.5, 169.98, 162.44],
    ['2023/06/05', 162.97, 162.63, 163.53, 160.01],
    ['2023/06/06', 161.0, 159.68, 161.4, 157.83],
    ['2023/06/07', 159.67, 155.59, 162.46, 155.46],
    ['2023/06/08', 156.0, 162.32, 163.11, 155.76],
    ['2023/06/09', 164.15, 162.52, 167.18, 161.33],
    ['2023/06/12', 163.45, 170.0, 170.02, 162.84],
    ['2023/06/13', 171.12, 168.6, 172.63, 165.61],
    ['2023/06/14', 166.64, 169.08, 169.16, 164.41],
    ['2023/06/15', 161.14, 163.47, 164.32, 158.39],
    ['2023/06/16', 165.69, 157.79, 166.22, 157.37],
    ['2023/06/20', 157.3, 154.5, 159.42, 153.72],
    ['2023/06/21', 153.59, 151.51, 154.27, 149.87],
    ['2023/06/22', 150.98, 153.24, 153.39, 149.72],
    ['2023/06/23', 150.75, 148.82, 150.95, 148.32],
    ['2023/06/26', 149.61, 150.82, 153.23, 149.09],
    ['2023/06/27', 152.3, 156.13, 157.29, 152.2],
    ['2023/06/28', 154.92, 155.86, 158.05, 153.99],
    ['2023/06/29', 157.11, 159.29, 159.96, 155.2],
    ['2023/06/30', 161.37, 162.06, 164.2, 159.81],
    ['2023/07/03', 161.34, 159.9, 161.86, 157.94],
    ['2023/07/05', 158.22, 159.68, 160.24, 157.67],
    ['2023/07/06', 157.63, 158.9, 159.65, 156.73],
    ['2023/07/07', 158.65, 158.0, 160.69, 157.42],
    ['2023/07/10', 157.59, 159.55, 159.63, 155.8],
    ['2023/07/11', 160.49, 160.17, 161.76, 158.4],
    ['2023/07/12', 162.0, 164.04, 164.62, 161.6],
    ['2023/07/13', 165.2, 168.61, 168.78, 164.88],
    ['2023/07/14', 166.92, 165.58, 169.5, 162.9],
    ['2023/07/17', 165.54, 170.42, 170.46, 165.54],
    ['2023/07/18', 170.42, 173.51, 174.84, 168.82],
    ['2023/07/19', 174.46, 176.26, 176.66, 173.68],
    ['2023/07/20', 175.3, 171.41, 176.85, 169.89],
    ['2023/07/21', 173.32, 171.64, 173.78, 171.41],
    ['2023/07/24', 171.86, 171.72, 172.32, 168.75],
    ['2023/07/25', 173.29, 174.09, 175.56, 172.55],
    ['2023/07/26', 173.64, 164.45, 173.64, 162.32],
    ['2023/07/27', 164.3, 160.99, 164.88, 159.56],
    ['2023/07/28', 157.0, 151.09, 157.18, 149.1],
    ['2023/07/31', 153.0, 155.09, 155.42, 150.72],
    ['2023/08/01', 177.5, 185.61, 190.65, 170.3],
    ['2023/08/02', 183.11, 177.28, 183.84, 176.82],
    ['2023/08/03', 178.0, 177.76, 180.93, 174.0],
    ['2023/08/04', 178.88, 179.6, 182.51, 177.0],
    ['2023/08/07', 180.13, 179.27, 181.1, 174.39],
    ['2023/08/08', 179.0, 180.45, 181.46, 177.38],
    ['2023/08/09', 180.52, 177.46, 182.34, 176.54],
]);
var volumes = [
    1571500.0,
    1125700.0,
    1153700.0,
    1345700.0,
    1297500.0,
    1732100.0,
    1501000.0,
    1425900.0,
    1674400.0,
    1552400.0,
    1881800.0,
    1310000.0,
    1188300.0,
    1093700.0,
    2157500.0,
    2039900.0,
    1252200.0,
    1421500.0,
    1409100.0,
    1836200.0,
    1668600.0,
    1351600.0,
    1812800.0,
    1976500.0,
    2130300.0,
    7228200.0,
    2065500.0,
    1267200.0,
    1844100.0,
    1480400.0,
    2381900.0,
    1315700.0,
    1185200.0,
    2118100.0,
    2007000.0,
    1469000.0,
    1251800.0,
    1584500.0,
    1248300.0,
    1699600.0,
    1696900.0,
    3106400.0,
    1967400.0,
    2902200.0,
    3950100.0,
    2118300.0,
    2198400.0,
    2356000.0,
    2322200.0,
    1560800.0,
    2178600.0,
    1377400.0,
    3199100.0,
    3874700.0,
    5265000.0,
    3220100.0,
    3375100.0,
    5267300.0,
    3361200.0,
    2062400.0,
    3960000.0,
    1894500.0,
    3232700.0,
    3084400.0,
    3630700.0,
    2874800.0,
    3276900.0,
    2421400.0,
    1456000.0,
    1867800.0,
    1954600.0,
    1260500.0,
    1677500.0,
    1521600.0,
    644900.0,
    1374600.0,
    1110100.0,
    2848300.0,
    1642900.0,
    2016700.0,
    1318300.0,
    2083500.0,
    2815900.0,
    2724200.0,
    1917300.0,
    1982400.0,
    2704000.0,
    2149400.0,
    2546600.0,
    3420800.0,
    1682600.0,
    1712300.0,
    1182100.0,
    1727700.0,
    995400.0,
    701900.0,
    1086500.0,
    1223800.0,
    838900.0,
    1693700.0,
    4614100.0,
    3707900.0,
    2328500.0,
    1811300.0,
    1304300.0,
    1481600.0,
    1596800.0,
    1999900.0,
    2706200.0,
    2487800.0,
    1743000.0,
    2138700.0,
    1972600.0,
    1918900.0,
    2117200.0,
    1618700.0,
    2179000.0,
    1774100.0,
    1700800.0,
    3750500.0,
    4741200.0,
    2084900.0,
    2104800.0,
    2299700.0,
    2878000.0,
    2165100.0,
    1936300.0,
    3127500.0,
    7484000.0,
    2868300.0,
    2289300.0,
    1918900.0,
    1384900.0,
    2206500.0,
    1583100.0,
    1327200.0,
    1669500.0,
    2056700.0,
    1767700.0,
    1955100.0,
    1830000.0,
    2293700.0,
    1482800.0,
    3860400.0,
    4154700.0,
    2911600.0,
    2314700.0,
    3213600.0,
    3037100.0,
    5143000.0,
    4640900.0,
    2810600.0,
    3593200.0,
    3037700.0,
    2990600.0,
    2500200.0,
    1942700.0,
    3792400.0,
    3505600.0,
    2918300.0,
    3030400.0,
    3217700.0,
    1522900.0,
    2147400.0,
    2677300.0,
    1483000.0,
    1806700.0,
    1896200.0,
    1668700.0,
    1398900.0,
    1057500.0,
    1636200.0,
    2956400.0,
    2295600.0,
    1567700.0,
    2350700.0,
    2750800.0,
    3257100.0,
    2253600.0,
    2386700.0,
    4299300.0,
    16415800.0,
    5045400.0,
    4223300.0,
    3034700.0,
    2191300.0,
    2211900.0,
    2200600.0,
    1811200.0,
    1778300.0,
    1648700.0,
    2106000.0,
    2352400.0,
    3299400.0,
    3326000.0,
    2619700.0,
    2737700.0,
    3168600.0,
    8138400.0,
    8700000.0,
    6351900.0,
    6174400.0,
    3634800.0,
    3376500.0,
    2176300.0,
    3015300.0,
    3337900.0,
    2855500.0,
    2978200.0,
    3233700.0,
    3294800.0,
    2622200.0,
    6493800.0,
    4498700.0,
    4375300.0,
    3322400.0,
    3316000.0,
    8418900.0,
    2749100.0,
    3157200.0,
    2340200.0,
    2256100.0,
    3000400.0,
    921700.0,
    1544800.0,
    1387600.0,
    1784100.0,
    1458800.0,
    1615000.0,
    2688700.0,
    2789400.0,
    2031100.0,
    1874900.0,
    2980800.0,
    2406600.0,
    2616800.0,
    1640400.0,
    2086500.0,
    2654500.0,
    3772600.0,
    3869900.0,
    7285000.0,
    7126000.0,
    16031300.0,
    4250100.0,
    2787400.0,
    2577900.0,
    2268700.0,
    2163000.0,
    1659400.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "ANET",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);