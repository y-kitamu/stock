/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_APG");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/15', 17.91, 18.15, 18.17, 17.72],
    ['2022/08/16', 18.02, 18.12, 18.21, 17.95],
    ['2022/08/17', 17.73, 17.57, 17.85, 17.52],
    ['2022/08/18', 17.65, 17.54, 17.86, 17.54],
    ['2022/08/19', 17.45, 17.04, 17.45, 16.96],
    ['2022/08/22', 16.79, 16.48, 16.79, 16.42],
    ['2022/08/23', 16.41, 16.41, 16.72, 16.35],
    ['2022/08/24', 16.36, 16.76, 16.79, 16.36],
    ['2022/08/25', 16.83, 16.97, 17.01, 16.75],
    ['2022/08/26', 16.84, 15.9, 16.86, 15.84],
    ['2022/08/29', 15.67, 15.91, 15.97, 15.67],
    ['2022/08/30', 15.9, 15.63, 15.95, 15.43],
    ['2022/08/31', 15.62, 15.55, 15.68, 15.4],
    ['2022/09/01', 15.55, 15.44, 15.57, 15.19],
    ['2022/09/02', 15.71, 15.2, 15.71, 15.12],
    ['2022/09/06', 15.31, 15.15, 15.31, 15.01],
    ['2022/09/07', 15.05, 15.53, 15.56, 15.04],
    ['2022/09/08', 15.33, 15.63, 15.67, 15.12],
    ['2022/09/09', 15.71, 16.09, 16.23, 15.71],
    ['2022/09/12', 16.22, 16.2, 16.47, 15.94],
    ['2022/09/13', 16.0, 15.51, 16.0, 15.41],
    ['2022/09/14', 15.44, 15.45, 15.58, 15.25],
    ['2022/09/15', 15.2, 15.16, 15.59, 15.12],
    ['2022/09/16', 14.98, 14.94, 15.11, 14.75],
    ['2022/09/19', 14.76, 15.17, 15.28, 14.76],
    ['2022/09/20', 15.2, 14.97, 15.2, 14.82],
    ['2022/09/21', 15.07, 14.77, 15.28, 14.75],
    ['2022/09/22', 14.67, 14.38, 14.75, 14.26],
    ['2022/09/23', 14.13, 13.96, 14.13, 13.77],
    ['2022/09/26', 13.9, 13.49, 14.25, 13.48],
    ['2022/09/27', 13.66, 13.52, 13.87, 13.34],
    ['2022/09/28', 13.6, 14.04, 14.19, 13.59],
    ['2022/09/29', 13.81, 13.67, 13.81, 13.35],
    ['2022/09/30', 13.61, 13.27, 13.94, 13.26],
    ['2022/10/03', 13.45, 13.86, 14.02, 13.27],
    ['2022/10/04', 14.25, 14.89, 14.89, 14.25],
    ['2022/10/05', 14.6, 14.82, 14.94, 14.53],
    ['2022/10/06', 14.69, 14.43, 14.91, 14.41],
    ['2022/10/07', 14.24, 14.09, 14.24, 13.84],
    ['2022/10/10', 14.25, 14.06, 14.25, 14.02],
    ['2022/10/11', 13.89, 13.98, 14.12, 13.53],
    ['2022/10/12', 13.87, 13.7, 13.96, 13.67],
    ['2022/10/13', 13.5, 14.17, 14.26, 13.09],
    ['2022/10/14', 14.42, 14.2, 14.6, 14.09],
    ['2022/10/17', 14.57, 14.72, 14.84, 14.55],
    ['2022/10/18', 15.14, 15.02, 15.38, 14.73],
    ['2022/10/19', 14.83, 14.9, 15.06, 14.72],
    ['2022/10/20', 14.97, 14.69, 15.14, 14.68],
    ['2022/10/21', 14.7, 15.11, 15.11, 14.38],
    ['2022/10/24', 15.12, 15.3, 15.38, 14.88],
    ['2022/10/25', 15.38, 15.92, 16.2, 15.38],
    ['2022/10/26', 16.08, 16.09, 16.34, 15.94],
    ['2022/10/27', 16.27, 16.24, 16.49, 16.17],
    ['2022/10/28', 16.33, 16.61, 16.72, 16.08],
    ['2022/10/31', 16.49, 16.49, 16.64, 16.31],
    ['2022/11/01', 16.68, 16.51, 16.77, 16.37],
    ['2022/11/02', 16.39, 15.77, 16.59, 15.76],
    ['2022/11/03', 16.42, 17.01, 17.04, 15.98],
    ['2022/11/04', 17.47, 17.45, 17.53, 17.12],
    ['2022/11/07', 17.56, 17.68, 17.74, 17.24],
    ['2022/11/08', 17.78, 17.77, 17.99, 17.52],
    ['2022/11/09', 17.51, 17.51, 17.83, 17.39],
    ['2022/11/10', 18.37, 18.56, 18.56, 18.08],
    ['2022/11/11', 18.64, 18.99, 19.33, 18.61],
    ['2022/11/14', 18.9, 19.17, 19.5, 18.84],
    ['2022/11/15', 19.49, 18.91, 19.55, 18.88],
    ['2022/11/16', 18.87, 18.79, 19.01, 18.72],
    ['2022/11/17', 18.51, 18.8, 18.93, 18.43],
    ['2022/11/18', 19.45, 18.94, 19.56, 18.81],
    ['2022/11/21', 18.83, 18.48, 19.03, 18.36],
    ['2022/11/22', 18.57, 18.96, 18.98, 18.45],
    ['2022/11/23', 18.88, 18.7, 18.97, 18.6],
    ['2022/11/25', 18.75, 18.79, 18.91, 18.69],
    ['2022/11/28', 18.66, 18.53, 18.78, 18.43],
    ['2022/11/29', 18.53, 18.57, 18.77, 18.43],
    ['2022/11/30', 18.63, 19.22, 19.23, 18.4],
    ['2022/12/01', 19.57, 19.33, 19.67, 19.16],
    ['2022/12/02', 19.02, 19.39, 19.58, 19.02],
    ['2022/12/05', 19.16, 19.1, 19.19, 18.94],
    ['2022/12/06', 19.15, 18.92, 19.2, 18.77],
    ['2022/12/07', 18.91, 18.76, 19.17, 18.72],
    ['2022/12/08', 18.96, 18.98, 19.05, 18.8],
    ['2022/12/09', 19.08, 18.69, 19.19, 18.67],
    ['2022/12/12', 18.8, 18.8, 18.84, 18.57],
    ['2022/12/13', 19.5, 19.22, 19.69, 19.0],
    ['2022/12/14', 19.25, 19.25, 19.5, 19.05],
    ['2022/12/15', 18.9, 18.68, 18.9, 18.47],
    ['2022/12/16', 18.41, 18.62, 18.63, 18.28],
    ['2022/12/19', 18.56, 18.55, 18.71, 18.41],
    ['2022/12/20', 18.6, 18.48, 18.79, 18.46],
    ['2022/12/21', 18.67, 18.8, 18.98, 18.54],
    ['2022/12/22', 18.62, 18.5, 18.62, 18.15],
    ['2022/12/23', 18.4, 18.6, 18.67, 18.39],
    ['2022/12/27', 18.64, 18.4, 18.64, 18.29],
    ['2022/12/28', 18.47, 18.25, 18.64, 18.16],
    ['2022/12/29', 18.46, 18.89, 18.97, 18.39],
    ['2022/12/30', 18.68, 18.81, 18.87, 18.51],
    ['2023/01/03', 19.06, 18.67, 19.25, 18.55],
    ['2023/01/04', 18.86, 18.73, 19.06, 18.51],
    ['2023/01/05', 18.67, 18.45, 18.67, 18.33],
    ['2023/01/06', 18.71, 19.08, 19.12, 18.47],
    ['2023/01/09', 19.2, 18.95, 19.46, 18.87],
    ['2023/01/10', 18.91, 19.14, 19.19, 18.87],
    ['2023/01/11', 19.29, 19.64, 19.72, 19.29],
    ['2023/01/12', 19.76, 20.55, 20.55, 19.62],
    ['2023/01/13', 20.45, 20.71, 20.81, 20.44],
    ['2023/01/17', 20.77, 20.6, 20.9, 20.33],
    ['2023/01/18', 20.5, 19.85, 20.65, 19.82],
    ['2023/01/19', 19.69, 19.27, 19.74, 19.25],
    ['2023/01/20', 19.51, 19.91, 19.93, 19.27],
    ['2023/01/23', 19.88, 20.62, 20.64, 19.88],
    ['2023/01/24', 20.39, 20.8, 21.06, 20.35],
    ['2023/01/25', 20.6, 21.01, 21.03, 20.46],
    ['2023/01/26', 21.25, 21.15, 21.42, 20.63],
    ['2023/01/27', 21.03, 21.54, 21.78, 21.0],
    ['2023/01/30', 21.33, 21.57, 21.79, 21.24],
    ['2023/01/31', 21.6, 22.24, 22.27, 21.6],
    ['2023/02/01', 22.2, 22.22, 22.42, 21.8],
    ['2023/02/02', 22.39, 22.77, 22.94, 22.39],
    ['2023/02/03', 22.6, 22.3, 22.69, 22.06],
    ['2023/02/06', 22.09, 21.7, 22.09, 21.67],
    ['2023/02/07', 21.51, 22.1, 22.13, 21.51],
    ['2023/02/08', 21.94, 22.12, 22.16, 21.83],
    ['2023/02/09', 22.32, 21.63, 22.49, 21.59],
    ['2023/02/10', 21.58, 21.33, 21.58, 21.26],
    ['2023/02/13', 21.38, 21.76, 21.86, 21.2],
    ['2023/02/14', 21.6, 21.95, 22.05, 21.5],
    ['2023/02/15', 21.66, 21.99, 22.05, 21.66],
    ['2023/02/16', 21.57, 22.16, 22.42, 21.57],
    ['2023/02/17', 22.16, 22.06, 22.16, 21.74],
    ['2023/02/21', 21.93, 22.42, 22.95, 21.93],
    ['2023/02/22', 22.76, 22.95, 23.15, 22.6],
    ['2023/02/23', 23.02, 23.48, 23.56, 22.79],
    ['2023/02/24', 23.18, 23.6, 23.8, 22.98],
    ['2023/02/27', 23.76, 23.42, 24.08, 23.35],
    ['2023/02/28', 23.52, 23.49, 23.68, 22.92],
    ['2023/03/01', 23.94, 23.66, 24.17, 23.53],
    ['2023/03/02', 23.63, 23.46, 23.8, 23.45],
    ['2023/03/03', 23.87, 24.11, 24.49, 23.57],
    ['2023/03/06', 24.13, 23.71, 24.38, 23.65],
    ['2023/03/07', 23.8, 23.47, 24.01, 23.0],
    ['2023/03/08', 23.54, 23.5, 23.6, 23.21],
    ['2023/03/09', 23.5, 22.72, 23.51, 22.65],
    ['2023/03/10', 22.64, 21.57, 22.7, 21.44],
    ['2023/03/13', 21.11, 21.5, 21.91, 21.01],
    ['2023/03/14', 22.16, 22.04, 22.29, 21.71],
    ['2023/03/15', 21.59, 20.9, 21.59, 20.48],
    ['2023/03/16', 20.65, 21.03, 21.18, 20.25],
    ['2023/03/17', 20.97, 20.35, 20.97, 20.05],
    ['2023/03/20', 20.54, 20.81, 20.86, 20.47],
    ['2023/03/21', 21.34, 21.46, 21.66, 21.16],
    ['2023/03/22', 21.37, 21.15, 21.67, 21.12],
    ['2023/03/23', 21.14, 20.94, 21.39, 20.67],
    ['2023/03/24', 20.63, 21.08, 21.1, 20.43],
    ['2023/03/27', 21.41, 21.5, 21.58, 21.11],
    ['2023/03/28', 21.38, 21.64, 21.68, 21.24],
    ['2023/03/29', 21.89, 22.03, 22.06, 21.78],
    ['2023/03/30', 22.24, 22.3, 22.36, 22.03],
    ['2023/03/31', 22.42, 22.48, 22.64, 22.38],
    ['2023/04/03', 22.56, 22.42, 22.61, 22.02],
    ['2023/04/04', 22.49, 21.49, 22.49, 21.34],
    ['2023/04/05', 21.26, 20.92, 21.27, 20.58],
    ['2023/04/06', 20.98, 20.91, 21.06, 20.75],
    ['2023/04/10', 20.64, 21.09, 21.13, 20.64],
    ['2023/04/11', 21.21, 21.02, 21.25, 20.94],
    ['2023/04/12', 21.22, 21.13, 21.32, 21.02],
    ['2023/04/13', 21.22, 21.33, 21.47, 21.05],
    ['2023/04/14', 21.26, 21.25, 21.51, 21.11],
    ['2023/04/17', 21.26, 21.64, 21.64, 21.25],
    ['2023/04/18', 21.74, 21.45, 21.79, 21.29],
    ['2023/04/19', 21.3, 21.39, 21.5, 21.25],
    ['2023/04/20', 21.23, 21.67, 21.68, 21.15],
    ['2023/04/21', 21.78, 21.73, 21.83, 21.5],
    ['2023/04/24', 21.79, 22.14, 22.19, 21.72],
    ['2023/04/25', 21.86, 21.96, 22.21, 21.86],
    ['2023/04/26', 21.77, 21.65, 21.96, 21.56],
    ['2023/04/27', 21.8, 22.48, 22.49, 21.76],
    ['2023/04/28', 22.35, 22.76, 22.86, 22.35],
    ['2023/05/01', 22.71, 22.68, 23.14, 22.58],
    ['2023/05/02', 22.42, 22.64, 22.66, 22.14],
    ['2023/05/03', 22.6, 22.24, 22.9, 22.18],
    ['2023/05/04', 22.75, 21.75, 23.0, 21.65],
    ['2023/05/05', 22.0, 22.49, 22.59, 21.81],
    ['2023/05/08', 22.51, 22.06, 22.64, 22.02],
    ['2023/05/09', 21.91, 22.07, 22.12, 21.74],
    ['2023/05/10', 22.43, 22.34, 22.51, 21.96],
    ['2023/05/11', 22.08, 22.32, 22.33, 22.08],
    ['2023/05/12', 22.37, 22.59, 22.65, 22.3],
    ['2023/05/15', 22.65, 22.62, 22.86, 22.57],
    ['2023/05/16', 22.62, 22.38, 22.62, 22.22],
    ['2023/05/17', 23.23, 23.28, 23.4, 22.74],
    ['2023/05/18', 23.1, 23.57, 23.65, 23.08],
    ['2023/05/19', 23.84, 23.08, 23.84, 22.75],
    ['2023/05/22', 23.1, 23.25, 23.3, 22.89],
    ['2023/05/23', 23.14, 23.0, 23.51, 22.95],
    ['2023/05/24', 22.88, 22.49, 22.89, 22.33],
    ['2023/05/25', 22.37, 22.58, 22.65, 22.31],
    ['2023/05/26', 22.57, 22.8, 22.85, 22.57],
    ['2023/05/30', 22.96, 23.13, 23.22, 22.92],
    ['2023/05/31', 23.02, 22.6, 23.2, 22.41],
    ['2023/06/01', 22.53, 22.55, 22.86, 22.36],
    ['2023/06/02', 22.96, 23.45, 23.6, 22.71],
    ['2023/06/05', 23.47, 23.53, 23.58, 23.22],
    ['2023/06/06', 23.48, 24.36, 24.56, 23.45],
    ['2023/06/07', 24.38, 24.67, 24.92, 24.38],
    ['2023/06/08', 24.52, 24.75, 24.82, 24.45],
    ['2023/06/09', 24.88, 24.61, 24.88, 24.42],
    ['2023/06/12', 24.69, 25.15, 25.32, 24.55],
    ['2023/06/13', 25.2, 25.5, 25.64, 25.18],
    ['2023/06/14', 25.56, 25.42, 25.75, 25.2],
    ['2023/06/15', 25.37, 25.33, 25.52, 25.15],
    ['2023/06/16', 25.54, 25.58, 25.6, 25.22],
    ['2023/06/20', 25.3, 25.54, 25.61, 25.23],
    ['2023/06/21', 25.5, 25.83, 25.97, 25.36],
    ['2023/06/22', 25.72, 25.7, 25.77, 25.46],
    ['2023/06/23', 25.24, 25.44, 25.78, 25.17],
    ['2023/06/26', 25.46, 25.69, 25.96, 25.46],
    ['2023/06/27', 25.76, 26.27, 26.47, 25.66],
    ['2023/06/28', 26.33, 26.62, 26.8, 26.23],
    ['2023/06/29', 26.62, 27.24, 27.25, 26.62],
    ['2023/06/30', 27.43, 27.26, 27.48, 27.14],
    ['2023/07/03', 27.13, 27.19, 27.3, 26.94],
    ['2023/07/05', 26.92, 26.83, 27.1, 26.63],
    ['2023/07/06', 26.53, 26.23, 26.64, 26.03],
    ['2023/07/07', 26.31, 26.41, 26.59, 26.24],
    ['2023/07/10', 26.62, 27.08, 27.2, 26.48],
    ['2023/07/11', 27.52, 27.66, 27.71, 26.97],
    ['2023/07/12', 28.0, 27.98, 28.17, 27.64],
    ['2023/07/13', 28.0, 28.34, 28.52, 27.98],
    ['2023/07/14', 28.33, 28.22, 28.38, 27.95],
    ['2023/07/17', 28.17, 28.48, 28.69, 28.17],
    ['2023/07/18', 28.52, 28.71, 28.73, 28.5],
    ['2023/07/19', 28.65, 28.58, 28.75, 28.08],
    ['2023/07/20', 28.63, 28.47, 28.67, 28.33],
    ['2023/07/21', 28.67, 28.28, 28.78, 28.19],
    ['2023/07/24', 28.26, 28.19, 28.52, 28.12],
    ['2023/07/25', 28.05, 28.23, 28.35, 27.98],
    ['2023/07/26', 28.15, 28.18, 28.34, 28.04],
    ['2023/07/27', 28.47, 28.16, 28.47, 28.09],
    ['2023/07/28', 28.36, 28.29, 28.62, 28.23],
    ['2023/07/31', 28.29, 28.76, 28.78, 28.25],
    ['2023/08/01', 28.5, 29.16, 29.21, 28.5],
    ['2023/08/02', 28.93, 28.89, 29.07, 28.59],
    ['2023/08/03', 29.57, 28.46, 29.57, 28.1],
    ['2023/08/04', 28.75, 28.12, 28.89, 28.02],
    ['2023/08/07', 28.31, 28.15, 28.47, 28.05],
    ['2023/08/08', 28.16, 28.44, 28.48, 27.76],
    ['2023/08/09', 28.42, 28.24, 28.49, 28.08],
    ['2023/08/10', 28.27, 28.05, 28.51, 27.65],
    ['2023/08/11', 28.04, 28.02, 28.31, 27.94],
]);
var volumes = [
    540100.0,
    621800.0,
    535200.0,
    566400.0,
    687200.0,
    782800.0,
    491100.0,
    704200.0,
    314900.0,
    462900.0,
    494400.0,
    456700.0,
    585600.0,
    955300.0,
    642300.0,
    527100.0,
    554700.0,
    656400.0,
    714100.0,
    1005800.0,
    798900.0,
    790600.0,
    822500.0,
    1454400.0,
    683200.0,
    862800.0,
    624900.0,
    930100.0,
    726900.0,
    864800.0,
    1327600.0,
    871800.0,
    828600.0,
    916600.0,
    1527700.0,
    932000.0,
    826800.0,
    630100.0,
    855700.0,
    639000.0,
    1086400.0,
    893300.0,
    994300.0,
    1246900.0,
    1325000.0,
    910600.0,
    712300.0,
    887300.0,
    918500.0,
    764800.0,
    853800.0,
    689200.0,
    640900.0,
    608400.0,
    1652300.0,
    1049000.0,
    878600.0,
    1677000.0,
    1154400.0,
    1006600.0,
    729900.0,
    1016100.0,
    1167000.0,
    1265000.0,
    1162700.0,
    1166000.0,
    1275500.0,
    1701200.0,
    1001900.0,
    645900.0,
    1131300.0,
    579900.0,
    166200.0,
    518200.0,
    389500.0,
    627600.0,
    452700.0,
    628200.0,
    461300.0,
    491300.0,
    647000.0,
    577700.0,
    703300.0,
    881000.0,
    816200.0,
    806600.0,
    790200.0,
    1315700.0,
    712200.0,
    624800.0,
    453000.0,
    454100.0,
    279900.0,
    476100.0,
    396400.0,
    460400.0,
    524100.0,
    527600.0,
    735700.0,
    375100.0,
    756800.0,
    531400.0,
    352100.0,
    456600.0,
    1047800.0,
    772400.0,
    465500.0,
    844400.0,
    491900.0,
    845200.0,
    648500.0,
    680900.0,
    429600.0,
    623800.0,
    676900.0,
    589900.0,
    718900.0,
    1317000.0,
    901800.0,
    1038100.0,
    822600.0,
    710600.0,
    610200.0,
    346200.0,
    416600.0,
    594200.0,
    381300.0,
    460200.0,
    743200.0,
    568900.0,
    1605300.0,
    1382100.0,
    1154700.0,
    967100.0,
    1769900.0,
    1405700.0,
    1062700.0,
    1241800.0,
    2489500.0,
    1151300.0,
    4672500.0,
    1619400.0,
    893300.0,
    1110600.0,
    1915700.0,
    1182000.0,
    2060300.0,
    3006300.0,
    2311200.0,
    1100400.0,
    1233000.0,
    1271000.0,
    1225400.0,
    931800.0,
    983200.0,
    1186500.0,
    943300.0,
    896700.0,
    1546700.0,
    1025300.0,
    966100.0,
    1049000.0,
    831600.0,
    1235600.0,
    897700.0,
    924000.0,
    751500.0,
    735200.0,
    808100.0,
    733900.0,
    598300.0,
    493700.0,
    1280500.0,
    1064100.0,
    1403500.0,
    792600.0,
    657400.0,
    636500.0,
    514100.0,
    658300.0,
    1493800.0,
    1673400.0,
    2042400.0,
    972800.0,
    815500.0,
    693900.0,
    740400.0,
    776200.0,
    687300.0,
    629500.0,
    1715400.0,
    1298500.0,
    763600.0,
    693600.0,
    945700.0,
    697300.0,
    465100.0,
    380300.0,
    654200.0,
    961500.0,
    782700.0,
    1340800.0,
    953300.0,
    1401000.0,
    1331000.0,
    887200.0,
    893500.0,
    1040600.0,
    934100.0,
    889000.0,
    946300.0,
    1523500.0,
    731800.0,
    950000.0,
    652800.0,
    6577300.0,
    744900.0,
    853300.0,
    1213800.0,
    994800.0,
    960500.0,
    275500.0,
    784100.0,
    661700.0,
    696900.0,
    993600.0,
    736100.0,
    867300.0,
    695600.0,
    567000.0,
    442000.0,
    467600.0,
    615400.0,
    555600.0,
    736900.0,
    381300.0,
    422100.0,
    348400.0,
    810900.0,
    605500.0,
    620400.0,
    615300.0,
    658200.0,
    728000.0,
    846300.0,
    1295700.0,
    1093100.0,
    549800.0,
    849000.0,
    736000.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "APG",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);