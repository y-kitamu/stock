/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_BLKB");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/05', 55.84, 56.03, 57.35, 55.06],
    ['2022/08/08', 56.23, 57.1, 58.15, 55.2],
    ['2022/08/09', 57.04, 56.12, 57.42, 55.85],
    ['2022/08/10', 57.06, 57.43, 58.18, 56.92],
    ['2022/08/11', 57.84, 57.2, 58.15, 56.93],
    ['2022/08/12', 57.35, 57.47, 57.63, 56.45],
    ['2022/08/15', 57.1, 57.79, 57.99, 56.76],
    ['2022/08/16', 57.79, 57.8, 58.09, 57.23],
    ['2022/08/17', 57.1, 56.18, 57.34, 55.98],
    ['2022/08/18', 56.17, 57.42, 57.43, 55.62],
    ['2022/08/19', 57.17, 56.39, 57.37, 55.79],
    ['2022/08/22', 55.6, 55.83, 56.63, 55.32],
    ['2022/08/23', 56.1, 55.05, 56.57, 54.65],
    ['2022/08/24', 55.03, 55.29, 55.66, 54.82],
    ['2022/08/25', 55.27, 56.38, 56.59, 54.62],
    ['2022/08/26', 56.84, 54.48, 56.88, 54.34],
    ['2022/08/29', 53.9, 53.92, 54.92, 53.18],
    ['2022/08/30', 54.12, 52.99, 54.12, 52.75],
    ['2022/08/31', 53.44, 52.3, 53.66, 52.14],
    ['2022/09/01', 51.67, 51.72, 52.0, 50.83],
    ['2022/09/02', 52.32, 51.23, 52.32, 50.68],
    ['2022/09/06', 51.17, 50.15, 52.13, 49.91],
    ['2022/09/07', 50.24, 50.95, 51.22, 49.99],
    ['2022/09/08', 50.31, 50.09, 50.4, 49.36],
    ['2022/09/09', 50.54, 50.86, 51.39, 50.47],
    ['2022/09/12', 51.3, 51.33, 52.75, 50.27],
    ['2022/09/13', 49.6, 47.68, 49.99, 47.63],
    ['2022/09/14', 47.86, 47.9, 48.06, 46.56],
    ['2022/09/15', 47.56, 47.07, 47.73, 46.46],
    ['2022/09/16', 46.66, 46.59, 46.8, 44.99],
    ['2022/09/19', 46.45, 45.75, 47.07, 45.33],
    ['2022/09/20', 45.55, 44.86, 45.55, 44.44],
    ['2022/09/21', 44.9, 44.43, 45.98, 44.28],
    ['2022/09/22', 44.0, 45.29, 45.71, 43.93],
    ['2022/09/23', 44.77, 45.57, 45.62, 43.84],
    ['2022/09/26', 45.53, 44.79, 46.5, 44.74],
    ['2022/09/27', 45.06, 44.47, 45.47, 44.24],
    ['2022/09/28', 44.5, 44.83, 45.19, 44.16],
    ['2022/09/29', 44.13, 45.07, 45.12, 43.54],
    ['2022/09/30', 45.11, 44.06, 45.51, 44.01],
    ['2022/10/03', 44.47, 45.01, 45.32, 44.08],
    ['2022/10/04', 49.25, 53.13, 53.17, 49.17],
    ['2022/10/05', 52.36, 52.09, 53.17, 51.95],
    ['2022/10/06', 51.85, 52.24, 52.83, 51.85],
    ['2022/10/07', 51.75, 51.85, 51.95, 51.38],
    ['2022/10/10', 51.94, 51.81, 52.3, 51.05],
    ['2022/10/11', 51.81, 51.86, 52.41, 50.55],
    ['2022/10/12', 51.85, 51.24, 52.32, 50.93],
    ['2022/10/13', 50.11, 53.1, 53.79, 49.84],
    ['2022/10/14', 53.2, 52.72, 53.62, 52.64],
    ['2022/10/17', 53.51, 52.56, 54.27, 52.37],
    ['2022/10/18', 53.65, 53.94, 54.32, 53.35],
    ['2022/10/19', 53.57, 52.56, 54.0, 52.39],
    ['2022/10/20', 52.7, 52.22, 53.77, 51.97],
    ['2022/10/21', 52.27, 51.92, 52.69, 51.18],
    ['2022/10/24', 52.12, 51.7, 52.29, 51.44],
    ['2022/10/25', 51.72, 52.7, 52.91, 51.68],
    ['2022/10/26', 52.69, 52.49, 53.77, 51.52],
    ['2022/10/27', 52.9, 52.46, 53.96, 51.9],
    ['2022/10/28', 52.79, 53.97, 54.1, 52.28],
    ['2022/10/31', 53.74, 54.7, 55.24, 53.49],
    ['2022/11/01', 55.23, 54.41, 55.23, 53.89],
    ['2022/11/02', 56.9, 55.45, 57.97, 54.98],
    ['2022/11/03', 55.12, 57.01, 58.43, 55.12],
    ['2022/11/04', 57.15, 57.35, 57.48, 55.59],
    ['2022/11/07', 57.33, 58.79, 58.92, 56.82],
    ['2022/11/08', 58.91, 56.65, 58.91, 53.02],
    ['2022/11/09', 56.18, 56.49, 57.37, 55.33],
    ['2022/11/10', 58.18, 59.46, 59.97, 58.18],
    ['2022/11/11', 59.5, 59.43, 60.41, 58.23],
    ['2022/11/14', 58.68, 58.48, 59.38, 57.89],
    ['2022/11/15', 59.38, 59.21, 60.65, 56.48],
    ['2022/11/16', 58.86, 57.61, 58.93, 57.61],
    ['2022/11/17', 57.03, 57.5, 58.31, 56.34],
    ['2022/11/18', 58.55, 57.38, 58.55, 56.92],
    ['2022/11/21', 57.32, 56.71, 57.39, 56.57],
    ['2022/11/22', 56.96, 57.36, 58.25, 55.07],
    ['2022/11/23', 57.18, 57.94, 58.35, 56.74],
    ['2022/11/25', 57.94, 58.63, 58.99, 55.16],
    ['2022/11/28', 58.2, 58.15, 58.95, 57.98],
    ['2022/11/29', 58.12, 58.39, 58.52, 57.72],
    ['2022/11/30', 58.02, 59.27, 59.29, 57.33],
    ['2022/12/01', 59.6, 60.25, 61.18, 57.72],
    ['2022/12/02', 59.49, 60.15, 60.84, 58.91],
    ['2022/12/05', 59.59, 58.86, 60.2, 58.04],
    ['2022/12/06', 58.74, 57.69, 59.26, 57.53],
    ['2022/12/07', 57.88, 56.43, 57.98, 55.93],
    ['2022/12/08', 56.77, 57.27, 58.42, 56.75],
    ['2022/12/09', 57.18, 56.56, 57.78, 56.56],
    ['2022/12/12', 56.48, 57.68, 57.74, 56.48],
    ['2022/12/13', 59.54, 57.9, 59.95, 57.81],
    ['2022/12/14', 57.7, 58.6, 59.19, 57.7],
    ['2022/12/15', 58.0, 57.83, 58.28, 56.8],
    ['2022/12/16', 57.24, 57.86, 58.05, 57.08],
    ['2022/12/19', 57.81, 56.55, 58.26, 56.42],
    ['2022/12/20', 56.63, 57.42, 58.0, 56.63],
    ['2022/12/21', 57.68, 58.4, 58.88, 57.14],
    ['2022/12/22', 58.12, 58.2, 58.6, 57.31],
    ['2022/12/23', 58.17, 58.28, 58.28, 57.34],
    ['2022/12/27', 58.2, 58.36, 58.5, 57.47],
    ['2022/12/28', 58.31, 58.25, 58.91, 58.25],
    ['2022/12/29', 58.42, 59.6, 59.69, 58.02],
    ['2022/12/30', 59.03, 58.86, 59.64, 58.7],
    ['2023/01/03', 59.37, 59.87, 60.54, 59.1],
    ['2023/01/04', 60.0, 60.45, 61.03, 59.9],
    ['2023/01/05', 59.95, 59.48, 60.0, 59.05],
    ['2023/01/06', 60.02, 61.61, 61.63, 59.31],
    ['2023/01/09', 61.8, 61.11, 63.08, 61.06],
    ['2023/01/10', 60.86, 61.57, 61.85, 60.73],
    ['2023/01/11', 61.76, 61.39, 61.95, 61.11],
    ['2023/01/12', 61.63, 61.8, 61.96, 61.07],
    ['2023/01/13', 61.47, 61.43, 62.1, 61.35],
    ['2023/01/17', 61.48, 61.19, 61.69, 60.87],
    ['2023/01/18', 61.2, 60.75, 61.72, 60.51],
    ['2023/01/19', 60.35, 60.5, 61.4, 59.9],
    ['2023/01/20', 60.75, 61.01, 61.18, 60.09],
    ['2023/01/23', 61.05, 62.93, 62.98, 60.98],
    ['2023/01/24', 62.73, 63.52, 63.93, 62.57],
    ['2023/01/25', 63.25, 62.18, 63.25, 62.01],
    ['2023/01/26', 62.8, 62.37, 63.25, 61.62],
    ['2023/01/27', 62.08, 61.78, 62.92, 61.77],
    ['2023/01/30', 61.3, 61.06, 62.27, 60.95],
    ['2023/01/31', 61.32, 62.21, 62.41, 60.96],
    ['2023/02/01', 62.06, 63.64, 64.16, 61.65],
    ['2023/02/02', 63.89, 63.31, 64.83, 63.16],
    ['2023/02/03', 62.6, 62.8, 63.99, 61.09],
    ['2023/02/06', 62.35, 61.91, 62.7, 61.7],
    ['2023/02/07', 61.87, 62.7, 63.0, 61.16],
    ['2023/02/08', 62.4, 61.54, 62.43, 61.13],
    ['2023/02/09', 61.96, 61.64, 62.6, 61.38],
    ['2023/02/10', 61.22, 61.12, 61.75, 61.01],
    ['2023/02/13', 61.12, 61.36, 62.25, 60.88],
    ['2023/02/14', 59.99, 58.07, 60.0, 56.86],
    ['2023/02/15', 57.95, 59.96, 60.28, 57.64],
    ['2023/02/16', 58.84, 57.93, 58.91, 57.64],
    ['2023/02/17', 57.99, 58.61, 58.91, 57.76],
    ['2023/02/21', 57.95, 58.07, 58.25, 56.81],
    ['2023/02/22', 58.24, 57.79, 58.86, 57.06],
    ['2023/02/23', 58.04, 58.02, 58.64, 57.58],
    ['2023/02/24', 57.28, 57.15, 57.98, 57.1],
    ['2023/02/27', 57.42, 57.01, 57.72, 56.69],
    ['2023/02/28', 56.35, 55.69, 56.96, 55.38],
    ['2023/03/01', 55.65, 55.93, 56.29, 55.62],
    ['2023/03/02', 55.74, 56.12, 56.69, 55.58],
    ['2023/03/03', 56.18, 56.6, 56.95, 56.18],
    ['2023/03/06', 56.43, 56.13, 56.87, 55.66],
    ['2023/03/07', 56.22, 55.86, 56.61, 55.59],
    ['2023/03/08', 55.95, 56.02, 56.19, 55.79],
    ['2023/03/09', 56.01, 55.97, 56.74, 55.78],
    ['2023/03/10', 55.69, 55.22, 56.16, 54.95],
    ['2023/03/13', 54.66, 53.42, 54.8, 53.39],
    ['2023/03/14', 54.3, 55.72, 55.92, 54.3],
    ['2023/03/15', 54.89, 55.18, 55.52, 54.39],
    ['2023/03/16', 54.86, 57.9, 58.27, 54.03],
    ['2023/03/17', 57.87, 57.14, 58.19, 56.68],
    ['2023/03/20', 57.37, 57.83, 58.52, 57.03],
    ['2023/03/21', 58.17, 58.25, 58.53, 57.14],
    ['2023/03/22', 58.08, 56.26, 58.4, 56.21],
    ['2023/03/23', 56.41, 57.06, 57.45, 56.05],
    ['2023/03/24', 56.66, 57.83, 57.9, 56.41],
    ['2023/03/27', 65.21, 63.93, 66.75, 63.82],
    ['2023/03/28', 63.56, 64.88, 65.35, 63.11],
    ['2023/03/29', 65.5, 67.28, 67.37, 65.5],
    ['2023/03/30', 67.3, 68.08, 68.6, 67.03],
    ['2023/03/31', 68.15, 69.3, 69.57, 68.05],
    ['2023/04/03', 68.8, 69.61, 69.77, 68.68],
    ['2023/04/04', 69.4, 69.07, 69.58, 68.52],
    ['2023/04/05', 69.07, 67.5, 69.07, 67.36],
    ['2023/04/06', 67.55, 67.89, 67.93, 66.58],
    ['2023/04/10', 67.72, 68.07, 68.34, 67.14],
    ['2023/04/11', 67.91, 67.46, 68.51, 66.71],
    ['2023/04/12', 67.78, 67.11, 67.87, 66.96],
    ['2023/04/13', 67.26, 69.03, 69.08, 67.17],
    ['2023/04/14', 69.11, 68.02, 69.28, 67.29],
    ['2023/04/17', 67.91, 67.08, 67.91, 67.03],
    ['2023/04/18', 67.17, 67.0, 67.33, 66.04],
    ['2023/04/19', 66.82, 66.58, 66.86, 66.48],
    ['2023/04/20', 66.36, 66.49, 66.6, 66.05],
    ['2023/04/21', 66.54, 66.8, 67.24, 66.35],
    ['2023/04/24', 66.58, 66.99, 67.09, 66.35],
    ['2023/04/25', 66.53, 66.39, 66.61, 65.91],
    ['2023/04/26', 66.37, 68.03, 68.18, 66.25],
    ['2023/04/27', 68.24, 68.83, 69.0, 67.43],
    ['2023/04/28', 68.49, 69.36, 69.43, 67.73],
    ['2023/05/01', 68.93, 68.7, 69.45, 68.51],
    ['2023/05/02', 68.48, 67.51, 68.48, 66.93],
    ['2023/05/03', 69.0, 67.33, 69.65, 67.08],
    ['2023/05/04', 68.69, 70.1, 70.69, 68.01],
    ['2023/05/05', 70.02, 70.0, 71.37, 69.95],
    ['2023/05/08', 69.8, 70.14, 70.31, 69.56],
    ['2023/05/09', 69.65, 69.69, 70.09, 69.53],
    ['2023/05/10', 70.25, 70.11, 70.73, 69.22],
    ['2023/05/11', 69.95, 69.79, 70.09, 69.08],
    ['2023/05/12', 69.86, 70.37, 70.38, 69.4],
    ['2023/05/15', 70.43, 70.85, 71.25, 70.19],
    ['2023/05/16', 70.45, 71.14, 71.45, 70.03],
    ['2023/05/17', 71.14, 72.4, 72.62, 71.14],
    ['2023/05/18', 72.24, 72.52, 73.39, 71.97],
    ['2023/05/19', 73.04, 71.88, 73.04, 71.73],
    ['2023/05/22', 71.88, 72.89, 73.01, 71.5],
    ['2023/05/23', 72.46, 72.06, 73.21, 71.98],
    ['2023/05/24', 71.67, 71.99, 72.33, 71.5],
    ['2023/05/25', 72.01, 72.48, 72.94, 71.71],
    ['2023/05/26', 72.4, 72.88, 73.67, 71.72],
    ['2023/05/30', 73.0, 72.33, 73.6, 71.95],
    ['2023/05/31', 72.09, 73.36, 73.7, 71.56],
    ['2023/06/01', 73.04, 72.49, 73.05, 71.97],
    ['2023/06/02', 72.7, 74.04, 74.34, 72.46],
    ['2023/06/05', 75.0, 74.06, 75.5, 73.88],
    ['2023/06/06', 73.69, 73.72, 74.07, 73.24],
    ['2023/06/07', 73.86, 73.51, 75.05, 73.0],
    ['2023/06/08', 73.54, 73.03, 73.54, 72.38],
    ['2023/06/09', 73.3, 72.91, 73.55, 72.58],
    ['2023/06/12', 72.87, 73.48, 73.62, 72.44],
    ['2023/06/13', 73.61, 73.95, 74.23, 73.53],
    ['2023/06/14', 73.8, 72.91, 74.07, 72.54],
    ['2023/06/15', 72.62, 72.73, 72.94, 72.06],
    ['2023/06/16', 72.84, 72.43, 73.93, 72.16],
    ['2023/06/20', 72.04, 71.12, 72.18, 70.99],
    ['2023/06/21', 70.92, 70.18, 71.46, 70.09],
    ['2023/06/22', 70.02, 70.21, 70.56, 69.34],
    ['2023/06/23', 69.62, 69.3, 70.13, 68.78],
    ['2023/06/26', 69.12, 68.53, 69.96, 68.47],
    ['2023/06/27', 68.62, 68.56, 69.06, 68.22],
    ['2023/06/28', 68.41, 68.73, 68.94, 68.27],
    ['2023/06/29', 68.96, 70.17, 70.2, 68.84],
    ['2023/06/30', 70.72, 71.18, 71.6, 70.52],
    ['2023/07/03', 70.75, 71.28, 71.34, 70.7],
    ['2023/07/05', 70.66, 71.28, 71.43, 70.27],
    ['2023/07/06', 70.65, 71.23, 71.29, 69.72],
    ['2023/07/07', 70.98, 72.99, 73.49, 70.98],
    ['2023/07/10', 72.72, 73.77, 74.32, 72.59],
    ['2023/07/11', 73.73, 73.95, 74.13, 73.08],
    ['2023/07/12', 74.77, 74.42, 74.92, 73.91],
    ['2023/07/13', 74.68, 75.83, 75.95, 74.68],
    ['2023/07/14', 75.58, 76.56, 76.56, 73.79],
    ['2023/07/17', 76.8, 77.62, 78.04, 76.37],
    ['2023/07/18', 77.45, 77.79, 77.85, 76.9],
    ['2023/07/19', 77.87, 78.47, 78.67, 77.54],
    ['2023/07/20', 78.53, 75.86, 78.71, 75.76],
    ['2023/07/21', 76.29, 74.48, 76.64, 74.06],
    ['2023/07/24', 74.48, 73.97, 74.59, 73.64],
    ['2023/07/25', 73.87, 75.14, 75.21, 73.29],
    ['2023/07/26', 74.9, 75.0, 75.63, 74.22],
    ['2023/07/27', 75.67, 74.16, 76.67, 73.78],
    ['2023/07/28', 74.8, 74.19, 75.23, 73.64],
    ['2023/07/31', 74.13, 75.45, 75.49, 74.13],
    ['2023/08/01', 75.02, 75.07, 75.56, 74.39],
    ['2023/08/02', 72.76, 74.28, 74.5, 69.7],
    ['2023/08/03', 74.05, 74.03, 74.59, 72.4],
]);
var volumes = [
    200300.0,
    210500.0,
    188100.0,
    189900.0,
    181000.0,
    211100.0,
    277600.0,
    231300.0,
    363300.0,
    145800.0,
    292200.0,
    372700.0,
    313000.0,
    154100.0,
    311600.0,
    384100.0,
    298800.0,
    246100.0,
    419400.0,
    335800.0,
    450700.0,
    365100.0,
    290200.0,
    576000.0,
    388300.0,
    487800.0,
    1378700.0,
    962500.0,
    1012100.0,
    3498500.0,
    569800.0,
    528300.0,
    494500.0,
    475300.0,
    638000.0,
    331800.0,
    357900.0,
    438800.0,
    390200.0,
    356800.0,
    244500.0,
    1694400.0,
    526800.0,
    477700.0,
    495700.0,
    504300.0,
    531200.0,
    262600.0,
    383700.0,
    337700.0,
    367000.0,
    262300.0,
    268000.0,
    205300.0,
    321600.0,
    265700.0,
    226500.0,
    194100.0,
    209200.0,
    220400.0,
    293100.0,
    255800.0,
    554700.0,
    433800.0,
    310500.0,
    284000.0,
    297000.0,
    221700.0,
    372500.0,
    255400.0,
    200100.0,
    261800.0,
    182000.0,
    150700.0,
    164600.0,
    160700.0,
    226600.0,
    126400.0,
    82500.0,
    154100.0,
    119800.0,
    282200.0,
    157500.0,
    156500.0,
    187000.0,
    140500.0,
    203900.0,
    149900.0,
    133200.0,
    194300.0,
    260600.0,
    365900.0,
    280900.0,
    615600.0,
    232900.0,
    186000.0,
    212200.0,
    154900.0,
    113800.0,
    115900.0,
    153300.0,
    168700.0,
    103800.0,
    173900.0,
    177900.0,
    127400.0,
    178200.0,
    354200.0,
    195200.0,
    103100.0,
    204300.0,
    133900.0,
    143600.0,
    191400.0,
    156300.0,
    315800.0,
    112800.0,
    108300.0,
    206700.0,
    147600.0,
    122200.0,
    154800.0,
    198100.0,
    252100.0,
    239700.0,
    234800.0,
    137400.0,
    159200.0,
    99200.0,
    113100.0,
    118800.0,
    210500.0,
    624800.0,
    263500.0,
    238100.0,
    265500.0,
    208600.0,
    209700.0,
    163600.0,
    226100.0,
    172500.0,
    542900.0,
    360500.0,
    205200.0,
    158300.0,
    155000.0,
    185600.0,
    145200.0,
    292000.0,
    541100.0,
    372900.0,
    222300.0,
    225700.0,
    296200.0,
    492800.0,
    185900.0,
    210600.0,
    258000.0,
    167700.0,
    138700.0,
    1024100.0,
    440100.0,
    505400.0,
    279600.0,
    387300.0,
    342000.0,
    273600.0,
    264900.0,
    249800.0,
    202000.0,
    263800.0,
    107400.0,
    162400.0,
    119200.0,
    134400.0,
    150900.0,
    74500.0,
    88900.0,
    103100.0,
    86100.0,
    98200.0,
    226500.0,
    156400.0,
    178300.0,
    255400.0,
    378500.0,
    428400.0,
    413000.0,
    282700.0,
    171200.0,
    135300.0,
    238300.0,
    149200.0,
    296500.0,
    238900.0,
    168500.0,
    284200.0,
    203900.0,
    236800.0,
    310100.0,
    207600.0,
    165900.0,
    170800.0,
    179500.0,
    108800.0,
    618300.0,
    140100.0,
    239700.0,
    244500.0,
    312600.0,
    275800.0,
    131700.0,
    131500.0,
    173400.0,
    147700.0,
    169900.0,
    193500.0,
    520000.0,
    224600.0,
    167000.0,
    137000.0,
    658900.0,
    172400.0,
    122700.0,
    99200.0,
    184200.0,
    226700.0,
    49600.0,
    152200.0,
    164400.0,
    202700.0,
    191500.0,
    130400.0,
    109800.0,
    130600.0,
    175100.0,
    165100.0,
    97000.0,
    229600.0,
    193200.0,
    151000.0,
    75800.0,
    105300.0,
    101800.0,
    95700.0,
    118900.0,
    89400.0,
    138700.0,
    257800.0,
    170500.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "BLKB",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);