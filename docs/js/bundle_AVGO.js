/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_AVGO");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 519.91, 531.04, 532.26, 518.78],
    ['2022/08/04', 532.66, 536.92, 537.26, 529.36],
    ['2022/08/05', 529.25, 535.6, 536.14, 527.67],
    ['2022/08/08', 533.57, 529.86, 537.11, 523.27],
    ['2022/08/09', 523.61, 517.5, 523.86, 512.59],
    ['2022/08/10', 530.37, 534.6, 535.19, 523.75],
    ['2022/08/11', 538.04, 529.76, 541.75, 528.62],
    ['2022/08/12', 532.07, 542.2, 542.37, 529.98],
    ['2022/08/15', 538.31, 542.9, 543.71, 534.69],
    ['2022/08/16', 541.51, 535.8, 541.91, 530.33],
    ['2022/08/17', 528.73, 523.12, 529.06, 515.79],
    ['2022/08/18', 527.8, 542.41, 544.46, 526.07],
    ['2022/08/19', 535.04, 532.68, 539.62, 532.13],
    ['2022/08/22', 526.99, 513.56, 527.49, 511.91],
    ['2022/08/23', 518.52, 514.56, 522.18, 513.72],
    ['2022/08/24', 514.35, 515.59, 516.04, 508.4],
    ['2022/08/25', 518.13, 534.33, 534.67, 516.97],
    ['2022/08/26', 533.08, 505.9, 535.16, 505.06],
    ['2022/08/29', 505.06, 499.41, 507.72, 497.29],
    ['2022/08/30', 501.99, 491.84, 503.03, 486.99],
    ['2022/08/31', 495.51, 484.77, 495.51, 482.28],
    ['2022/09/01', 477.35, 477.88, 479.12, 467.03],
    ['2022/09/02', 503.12, 485.85, 504.88, 483.99],
    ['2022/09/06', 484.21, 483.89, 489.52, 476.28],
    ['2022/09/07', 488.46, 490.62, 494.8, 484.74],
    ['2022/09/08', 488.16, 497.23, 498.01, 484.38],
    ['2022/09/09', 500.63, 507.39, 510.86, 500.63],
    ['2022/09/12', 511.62, 513.86, 516.0, 509.49],
    ['2022/09/13', 499.08, 489.18, 503.38, 487.27],
    ['2022/09/14', 492.56, 496.08, 498.26, 488.33],
    ['2022/09/15', 494.31, 485.77, 496.87, 483.0],
    ['2022/09/16', 483.42, 488.07, 489.22, 475.79],
    ['2022/09/19', 480.22, 487.43, 488.93, 480.22],
    ['2022/09/20', 481.75, 478.9, 484.5, 475.65],
    ['2022/09/21', 480.89, 472.22, 489.59, 471.86],
    ['2022/09/22', 472.5, 467.78, 473.27, 463.27],
    ['2022/09/23', 465.18, 459.03, 468.15, 452.49],
    ['2022/09/26', 459.33, 452.75, 463.56, 451.82],
    ['2022/09/27', 459.89, 455.19, 460.22, 447.12],
    ['2022/09/28', 451.85, 456.37, 459.1, 446.96],
    ['2022/09/29', 451.41, 440.87, 451.88, 435.72],
    ['2022/09/30', 439.82, 434.87, 448.4, 434.51],
    ['2022/10/03', 439.99, 447.38, 451.46, 437.77],
    ['2022/10/04', 458.86, 469.98, 470.28, 456.27],
    ['2022/10/05', 462.83, 474.82, 478.05, 461.76],
    ['2022/10/06', 473.83, 469.63, 479.62, 468.87],
    ['2022/10/07', 462.66, 451.0, 463.6, 449.57],
    ['2022/10/10', 450.53, 428.69, 450.63, 422.95],
    ['2022/10/11', 426.24, 421.9, 429.67, 416.82],
    ['2022/10/12', 423.35, 421.71, 426.75, 419.2],
    ['2022/10/13', 408.83, 428.96, 434.64, 406.53],
    ['2022/10/14', 434.16, 418.31, 434.82, 417.63],
    ['2022/10/17', 430.5, 426.41, 432.16, 424.47],
    ['2022/10/18', 438.99, 425.88, 439.32, 421.31],
    ['2022/10/19', 424.31, 426.34, 429.28, 422.01],
    ['2022/10/20', 426.18, 421.44, 433.09, 419.33],
    ['2022/10/21', 423.2, 440.47, 441.39, 420.34],
    ['2022/10/24', 443.41, 447.12, 449.35, 441.83],
    ['2022/10/25', 448.56, 450.6, 454.71, 447.43],
    ['2022/10/26', 448.56, 451.69, 462.05, 445.97],
    ['2022/10/27', 456.46, 446.03, 461.08, 445.55],
    ['2022/10/28', 447.56, 463.17, 464.58, 446.27],
    ['2022/10/31', 457.24, 460.45, 463.08, 455.44],
    ['2022/11/01', 466.01, 458.27, 467.02, 453.64],
    ['2022/11/02', 460.6, 446.65, 470.56, 446.34],
    ['2022/11/03', 441.66, 434.98, 443.54, 432.28],
    ['2022/11/04', 447.46, 455.72, 459.24, 443.95],
    ['2022/11/07', 457.16, 465.44, 467.91, 452.07],
    ['2022/11/08', 471.35, 472.19, 478.74, 463.76],
    ['2022/11/09', 468.65, 459.81, 469.14, 459.38],
    ['2022/11/10', 480.9, 496.14, 496.73, 477.16],
    ['2022/11/11', 494.41, 507.43, 508.32, 491.67],
    ['2022/11/14', 504.78, 502.66, 514.22, 502.44],
    ['2022/11/15', 519.05, 513.63, 521.61, 505.29],
    ['2022/11/16', 506.09, 501.2, 507.87, 499.78],
    ['2022/11/17', 494.61, 501.57, 502.19, 492.79],
    ['2022/11/18', 506.23, 504.56, 507.08, 500.48],
    ['2022/11/21', 502.38, 506.79, 510.13, 500.59],
    ['2022/11/22', 512.21, 519.14, 519.37, 508.33],
    ['2022/11/23', 519.44, 522.66, 530.34, 517.92],
    ['2022/11/25', 519.77, 519.0, 523.58, 518.58],
    ['2022/11/28', 514.43, 511.46, 517.88, 505.62],
    ['2022/11/29', 512.24, 510.66, 515.03, 504.24],
    ['2022/11/30', 513.32, 539.69, 540.31, 507.17],
    ['2022/12/01', 539.69, 539.42, 541.05, 530.81],
    ['2022/12/02', 526.0, 529.67, 531.53, 525.05],
    ['2022/12/05', 526.7, 519.72, 528.38, 514.68],
    ['2022/12/06', 519.73, 515.0, 522.59, 511.01],
    ['2022/12/07', 508.91, 507.83, 514.2, 505.43],
    ['2022/12/08', 510.09, 520.15, 521.46, 509.67],
    ['2022/12/09', 539.6, 533.51, 541.27, 529.87],
    ['2022/12/12', 533.54, 545.17, 545.41, 531.08],
    ['2022/12/13', 563.97, 559.29, 569.87, 553.4],
    ['2022/12/14', 556.85, 562.62, 573.6, 556.05],
    ['2022/12/15', 552.18, 546.52, 554.83, 546.22],
    ['2022/12/16', 545.98, 544.47, 548.28, 539.53],
    ['2022/12/19', 547.15, 542.81, 549.58, 538.95],
    ['2022/12/20', 538.41, 537.27, 542.19, 534.21],
    ['2022/12/21', 540.87, 554.27, 554.94, 540.16],
    ['2022/12/22', 546.48, 546.23, 548.05, 540.41],
    ['2022/12/23', 543.18, 545.58, 546.75, 540.66],
    ['2022/12/27', 544.71, 546.67, 551.19, 540.15],
    ['2022/12/28', 544.8, 538.13, 550.85, 535.72],
    ['2022/12/29', 545.0, 550.89, 555.62, 543.67],
    ['2022/12/30', 544.97, 552.19, 552.71, 541.21],
    ['2023/01/03', 557.99, 546.61, 560.53, 543.96],
    ['2023/01/04', 556.0, 553.29, 561.11, 549.13],
    ['2023/01/05', 548.82, 548.13, 552.89, 544.28],
    ['2023/01/06', 556.13, 581.13, 583.67, 555.32],
    ['2023/01/09', 584.95, 569.73, 594.2, 553.6],
    ['2023/01/10', 564.9, 567.8, 567.99, 543.17],
    ['2023/01/11', 565.89, 570.97, 571.16, 559.84],
    ['2023/01/12', 568.45, 574.72, 577.85, 566.64],
    ['2023/01/13', 569.99, 571.82, 574.71, 569.51],
    ['2023/01/17', 567.77, 572.05, 578.1, 567.41],
    ['2023/01/18', 575.97, 567.16, 580.27, 566.6],
    ['2023/01/19', 562.06, 556.23, 562.99, 553.36],
    ['2023/01/20', 556.04, 563.7, 564.27, 552.17],
    ['2023/01/23', 564.9, 574.41, 577.53, 562.71],
    ['2023/01/24', 571.26, 577.77, 579.41, 568.49],
    ['2023/01/25', 570.5, 578.41, 579.69, 568.89],
    ['2023/01/26', 583.08, 591.15, 593.11, 578.99],
    ['2023/01/27', 585.96, 583.66, 591.81, 582.87],
    ['2023/01/30', 575.77, 574.24, 582.29, 572.57],
    ['2023/01/31', 574.85, 577.75, 579.94, 573.53],
    ['2023/02/01', 576.33, 595.27, 600.75, 575.47],
    ['2023/02/02', 600.09, 598.25, 605.53, 592.31],
    ['2023/02/03', 590.58, 590.21, 600.5, 588.85],
    ['2023/02/06', 585.98, 593.84, 595.74, 584.91],
    ['2023/02/07', 593.21, 606.83, 609.35, 592.28],
    ['2023/02/08', 599.15, 594.24, 602.61, 593.17],
    ['2023/02/09', 605.0, 591.97, 607.3, 588.09],
    ['2023/02/10', 588.91, 585.89, 591.03, 582.31],
    ['2023/02/13', 587.62, 593.66, 594.02, 586.11],
    ['2023/02/14', 586.8, 594.84, 598.07, 585.96],
    ['2023/02/15', 591.43, 600.15, 600.73, 589.3],
    ['2023/02/16', 593.3, 593.09, 601.38, 592.11],
    ['2023/02/17', 592.56, 588.2, 593.39, 585.1],
    ['2023/02/21', 582.68, 574.32, 585.73, 572.65],
    ['2023/02/22', 575.03, 569.02, 575.86, 565.0],
    ['2023/02/23', 578.48, 576.56, 578.67, 566.56],
    ['2023/02/24', 570.36, 570.58, 573.04, 566.49],
    ['2023/02/27', 578.6, 578.19, 582.48, 577.01],
    ['2023/02/28', 578.29, 586.92, 591.15, 574.96],
    ['2023/03/01', 586.63, 586.21, 590.79, 582.98],
    ['2023/03/02', 582.08, 591.22, 593.48, 578.86],
    ['2023/03/03', 610.04, 624.91, 627.84, 608.11],
    ['2023/03/06', 627.12, 625.07, 636.06, 623.89],
    ['2023/03/07', 626.99, 617.39, 627.89, 615.77],
    ['2023/03/08', 619.99, 624.42, 624.88, 615.93],
    ['2023/03/09', 622.26, 614.8, 634.47, 614.16],
    ['2023/03/10', 620.4, 607.2, 622.34, 605.22],
    ['2023/03/13', 599.56, 608.82, 616.64, 599.35],
    ['2023/03/14', 615.66, 624.61, 625.51, 610.83],
    ['2023/03/15', 619.88, 618.27, 622.25, 608.55],
    ['2023/03/16', 614.13, 628.6, 629.17, 610.14],
    ['2023/03/17', 628.6, 623.14, 631.63, 619.3],
    ['2023/03/20', 624.89, 635.72, 636.74, 623.76],
    ['2023/03/21', 639.68, 633.38, 643.16, 630.97],
    ['2023/03/22', 633.52, 627.58, 645.06, 627.33],
    ['2023/03/23', 635.51, 635.84, 644.75, 628.18],
    ['2023/03/24', 634.65, 632.8, 635.91, 625.22],
    ['2023/03/27', 635.61, 623.52, 635.71, 622.67],
    ['2023/03/28', 621.92, 621.39, 623.22, 615.58],
    ['2023/03/29', 629.43, 622.19, 630.65, 621.33],
    ['2023/03/30', 629.38, 630.39, 632.68, 625.97],
    ['2023/03/31', 627.2, 638.14, 638.82, 622.59],
    ['2023/04/03', 635.61, 639.07, 640.49, 633.07],
    ['2023/04/04', 639.74, 631.05, 640.83, 628.65],
    ['2023/04/05', 627.8, 625.68, 628.35, 622.38],
    ['2023/04/06', 620.85, 619.34, 625.07, 615.69],
    ['2023/04/10', 614.77, 624.07, 624.54, 613.18],
    ['2023/04/11', 627.44, 618.28, 627.54, 617.53],
    ['2023/04/12', 624.02, 613.43, 624.19, 612.99],
    ['2023/04/13', 615.79, 620.93, 623.18, 613.84],
    ['2023/04/14', 617.19, 616.26, 624.7, 611.95],
    ['2023/04/17', 615.33, 624.04, 625.01, 614.54],
    ['2023/04/18', 628.27, 628.97, 632.13, 623.81],
    ['2023/04/19', 623.47, 631.14, 633.42, 622.23],
    ['2023/04/20', 624.53, 629.67, 639.32, 623.82],
    ['2023/04/21', 627.26, 629.55, 630.44, 618.69],
    ['2023/04/24', 630.28, 631.18, 635.46, 628.44],
    ['2023/04/25', 630.63, 618.72, 632.62, 618.45],
    ['2023/04/26', 616.68, 612.92, 619.83, 610.26],
    ['2023/04/27', 612.92, 615.13, 616.8, 600.03],
    ['2023/04/28', 615.79, 623.18, 623.46, 611.3],
    ['2023/05/01', 623.18, 634.57, 635.6, 622.88],
    ['2023/05/02', 622.44, 609.1, 623.18, 601.81],
    ['2023/05/03', 613.63, 609.95, 618.65, 609.15],
    ['2023/05/04', 606.77, 606.93, 610.71, 598.1],
    ['2023/05/05', 612.69, 626.78, 628.12, 610.12],
    ['2023/05/08', 626.44, 625.73, 627.39, 617.29],
    ['2023/05/09', 619.43, 615.23, 620.76, 612.6],
    ['2023/05/10', 618.76, 622.95, 624.67, 614.99],
    ['2023/05/11', 623.26, 624.34, 625.15, 614.72],
    ['2023/05/12', 625.05, 627.81, 629.35, 620.9],
    ['2023/05/15', 628.52, 636.41, 636.63, 625.14],
    ['2023/05/16', 637.07, 638.04, 643.48, 635.35],
    ['2023/05/17', 643.92, 653.99, 657.4, 641.16],
    ['2023/05/18', 652.52, 674.31, 675.76, 652.52],
    ['2023/05/19', 676.4, 678.63, 681.32, 674.81],
    ['2023/05/22', 677.79, 674.78, 681.05, 670.55],
    ['2023/05/23', 686.98, 682.86, 695.29, 678.41],
    ['2023/05/24', 677.83, 675.93, 680.68, 672.48],
    ['2023/05/25', 695.7, 724.94, 728.51, 687.11],
    ['2023/05/26', 743.47, 808.42, 810.66, 743.06],
    ['2023/05/30', 830.69, 799.08, 916.9, 794.58],
    ['2023/05/31', 790.69, 803.68, 817.32, 785.94],
    ['2023/06/01', 796.38, 785.76, 801.52, 781.0],
    ['2023/06/02', 786.45, 807.7, 819.4, 783.03],
    ['2023/06/05', 804.91, 798.05, 804.91, 790.27],
    ['2023/06/06', 797.75, 785.81, 797.75, 772.27],
    ['2023/06/07', 785.63, 788.43, 801.18, 783.34],
    ['2023/06/08', 790.7, 799.94, 800.74, 784.6],
    ['2023/06/09', 801.53, 800.36, 813.42, 799.62],
    ['2023/06/12', 806.82, 850.83, 853.45, 806.82],
    ['2023/06/13', 856.57, 846.61, 858.69, 836.54],
    ['2023/06/14', 851.36, 881.48, 883.83, 842.73],
    ['2023/06/15', 879.72, 878.75, 883.26, 866.4],
    ['2023/06/16', 884.57, 863.51, 885.23, 860.86],
    ['2023/06/20', 858.09, 863.43, 872.42, 856.45],
    ['2023/06/21', 860.0, 847.66, 866.0, 844.6],
    ['2023/06/22', 845.09, 842.43, 848.91, 835.31],
    ['2023/06/23', 834.01, 822.15, 836.02, 818.85],
    ['2023/06/26', 825.0, 821.63, 837.0, 820.22],
    ['2023/06/27', 828.68, 848.4, 850.0, 821.0],
    ['2023/06/28', 838.73, 847.94, 858.53, 837.06],
    ['2023/06/29', 854.45, 862.57, 862.84, 846.41],
    ['2023/06/30', 868.52, 867.43, 874.57, 864.33],
    ['2023/07/03', 868.62, 876.44, 876.73, 864.92],
    ['2023/07/05', 867.4, 861.86, 876.9, 861.75],
    ['2023/07/06', 845.0, 848.0, 853.9, 844.33],
    ['2023/07/07', 850.43, 846.75, 857.99, 844.66],
    ['2023/07/10', 848.28, 877.73, 879.17, 848.28],
    ['2023/07/11', 881.11, 882.05, 883.0, 864.63],
    ['2023/07/12', 889.0, 889.95, 897.59, 882.0],
    ['2023/07/13', 898.94, 890.36, 898.94, 878.27],
    ['2023/07/14', 886.16, 888.58, 903.35, 886.16],
    ['2023/07/17', 891.01, 910.35, 913.21, 889.78],
    ['2023/07/18', 905.98, 903.43, 909.9, 898.26],
    ['2023/07/19', 897.27, 901.37, 905.97, 885.63],
    ['2023/07/20', 892.54, 888.34, 907.0, 886.0],
    ['2023/07/21', 904.49, 896.75, 911.15, 893.83],
    ['2023/07/24', 900.8, 901.59, 905.44, 894.23],
    ['2023/07/25', 900.62, 917.99, 923.18, 900.62],
    ['2023/07/26', 909.0, 893.09, 910.62, 887.65],
    ['2023/07/27', 908.5, 893.53, 909.85, 886.0],
    ['2023/07/28', 899.32, 899.79, 903.56, 893.95],
    ['2023/07/31', 897.5, 898.65, 901.0, 891.0],
    ['2023/08/01', 898.98, 920.0, 920.62, 897.7],
    ['2023/08/02', 912.3, 892.3, 913.0, 890.29],
]);
var volumes = [
    1922800.0,
    1629300.0,
    1435700.0,
    1372200.0,
    2007200.0,
    1951900.0,
    1426800.0,
    1839900.0,
    1432900.0,
    1478200.0,
    1902200.0,
    2345900.0,
    1692300.0,
    1855500.0,
    900300.0,
    1188300.0,
    1734500.0,
    2568200.0,
    1658000.0,
    1828200.0,
    3244500.0,
    3193000.0,
    4042600.0,
    2473800.0,
    2044000.0,
    2253500.0,
    2301900.0,
    1815700.0,
    3513600.0,
    2060500.0,
    3657400.0,
    5901200.0,
    1794800.0,
    1713200.0,
    2066900.0,
    2354000.0,
    2964900.0,
    1936100.0,
    1785000.0,
    2760500.0,
    3999700.0,
    2720200.0,
    2147900.0,
    2727700.0,
    1849300.0,
    1725000.0,
    2842500.0,
    3345400.0,
    2804600.0,
    1504600.0,
    2798000.0,
    2281600.0,
    2412000.0,
    2034100.0,
    1270200.0,
    2340200.0,
    2698000.0,
    2528700.0,
    1824600.0,
    2929100.0,
    1851200.0,
    2309400.0,
    1925900.0,
    1632400.0,
    2107000.0,
    2388700.0,
    2889100.0,
    1768700.0,
    2074300.0,
    2369500.0,
    3397000.0,
    2672800.0,
    2160800.0,
    2331500.0,
    2540500.0,
    2037500.0,
    1453600.0,
    1862200.0,
    1892000.0,
    1396400.0,
    745500.0,
    2350500.0,
    1269400.0,
    4734900.0,
    2300600.0,
    1932000.0,
    1854800.0,
    1965500.0,
    1652400.0,
    2751400.0,
    3702800.0,
    2341600.0,
    4041400.0,
    3521800.0,
    3687600.0,
    4954900.0,
    2509200.0,
    2983100.0,
    2561900.0,
    2755300.0,
    1376100.0,
    1667700.0,
    1541000.0,
    1817600.0,
    1437600.0,
    2017300.0,
    1707400.0,
    1627700.0,
    3526100.0,
    3773900.0,
    4463500.0,
    2250200.0,
    1951400.0,
    1964700.0,
    1583500.0,
    1570300.0,
    2269200.0,
    2295000.0,
    2342900.0,
    1382500.0,
    1376600.0,
    2452500.0,
    1934400.0,
    1698400.0,
    2371900.0,
    2655300.0,
    2418800.0,
    1909300.0,
    1870900.0,
    2402500.0,
    1529000.0,
    1883700.0,
    2103500.0,
    1984700.0,
    1757100.0,
    1268300.0,
    1744900.0,
    1421500.0,
    2273700.0,
    2347500.0,
    1893900.0,
    1535300.0,
    1832100.0,
    2782200.0,
    1548400.0,
    2752500.0,
    4608800.0,
    2498300.0,
    1933400.0,
    2091200.0,
    2177500.0,
    2609800.0,
    2236400.0,
    2589300.0,
    2296300.0,
    3171600.0,
    7930300.0,
    2585700.0,
    2500000.0,
    2579900.0,
    2716200.0,
    1722800.0,
    1470700.0,
    1243900.0,
    2639500.0,
    2152300.0,
    2209700.0,
    1568200.0,
    1342900.0,
    1690800.0,
    1449300.0,
    1540000.0,
    1651800.0,
    1411200.0,
    1726500.0,
    1746500.0,
    1320100.0,
    1680600.0,
    1906000.0,
    2023900.0,
    1480700.0,
    1233800.0,
    2367000.0,
    1717900.0,
    1825000.0,
    1618300.0,
    1703000.0,
    2835700.0,
    1981600.0,
    1768400.0,
    2486400.0,
    1393400.0,
    1699000.0,
    1917400.0,
    1443000.0,
    1194200.0,
    1461400.0,
    1496700.0,
    2413300.0,
    2638900.0,
    2296400.0,
    1779600.0,
    3608800.0,
    2302100.0,
    4926300.0,
    8250000.0,
    11691200.0,
    8999800.0,
    8079200.0,
    6279700.0,
    2622200.0,
    3782300.0,
    2895700.0,
    2190900.0,
    1924100.0,
    5106500.0,
    3899000.0,
    4352400.0,
    3381400.0,
    6829200.0,
    2753500.0,
    2322900.0,
    2346400.0,
    3740700.0,
    2137200.0,
    2492300.0,
    1944500.0,
    2338600.0,
    2313900.0,
    903800.0,
    1444000.0,
    2393900.0,
    1940100.0,
    3062200.0,
    2550400.0,
    2819700.0,
    2591200.0,
    1850300.0,
    2681900.0,
    2451800.0,
    2411800.0,
    2826800.0,
    7426100.0,
    1999200.0,
    2004200.0,
    1987700.0,
    2192200.0,
    1879100.0,
    1495200.0,
    1968300.0,
    2687700.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "AVGO",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);