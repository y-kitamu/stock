/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_AVGO");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/09', 539.09, 532.8, 539.35, 527.75],
    ['2022/08/10', 546.06, 550.41, 551.02, 539.24],
    ['2022/08/11', 553.95, 545.43, 557.77, 544.25],
    ['2022/08/12', 547.81, 558.23, 558.41, 545.65],
    ['2022/08/15', 554.23, 558.96, 559.79, 550.5],
    ['2022/08/16', 557.52, 551.65, 557.94, 546.01],
    ['2022/08/17', 544.37, 538.59, 544.71, 531.04],
    ['2022/08/18', 543.41, 558.45, 560.56, 541.63],
    ['2022/08/19', 550.86, 548.43, 555.58, 547.87],
    ['2022/08/22', 542.57, 528.75, 543.09, 527.05],
    ['2022/08/23', 533.85, 529.78, 537.62, 528.91],
    ['2022/08/24', 529.56, 530.84, 531.3, 523.44],
    ['2022/08/25', 533.45, 550.13, 550.48, 532.26],
    ['2022/08/26', 548.84, 520.86, 550.99, 520.0],
    ['2022/08/29', 520.0, 514.18, 522.74, 512.0],
    ['2022/08/30', 516.84, 506.39, 517.91, 501.39],
    ['2022/08/31', 510.16, 499.11, 510.16, 496.54],
    ['2022/09/01', 491.47, 492.01, 493.29, 480.84],
    ['2022/09/02', 518.0, 500.22, 519.81, 498.3],
    ['2022/09/06', 498.53, 498.2, 504.0, 490.37],
    ['2022/09/07', 502.91, 505.13, 509.43, 499.08],
    ['2022/09/08', 502.6, 511.93, 512.74, 498.7],
    ['2022/09/09', 515.44, 522.4, 525.97, 515.44],
    ['2022/09/12', 526.75, 529.06, 531.26, 524.56],
    ['2022/09/13', 513.84, 503.65, 518.27, 501.68],
    ['2022/09/14', 507.13, 510.75, 513.0, 502.77],
    ['2022/09/15', 508.93, 500.14, 511.56, 497.28],
    ['2022/09/16', 497.72, 502.5, 503.69, 489.86],
    ['2022/09/19', 494.42, 501.84, 503.39, 494.42],
    ['2022/09/20', 496.0, 493.06, 498.83, 489.72],
    ['2022/09/21', 490.99, 482.14, 499.88, 481.77],
    ['2022/09/22', 482.43, 477.61, 483.21, 473.0],
    ['2022/09/23', 474.95, 468.68, 477.99, 462.0],
    ['2022/09/26', 468.98, 462.26, 473.3, 461.31],
    ['2022/09/27', 469.55, 464.75, 469.89, 456.51],
    ['2022/09/28', 461.34, 465.96, 468.75, 456.35],
    ['2022/09/29', 460.9, 450.13, 461.37, 444.88],
    ['2022/09/30', 449.06, 444.01, 457.82, 443.64],
    ['2022/10/03', 449.24, 456.78, 460.95, 446.97],
    ['2022/10/04', 468.5, 479.86, 480.16, 465.86],
    ['2022/10/05', 472.55, 484.8, 488.09, 471.46],
    ['2022/10/06', 483.79, 479.5, 489.7, 478.72],
    ['2022/10/07', 472.38, 460.48, 473.34, 459.02],
    ['2022/10/10', 460.0, 437.7, 460.1, 431.84],
    ['2022/10/11', 435.2, 430.76, 438.7, 425.58],
    ['2022/10/12', 432.25, 430.57, 435.72, 428.01],
    ['2022/10/13', 417.42, 437.97, 443.77, 415.07],
    ['2022/10/14', 443.28, 427.1, 443.96, 426.41],
    ['2022/10/17', 439.55, 435.37, 441.24, 433.39],
    ['2022/10/18', 448.21, 434.83, 448.55, 430.16],
    ['2022/10/19', 433.23, 435.3, 438.3, 430.88],
    ['2022/10/20', 435.13, 430.3, 442.19, 428.14],
    ['2022/10/21', 432.09, 449.73, 450.66, 429.17],
    ['2022/10/24', 452.73, 456.52, 458.79, 451.11],
    ['2022/10/25', 457.99, 460.07, 464.26, 456.83],
    ['2022/10/26', 457.99, 461.18, 471.76, 455.34],
    ['2022/10/27', 466.05, 455.4, 470.77, 454.91],
    ['2022/10/28', 456.96, 472.9, 474.34, 455.65],
    ['2022/10/31', 466.85, 470.12, 472.81, 465.01],
    ['2022/11/01', 475.8, 467.9, 476.83, 463.17],
    ['2022/11/02', 470.28, 456.03, 480.45, 455.72],
    ['2022/11/03', 450.94, 444.12, 452.86, 441.36],
    ['2022/11/04', 456.86, 465.3, 468.89, 453.28],
    ['2022/11/07', 466.77, 475.22, 477.74, 461.57],
    ['2022/11/08', 481.25, 482.11, 488.8, 473.5],
    ['2022/11/09', 478.5, 469.47, 479.0, 469.03],
    ['2022/11/10', 491.0, 506.57, 507.17, 487.19],
    ['2022/11/11', 504.8, 518.09, 519.0, 502.0],
    ['2022/11/14', 515.39, 513.22, 525.02, 513.0],
    ['2022/11/15', 529.96, 524.42, 532.57, 515.91],
    ['2022/11/16', 516.72, 511.73, 518.54, 510.28],
    ['2022/11/17', 505.0, 512.11, 512.74, 503.14],
    ['2022/11/18', 516.87, 515.16, 517.73, 511.0],
    ['2022/11/21', 512.94, 517.44, 520.85, 511.11],
    ['2022/11/22', 522.97, 530.05, 530.28, 519.01],
    ['2022/11/23', 530.35, 533.64, 541.48, 528.8],
    ['2022/11/25', 530.69, 529.91, 534.58, 529.48],
    ['2022/11/28', 525.24, 522.21, 528.76, 516.24],
    ['2022/11/29', 523.0, 521.39, 525.85, 514.83],
    ['2022/11/30', 524.11, 551.03, 551.66, 517.83],
    ['2022/12/01', 551.03, 550.75, 552.42, 541.96],
    ['2022/12/02', 537.05, 540.8, 542.7, 536.08],
    ['2022/12/05', 537.77, 530.64, 539.48, 525.49],
    ['2022/12/06', 530.65, 525.82, 533.57, 521.75],
    ['2022/12/07', 519.6, 518.5, 525.0, 516.05],
    ['2022/12/08', 520.81, 531.08, 532.42, 520.38],
    ['2022/12/09', 550.94, 544.72, 552.64, 541.0],
    ['2022/12/12', 544.75, 556.63, 556.87, 542.24],
    ['2022/12/13', 575.82, 571.04, 581.84, 565.03],
    ['2022/12/14', 568.55, 574.44, 585.65, 567.73],
    ['2022/12/15', 563.78, 558.0, 566.49, 557.7],
    ['2022/12/16', 557.45, 555.91, 559.8, 550.87],
    ['2022/12/19', 554.02, 549.63, 556.48, 545.72],
    ['2022/12/20', 545.17, 544.02, 549.0, 540.92],
    ['2022/12/21', 547.67, 561.23, 561.91, 546.95],
    ['2022/12/22', 553.35, 553.09, 554.94, 547.2],
    ['2022/12/23', 550.0, 552.43, 553.62, 547.45],
    ['2022/12/27', 551.55, 553.54, 558.11, 546.94],
    ['2022/12/28', 551.64, 544.89, 557.77, 542.45],
    ['2022/12/29', 551.85, 557.81, 562.6, 550.5],
    ['2022/12/30', 551.82, 559.13, 559.65, 548.01],
    ['2023/01/03', 565.0, 553.48, 567.57, 550.79],
    ['2023/01/04', 562.99, 560.24, 568.16, 556.03],
    ['2023/01/05', 555.71, 555.02, 559.84, 551.12],
    ['2023/01/06', 563.12, 588.43, 591.0, 562.3],
    ['2023/01/09', 592.3, 576.89, 601.67, 560.56],
    ['2023/01/10', 572.0, 574.93, 575.13, 549.99],
    ['2023/01/11', 573.0, 578.14, 578.34, 566.87],
    ['2023/01/12', 575.59, 581.94, 585.11, 573.76],
    ['2023/01/13', 577.15, 579.0, 581.93, 576.67],
    ['2023/01/17', 574.9, 579.24, 585.36, 574.54],
    ['2023/01/18', 583.21, 574.29, 587.56, 573.72],
    ['2023/01/19', 569.12, 563.22, 570.06, 560.31],
    ['2023/01/20', 563.03, 570.78, 571.36, 559.11],
    ['2023/01/23', 572.0, 581.63, 584.79, 569.78],
    ['2023/01/24', 578.44, 585.03, 586.69, 575.63],
    ['2023/01/25', 577.67, 585.68, 586.97, 576.04],
    ['2023/01/26', 590.41, 598.58, 600.56, 586.26],
    ['2023/01/27', 593.32, 590.99, 599.25, 590.19],
    ['2023/01/30', 583.0, 581.45, 589.61, 579.76],
    ['2023/01/31', 582.07, 585.01, 587.23, 580.74],
    ['2023/02/01', 583.57, 602.75, 608.3, 582.7],
    ['2023/02/02', 607.63, 605.77, 613.14, 599.75],
    ['2023/02/03', 598.0, 597.62, 608.04, 596.25],
    ['2023/02/06', 593.34, 601.3, 603.22, 592.26],
    ['2023/02/07', 600.66, 614.45, 617.01, 599.72],
    ['2023/02/08', 606.68, 601.71, 610.18, 600.62],
    ['2023/02/09', 612.6, 599.41, 614.93, 595.48],
    ['2023/02/10', 596.31, 593.25, 598.46, 589.63],
    ['2023/02/13', 595.0, 601.12, 601.48, 593.47],
    ['2023/02/14', 594.17, 602.31, 605.58, 593.32],
    ['2023/02/15', 598.86, 607.69, 608.28, 596.7],
    ['2023/02/16', 600.75, 600.54, 608.94, 599.55],
    ['2023/02/17', 600.0, 595.59, 600.85, 592.45],
    ['2023/02/21', 590.0, 581.54, 593.09, 579.84],
    ['2023/02/22', 582.25, 576.17, 583.09, 572.1],
    ['2023/02/23', 585.75, 583.8, 585.94, 573.68],
    ['2023/02/24', 577.53, 577.75, 580.24, 573.61],
    ['2023/02/27', 585.87, 585.45, 589.8, 584.26],
    ['2023/02/28', 585.56, 594.29, 598.58, 582.18],
    ['2023/03/01', 594.0, 593.57, 598.21, 590.3],
    ['2023/03/02', 589.39, 598.65, 600.94, 586.13],
    ['2023/03/03', 617.7, 632.76, 635.73, 615.75],
    ['2023/03/06', 635.0, 632.92, 644.05, 631.73],
    ['2023/03/07', 634.87, 625.15, 635.78, 623.51],
    ['2023/03/08', 627.78, 632.26, 632.73, 623.67],
    ['2023/03/09', 630.08, 622.52, 642.44, 621.88],
    ['2023/03/10', 628.19, 614.83, 630.16, 612.82],
    ['2023/03/13', 607.09, 616.47, 624.39, 606.88],
    ['2023/03/14', 623.39, 632.46, 633.37, 618.5],
    ['2023/03/15', 627.67, 626.04, 630.07, 616.2],
    ['2023/03/16', 621.85, 636.5, 637.07, 617.81],
    ['2023/03/17', 636.5, 630.97, 639.57, 627.08],
    ['2023/03/20', 632.74, 643.71, 644.74, 631.6],
    ['2023/03/21', 643.09, 636.75, 646.59, 634.33],
    ['2023/03/22', 636.9, 630.92, 648.5, 630.67],
    ['2023/03/23', 638.9, 639.23, 648.18, 631.53],
    ['2023/03/24', 638.03, 636.17, 639.3, 628.55],
    ['2023/03/27', 639.0, 626.84, 639.1, 625.99],
    ['2023/03/28', 625.23, 624.7, 626.54, 618.86],
    ['2023/03/29', 632.78, 625.5, 634.01, 624.64],
    ['2023/03/30', 632.73, 633.75, 636.05, 629.3],
    ['2023/03/31', 630.54, 641.54, 642.22, 625.91],
    ['2023/04/03', 639.0, 642.47, 643.9, 636.44],
    ['2023/04/04', 643.15, 634.41, 644.24, 632.0],
    ['2023/04/05', 631.14, 629.01, 631.7, 625.7],
    ['2023/04/06', 624.16, 622.64, 628.4, 618.97],
    ['2023/04/10', 618.05, 627.39, 627.87, 616.45],
    ['2023/04/11', 630.78, 621.57, 630.88, 620.82],
    ['2023/04/12', 627.34, 616.7, 627.52, 616.26],
    ['2023/04/13', 619.07, 624.24, 626.5, 617.11],
    ['2023/04/14', 620.48, 619.54, 628.03, 615.21],
    ['2023/04/17', 618.61, 627.36, 628.34, 617.81],
    ['2023/04/18', 631.62, 632.32, 635.5, 627.13],
    ['2023/04/19', 626.79, 634.5, 636.79, 625.55],
    ['2023/04/20', 627.86, 633.02, 642.73, 627.14],
    ['2023/04/21', 630.6, 632.9, 633.8, 621.99],
    ['2023/04/24', 633.64, 634.54, 638.85, 631.79],
    ['2023/04/25', 633.99, 622.02, 635.99, 621.74],
    ['2023/04/26', 619.97, 616.19, 623.13, 613.51],
    ['2023/04/27', 616.19, 618.41, 620.09, 603.23],
    ['2023/04/28', 619.07, 626.5, 626.78, 614.56],
    ['2023/05/01', 626.5, 637.95, 638.99, 626.2],
    ['2023/05/02', 625.76, 612.34, 626.5, 605.02],
    ['2023/05/03', 616.9, 613.2, 621.95, 612.4],
    ['2023/05/04', 610.0, 610.16, 613.96, 601.29],
    ['2023/05/05', 615.95, 630.12, 631.47, 613.37],
    ['2023/05/08', 629.78, 629.06, 630.73, 620.58],
    ['2023/05/09', 622.73, 618.51, 624.07, 615.86],
    ['2023/05/10', 622.06, 626.27, 628.0, 618.27],
    ['2023/05/11', 626.58, 627.67, 628.48, 617.99],
    ['2023/05/12', 628.38, 631.15, 632.7, 624.21],
    ['2023/05/15', 631.87, 639.8, 640.02, 628.47],
    ['2023/05/16', 640.46, 641.44, 646.91, 638.73],
    ['2023/05/17', 647.35, 657.47, 660.9, 644.58],
    ['2023/05/18', 656.0, 677.9, 679.36, 656.0],
    ['2023/05/19', 680.0, 682.25, 684.95, 678.41],
    ['2023/05/22', 681.4, 678.37, 684.68, 674.12],
    ['2023/05/23', 690.64, 686.5, 698.99, 682.02],
    ['2023/05/24', 681.44, 679.53, 684.31, 676.06],
    ['2023/05/25', 699.41, 728.8, 732.39, 690.77],
    ['2023/05/26', 747.43, 812.73, 814.98, 747.02],
    ['2023/05/30', 835.12, 803.34, 921.78, 798.81],
    ['2023/05/31', 794.9, 807.96, 821.67, 790.13],
    ['2023/06/01', 800.62, 789.95, 805.79, 785.16],
    ['2023/06/02', 790.64, 812.0, 823.77, 787.2],
    ['2023/06/05', 809.2, 802.3, 809.2, 794.48],
    ['2023/06/06', 802.0, 790.0, 802.0, 776.38],
    ['2023/06/07', 789.82, 792.63, 805.45, 787.51],
    ['2023/06/08', 794.91, 804.2, 805.01, 788.78],
    ['2023/06/09', 805.8, 804.62, 817.75, 803.88],
    ['2023/06/12', 811.12, 855.36, 858.0, 811.12],
    ['2023/06/13', 861.13, 851.12, 863.26, 841.0],
    ['2023/06/14', 855.9, 886.18, 888.54, 847.22],
    ['2023/06/15', 884.41, 883.43, 887.97, 871.02],
    ['2023/06/16', 889.28, 868.11, 889.95, 865.45],
    ['2023/06/20', 862.66, 868.03, 877.07, 861.01],
    ['2023/06/21', 860.0, 847.66, 866.0, 844.6],
    ['2023/06/22', 845.09, 842.43, 848.91, 835.31],
    ['2023/06/23', 834.01, 822.15, 836.02, 818.85],
    ['2023/06/26', 825.0, 821.63, 837.0, 820.22],
    ['2023/06/27', 828.68, 848.4, 850.0, 821.0],
    ['2023/06/28', 838.73, 847.94, 858.53, 837.06],
    ['2023/06/29', 854.45, 862.57, 862.84, 846.41],
    ['2023/06/30', 868.52, 867.43, 874.57, 864.33],
    ['2023/07/03', 868.62, 876.44, 876.73, 864.92],
    ['2023/07/05', 867.4, 861.86, 876.9, 861.75],
    ['2023/07/06', 845.0, 848.0, 853.9, 844.33],
    ['2023/07/07', 850.43, 846.75, 857.99, 844.66],
    ['2023/07/10', 848.28, 877.73, 879.17, 848.28],
    ['2023/07/11', 881.11, 882.05, 883.0, 864.63],
    ['2023/07/12', 889.0, 889.95, 897.59, 882.0],
    ['2023/07/13', 898.94, 890.36, 898.94, 878.27],
    ['2023/07/14', 886.16, 888.58, 903.35, 886.16],
    ['2023/07/17', 891.01, 910.35, 913.21, 889.78],
    ['2023/07/18', 905.98, 903.43, 909.9, 898.26],
    ['2023/07/19', 897.27, 901.37, 905.97, 885.63],
    ['2023/07/20', 892.54, 888.34, 907.0, 886.0],
    ['2023/07/21', 904.49, 896.75, 911.15, 893.83],
    ['2023/07/24', 900.8, 901.59, 905.44, 894.23],
    ['2023/07/25', 900.62, 917.99, 923.18, 900.62],
    ['2023/07/26', 909.0, 893.09, 910.62, 887.65],
    ['2023/07/27', 908.5, 893.53, 909.85, 886.0],
    ['2023/07/28', 899.32, 899.79, 903.56, 893.95],
    ['2023/07/31', 897.5, 898.65, 901.0, 891.0],
    ['2023/08/01', 898.98, 920.0, 920.62, 897.7],
    ['2023/08/02', 912.3, 892.3, 913.0, 890.29],
    ['2023/08/03', 886.62, 884.98, 895.33, 881.08],
    ['2023/08/04', 884.98, 881.65, 893.62, 873.37],
    ['2023/08/07', 887.68, 897.06, 897.37, 885.27],
]);
var volumes = [
    2007200.0,
    1951900.0,
    1426800.0,
    1839900.0,
    1432900.0,
    1478200.0,
    1902200.0,
    2345900.0,
    1692300.0,
    1855500.0,
    900300.0,
    1188300.0,
    1734500.0,
    2568200.0,
    1658000.0,
    1828200.0,
    3244500.0,
    3193000.0,
    4042600.0,
    2473800.0,
    2044000.0,
    2253500.0,
    2301900.0,
    1815700.0,
    3513600.0,
    2060500.0,
    3657400.0,
    5901200.0,
    1794800.0,
    1713200.0,
    2066900.0,
    2354000.0,
    2964900.0,
    1936100.0,
    1785000.0,
    2760500.0,
    3999700.0,
    2720200.0,
    2147900.0,
    2727700.0,
    1849300.0,
    1725000.0,
    2842500.0,
    3345400.0,
    2804600.0,
    1504600.0,
    2798000.0,
    2281600.0,
    2412000.0,
    2034100.0,
    1270200.0,
    2340200.0,
    2698000.0,
    2528700.0,
    1824600.0,
    2929100.0,
    1851200.0,
    2309400.0,
    1925900.0,
    1632400.0,
    2107000.0,
    2388700.0,
    2889100.0,
    1768700.0,
    2074300.0,
    2369500.0,
    3397000.0,
    2672800.0,
    2160800.0,
    2331500.0,
    2540500.0,
    2037500.0,
    1453600.0,
    1862200.0,
    1892000.0,
    1396400.0,
    745500.0,
    2350500.0,
    1269400.0,
    4734900.0,
    2300600.0,
    1932000.0,
    1854800.0,
    1965500.0,
    1652400.0,
    2751400.0,
    3702800.0,
    2341600.0,
    4041400.0,
    3521800.0,
    3687600.0,
    4954900.0,
    2509200.0,
    2983100.0,
    2561900.0,
    2755300.0,
    1376100.0,
    1667700.0,
    1541000.0,
    1817600.0,
    1437600.0,
    2017300.0,
    1707400.0,
    1627700.0,
    3526100.0,
    3773900.0,
    4463500.0,
    2250200.0,
    1951400.0,
    1964700.0,
    1583500.0,
    1570300.0,
    2269200.0,
    2295000.0,
    2342900.0,
    1382500.0,
    1376600.0,
    2452500.0,
    1934400.0,
    1698400.0,
    2371900.0,
    2655300.0,
    2418800.0,
    1909300.0,
    1870900.0,
    2402500.0,
    1529000.0,
    1883700.0,
    2103500.0,
    1984700.0,
    1757100.0,
    1268300.0,
    1744900.0,
    1421500.0,
    2273700.0,
    2347500.0,
    1893900.0,
    1535300.0,
    1832100.0,
    2782200.0,
    1548400.0,
    2752500.0,
    4608800.0,
    2498300.0,
    1933400.0,
    2091200.0,
    2177500.0,
    2609800.0,
    2236400.0,
    2589300.0,
    2296300.0,
    3171600.0,
    7930300.0,
    2585700.0,
    2500000.0,
    2579900.0,
    2716200.0,
    1722800.0,
    1470700.0,
    1243900.0,
    2639500.0,
    2152300.0,
    2209700.0,
    1568200.0,
    1342900.0,
    1690800.0,
    1449300.0,
    1540000.0,
    1651800.0,
    1411200.0,
    1726500.0,
    1746500.0,
    1320100.0,
    1680600.0,
    1906000.0,
    2023900.0,
    1480700.0,
    1233800.0,
    2367000.0,
    1717900.0,
    1825000.0,
    1618300.0,
    1703000.0,
    2835700.0,
    1981600.0,
    1768400.0,
    2486400.0,
    1393400.0,
    1699000.0,
    1917400.0,
    1443000.0,
    1194200.0,
    1461400.0,
    1496700.0,
    2413300.0,
    2638900.0,
    2296400.0,
    1779600.0,
    3608800.0,
    2302100.0,
    4926300.0,
    8250000.0,
    11691200.0,
    8999800.0,
    8079200.0,
    6279700.0,
    2622200.0,
    3782300.0,
    2895700.0,
    2190900.0,
    1924100.0,
    5106500.0,
    3899000.0,
    4352400.0,
    3381400.0,
    6829200.0,
    2753500.0,
    2322900.0,
    2346400.0,
    3740700.0,
    2137200.0,
    2492300.0,
    1944500.0,
    2338600.0,
    2313900.0,
    903800.0,
    1444000.0,
    2393900.0,
    1940100.0,
    3062200.0,
    2550400.0,
    2819700.0,
    2591200.0,
    1850300.0,
    2681900.0,
    2451800.0,
    2411800.0,
    2826800.0,
    7426100.0,
    1999200.0,
    2004200.0,
    1987700.0,
    2192200.0,
    1879100.0,
    1495200.0,
    1968300.0,
    2687700.0,
    1828100.0,
    2115600.0,
    1113900.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "AVGO",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);