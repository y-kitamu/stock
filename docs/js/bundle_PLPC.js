/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_PLPC");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/09', 71.34, 67.45, 71.5, 67.45],
    ['2022/08/10', 67.72, 70.49, 70.5, 67.67],
    ['2022/08/11', 70.93, 73.35, 74.48, 70.93],
    ['2022/08/12', 73.35, 76.92, 78.4, 73.08],
    ['2022/08/15', 76.73, 84.7, 86.18, 76.67],
    ['2022/08/16', 84.99, 82.9, 87.19, 81.02],
    ['2022/08/17', 82.55, 82.85, 84.81, 80.82],
    ['2022/08/18', 83.0, 80.89, 83.0, 80.48],
    ['2022/08/19', 80.39, 80.35, 81.28, 75.52],
    ['2022/08/22', 79.97, 78.99, 81.15, 78.54],
    ['2022/08/23', 79.52, 80.23, 80.94, 78.61],
    ['2022/08/24', 79.74, 80.68, 81.47, 79.69],
    ['2022/08/25', 80.44, 80.55, 81.5, 78.7],
    ['2022/08/26', 80.56, 80.66, 80.9, 79.75],
    ['2022/08/29', 79.95, 80.74, 81.5, 79.45],
    ['2022/08/30', 80.58, 78.49, 81.2, 77.74],
    ['2022/08/31', 78.05, 77.8, 78.8, 76.49],
    ['2022/09/01', 77.59, 75.9, 77.6, 75.26],
    ['2022/09/02', 76.35, 75.49, 76.82, 74.65],
    ['2022/09/06', 75.49, 75.84, 76.36, 75.08],
    ['2022/09/07', 75.82, 76.57, 77.77, 75.77],
    ['2022/09/08', 75.9, 77.57, 78.33, 75.9],
    ['2022/09/09', 78.4, 79.32, 81.14, 78.36],
    ['2022/09/12', 79.32, 79.97, 80.5, 79.32],
    ['2022/09/13', 79.4, 76.52, 79.4, 75.37],
    ['2022/09/14', 76.54, 77.55, 78.55, 76.54],
    ['2022/09/15', 78.6, 77.27, 78.6, 77.0],
    ['2022/09/16', 77.09, 76.34, 77.65, 76.04],
    ['2022/09/19', 75.9, 77.0, 77.99, 75.5],
    ['2022/09/20', 76.04, 74.91, 76.7, 74.11],
    ['2022/09/21', 75.5, 74.42, 76.45, 73.68],
    ['2022/09/22', 74.0, 73.99, 74.71, 73.1],
    ['2022/09/23', 73.02, 72.11, 73.72, 71.51],
    ['2022/09/26', 71.77, 71.95, 74.28, 71.22],
    ['2022/09/27', 72.19, 72.14, 74.0, 71.66],
    ['2022/09/28', 72.07, 72.79, 73.43, 71.71],
    ['2022/09/29', 72.72, 70.16, 72.72, 70.16],
    ['2022/09/30', 70.68, 71.15, 72.58, 70.66],
    ['2022/10/03', 72.12, 72.66, 73.31, 71.0],
    ['2022/10/04', 75.43, 73.45, 75.43, 73.16],
    ['2022/10/05', 72.71, 74.0, 74.28, 72.21],
    ['2022/10/06', 73.31, 72.5, 73.7, 72.5],
    ['2022/10/07', 72.5, 72.12, 72.97, 71.5],
    ['2022/10/10', 72.88, 72.85, 73.04, 71.48],
    ['2022/10/11', 72.49, 72.6, 73.75, 72.1],
    ['2022/10/12', 72.15, 71.8, 72.32, 71.35],
    ['2022/10/13', 70.68, 73.9, 74.17, 70.6],
    ['2022/10/14', 73.3, 72.89, 74.0, 72.37],
    ['2022/10/17', 72.96, 74.44, 74.44, 72.56],
    ['2022/10/18', 75.15, 76.13, 76.21, 74.22],
    ['2022/10/19', 75.19, 74.91, 75.9, 73.64],
    ['2022/10/20', 74.74, 73.8, 74.74, 73.36],
    ['2022/10/21', 73.5, 77.31, 77.6, 71.08],
    ['2022/10/24', 76.83, 76.15, 77.2, 75.06],
    ['2022/10/25', 76.32, 78.8, 79.4, 76.32],
    ['2022/10/26', 77.4, 79.3, 79.62, 77.31],
    ['2022/10/27', 79.55, 79.52, 80.7, 79.09],
    ['2022/10/28', 79.22, 79.67, 82.64, 79.22],
    ['2022/10/31', 79.85, 79.37, 80.35, 79.37],
    ['2022/11/01', 82.0, 85.06, 86.32, 80.62],
    ['2022/11/02', 85.0, 82.6, 86.32, 80.3],
    ['2022/11/03', 82.16, 81.0, 84.9, 81.0],
    ['2022/11/04', 82.0, 82.47, 82.47, 80.72],
    ['2022/11/07', 81.76, 82.37, 83.55, 81.76],
    ['2022/11/08', 82.5, 83.25, 83.25, 81.85],
    ['2022/11/09', 82.32, 80.44, 83.5, 80.05],
    ['2022/11/10', 82.71, 84.99, 84.99, 82.71],
    ['2022/11/11', 86.0, 84.48, 86.75, 84.0],
    ['2022/11/14', 81.19, 84.3, 85.38, 81.19],
    ['2022/11/15', 85.58, 84.97, 85.69, 84.62],
    ['2022/11/16', 84.96, 83.62, 84.96, 83.62],
    ['2022/11/17', 83.6, 84.66, 84.7, 83.2],
    ['2022/11/18', 85.61, 87.91, 88.36, 84.69],
    ['2022/11/21', 88.32, 89.35, 89.72, 88.32],
    ['2022/11/22', 88.68, 88.72, 89.66, 87.53],
    ['2022/11/23', 88.72, 88.28, 88.72, 87.56],
    ['2022/11/25', 88.81, 88.1, 88.81, 88.0],
    ['2022/11/28', 87.84, 87.72, 87.84, 86.65],
    ['2022/11/29', 87.91, 89.46, 89.46, 87.25],
    ['2022/11/30', 89.0, 94.34, 94.5, 89.0],
    ['2022/12/01', 94.1, 92.49, 96.0, 92.02],
    ['2022/12/02', 91.0, 89.83, 91.45, 88.3],
    ['2022/12/05', 88.04, 90.71, 91.91, 87.99],
    ['2022/12/06', 90.63, 93.84, 94.0, 90.63],
    ['2022/12/07', 92.82, 92.43, 93.46, 91.8],
    ['2022/12/08', 92.51, 91.4, 92.98, 89.86],
    ['2022/12/09', 91.98, 88.62, 91.98, 88.43],
    ['2022/12/12', 90.4, 87.21, 91.34, 86.61],
    ['2022/12/13', 89.44, 88.98, 89.69, 88.0],
    ['2022/12/14', 88.48, 86.78, 88.86, 86.76],
    ['2022/12/15', 86.87, 84.68, 87.55, 84.45],
    ['2022/12/16', 83.27, 85.96, 86.69, 83.27],
    ['2022/12/19', 86.51, 83.55, 89.2, 83.55],
    ['2022/12/20', 83.16, 83.62, 83.98, 82.9],
    ['2022/12/21', 86.49, 84.69, 86.86, 84.69],
    ['2022/12/22', 84.01, 84.11, 84.11, 84.01],
    ['2022/12/23', 82.55, 81.85, 82.55, 80.0],
    ['2022/12/27', 82.51, 82.3, 82.75, 81.28],
    ['2022/12/28', 82.79, 80.11, 82.99, 79.44],
    ['2022/12/29', 80.8, 83.84, 84.44, 80.8],
    ['2022/12/30', 82.88, 83.29, 83.29, 81.59],
    ['2023/01/03', 82.93, 80.4, 82.96, 80.4],
    ['2023/01/04', 87.02, 81.35, 87.02, 80.23],
    ['2023/01/05', 81.93, 79.29, 81.93, 78.53],
    ['2023/01/06', 79.6, 80.06, 80.97, 78.86],
    ['2023/01/09', 80.73, 81.6, 81.6, 80.25],
    ['2023/01/10', 81.36, 82.5, 84.6, 81.36],
    ['2023/01/11', 83.0, 84.11, 85.1, 83.0],
    ['2023/01/12', 84.92, 87.92, 87.92, 84.92],
    ['2023/01/13', 87.0, 87.37, 89.89, 85.87],
    ['2023/01/17', 86.63, 85.11, 88.56, 85.11],
    ['2023/01/18', 85.13, 85.6, 87.95, 84.65],
    ['2023/01/19', 85.18, 85.8, 86.2, 84.92],
    ['2023/01/20', 86.16, 85.65, 86.87, 83.28],
    ['2023/01/23', 86.2, 88.7, 89.11, 86.2],
    ['2023/01/24', 87.27, 86.0, 88.5, 86.0],
    ['2023/01/25', 85.25, 85.7, 86.18, 85.0],
    ['2023/01/26', 86.6, 86.93, 87.07, 85.13],
    ['2023/01/27', 88.45, 84.65, 88.45, 84.57],
    ['2023/01/30', 85.0, 85.0, 85.99, 85.0],
    ['2023/01/31', 85.25, 88.33, 89.8, 85.25],
    ['2023/02/01', 88.9, 90.94, 92.25, 88.9],
    ['2023/02/02', 92.3, 89.19, 92.3, 88.79],
    ['2023/02/03', 89.89, 91.1, 91.72, 89.19],
    ['2023/02/06', 89.75, 88.93, 90.4, 88.0],
    ['2023/02/07', 88.9, 88.69, 90.0, 88.0],
    ['2023/02/08', 89.7, 90.21, 90.88, 88.76],
    ['2023/02/09', 90.86, 91.31, 92.53, 90.4],
    ['2023/02/10', 91.0, 92.08, 92.5, 91.0],
    ['2023/02/13', 92.08, 95.01, 95.01, 92.08],
    ['2023/02/14', 95.71, 92.7, 95.71, 92.33],
    ['2023/02/15', 92.7, 93.62, 93.93, 92.7],
    ['2023/02/16', 93.24, 94.12, 94.12, 93.24],
    ['2023/02/17', 94.12, 94.67, 94.67, 93.11],
    ['2023/02/21', 94.13, 91.21, 94.13, 91.21],
    ['2023/02/22', 91.81, 91.58, 93.2, 91.58],
    ['2023/02/23', 91.4, 90.65, 91.58, 90.65],
    ['2023/02/24', 90.0, 88.81, 91.8, 88.8],
    ['2023/02/27', 89.32, 89.58, 90.79, 88.55],
    ['2023/02/28', 90.0, 89.17, 90.61, 88.62],
    ['2023/03/01', 88.98, 88.6, 89.91, 88.6],
    ['2023/03/02', 93.04, 107.98, 113.32, 93.01],
    ['2023/03/03', 109.0, 112.95, 117.06, 109.0],
    ['2023/03/06', 114.0, 118.11, 121.5, 114.0],
    ['2023/03/07', 119.2, 121.67, 124.7, 118.97],
    ['2023/03/08', 123.02, 121.1, 126.12, 119.54],
    ['2023/03/09', 123.0, 121.26, 125.5, 121.26],
    ['2023/03/10', 121.11, 118.0, 122.06, 117.1],
    ['2023/03/13', 117.11, 115.2, 119.0, 113.61],
    ['2023/03/14', 115.95, 119.11, 120.14, 115.95],
    ['2023/03/15', 117.11, 115.48, 118.99, 114.68],
    ['2023/03/16', 116.97, 117.54, 119.35, 115.04],
    ['2023/03/17', 115.93, 118.78, 119.48, 115.93],
    ['2023/03/20', 118.79, 119.15, 119.57, 118.79],
    ['2023/03/21', 122.95, 121.72, 123.3, 120.32],
    ['2023/03/22', 122.69, 122.59, 124.52, 121.99],
    ['2023/03/23', 123.11, 121.28, 127.1, 120.34],
    ['2023/03/24', 121.18, 124.1, 125.32, 121.18],
    ['2023/03/27', 124.52, 123.95, 125.5, 123.52],
    ['2023/03/28', 124.23, 124.59, 125.75, 122.74],
    ['2023/03/29', 124.77, 126.8, 127.64, 124.27],
    ['2023/03/30', 126.88, 127.69, 128.38, 125.78],
    ['2023/03/31', 128.82, 128.04, 129.6, 126.96],
    ['2023/04/03', 128.34, 124.91, 128.38, 120.11],
    ['2023/04/04', 125.01, 123.33, 125.99, 122.53],
    ['2023/04/05', 123.55, 121.4, 123.95, 121.3],
    ['2023/04/06', 121.56, 119.62, 121.65, 119.26],
    ['2023/04/10', 119.77, 119.64, 120.75, 119.64],
    ['2023/04/11', 119.78, 124.82, 125.89, 119.78],
    ['2023/04/12', 124.93, 125.53, 128.07, 124.93],
    ['2023/04/13', 125.97, 125.08, 125.97, 124.77],
    ['2023/04/14', 127.69, 125.35, 127.69, 125.16],
    ['2023/04/17', 125.56, 126.96, 127.15, 125.56],
    ['2023/04/18', 127.01, 128.09, 128.32, 125.92],
    ['2023/04/19', 128.27, 127.75, 130.0, 127.74],
    ['2023/04/20', 126.79, 127.7, 128.45, 126.77],
    ['2023/04/21', 127.27, 127.06, 128.43, 126.27],
    ['2023/04/24', 127.06, 125.31, 127.42, 125.31],
    ['2023/04/25', 125.32, 122.3, 127.32, 122.3],
    ['2023/04/26', 120.27, 121.08, 122.25, 119.46],
    ['2023/04/27', 121.11, 123.11, 126.79, 119.67],
    ['2023/04/28', 123.11, 124.28, 124.88, 122.58],
    ['2023/05/01', 124.35, 127.7, 127.75, 124.35],
    ['2023/05/02', 126.5, 129.4, 129.4, 126.32],
    ['2023/05/03', 129.4, 125.01, 129.4, 125.01],
    ['2023/05/04', 131.38, 149.98, 152.16, 131.0],
    ['2023/05/05', 149.89, 151.3, 155.89, 149.33],
    ['2023/05/08', 151.02, 142.48, 151.02, 140.26],
    ['2023/05/09', 141.48, 145.35, 148.13, 141.02],
    ['2023/05/10', 145.56, 147.56, 147.56, 143.56],
    ['2023/05/11', 147.5, 151.2, 151.96, 144.58],
    ['2023/05/12', 155.9, 148.48, 155.9, 146.24],
    ['2023/05/15', 149.29, 150.82, 152.5, 149.29],
    ['2023/05/16', 150.1, 146.21, 150.1, 144.6],
    ['2023/05/17', 147.36, 151.79, 151.79, 146.77],
    ['2023/05/18', 151.73, 149.93, 151.73, 147.77],
    ['2023/05/19', 151.55, 150.0, 152.95, 150.0],
    ['2023/05/22', 151.46, 159.45, 159.45, 151.46],
    ['2023/05/23', 154.13, 155.63, 159.45, 154.01],
    ['2023/05/24', 155.6, 153.74, 155.75, 152.0],
    ['2023/05/25', 154.19, 154.66, 158.72, 152.29],
    ['2023/05/26', 155.0, 157.66, 158.74, 154.96],
    ['2023/05/30', 156.34, 151.55, 158.88, 151.18],
    ['2023/05/31', 152.79, 153.71, 155.24, 152.58],
    ['2023/06/01', 154.7, 145.26, 154.7, 143.0],
    ['2023/06/02', 146.02, 152.2, 153.14, 146.02],
    ['2023/06/05', 152.76, 150.0, 153.0, 148.56],
    ['2023/06/06', 151.85, 154.0, 158.0, 151.85],
    ['2023/06/07', 158.0, 163.74, 164.44, 157.11],
    ['2023/06/08', 164.19, 163.15, 166.25, 163.15],
    ['2023/06/09', 163.45, 164.75, 166.03, 160.6],
    ['2023/06/12', 163.38, 169.31, 170.0, 163.38],
    ['2023/06/13', 171.93, 172.4, 177.0, 171.49],
    ['2023/06/14', 171.99, 159.92, 171.99, 156.5],
    ['2023/06/15', 167.27, 166.98, 168.62, 162.2],
    ['2023/06/16', 168.49, 170.33, 171.87, 164.16],
    ['2023/06/20', 168.93, 166.07, 170.92, 164.31],
    ['2023/06/21', 166.0, 166.33, 168.08, 165.31],
    ['2023/06/22', 167.23, 166.35, 168.87, 164.72],
    ['2023/06/23', 164.3, 162.26, 168.8, 162.26],
    ['2023/06/26', 161.42, 161.99, 165.26, 161.42],
    ['2023/06/27', 161.04, 171.37, 172.43, 161.04],
    ['2023/06/28', 171.37, 166.95, 171.98, 166.37],
    ['2023/06/29', 163.4, 155.62, 168.65, 152.28],
    ['2023/06/30', 155.0, 156.1, 157.13, 149.61],
    ['2023/07/03', 157.0, 159.66, 159.9, 157.0],
    ['2023/07/05', 159.88, 164.04, 164.04, 158.94],
    ['2023/07/06', 162.5, 152.43, 162.5, 151.0],
    ['2023/07/07', 153.98, 154.69, 157.01, 153.98],
    ['2023/07/10', 154.26, 161.75, 161.75, 153.94],
    ['2023/07/11', 162.99, 163.36, 164.32, 160.7],
    ['2023/07/12', 165.0, 166.16, 170.98, 163.0],
    ['2023/07/13', 167.79, 171.9, 174.0, 166.85],
    ['2023/07/14', 172.08, 168.3, 172.08, 165.0],
    ['2023/07/17', 167.0, 172.85, 175.95, 167.0],
    ['2023/07/18', 172.02, 182.06, 183.0, 172.02],
    ['2023/07/19', 182.98, 177.34, 182.98, 173.69],
    ['2023/07/20', 179.26, 179.27, 180.0, 175.32],
    ['2023/07/21', 177.63, 172.42, 178.12, 172.33],
    ['2023/07/24', 172.0, 175.8, 179.25, 170.04],
    ['2023/07/25', 175.84, 172.88, 175.84, 170.53],
    ['2023/07/26', 177.72, 176.2, 177.72, 173.27],
    ['2023/07/27', 176.31, 171.2, 176.31, 169.5],
    ['2023/07/28', 175.46, 174.91, 177.46, 172.71],
    ['2023/07/31', 177.33, 173.51, 177.33, 172.43],
    ['2023/08/01', 174.0, 179.99, 183.22, 170.8],
    ['2023/08/02', 178.36, 178.5, 184.82, 177.03],
    ['2023/08/03', 175.8, 164.07, 177.0, 155.21],
    ['2023/08/04', 164.06, 163.77, 168.0, 163.77],
    ['2023/08/07', 165.16, 165.32, 167.95, 163.26],
]);
var volumes = [
    20200.0,
    28600.0,
    56000.0,
    63600.0,
    50800.0,
    62300.0,
    28600.0,
    17900.0,
    39800.0,
    13800.0,
    20500.0,
    12400.0,
    29100.0,
    9400.0,
    6800.0,
    16200.0,
    37300.0,
    11200.0,
    11700.0,
    18200.0,
    11400.0,
    9500.0,
    24700.0,
    19600.0,
    36200.0,
    21900.0,
    15000.0,
    48100.0,
    15500.0,
    27300.0,
    14600.0,
    6300.0,
    18700.0,
    23700.0,
    32600.0,
    22400.0,
    29400.0,
    23500.0,
    10700.0,
    12100.0,
    8000.0,
    12900.0,
    9300.0,
    7900.0,
    14100.0,
    7600.0,
    12800.0,
    9800.0,
    17600.0,
    8100.0,
    9900.0,
    3900.0,
    6300.0,
    13700.0,
    23800.0,
    9100.0,
    7900.0,
    9400.0,
    7400.0,
    16400.0,
    22300.0,
    12600.0,
    11600.0,
    4300.0,
    7700.0,
    12100.0,
    8400.0,
    10000.0,
    9900.0,
    6300.0,
    2900.0,
    5500.0,
    29000.0,
    9000.0,
    10400.0,
    4400.0,
    4600.0,
    21300.0,
    11700.0,
    13200.0,
    11600.0,
    10800.0,
    10800.0,
    25500.0,
    6600.0,
    7100.0,
    7200.0,
    11100.0,
    19200.0,
    7500.0,
    7800.0,
    18600.0,
    7900.0,
    5000.0,
    6500.0,
    3300.0,
    11000.0,
    6400.0,
    12000.0,
    4800.0,
    3900.0,
    9800.0,
    10200.0,
    11100.0,
    25200.0,
    4200.0,
    8800.0,
    5400.0,
    11400.0,
    13900.0,
    4600.0,
    10000.0,
    14900.0,
    16400.0,
    6300.0,
    10900.0,
    7700.0,
    2300.0,
    3900.0,
    3900.0,
    7700.0,
    8700.0,
    9400.0,
    7100.0,
    10300.0,
    9600.0,
    13100.0,
    10200.0,
    11300.0,
    5900.0,
    8800.0,
    4000.0,
    7000.0,
    8700.0,
    11800.0,
    7500.0,
    2900.0,
    6500.0,
    13500.0,
    6800.0,
    11200.0,
    57900.0,
    19800.0,
    81900.0,
    45900.0,
    24400.0,
    21200.0,
    29400.0,
    17300.0,
    12400.0,
    17800.0,
    10200.0,
    28500.0,
    17100.0,
    13200.0,
    18300.0,
    19700.0,
    10200.0,
    17800.0,
    19500.0,
    26000.0,
    14400.0,
    29700.0,
    35900.0,
    21200.0,
    17200.0,
    17600.0,
    6300.0,
    15000.0,
    8700.0,
    13900.0,
    8500.0,
    12300.0,
    12400.0,
    6400.0,
    7200.0,
    11100.0,
    9800.0,
    20500.0,
    9800.0,
    31300.0,
    13300.0,
    18300.0,
    9800.0,
    12200.0,
    39100.0,
    28700.0,
    13200.0,
    10000.0,
    11600.0,
    12300.0,
    11900.0,
    9600.0,
    22400.0,
    15500.0,
    5300.0,
    10700.0,
    15200.0,
    13500.0,
    10200.0,
    10400.0,
    16400.0,
    11900.0,
    51800.0,
    26400.0,
    12200.0,
    12900.0,
    13300.0,
    18300.0,
    11400.0,
    8700.0,
    13000.0,
    21100.0,
    23100.0,
    12200.0,
    23500.0,
    10400.0,
    8700.0,
    16400.0,
    68600.0,
    8500.0,
    13100.0,
    13400.0,
    49300.0,
    35500.0,
    8300.0,
    17700.0,
    16400.0,
    9000.0,
    10100.0,
    9200.0,
    16300.0,
    14500.0,
    11100.0,
    14300.0,
    13600.0,
    10600.0,
    12800.0,
    8700.0,
    8800.0,
    4700.0,
    8000.0,
    16100.0,
    12000.0,
    11200.0,
    17800.0,
    15700.0,
    29800.0,
    8600.0,
    10100.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "PLPC",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);