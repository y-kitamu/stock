/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_PLPC");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 59.49, 59.26, 59.9, 58.53],
    ['2022/08/04', 59.27, 59.91, 60.13, 59.27],
    ['2022/08/05', 61.5, 68.81, 69.78, 61.5],
    ['2022/08/08', 69.32, 70.28, 72.9, 69.32],
    ['2022/08/09', 70.76, 66.9, 70.92, 66.9],
    ['2022/08/10', 67.17, 69.92, 69.93, 67.12],
    ['2022/08/11', 70.35, 72.75, 73.87, 70.35],
    ['2022/08/12', 72.75, 76.29, 77.76, 72.49],
    ['2022/08/15', 76.11, 84.01, 85.48, 76.05],
    ['2022/08/16', 84.3, 82.23, 86.48, 80.36],
    ['2022/08/17', 81.88, 82.18, 84.12, 80.16],
    ['2022/08/18', 82.32, 80.23, 82.32, 79.83],
    ['2022/08/19', 79.74, 79.7, 80.62, 74.91],
    ['2022/08/22', 79.32, 78.35, 80.49, 77.9],
    ['2022/08/23', 78.87, 79.58, 80.28, 77.97],
    ['2022/08/24', 79.09, 80.02, 80.81, 79.04],
    ['2022/08/25', 79.79, 79.89, 80.84, 78.06],
    ['2022/08/26', 79.9, 80.0, 80.24, 79.1],
    ['2022/08/29', 79.3, 80.08, 80.84, 78.8],
    ['2022/08/30', 79.92, 77.85, 80.54, 77.11],
    ['2022/08/31', 77.41, 77.17, 78.16, 75.87],
    ['2022/09/01', 76.96, 75.28, 76.97, 74.65],
    ['2022/09/02', 75.73, 74.88, 76.19, 74.04],
    ['2022/09/06', 74.88, 75.22, 75.74, 74.47],
    ['2022/09/07', 75.2, 75.95, 77.14, 75.15],
    ['2022/09/08', 75.28, 76.94, 77.69, 75.28],
    ['2022/09/09', 77.76, 78.67, 80.48, 77.72],
    ['2022/09/12', 78.67, 79.32, 79.85, 78.67],
    ['2022/09/13', 78.75, 75.9, 78.75, 74.76],
    ['2022/09/14', 75.92, 76.92, 77.91, 75.92],
    ['2022/09/15', 77.96, 76.64, 77.96, 76.37],
    ['2022/09/16', 76.46, 75.72, 77.02, 75.42],
    ['2022/09/19', 75.28, 76.37, 77.36, 74.89],
    ['2022/09/20', 75.42, 74.3, 76.08, 73.51],
    ['2022/09/21', 74.89, 73.81, 75.83, 73.08],
    ['2022/09/22', 73.4, 73.39, 74.1, 72.51],
    ['2022/09/23', 72.43, 71.52, 73.12, 70.93],
    ['2022/09/26', 71.19, 71.36, 73.68, 70.64],
    ['2022/09/27', 71.6, 71.55, 73.4, 71.08],
    ['2022/09/28', 71.48, 72.2, 72.83, 71.13],
    ['2022/09/29', 72.13, 69.59, 72.13, 69.59],
    ['2022/09/30', 70.31, 70.77, 72.2, 70.29],
    ['2022/10/03', 71.74, 72.27, 72.92, 70.62],
    ['2022/10/04', 75.03, 73.06, 75.03, 72.77],
    ['2022/10/05', 72.32, 73.61, 73.89, 71.83],
    ['2022/10/06', 72.92, 72.12, 73.31, 72.12],
    ['2022/10/07', 72.12, 71.74, 72.58, 71.12],
    ['2022/10/10', 72.49, 72.46, 72.65, 71.1],
    ['2022/10/11', 72.11, 72.22, 73.36, 71.72],
    ['2022/10/12', 71.77, 71.42, 71.94, 70.97],
    ['2022/10/13', 70.31, 73.51, 73.78, 70.23],
    ['2022/10/14', 72.91, 72.5, 73.61, 71.99],
    ['2022/10/17', 72.57, 74.05, 74.05, 72.18],
    ['2022/10/18', 74.75, 75.73, 75.81, 73.83],
    ['2022/10/19', 74.79, 74.51, 75.5, 73.25],
    ['2022/10/20', 74.34, 73.41, 74.34, 72.97],
    ['2022/10/21', 73.11, 76.9, 77.19, 70.7],
    ['2022/10/24', 76.42, 75.75, 76.79, 74.66],
    ['2022/10/25', 75.92, 78.38, 78.98, 75.92],
    ['2022/10/26', 76.99, 78.88, 79.2, 76.9],
    ['2022/10/27', 79.13, 79.1, 80.27, 78.67],
    ['2022/10/28', 78.8, 79.25, 82.2, 78.8],
    ['2022/10/31', 79.43, 78.95, 79.92, 78.95],
    ['2022/11/01', 81.57, 84.61, 85.86, 80.19],
    ['2022/11/02', 84.55, 82.16, 85.86, 79.87],
    ['2022/11/03', 81.72, 80.57, 84.45, 80.57],
    ['2022/11/04', 81.57, 82.03, 82.03, 80.29],
    ['2022/11/07', 81.33, 81.93, 83.11, 81.33],
    ['2022/11/08', 82.06, 82.81, 82.81, 81.42],
    ['2022/11/09', 81.88, 80.01, 83.06, 79.63],
    ['2022/11/10', 82.27, 84.54, 84.54, 82.27],
    ['2022/11/11', 85.54, 84.03, 86.29, 83.55],
    ['2022/11/14', 80.76, 83.85, 84.93, 80.76],
    ['2022/11/15', 85.13, 84.52, 85.24, 84.17],
    ['2022/11/16', 84.51, 83.18, 84.51, 83.18],
    ['2022/11/17', 83.16, 84.21, 84.25, 82.76],
    ['2022/11/18', 85.16, 87.44, 87.89, 84.24],
    ['2022/11/21', 87.85, 88.88, 89.24, 87.85],
    ['2022/11/22', 88.21, 88.25, 89.18, 87.07],
    ['2022/11/23', 88.25, 87.81, 88.25, 87.1],
    ['2022/11/25', 88.34, 87.63, 88.34, 87.53],
    ['2022/11/28', 87.37, 87.25, 87.37, 86.19],
    ['2022/11/29', 87.44, 88.99, 88.99, 86.79],
    ['2022/11/30', 88.53, 93.84, 94.0, 88.53],
    ['2022/12/01', 93.6, 92.0, 95.49, 91.53],
    ['2022/12/02', 90.52, 89.35, 90.97, 87.83],
    ['2022/12/05', 87.57, 90.23, 91.42, 87.52],
    ['2022/12/06', 90.15, 93.34, 93.5, 90.15],
    ['2022/12/07', 92.33, 91.94, 92.96, 91.31],
    ['2022/12/08', 92.02, 90.92, 92.49, 89.38],
    ['2022/12/09', 91.49, 88.15, 91.49, 87.96],
    ['2022/12/12', 89.92, 86.75, 90.86, 86.15],
    ['2022/12/13', 88.97, 88.51, 89.21, 87.53],
    ['2022/12/14', 88.01, 86.32, 88.39, 86.3],
    ['2022/12/15', 86.41, 84.23, 87.09, 84.0],
    ['2022/12/16', 82.83, 85.5, 86.23, 82.83],
    ['2022/12/19', 86.05, 83.11, 88.73, 83.11],
    ['2022/12/20', 82.72, 83.18, 83.53, 82.46],
    ['2022/12/21', 86.03, 84.24, 86.4, 84.24],
    ['2022/12/22', 83.56, 83.66, 83.66, 83.56],
    ['2022/12/23', 82.11, 81.42, 82.11, 79.58],
    ['2022/12/27', 82.07, 81.86, 82.31, 80.85],
    ['2022/12/28', 82.35, 79.69, 82.55, 79.02],
    ['2022/12/29', 80.37, 83.4, 83.99, 80.37],
    ['2022/12/30', 82.44, 82.85, 82.85, 81.16],
    ['2023/01/03', 82.49, 79.97, 82.52, 79.97],
    ['2023/01/04', 86.56, 80.92, 86.56, 79.8],
    ['2023/01/05', 81.7, 79.06, 81.7, 78.31],
    ['2023/01/06', 79.37, 79.83, 80.74, 78.64],
    ['2023/01/09', 80.5, 81.37, 81.37, 80.02],
    ['2023/01/10', 81.13, 82.26, 84.36, 81.13],
    ['2023/01/11', 82.76, 83.87, 84.86, 82.76],
    ['2023/01/12', 84.68, 87.67, 87.67, 84.68],
    ['2023/01/13', 86.75, 87.12, 89.63, 85.63],
    ['2023/01/17', 86.38, 84.87, 88.31, 84.87],
    ['2023/01/18', 84.89, 85.36, 87.7, 84.41],
    ['2023/01/19', 84.94, 85.56, 85.95, 84.68],
    ['2023/01/20', 85.91, 85.41, 86.62, 83.04],
    ['2023/01/23', 85.95, 88.45, 88.86, 85.95],
    ['2023/01/24', 87.02, 85.75, 88.25, 85.75],
    ['2023/01/25', 85.01, 85.46, 85.93, 84.76],
    ['2023/01/26', 86.35, 86.68, 86.82, 84.89],
    ['2023/01/27', 88.2, 84.41, 88.2, 84.33],
    ['2023/01/30', 84.76, 84.76, 85.74, 84.76],
    ['2023/01/31', 85.01, 88.08, 89.54, 85.01],
    ['2023/02/01', 88.65, 90.68, 91.99, 88.65],
    ['2023/02/02', 92.04, 88.94, 92.04, 88.54],
    ['2023/02/03', 89.63, 90.84, 91.46, 88.94],
    ['2023/02/06', 89.49, 88.68, 90.14, 87.75],
    ['2023/02/07', 88.65, 88.44, 89.74, 87.75],
    ['2023/02/08', 89.44, 89.95, 90.62, 88.51],
    ['2023/02/09', 90.6, 91.05, 92.27, 90.14],
    ['2023/02/10', 90.74, 91.82, 92.24, 90.74],
    ['2023/02/13', 91.82, 94.74, 94.74, 91.82],
    ['2023/02/14', 95.44, 92.44, 95.44, 92.07],
    ['2023/02/15', 92.44, 93.35, 93.66, 92.44],
    ['2023/02/16', 92.97, 93.85, 93.85, 92.97],
    ['2023/02/17', 93.85, 94.4, 94.4, 92.84],
    ['2023/02/21', 93.86, 90.95, 93.86, 90.95],
    ['2023/02/22', 91.55, 91.32, 92.93, 91.32],
    ['2023/02/23', 91.14, 90.39, 91.32, 90.39],
    ['2023/02/24', 89.74, 88.56, 91.54, 88.55],
    ['2023/02/27', 89.07, 89.32, 90.53, 88.3],
    ['2023/02/28', 89.74, 88.92, 90.35, 88.37],
    ['2023/03/01', 88.73, 88.35, 89.65, 88.35],
    ['2023/03/02', 92.77, 107.67, 113.0, 92.74],
    ['2023/03/03', 108.69, 112.63, 116.73, 108.69],
    ['2023/03/06', 113.68, 117.77, 121.15, 113.68],
    ['2023/03/07', 118.86, 121.32, 124.34, 118.63],
    ['2023/03/08', 122.67, 120.75, 125.76, 119.2],
    ['2023/03/09', 122.65, 120.91, 125.14, 120.91],
    ['2023/03/10', 120.76, 117.66, 121.71, 116.77],
    ['2023/03/13', 116.78, 114.87, 118.66, 113.29],
    ['2023/03/14', 115.62, 118.77, 119.8, 115.62],
    ['2023/03/15', 116.78, 115.15, 118.65, 114.35],
    ['2023/03/16', 116.64, 117.21, 119.01, 114.71],
    ['2023/03/17', 115.6, 118.44, 119.14, 115.6],
    ['2023/03/20', 118.45, 118.81, 119.23, 118.45],
    ['2023/03/21', 122.6, 121.37, 122.95, 119.98],
    ['2023/03/22', 122.34, 122.24, 124.17, 121.64],
    ['2023/03/23', 122.76, 120.93, 126.74, 120.0],
    ['2023/03/24', 120.83, 123.75, 124.96, 120.83],
    ['2023/03/27', 124.17, 123.6, 125.14, 123.17],
    ['2023/03/28', 123.88, 124.23, 125.39, 122.39],
    ['2023/03/29', 124.41, 126.44, 127.28, 123.92],
    ['2023/03/30', 126.52, 127.33, 128.01, 125.42],
    ['2023/03/31', 128.65, 127.88, 129.43, 126.8],
    ['2023/04/03', 128.18, 124.75, 128.22, 119.96],
    ['2023/04/04', 124.85, 123.17, 125.83, 122.37],
    ['2023/04/05', 123.39, 121.24, 123.79, 121.14],
    ['2023/04/06', 121.4, 119.47, 121.49, 119.11],
    ['2023/04/10', 119.62, 119.49, 120.59, 119.49],
    ['2023/04/11', 119.63, 124.66, 125.73, 119.63],
    ['2023/04/12', 124.77, 125.37, 127.91, 124.77],
    ['2023/04/13', 125.81, 124.92, 125.81, 124.61],
    ['2023/04/14', 127.53, 125.19, 127.53, 125.0],
    ['2023/04/17', 125.4, 126.8, 126.99, 125.4],
    ['2023/04/18', 126.85, 127.93, 128.16, 125.76],
    ['2023/04/19', 128.11, 127.59, 129.83, 127.58],
    ['2023/04/20', 126.63, 127.54, 128.28, 126.61],
    ['2023/04/21', 127.11, 126.9, 128.26, 126.11],
    ['2023/04/24', 126.9, 125.15, 127.26, 125.15],
    ['2023/04/25', 125.16, 122.14, 127.16, 122.14],
    ['2023/04/26', 120.12, 120.92, 122.09, 119.31],
    ['2023/04/27', 120.95, 122.95, 126.63, 119.52],
    ['2023/04/28', 122.95, 124.12, 124.72, 122.42],
    ['2023/05/01', 124.19, 127.54, 127.59, 124.19],
    ['2023/05/02', 126.34, 129.23, 129.23, 126.16],
    ['2023/05/03', 129.23, 124.85, 129.23, 124.85],
    ['2023/05/04', 131.21, 149.79, 151.96, 130.83],
    ['2023/05/05', 149.7, 151.11, 155.69, 149.14],
    ['2023/05/08', 150.83, 142.3, 150.83, 140.08],
    ['2023/05/09', 141.3, 145.16, 147.94, 140.84],
    ['2023/05/10', 145.37, 147.37, 147.37, 143.38],
    ['2023/05/11', 147.31, 151.01, 151.76, 144.39],
    ['2023/05/12', 155.7, 148.29, 155.7, 146.05],
    ['2023/05/15', 149.1, 150.63, 152.3, 149.1],
    ['2023/05/16', 149.91, 146.02, 149.91, 144.41],
    ['2023/05/17', 147.17, 151.59, 151.59, 146.58],
    ['2023/05/18', 151.53, 149.74, 151.53, 147.58],
    ['2023/05/19', 151.36, 149.81, 152.75, 149.81],
    ['2023/05/22', 151.27, 159.25, 159.25, 151.27],
    ['2023/05/23', 153.93, 155.43, 159.25, 153.81],
    ['2023/05/24', 155.4, 153.54, 155.55, 151.8],
    ['2023/05/25', 153.99, 154.46, 158.52, 152.09],
    ['2023/05/26', 154.8, 157.46, 158.54, 154.76],
    ['2023/05/30', 156.14, 151.36, 158.68, 150.99],
    ['2023/05/31', 152.59, 153.51, 155.04, 152.38],
    ['2023/06/01', 154.5, 145.07, 154.5, 142.82],
    ['2023/06/02', 145.83, 152.0, 152.94, 145.83],
    ['2023/06/05', 152.56, 149.81, 152.8, 148.37],
    ['2023/06/06', 151.65, 153.8, 157.8, 151.65],
    ['2023/06/07', 157.8, 163.53, 164.23, 156.91],
    ['2023/06/08', 163.98, 162.94, 166.04, 162.94],
    ['2023/06/09', 163.24, 164.54, 165.82, 160.39],
    ['2023/06/12', 163.17, 169.09, 169.78, 163.17],
    ['2023/06/13', 171.71, 172.18, 176.77, 171.27],
    ['2023/06/14', 171.77, 159.71, 171.77, 156.3],
    ['2023/06/15', 167.06, 166.77, 168.4, 161.99],
    ['2023/06/16', 168.27, 170.11, 171.65, 163.95],
    ['2023/06/20', 168.71, 165.86, 170.7, 164.1],
    ['2023/06/21', 165.79, 166.12, 167.86, 165.1],
    ['2023/06/22', 167.02, 166.14, 168.65, 164.51],
    ['2023/06/23', 164.09, 162.05, 168.58, 162.05],
    ['2023/06/26', 161.21, 161.78, 165.05, 161.21],
    ['2023/06/27', 160.83, 171.15, 172.21, 160.83],
    ['2023/06/28', 171.15, 166.74, 171.76, 166.16],
    ['2023/06/29', 163.19, 155.42, 168.43, 152.08],
    ['2023/06/30', 155.0, 156.1, 157.13, 149.61],
    ['2023/07/03', 157.0, 159.66, 159.9, 157.0],
    ['2023/07/05', 159.88, 164.04, 164.04, 158.94],
    ['2023/07/06', 162.5, 152.43, 162.5, 151.0],
    ['2023/07/07', 153.98, 154.69, 157.01, 153.98],
    ['2023/07/10', 154.26, 161.75, 161.75, 153.94],
    ['2023/07/11', 162.99, 163.36, 164.32, 160.7],
    ['2023/07/12', 165.0, 166.16, 170.98, 163.0],
    ['2023/07/13', 167.79, 171.9, 174.0, 166.85],
    ['2023/07/14', 172.08, 168.3, 172.08, 165.0],
    ['2023/07/17', 167.0, 172.85, 175.95, 167.0],
    ['2023/07/18', 172.02, 182.06, 183.0, 172.02],
    ['2023/07/19', 182.98, 177.34, 182.98, 173.69],
    ['2023/07/20', 179.26, 179.27, 180.0, 175.32],
    ['2023/07/21', 177.63, 172.42, 178.12, 172.33],
    ['2023/07/24', 172.0, 175.8, 179.25, 170.04],
    ['2023/07/25', 175.84, 172.88, 175.84, 170.53],
    ['2023/07/26', 177.72, 176.2, 177.72, 173.27],
    ['2023/07/27', 176.31, 171.2, 176.31, 169.5],
    ['2023/07/28', 175.46, 174.91, 177.46, 172.71],
    ['2023/07/31', 177.33, 173.51, 177.33, 172.43],
    ['2023/08/01', 174.0, 179.99, 183.22, 170.8],
    ['2023/08/02', 178.36, 178.5, 184.82, 177.03],
]);
var volumes = [
    21400.0,
    3700.0,
    49500.0,
    21900.0,
    20200.0,
    28600.0,
    56000.0,
    63600.0,
    50800.0,
    62300.0,
    28600.0,
    17900.0,
    39800.0,
    13800.0,
    20500.0,
    12400.0,
    29100.0,
    9400.0,
    6800.0,
    16200.0,
    37300.0,
    11200.0,
    11700.0,
    18200.0,
    11400.0,
    9500.0,
    24700.0,
    19600.0,
    36200.0,
    21900.0,
    15000.0,
    48100.0,
    15500.0,
    27300.0,
    14600.0,
    6300.0,
    18700.0,
    23700.0,
    32600.0,
    22400.0,
    29400.0,
    23500.0,
    10700.0,
    12100.0,
    8000.0,
    12900.0,
    9300.0,
    7900.0,
    14100.0,
    7600.0,
    12800.0,
    9800.0,
    17600.0,
    8100.0,
    9900.0,
    3900.0,
    6300.0,
    13700.0,
    23800.0,
    9100.0,
    7900.0,
    9400.0,
    7400.0,
    16400.0,
    22300.0,
    12600.0,
    11600.0,
    4300.0,
    7700.0,
    12100.0,
    8400.0,
    10000.0,
    9900.0,
    6300.0,
    2900.0,
    5500.0,
    29000.0,
    9000.0,
    10400.0,
    4400.0,
    4600.0,
    21300.0,
    11700.0,
    13200.0,
    11600.0,
    10800.0,
    10800.0,
    25500.0,
    6600.0,
    7100.0,
    7200.0,
    11100.0,
    19200.0,
    7500.0,
    7800.0,
    18600.0,
    7900.0,
    5000.0,
    6500.0,
    3300.0,
    11000.0,
    6400.0,
    12000.0,
    4800.0,
    3900.0,
    9800.0,
    10200.0,
    11100.0,
    25200.0,
    4200.0,
    8800.0,
    5400.0,
    11400.0,
    13900.0,
    4600.0,
    10000.0,
    14900.0,
    16400.0,
    6300.0,
    10900.0,
    7700.0,
    2300.0,
    3900.0,
    3900.0,
    7700.0,
    8700.0,
    9400.0,
    7100.0,
    10300.0,
    9600.0,
    13100.0,
    10200.0,
    11300.0,
    5900.0,
    8800.0,
    4000.0,
    7000.0,
    8700.0,
    11800.0,
    7500.0,
    2900.0,
    6500.0,
    13500.0,
    6800.0,
    11200.0,
    57900.0,
    19800.0,
    81900.0,
    45900.0,
    24400.0,
    21200.0,
    29400.0,
    17300.0,
    12400.0,
    17800.0,
    10200.0,
    28500.0,
    17100.0,
    13200.0,
    18300.0,
    19700.0,
    10200.0,
    17800.0,
    19500.0,
    26000.0,
    14400.0,
    29700.0,
    35900.0,
    21200.0,
    17200.0,
    17600.0,
    6300.0,
    15000.0,
    8700.0,
    13900.0,
    8500.0,
    12300.0,
    12400.0,
    6400.0,
    7200.0,
    11100.0,
    9800.0,
    20500.0,
    9800.0,
    31300.0,
    13300.0,
    18300.0,
    9800.0,
    12200.0,
    39100.0,
    28700.0,
    13200.0,
    10000.0,
    11600.0,
    12300.0,
    11900.0,
    9600.0,
    22400.0,
    15500.0,
    5300.0,
    10700.0,
    15200.0,
    13500.0,
    10200.0,
    10400.0,
    16400.0,
    11900.0,
    51800.0,
    26400.0,
    12200.0,
    12900.0,
    13300.0,
    18300.0,
    11400.0,
    8700.0,
    13000.0,
    21100.0,
    23100.0,
    12200.0,
    23500.0,
    10400.0,
    8700.0,
    16400.0,
    68600.0,
    8500.0,
    13100.0,
    13400.0,
    49300.0,
    35500.0,
    8300.0,
    17700.0,
    16400.0,
    9000.0,
    10100.0,
    9200.0,
    16300.0,
    14500.0,
    11100.0,
    14300.0,
    13600.0,
    10600.0,
    12800.0,
    8700.0,
    8800.0,
    4700.0,
    8000.0,
    16100.0,
    12000.0,
    11200.0,
    17800.0,
    15700.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "PLPC",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);