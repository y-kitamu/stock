/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_SXI");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/08', 96.8, 95.42, 96.98, 94.78],
    ['2022/08/09', 94.81, 93.82, 94.81, 93.37],
    ['2022/08/10', 94.25, 94.59, 94.95, 94.0],
    ['2022/08/11', 95.03, 95.3, 95.63, 94.81],
    ['2022/08/12', 95.71, 98.43, 98.83, 95.71],
    ['2022/08/15', 97.49, 99.39, 99.96, 97.49],
    ['2022/08/16', 99.18, 99.58, 100.16, 99.1],
    ['2022/08/17', 98.56, 98.47, 99.03, 98.33],
    ['2022/08/18', 98.09, 99.5, 99.91, 98.09],
    ['2022/08/19', 99.01, 98.48, 99.01, 97.72],
    ['2022/08/22', 97.36, 95.51, 97.36, 95.41],
    ['2022/08/23', 95.26, 95.73, 96.85, 95.26],
    ['2022/08/24', 96.25, 96.03, 96.25, 95.05],
    ['2022/08/25', 95.82, 98.34, 98.64, 95.82],
    ['2022/08/26', 97.92, 93.7, 97.92, 93.51],
    ['2022/08/29', 93.15, 93.25, 93.77, 92.63],
    ['2022/08/30', 92.89, 91.49, 93.31, 91.06],
    ['2022/08/31', 92.32, 90.41, 92.32, 90.36],
    ['2022/09/01', 89.67, 87.36, 89.67, 86.24],
    ['2022/09/02', 88.53, 86.73, 89.11, 86.18],
    ['2022/09/06', 86.94, 85.79, 86.94, 84.59],
    ['2022/09/07', 85.06, 86.86, 86.91, 85.06],
    ['2022/09/08', 86.23, 85.88, 86.28, 85.19],
    ['2022/09/09', 86.24, 87.73, 88.06, 85.57],
    ['2022/09/12', 88.26, 88.85, 89.0, 87.44],
    ['2022/09/13', 87.04, 84.59, 87.4, 84.04],
    ['2022/09/14', 84.84, 84.18, 84.84, 82.83],
    ['2022/09/15', 83.69, 83.26, 84.89, 82.75],
    ['2022/09/16', 82.42, 82.46, 82.54, 80.88],
    ['2022/09/19', 81.96, 83.88, 84.03, 81.96],
    ['2022/09/20', 82.71, 83.01, 83.59, 82.02],
    ['2022/09/21', 83.92, 83.29, 85.79, 83.18],
    ['2022/09/22', 82.56, 83.16, 83.65, 82.13],
    ['2022/09/23', 82.4, 82.53, 82.64, 80.96],
    ['2022/09/26', 82.07, 82.25, 83.77, 82.03],
    ['2022/09/27', 82.84, 81.5, 83.22, 81.05],
    ['2022/09/28', 82.01, 83.71, 84.37, 81.72],
    ['2022/09/29', 82.89, 82.43, 82.89, 81.74],
    ['2022/09/30', 82.4, 81.65, 83.88, 81.54],
    ['2022/10/03', 83.0, 83.82, 84.23, 83.0],
    ['2022/10/04', 84.99, 87.19, 87.19, 84.99],
    ['2022/10/05', 86.31, 86.75, 87.2, 86.26],
    ['2022/10/06', 86.61, 86.06, 87.28, 85.59],
    ['2022/10/07', 85.47, 82.44, 85.47, 81.85],
    ['2022/10/10', 82.58, 83.17, 83.84, 82.3],
    ['2022/10/11', 82.48, 83.52, 84.45, 82.48],
    ['2022/10/12', 83.38, 82.68, 83.62, 82.47],
    ['2022/10/13', 81.43, 85.5, 85.77, 80.97],
    ['2022/10/14', 86.39, 83.39, 86.62, 82.63],
    ['2022/10/17', 84.96, 86.23, 86.76, 84.76],
    ['2022/10/18', 87.53, 86.99, 88.14, 86.41],
    ['2022/10/19', 86.1, 86.45, 86.65, 84.87],
    ['2022/10/20', 85.96, 86.75, 87.05, 85.51],
    ['2022/10/21', 87.58, 90.28, 90.51, 86.7],
    ['2022/10/24', 90.43, 91.06, 91.08, 89.12],
    ['2022/10/25', 91.01, 92.6, 92.94, 91.01],
    ['2022/10/26', 93.27, 93.44, 94.68, 92.01],
    ['2022/10/27', 94.3, 94.5, 96.54, 93.8],
    ['2022/10/28', 95.09, 97.18, 97.75, 94.54],
    ['2022/10/31', 96.27, 99.05, 99.28, 96.18],
    ['2022/11/01', 99.85, 100.66, 101.38, 98.61],
    ['2022/11/02', 99.99, 97.55, 101.99, 97.54],
    ['2022/11/03', 96.36, 99.46, 100.15, 96.0],
    ['2022/11/04', 96.89, 100.5, 100.62, 96.89],
    ['2022/11/07', 99.81, 101.51, 102.39, 99.18],
    ['2022/11/08', 100.42, 100.35, 103.17, 100.01],
    ['2022/11/09', 99.23, 98.45, 100.93, 98.19],
    ['2022/11/10', 101.85, 103.66, 104.4, 101.85],
    ['2022/11/11', 104.2, 104.64, 104.79, 103.18],
    ['2022/11/14', 104.1, 105.43, 106.56, 104.1],
    ['2022/11/15', 106.14, 107.0, 108.0, 106.14],
    ['2022/11/16', 105.99, 106.51, 107.0, 105.73],
    ['2022/11/17', 105.1, 106.99, 106.99, 104.2],
    ['2022/11/18', 108.6, 106.66, 109.52, 106.46],
    ['2022/11/21', 106.14, 106.49, 106.59, 104.99],
    ['2022/11/22', 106.14, 106.06, 106.77, 104.99],
    ['2022/11/23', 106.36, 105.22, 107.0, 105.22],
    ['2022/11/25', 105.58, 106.72, 107.54, 105.06],
    ['2022/11/28', 106.53, 103.7, 106.55, 103.44],
    ['2022/11/29', 103.12, 103.01, 104.19, 102.94],
    ['2022/11/30', 102.29, 105.05, 105.05, 101.06],
    ['2022/12/01', 106.05, 106.21, 106.21, 104.42],
    ['2022/12/02', 104.65, 106.88, 107.33, 104.14],
    ['2022/12/05', 105.86, 104.57, 105.86, 103.82],
    ['2022/12/06', 104.53, 105.09, 105.92, 104.2],
    ['2022/12/07', 105.52, 103.57, 106.5, 103.47],
    ['2022/12/08', 103.82, 103.17, 104.7, 102.54],
    ['2022/12/09', 102.61, 102.26, 103.58, 101.8],
    ['2022/12/12', 102.44, 102.65, 103.0, 101.62],
    ['2022/12/13', 104.98, 103.91, 106.19, 103.47],
    ['2022/12/14', 103.43, 102.38, 104.5, 102.16],
    ['2022/12/15', 101.27, 98.77, 101.6, 98.58],
    ['2022/12/16', 97.73, 97.35, 98.82, 96.32],
    ['2022/12/19', 97.75, 99.19, 99.32, 96.97],
    ['2022/12/20', 99.35, 102.05, 102.46, 99.33],
    ['2022/12/21', 103.35, 104.26, 105.74, 103.01],
    ['2022/12/22', 103.8, 101.9, 103.94, 100.59],
    ['2022/12/23', 101.63, 102.71, 103.21, 101.39],
    ['2022/12/27', 102.17, 103.23, 103.85, 102.17],
    ['2022/12/28', 103.3, 100.99, 104.51, 100.65],
    ['2022/12/29', 101.37, 103.07, 103.12, 101.37],
    ['2022/12/30', 102.64, 102.41, 103.23, 101.44],
    ['2023/01/03', 102.66, 102.19, 103.53, 101.02],
    ['2023/01/04', 102.99, 102.11, 103.09, 101.62],
    ['2023/01/05', 101.25, 102.06, 102.32, 100.12],
    ['2023/01/06', 103.49, 104.93, 105.83, 103.27],
    ['2023/01/09', 105.88, 104.11, 105.91, 104.05],
    ['2023/01/10', 103.21, 104.71, 105.48, 103.21],
    ['2023/01/11', 104.65, 106.87, 107.04, 104.65],
    ['2023/01/12', 107.57, 108.68, 109.22, 105.9],
    ['2023/01/13', 107.19, 109.75, 109.88, 107.19],
    ['2023/01/17', 110.28, 110.99, 111.09, 109.67],
    ['2023/01/18', 111.03, 111.02, 112.26, 110.34],
    ['2023/01/19', 110.51, 106.98, 111.2, 106.97],
    ['2023/01/20', 108.0, 107.01, 108.0, 106.42],
    ['2023/01/23', 106.76, 105.86, 107.4, 105.66],
    ['2023/01/24', 105.0, 107.07, 107.64, 104.72],
    ['2023/01/25', 106.71, 107.49, 107.89, 106.12],
    ['2023/01/26', 107.9, 108.52, 108.6, 106.97],
    ['2023/01/27', 110.03, 110.96, 111.33, 109.23],
    ['2023/01/30', 110.12, 111.01, 111.86, 110.12],
    ['2023/01/31', 110.93, 115.57, 115.75, 110.53],
    ['2023/02/01', 114.57, 119.15, 120.48, 114.57],
    ['2023/02/02', 120.3, 120.87, 121.85, 119.64],
    ['2023/02/03', 119.23, 118.54, 121.69, 117.21],
    ['2023/02/06', 117.69, 117.5, 118.18, 116.28],
    ['2023/02/07', 117.18, 120.31, 120.56, 116.23],
    ['2023/02/08', 119.22, 117.83, 120.04, 117.28],
    ['2023/02/09', 118.51, 115.91, 119.5, 115.81],
    ['2023/02/10', 115.57, 116.4, 117.1, 115.3],
    ['2023/02/13', 116.76, 117.65, 118.05, 116.15],
    ['2023/02/14', 117.22, 116.13, 117.22, 114.65],
    ['2023/02/15', 115.4, 116.64, 116.81, 114.73],
    ['2023/02/16', 114.88, 115.45, 116.07, 113.27],
    ['2023/02/17', 115.97, 116.92, 117.67, 114.7],
    ['2023/02/21', 115.6, 114.57, 116.05, 114.21],
    ['2023/02/22', 114.57, 114.75, 116.0, 113.79],
    ['2023/02/23', 115.32, 114.3, 115.97, 113.3],
    ['2023/02/24', 112.83, 114.03, 114.03, 112.41],
    ['2023/02/27', 115.38, 115.38, 115.99, 114.47],
    ['2023/02/28', 114.92, 115.68, 116.55, 114.89],
    ['2023/03/01', 116.12, 117.52, 117.69, 115.35],
    ['2023/03/02', 116.6, 118.47, 118.77, 115.9],
    ['2023/03/03', 118.99, 120.76, 121.25, 117.6],
    ['2023/03/06', 121.01, 116.64, 121.01, 115.03],
    ['2023/03/07', 117.23, 117.63, 118.07, 115.5],
    ['2023/03/08', 117.79, 117.93, 118.43, 117.21],
    ['2023/03/09', 118.09, 117.81, 118.91, 117.41],
    ['2023/03/10', 117.05, 114.5, 117.05, 113.22],
    ['2023/03/13', 112.68, 113.31, 114.31, 111.78],
    ['2023/03/14', 115.97, 116.45, 117.36, 115.35],
    ['2023/03/15', 113.72, 112.97, 114.2, 111.14],
    ['2023/03/16', 111.51, 115.41, 116.27, 111.02],
    ['2023/03/17', 114.83, 114.22, 115.11, 113.36],
    ['2023/03/20', 115.01, 114.1, 116.62, 113.99],
    ['2023/03/21', 116.06, 118.2, 119.44, 116.06],
    ['2023/03/22', 118.42, 114.17, 118.42, 113.96],
    ['2023/03/23', 114.45, 115.16, 117.27, 114.26],
    ['2023/03/24', 114.13, 116.35, 116.46, 112.85],
    ['2023/03/27', 117.87, 117.66, 118.55, 116.41],
    ['2023/03/28', 117.08, 118.73, 118.74, 117.01],
    ['2023/03/29', 119.8, 119.32, 119.8, 118.02],
    ['2023/03/30', 120.0, 120.8, 121.11, 118.79],
    ['2023/03/31', 121.77, 122.44, 122.46, 120.11],
    ['2023/04/03', 122.66, 121.88, 122.97, 119.83],
    ['2023/04/04', 122.61, 116.65, 122.61, 116.33],
    ['2023/04/05', 115.78, 114.96, 116.57, 113.89],
    ['2023/04/06', 115.5, 116.31, 117.09, 114.15],
    ['2023/04/10', 115.62, 118.0, 118.69, 115.29],
    ['2023/04/11', 118.91, 118.6, 119.89, 118.07],
    ['2023/04/12', 119.98, 121.02, 121.25, 118.71],
    ['2023/04/13', 121.65, 121.34, 121.65, 119.13],
    ['2023/04/14', 120.84, 119.29, 121.59, 118.13],
    ['2023/04/17', 120.27, 121.0, 121.13, 119.1],
    ['2023/04/18', 121.0, 120.25, 122.35, 119.42],
    ['2023/04/19', 120.01, 119.61, 120.23, 118.6],
    ['2023/04/20', 118.84, 120.73, 121.07, 118.84],
    ['2023/04/21', 121.45, 120.51, 121.45, 119.24],
    ['2023/04/24', 120.16, 121.61, 121.84, 119.9],
    ['2023/04/25', 120.39, 119.94, 121.83, 119.84],
    ['2023/04/26', 118.89, 118.7, 120.1, 117.24],
    ['2023/04/27', 118.71, 121.65, 121.86, 117.72],
    ['2023/04/28', 121.65, 122.81, 124.15, 121.65],
    ['2023/05/01', 122.8, 125.17, 125.65, 122.8],
    ['2023/05/02', 124.89, 126.3, 127.0, 124.01],
    ['2023/05/03', 125.59, 124.35, 127.5, 124.23],
    ['2023/05/04', 123.06, 119.76, 123.31, 119.14],
    ['2023/05/05', 125.3, 129.27, 130.37, 124.93],
    ['2023/05/08', 128.6, 133.07, 133.6, 128.27],
    ['2023/05/09', 133.17, 134.94, 137.48, 131.84],
    ['2023/05/10', 136.39, 136.75, 137.49, 135.65],
    ['2023/05/11', 135.91, 138.61, 138.94, 135.53],
    ['2023/05/12', 139.67, 137.99, 141.56, 137.9],
    ['2023/05/15', 138.49, 136.8, 138.55, 136.42],
    ['2023/05/16', 136.37, 137.1, 137.1, 135.1],
    ['2023/05/17', 137.75, 139.33, 139.49, 137.2],
    ['2023/05/18', 139.33, 141.55, 141.84, 139.11],
    ['2023/05/19', 143.09, 139.72, 143.09, 139.28],
    ['2023/05/22', 139.96, 141.9, 141.98, 139.53],
    ['2023/05/23', 141.27, 141.05, 142.13, 140.35],
    ['2023/05/24', 140.8, 138.0, 140.8, 137.98],
    ['2023/05/25', 137.46, 139.07, 140.01, 137.46],
    ['2023/05/26', 138.79, 140.73, 140.83, 138.32],
    ['2023/05/30', 140.9, 140.32, 141.54, 139.81],
    ['2023/05/31', 139.65, 136.19, 139.84, 136.14],
    ['2023/06/01', 136.61, 139.08, 139.63, 135.53],
    ['2023/06/02', 140.96, 144.07, 144.36, 137.6],
    ['2023/06/05', 144.57, 138.87, 144.57, 137.68],
    ['2023/06/06', 139.78, 142.25, 144.35, 139.62],
    ['2023/06/07', 143.34, 146.29, 147.4, 143.34],
    ['2023/06/08', 145.81, 142.99, 145.96, 142.99],
    ['2023/06/09', 142.44, 141.01, 143.09, 140.85],
    ['2023/06/12', 141.55, 140.85, 142.25, 140.41],
    ['2023/06/13', 141.02, 139.8, 142.02, 139.18],
    ['2023/06/14', 139.79, 137.25, 140.24, 136.63],
    ['2023/06/15', 136.61, 137.96, 138.37, 135.58],
    ['2023/06/16', 139.23, 137.47, 139.34, 136.15],
    ['2023/06/20', 136.88, 139.04, 139.29, 136.64],
    ['2023/06/21', 138.45, 139.11, 140.59, 138.45],
    ['2023/06/22', 139.21, 136.5, 139.21, 136.38],
    ['2023/06/23', 135.31, 135.54, 137.56, 133.72],
    ['2023/06/26', 135.62, 136.04, 138.31, 135.26],
    ['2023/06/27', 136.69, 137.66, 138.64, 136.69],
    ['2023/06/28', 137.26, 138.89, 138.96, 137.26],
    ['2023/06/29', 139.28, 140.65, 142.34, 139.28],
    ['2023/06/30', 141.85, 141.47, 142.9, 141.18],
    ['2023/07/03', 140.0, 140.99, 141.07, 139.25],
    ['2023/07/05', 139.15, 140.59, 142.5, 138.87],
    ['2023/07/06', 139.16, 136.86, 139.16, 134.59],
    ['2023/07/07', 136.65, 135.13, 138.21, 135.13],
    ['2023/07/10', 135.36, 136.93, 136.93, 135.18],
    ['2023/07/11', 137.48, 137.25, 138.22, 135.78],
    ['2023/07/12', 139.07, 138.45, 139.7, 138.24],
    ['2023/07/13', 138.58, 139.34, 140.0, 138.5],
    ['2023/07/14', 138.94, 138.39, 138.94, 136.54],
    ['2023/07/17', 138.77, 140.4, 142.35, 137.43],
    ['2023/07/18', 140.89, 146.15, 148.94, 140.34],
    ['2023/07/19', 145.19, 143.27, 146.32, 142.26],
    ['2023/07/20', 144.0, 143.91, 144.46, 142.39],
    ['2023/07/21', 144.28, 143.07, 144.79, 142.28],
    ['2023/07/24', 143.85, 142.77, 144.2, 142.31],
    ['2023/07/25', 141.71, 142.54, 144.01, 139.85],
    ['2023/07/26', 142.18, 143.32, 143.9, 141.45],
    ['2023/07/27', 144.34, 144.36, 144.41, 142.77],
    ['2023/07/28', 145.16, 144.09, 145.63, 142.79],
    ['2023/07/31', 144.68, 148.57, 148.94, 144.54],
    ['2023/08/01', 147.17, 149.05, 149.96, 146.82],
    ['2023/08/02', 148.06, 147.48, 149.32, 146.92],
    ['2023/08/03', 147.35, 146.45, 148.67, 145.88],
    ['2023/08/04', 145.81, 155.28, 156.95, 141.96],
]);
var volumes = [
    36800.0,
    38200.0,
    43200.0,
    35200.0,
    37200.0,
    32400.0,
    34000.0,
    31900.0,
    46400.0,
    44000.0,
    34800.0,
    53600.0,
    44700.0,
    42700.0,
    27900.0,
    26500.0,
    25700.0,
    45700.0,
    46700.0,
    24300.0,
    32300.0,
    34900.0,
    26800.0,
    38500.0,
    40700.0,
    39700.0,
    38800.0,
    40000.0,
    125800.0,
    49200.0,
    31200.0,
    50900.0,
    50200.0,
    41400.0,
    60100.0,
    47800.0,
    40600.0,
    44700.0,
    46900.0,
    45300.0,
    38300.0,
    46800.0,
    42400.0,
    49900.0,
    30100.0,
    46300.0,
    27900.0,
    37700.0,
    33500.0,
    35300.0,
    33700.0,
    45400.0,
    79000.0,
    56600.0,
    47800.0,
    40800.0,
    35400.0,
    37500.0,
    38700.0,
    48600.0,
    71900.0,
    58900.0,
    37000.0,
    46500.0,
    43200.0,
    62200.0,
    48500.0,
    52100.0,
    46000.0,
    53700.0,
    34000.0,
    59900.0,
    35300.0,
    45800.0,
    41000.0,
    58000.0,
    28200.0,
    20000.0,
    41800.0,
    27700.0,
    52400.0,
    42600.0,
    35700.0,
    38600.0,
    46100.0,
    52600.0,
    42700.0,
    33600.0,
    36300.0,
    56500.0,
    44800.0,
    57100.0,
    190800.0,
    83300.0,
    64600.0,
    80200.0,
    42400.0,
    25500.0,
    36600.0,
    39500.0,
    50900.0,
    29100.0,
    44800.0,
    37100.0,
    42500.0,
    23400.0,
    31900.0,
    44500.0,
    60000.0,
    34400.0,
    70800.0,
    59800.0,
    92200.0,
    75100.0,
    74900.0,
    39600.0,
    50600.0,
    40400.0,
    38200.0,
    39100.0,
    63700.0,
    62400.0,
    74900.0,
    68900.0,
    132000.0,
    66800.0,
    74000.0,
    63000.0,
    79300.0,
    53100.0,
    52600.0,
    92900.0,
    65800.0,
    78500.0,
    60700.0,
    75400.0,
    84300.0,
    41200.0,
    37400.0,
    45800.0,
    87700.0,
    44800.0,
    40400.0,
    58600.0,
    70800.0,
    72900.0,
    42700.0,
    65400.0,
    67300.0,
    63700.0,
    56000.0,
    82700.0,
    63800.0,
    250100.0,
    53700.0,
    118100.0,
    69000.0,
    60400.0,
    75700.0,
    86100.0,
    50100.0,
    55400.0,
    38400.0,
    105000.0,
    81200.0,
    75600.0,
    51700.0,
    61000.0,
    99100.0,
    53700.0,
    41400.0,
    38000.0,
    49000.0,
    30700.0,
    36500.0,
    41500.0,
    47100.0,
    47800.0,
    41500.0,
    63600.0,
    80600.0,
    57300.0,
    57400.0,
    49400.0,
    68000.0,
    67500.0,
    63900.0,
    104400.0,
    92200.0,
    125900.0,
    93800.0,
    74900.0,
    123500.0,
    41300.0,
    45400.0,
    63800.0,
    39500.0,
    70400.0,
    43800.0,
    68700.0,
    54000.0,
    51400.0,
    29200.0,
    28800.0,
    47400.0,
    55400.0,
    54100.0,
    55200.0,
    71800.0,
    64500.0,
    80100.0,
    54400.0,
    73500.0,
    114400.0,
    82600.0,
    59900.0,
    188400.0,
    51000.0,
    65400.0,
    90300.0,
    468900.0,
    59900.0,
    37300.0,
    63200.0,
    56500.0,
    78400.0,
    30400.0,
    65300.0,
    44600.0,
    38700.0,
    40000.0,
    34100.0,
    42700.0,
    34700.0,
    30800.0,
    38900.0,
    57600.0,
    45900.0,
    28500.0,
    37600.0,
    32400.0,
    34300.0,
    32000.0,
    64300.0,
    26200.0,
    47000.0,
    65500.0,
    56200.0,
    38800.0,
    66500.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "SXI",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);