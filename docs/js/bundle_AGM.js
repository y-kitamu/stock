/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_AGM");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 102.47, 105.02, 105.5, 102.13],
    ['2022/08/04', 104.36, 105.0, 105.0, 103.37],
    ['2022/08/05', 104.12, 105.53, 106.71, 104.12],
    ['2022/08/08', 105.8, 106.41, 107.56, 105.19],
    ['2022/08/09', 106.98, 107.81, 108.29, 105.68],
    ['2022/08/10', 109.4, 108.42, 110.2, 108.4],
    ['2022/08/11', 108.71, 109.7, 110.22, 108.18],
    ['2022/08/12', 110.28, 112.06, 112.3, 109.5],
    ['2022/08/15', 111.26, 110.96, 112.06, 110.71],
    ['2022/08/16', 111.01, 112.69, 112.92, 110.78],
    ['2022/08/17', 111.36, 112.46, 112.89, 110.85],
    ['2022/08/18', 112.99, 112.68, 112.99, 111.57],
    ['2022/08/19', 112.06, 110.57, 112.06, 109.6],
    ['2022/08/22', 109.46, 109.42, 110.19, 108.51],
    ['2022/08/23', 109.09, 109.33, 109.93, 108.7],
    ['2022/08/24', 109.33, 110.09, 110.38, 108.86],
    ['2022/08/25', 110.01, 111.35, 111.46, 110.01],
    ['2022/08/26', 111.37, 107.62, 111.37, 107.56],
    ['2022/08/29', 107.08, 107.04, 108.15, 106.15],
    ['2022/08/30', 107.83, 106.72, 107.83, 105.64],
    ['2022/08/31', 107.63, 105.7, 107.63, 105.47],
    ['2022/09/01', 105.42, 105.4, 105.92, 104.01],
    ['2022/09/02', 105.4, 104.67, 107.41, 104.35],
    ['2022/09/06', 104.45, 102.87, 104.45, 102.63],
    ['2022/09/07', 102.75, 104.1, 104.41, 102.6],
    ['2022/09/08', 103.1, 103.57, 104.54, 103.04],
    ['2022/09/09', 103.96, 103.01, 105.04, 102.67],
    ['2022/09/12', 103.47, 104.11, 104.11, 102.73],
    ['2022/09/13', 103.3, 100.54, 103.3, 100.31],
    ['2022/09/14', 100.61, 101.5, 101.5, 99.59],
    ['2022/09/15', 101.55, 102.67, 103.03, 101.1],
    ['2022/09/16', 102.05, 102.55, 103.33, 100.94],
    ['2022/09/19', 101.38, 105.49, 105.49, 101.38],
    ['2022/09/20', 104.18, 104.43, 104.43, 102.08],
    ['2022/09/21', 105.47, 105.59, 108.63, 105.25],
    ['2022/09/22', 104.83, 104.77, 106.03, 101.77],
    ['2022/09/23', 102.5, 101.11, 103.47, 99.84],
    ['2022/09/26', 101.55, 100.45, 102.35, 100.41],
    ['2022/09/27', 101.49, 98.55, 101.52, 98.46],
    ['2022/09/28', 99.58, 99.43, 100.76, 98.96],
    ['2022/09/29', 101.16, 96.05, 101.16, 95.46],
    ['2022/09/30', 96.58, 96.81, 98.68, 96.18],
    ['2022/10/03', 97.93, 98.77, 99.0, 95.93],
    ['2022/10/04', 99.86, 103.61, 104.17, 99.66],
    ['2022/10/05', 102.11, 101.91, 102.6, 100.73],
    ['2022/10/06', 101.39, 100.8, 102.54, 100.19],
    ['2022/10/07', 100.83, 98.74, 101.69, 98.04],
    ['2022/10/10', 99.22, 99.06, 100.04, 98.65],
    ['2022/10/11', 98.72, 99.22, 100.21, 97.66],
    ['2022/10/12', 99.55, 100.45, 100.78, 98.32],
    ['2022/10/13', 98.55, 104.86, 104.86, 98.55],
    ['2022/10/14', 105.17, 102.39, 106.83, 102.25],
    ['2022/10/17', 104.66, 104.8, 105.38, 103.88],
    ['2022/10/18', 105.83, 105.05, 106.23, 104.71],
    ['2022/10/19', 103.77, 104.11, 105.45, 102.26],
    ['2022/10/20', 104.65, 102.58, 105.57, 102.47],
    ['2022/10/21', 103.12, 105.18, 105.43, 102.5],
    ['2022/10/24', 106.05, 104.8, 106.05, 104.64],
    ['2022/10/25', 104.26, 107.49, 108.17, 104.14],
    ['2022/10/26', 108.61, 107.93, 108.85, 107.34],
    ['2022/10/27', 109.21, 109.45, 112.97, 109.15],
    ['2022/10/28', 109.43, 111.77, 112.69, 109.43],
    ['2022/10/31', 111.48, 112.49, 113.73, 111.0],
    ['2022/11/01', 113.35, 114.19, 115.2, 112.96],
    ['2022/11/02', 113.37, 111.26, 115.04, 111.12],
    ['2022/11/03', 109.72, 110.93, 112.04, 109.01],
    ['2022/11/04', 112.71, 112.62, 113.08, 110.54],
    ['2022/11/07', 112.1, 112.2, 113.28, 111.26],
    ['2022/11/08', 110.82, 114.58, 116.02, 110.54],
    ['2022/11/09', 114.94, 112.78, 116.05, 112.55],
    ['2022/11/10', 116.77, 119.6, 120.82, 115.65],
    ['2022/11/11', 119.72, 118.65, 120.95, 116.64],
    ['2022/11/14', 118.03, 118.74, 120.52, 117.9],
    ['2022/11/15', 120.58, 120.36, 121.78, 118.96],
    ['2022/11/16', 120.96, 120.66, 121.01, 118.07],
    ['2022/11/17', 120.41, 120.38, 120.57, 118.33],
    ['2022/11/18', 121.98, 121.27, 121.98, 119.81],
    ['2022/11/21', 120.47, 122.96, 123.31, 120.34],
    ['2022/11/22', 122.45, 122.56, 123.55, 121.88],
    ['2022/11/23', 122.94, 122.64, 123.32, 122.02],
    ['2022/11/25', 123.13, 123.84, 124.87, 122.33],
    ['2022/11/28', 121.73, 121.83, 122.51, 121.18],
    ['2022/11/29', 122.66, 121.85, 123.39, 121.34],
    ['2022/11/30', 122.44, 122.89, 123.77, 119.86],
    ['2022/12/01', 123.29, 122.06, 123.72, 121.89],
    ['2022/12/02', 120.38, 122.3, 123.36, 120.38],
    ['2022/12/05', 121.37, 118.12, 121.37, 117.71],
    ['2022/12/06', 117.21, 118.83, 119.24, 116.07],
    ['2022/12/07', 117.4, 115.99, 118.59, 115.48],
    ['2022/12/08', 117.18, 116.98, 118.47, 115.43],
    ['2022/12/09', 115.7, 116.26, 117.21, 115.11],
    ['2022/12/12', 116.68, 117.27, 118.1, 115.93],
    ['2022/12/13', 120.48, 118.36, 120.48, 116.8],
    ['2022/12/14', 118.07, 115.46, 119.15, 114.32],
    ['2022/12/15', 113.44, 113.6, 115.09, 112.66],
    ['2022/12/16', 111.78, 113.41, 114.26, 111.68],
    ['2022/12/19', 113.35, 112.61, 115.24, 111.75],
    ['2022/12/20', 113.21, 113.52, 114.7, 110.31],
    ['2022/12/21', 114.45, 113.2, 115.17, 112.83],
    ['2022/12/22', 113.72, 112.0, 114.06, 110.03],
    ['2022/12/23', 112.78, 112.19, 113.56, 111.15],
    ['2022/12/27', 113.21, 111.67, 113.71, 111.31],
    ['2022/12/28', 112.28, 109.52, 112.45, 109.52],
    ['2022/12/29', 110.8, 111.7, 112.63, 109.64],
    ['2022/12/30', 111.21, 110.93, 111.77, 110.35],
    ['2023/01/03', 112.04, 111.74, 112.45, 110.69],
    ['2023/01/04', 111.76, 113.8, 115.16, 111.76],
    ['2023/01/05', 113.52, 112.98, 113.52, 111.13],
    ['2023/01/06', 114.24, 118.84, 119.92, 113.49],
    ['2023/01/09', 119.07, 116.68, 120.14, 116.44],
    ['2023/01/10', 116.19, 118.22, 118.26, 116.08],
    ['2023/01/11', 119.05, 121.4, 122.6, 117.86],
    ['2023/01/12', 121.62, 122.75, 124.53, 121.02],
    ['2023/01/13', 121.75, 122.83, 123.87, 120.44],
    ['2023/01/17', 123.62, 120.62, 123.76, 120.47],
    ['2023/01/18', 120.08, 118.45, 120.78, 118.23],
    ['2023/01/19', 117.62, 119.87, 119.88, 116.56],
    ['2023/01/20', 120.79, 121.97, 122.26, 119.26],
    ['2023/01/23', 122.79, 125.1, 125.89, 121.8],
    ['2023/01/24', 123.81, 124.01, 125.04, 123.13],
    ['2023/01/25', 123.39, 129.17, 129.31, 122.46],
    ['2023/01/26', 130.44, 130.61, 132.37, 128.47],
    ['2023/01/27', 129.84, 130.13, 132.61, 129.84],
    ['2023/01/30', 129.71, 126.4, 130.52, 126.28],
    ['2023/01/31', 126.12, 130.87, 130.87, 126.12],
    ['2023/02/01', 130.76, 130.7, 132.81, 129.19],
    ['2023/02/02', 130.81, 131.43, 132.33, 130.51],
    ['2023/02/03', 131.07, 132.59, 133.81, 130.44],
    ['2023/02/06', 131.84, 132.26, 133.32, 130.66],
    ['2023/02/07', 131.36, 134.7, 134.98, 130.82],
    ['2023/02/08', 133.27, 133.36, 134.71, 132.69],
    ['2023/02/09', 133.83, 133.73, 135.12, 132.6],
    ['2023/02/10', 133.46, 136.49, 137.01, 132.96],
    ['2023/02/13', 136.17, 136.44, 136.96, 135.49],
    ['2023/02/14', 136.02, 135.0, 137.42, 134.58],
    ['2023/02/15', 133.62, 136.9, 137.77, 133.36],
    ['2023/02/16', 135.4, 136.08, 138.15, 132.67],
    ['2023/02/17', 136.47, 137.24, 137.9, 135.35],
    ['2023/02/21', 135.76, 134.41, 136.53, 134.05],
    ['2023/02/22', 134.72, 134.87, 136.16, 133.9],
    ['2023/02/23', 132.9, 133.4, 135.66, 132.18],
    ['2023/02/24', 133.46, 138.85, 139.66, 130.48],
    ['2023/02/27', 139.7, 139.06, 141.6, 137.67],
    ['2023/02/28', 139.52, 139.62, 142.21, 138.43],
    ['2023/03/01', 139.98, 142.78, 144.01, 138.75],
    ['2023/03/02', 142.05, 142.85, 143.84, 140.87],
    ['2023/03/03', 143.83, 145.17, 146.15, 142.67],
    ['2023/03/06', 145.18, 144.87, 147.01, 144.01],
    ['2023/03/07', 144.4, 141.1, 144.84, 140.56],
    ['2023/03/08', 141.6, 140.68, 143.02, 139.87],
    ['2023/03/09', 140.38, 133.06, 140.63, 132.97],
    ['2023/03/10', 131.46, 128.15, 132.52, 126.26],
    ['2023/03/13', 123.66, 124.02, 128.74, 120.46],
    ['2023/03/14', 129.05, 127.0, 130.97, 125.3],
    ['2023/03/15', 123.08, 125.01, 126.3, 122.18],
    ['2023/03/16', 122.91, 130.25, 131.97, 121.7],
    ['2023/03/17', 128.73, 125.21, 129.99, 122.59],
    ['2023/03/20', 127.4, 126.21, 129.28, 125.9],
    ['2023/03/21', 128.79, 129.92, 132.32, 128.79],
    ['2023/03/22', 130.22, 124.28, 130.22, 124.27],
    ['2023/03/23', 124.66, 123.72, 126.8, 122.98],
    ['2023/03/24', 121.98, 124.43, 125.0, 121.2],
    ['2023/03/27', 126.6, 126.94, 128.01, 125.32],
    ['2023/03/28', 126.78, 125.81, 127.4, 125.07],
    ['2023/03/29', 128.92, 131.32, 131.62, 127.67],
    ['2023/03/30', 132.09, 129.5, 133.9, 128.7],
    ['2023/03/31', 130.75, 132.21, 132.9, 128.93],
    ['2023/04/03', 132.79, 132.21, 135.0, 130.11],
    ['2023/04/04', 133.03, 130.41, 133.03, 129.05],
    ['2023/04/05', 129.0, 129.25, 130.58, 128.6],
    ['2023/04/06', 129.31, 132.11, 132.92, 127.63],
    ['2023/04/10', 131.83, 130.97, 133.15, 130.38],
    ['2023/04/11', 131.44, 130.34, 132.62, 130.21],
    ['2023/04/12', 131.21, 130.07, 131.57, 129.77],
    ['2023/04/13', 130.37, 130.33, 131.57, 129.51],
    ['2023/04/14', 131.28, 130.09, 132.24, 129.71],
    ['2023/04/17', 130.04, 131.94, 132.02, 129.43],
    ['2023/04/18', 132.24, 133.02, 133.04, 131.34],
    ['2023/04/19', 133.01, 136.85, 136.89, 131.76],
    ['2023/04/20', 135.61, 134.4, 135.69, 133.98],
    ['2023/04/21', 134.33, 134.87, 136.07, 133.47],
    ['2023/04/24', 134.43, 134.25, 136.35, 134.17],
    ['2023/04/25', 132.93, 131.66, 134.12, 131.59],
    ['2023/04/26', 130.13, 130.97, 131.99, 130.04],
    ['2023/04/27', 131.07, 132.11, 132.41, 131.07],
    ['2023/04/28', 130.95, 132.31, 133.02, 130.95],
    ['2023/05/01', 131.99, 131.72, 134.01, 131.14],
    ['2023/05/02', 130.72, 128.09, 130.72, 127.41],
    ['2023/05/03', 128.2, 125.99, 130.17, 125.79],
    ['2023/05/04', 124.56, 125.97, 126.63, 123.66],
    ['2023/05/05', 128.2, 128.93, 129.44, 127.47],
    ['2023/05/08', 129.12, 129.12, 129.71, 128.45],
    ['2023/05/09', 127.94, 128.72, 129.96, 126.88],
    ['2023/05/10', 128.75, 122.75, 132.04, 122.51],
    ['2023/05/11', 122.3, 127.88, 130.02, 122.06],
    ['2023/05/12', 127.69, 127.81, 128.28, 124.98],
    ['2023/05/15', 129.14, 135.71, 135.93, 129.14],
    ['2023/05/16', 134.19, 132.83, 135.17, 132.67],
    ['2023/05/17', 134.1, 135.57, 136.35, 133.09],
    ['2023/05/18', 135.27, 139.38, 139.83, 135.05],
    ['2023/05/19', 140.74, 139.9, 141.97, 138.47],
    ['2023/05/22', 140.3, 138.82, 141.11, 138.2],
    ['2023/05/23', 138.24, 138.44, 140.66, 137.72],
    ['2023/05/24', 137.21, 136.24, 137.21, 135.5],
    ['2023/05/25', 136.42, 134.37, 136.63, 134.15],
    ['2023/05/26', 134.69, 135.37, 136.6, 134.69],
    ['2023/05/30', 135.88, 134.4, 136.3, 133.84],
    ['2023/05/31', 133.91, 132.83, 134.86, 131.5],
    ['2023/06/01', 134.01, 135.31, 137.24, 133.05],
    ['2023/06/02', 137.53, 139.78, 139.91, 136.44],
    ['2023/06/05', 139.05, 137.23, 139.59, 136.2],
    ['2023/06/06', 137.1, 144.85, 145.09, 137.1],
    ['2023/06/07', 145.56, 147.2, 147.43, 143.54],
    ['2023/06/08', 147.19, 149.35, 149.91, 146.24],
    ['2023/06/09', 148.97, 149.48, 149.5, 146.66],
    ['2023/06/12', 148.93, 149.25, 152.41, 148.3],
    ['2023/06/13', 149.36, 148.9, 150.64, 148.19],
    ['2023/06/14', 148.97, 148.72, 149.66, 147.47],
    ['2023/06/15', 148.96, 149.55, 150.28, 147.28],
    ['2023/06/16', 150.9, 148.5, 151.0, 146.9],
    ['2023/06/20', 148.39, 146.64, 148.54, 146.59],
    ['2023/06/21', 146.37, 144.61, 147.0, 144.5],
    ['2023/06/22', 145.05, 143.72, 145.05, 142.01],
    ['2023/06/23', 141.67, 140.97, 143.67, 139.64],
    ['2023/06/26', 141.14, 140.23, 142.6, 140.08],
    ['2023/06/27', 140.46, 140.82, 143.0, 140.28],
    ['2023/06/28', 140.77, 141.95, 143.04, 140.55],
    ['2023/06/29', 142.66, 141.64, 143.44, 141.45],
    ['2023/06/30', 143.45, 143.74, 145.41, 142.0],
    ['2023/07/03', 143.26, 144.66, 145.3, 143.26],
    ['2023/07/05', 142.62, 141.06, 143.63, 140.85],
    ['2023/07/06', 139.52, 138.51, 139.53, 137.17],
    ['2023/07/07', 139.01, 139.69, 140.82, 137.84],
    ['2023/07/10', 139.62, 141.64, 142.1, 139.52],
    ['2023/07/11', 141.91, 143.03, 143.83, 141.91],
    ['2023/07/12', 145.72, 144.59, 145.72, 143.65],
    ['2023/07/13', 145.47, 147.29, 147.29, 144.25],
    ['2023/07/14', 147.79, 149.97, 150.0, 146.28],
    ['2023/07/17', 149.95, 153.11, 153.12, 149.95],
    ['2023/07/18', 153.1, 155.93, 156.26, 153.1],
    ['2023/07/19', 155.08, 156.27, 156.97, 155.08],
    ['2023/07/20', 156.17, 156.33, 157.5, 153.46],
    ['2023/07/21', 157.15, 156.38, 157.23, 155.19],
    ['2023/07/24', 156.5, 157.4, 159.11, 156.5],
    ['2023/07/25', 157.19, 158.43, 159.2, 156.47],
    ['2023/07/26', 158.32, 159.23, 160.49, 158.1],
    ['2023/07/27', 159.79, 158.58, 160.49, 157.97],
    ['2023/07/28', 160.4, 160.06, 161.15, 158.71],
    ['2023/07/31', 160.78, 160.75, 162.34, 159.63],
    ['2023/08/01', 160.25, 162.84, 163.51, 160.25],
    ['2023/08/02', 162.54, 165.73, 166.14, 162.54],
]);
var volumes = [
    19300.0,
    24800.0,
    17200.0,
    26200.0,
    24200.0,
    22700.0,
    17000.0,
    24800.0,
    26900.0,
    25600.0,
    22800.0,
    22800.0,
    41500.0,
    29400.0,
    24900.0,
    23300.0,
    17200.0,
    20200.0,
    16900.0,
    22500.0,
    30300.0,
    24900.0,
    18600.0,
    23900.0,
    26600.0,
    18200.0,
    17700.0,
    22100.0,
    27800.0,
    30200.0,
    34000.0,
    56500.0,
    28900.0,
    33000.0,
    42800.0,
    39600.0,
    29800.0,
    28200.0,
    35400.0,
    39500.0,
    40900.0,
    40700.0,
    31500.0,
    29100.0,
    23700.0,
    33200.0,
    28500.0,
    15200.0,
    19700.0,
    33300.0,
    34100.0,
    34600.0,
    35500.0,
    26700.0,
    28200.0,
    22400.0,
    23800.0,
    26200.0,
    29700.0,
    19900.0,
    38800.0,
    52500.0,
    33100.0,
    51300.0,
    26700.0,
    14700.0,
    13900.0,
    34600.0,
    49000.0,
    27600.0,
    60500.0,
    37200.0,
    25600.0,
    38700.0,
    23300.0,
    25500.0,
    32500.0,
    25600.0,
    29400.0,
    23500.0,
    17800.0,
    28700.0,
    26900.0,
    46700.0,
    27000.0,
    24700.0,
    30800.0,
    37600.0,
    39400.0,
    37800.0,
    41400.0,
    31700.0,
    57200.0,
    46700.0,
    46900.0,
    78400.0,
    47400.0,
    35600.0,
    70300.0,
    101700.0,
    40300.0,
    44000.0,
    62600.0,
    46600.0,
    38900.0,
    49200.0,
    51700.0,
    49400.0,
    71700.0,
    46500.0,
    58000.0,
    146600.0,
    55300.0,
    60000.0,
    73100.0,
    62400.0,
    56000.0,
    51700.0,
    48600.0,
    37100.0,
    58500.0,
    84000.0,
    80500.0,
    60800.0,
    60400.0,
    59700.0,
    50300.0,
    53900.0,
    49400.0,
    58900.0,
    42000.0,
    65800.0,
    50700.0,
    40700.0,
    56200.0,
    56500.0,
    46500.0,
    58900.0,
    64700.0,
    62200.0,
    80600.0,
    130800.0,
    99700.0,
    124800.0,
    66100.0,
    77900.0,
    46800.0,
    76400.0,
    79500.0,
    85300.0,
    128700.0,
    111600.0,
    144400.0,
    90300.0,
    104100.0,
    150400.0,
    292000.0,
    81600.0,
    129600.0,
    120400.0,
    111700.0,
    55500.0,
    51200.0,
    75000.0,
    77400.0,
    102000.0,
    99600.0,
    81000.0,
    70000.0,
    78100.0,
    72400.0,
    146100.0,
    71000.0,
    56000.0,
    53200.0,
    39100.0,
    40700.0,
    42700.0,
    100300.0,
    61800.0,
    52000.0,
    41800.0,
    54800.0,
    43500.0,
    32700.0,
    47500.0,
    48700.0,
    55300.0,
    48700.0,
    63100.0,
    36200.0,
    38200.0,
    127600.0,
    146400.0,
    64900.0,
    45300.0,
    69700.0,
    47900.0,
    48400.0,
    50600.0,
    49200.0,
    32100.0,
    26200.0,
    27700.0,
    44200.0,
    28600.0,
    23500.0,
    57900.0,
    37500.0,
    44100.0,
    36300.0,
    55900.0,
    46400.0,
    66800.0,
    29500.0,
    67300.0,
    47100.0,
    40600.0,
    42800.0,
    75000.0,
    37000.0,
    51900.0,
    41800.0,
    242700.0,
    50300.0,
    38700.0,
    44000.0,
    25500.0,
    64000.0,
    18900.0,
    26900.0,
    45100.0,
    40700.0,
    32400.0,
    36000.0,
    35400.0,
    78800.0,
    38900.0,
    53700.0,
    52500.0,
    46000.0,
    49700.0,
    36300.0,
    41000.0,
    41200.0,
    41300.0,
    60600.0,
    69900.0,
    42900.0,
    34800.0,
    44800.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "AGM",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);