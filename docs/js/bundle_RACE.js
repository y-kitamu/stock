/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_RACE");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 210.32, 214.16, 214.48, 209.5],
    ['2022/08/04', 214.24, 214.45, 215.91, 212.67],
    ['2022/08/05', 210.63, 210.42, 212.31, 209.19],
    ['2022/08/08', 211.77, 212.03, 213.86, 211.4],
    ['2022/08/09', 211.27, 208.96, 211.31, 208.5],
    ['2022/08/10', 214.31, 213.46, 215.29, 212.53],
    ['2022/08/11', 215.07, 213.73, 215.23, 212.87],
    ['2022/08/12', 213.18, 214.27, 214.29, 212.48],
    ['2022/08/15', 213.01, 213.12, 213.85, 212.0],
    ['2022/08/16', 208.45, 210.64, 211.28, 208.03],
    ['2022/08/17', 209.33, 209.87, 211.83, 207.85],
    ['2022/08/18', 209.57, 210.85, 210.86, 208.03],
    ['2022/08/19', 207.25, 205.56, 207.37, 204.1],
    ['2022/08/22', 201.05, 199.13, 202.12, 198.27],
    ['2022/08/23', 200.04, 200.46, 203.07, 200.04],
    ['2022/08/24', 200.04, 202.14, 203.74, 199.8],
    ['2022/08/25', 203.1, 205.44, 205.61, 202.49],
    ['2022/08/26', 203.04, 196.38, 203.94, 196.34],
    ['2022/08/29', 196.95, 197.57, 198.73, 196.66],
    ['2022/08/30', 197.82, 194.03, 198.55, 193.16],
    ['2022/08/31', 194.24, 193.27, 194.92, 192.41],
    ['2022/09/01', 191.12, 192.46, 192.66, 188.72],
    ['2022/09/02', 194.62, 189.81, 196.75, 189.03],
    ['2022/09/06', 187.36, 188.99, 189.75, 185.83],
    ['2022/09/07', 190.86, 193.87, 194.02, 190.51],
    ['2022/09/08', 188.94, 192.32, 192.61, 187.95],
    ['2022/09/09', 195.77, 194.4, 196.4, 194.17],
    ['2022/09/12', 199.05, 200.53, 201.36, 199.05],
    ['2022/09/13', 196.31, 194.12, 197.01, 193.63],
    ['2022/09/14', 197.38, 198.19, 199.64, 196.56],
    ['2022/09/15', 197.02, 195.23, 199.92, 195.06],
    ['2022/09/16', 194.98, 195.49, 196.03, 193.84],
    ['2022/09/19', 193.32, 197.02, 197.11, 193.32],
    ['2022/09/20', 193.31, 192.61, 193.57, 190.61],
    ['2022/09/21', 191.4, 191.1, 195.33, 190.73],
    ['2022/09/22', 189.97, 187.78, 190.21, 186.51],
    ['2022/09/23', 185.22, 184.92, 185.29, 182.32],
    ['2022/09/26', 185.94, 185.1, 188.95, 184.41],
    ['2022/09/27', 188.84, 187.84, 189.75, 185.2],
    ['2022/09/28', 185.84, 189.86, 190.42, 184.09],
    ['2022/09/29', 184.31, 185.09, 185.57, 181.84],
    ['2022/09/30', 183.53, 183.68, 186.88, 183.25],
    ['2022/10/03', 182.54, 185.36, 186.42, 181.48],
    ['2022/10/04', 191.15, 192.39, 194.65, 191.15],
    ['2022/10/05', 188.05, 192.14, 193.26, 186.09],
    ['2022/10/06', 189.38, 189.51, 190.86, 187.86],
    ['2022/10/07', 186.1, 183.68, 186.23, 183.38],
    ['2022/10/10', 183.26, 180.81, 183.53, 179.73],
    ['2022/10/11', 182.04, 181.84, 184.67, 180.7],
    ['2022/10/12', 181.69, 181.19, 182.99, 180.7],
    ['2022/10/13', 176.73, 182.14, 182.68, 175.56],
    ['2022/10/14', 184.25, 179.34, 184.94, 179.28],
    ['2022/10/17', 185.38, 187.24, 187.74, 184.57],
    ['2022/10/18', 191.36, 189.65, 192.1, 188.53],
    ['2022/10/19', 187.77, 186.23, 188.35, 184.77],
    ['2022/10/20', 186.23, 185.32, 188.31, 184.24],
    ['2022/10/21', 183.58, 187.02, 187.34, 182.83],
    ['2022/10/24', 188.14, 190.36, 191.4, 188.05],
    ['2022/10/25', 192.75, 195.1, 197.47, 192.68],
    ['2022/10/26', 194.26, 195.77, 198.01, 193.96],
    ['2022/10/27', 197.34, 194.89, 197.78, 194.68],
    ['2022/10/28', 195.21, 197.23, 197.75, 194.42],
    ['2022/10/31', 195.33, 195.36, 196.68, 193.87],
    ['2022/11/01', 199.42, 195.55, 200.28, 194.2],
    ['2022/11/02', 191.52, 190.22, 196.22, 188.93],
    ['2022/11/03', 187.81, 191.14, 192.39, 187.58],
    ['2022/11/04', 200.25, 197.77, 201.55, 195.81],
    ['2022/11/07', 198.99, 198.46, 199.56, 197.22],
    ['2022/11/08', 200.73, 202.84, 204.88, 200.52],
    ['2022/11/09', 200.79, 200.05, 203.65, 199.81],
    ['2022/11/10', 210.36, 211.28, 212.7, 209.31],
    ['2022/11/11', 213.46, 215.31, 216.98, 212.88],
    ['2022/11/14', 214.36, 211.24, 215.04, 211.24],
    ['2022/11/15', 214.4, 213.9, 215.34, 211.06],
    ['2022/11/16', 212.87, 212.41, 213.62, 211.77],
    ['2022/11/17', 209.59, 212.02, 212.27, 209.44],
    ['2022/11/18', 212.9, 214.78, 214.88, 212.07],
    ['2022/11/21', 213.32, 212.59, 214.45, 212.4],
    ['2022/11/22', 213.37, 214.81, 215.47, 212.95],
    ['2022/11/23', 215.06, 216.03, 216.93, 214.9],
    ['2022/11/25', 216.02, 216.58, 217.33, 216.0],
    ['2022/11/28', 217.4, 214.41, 218.32, 214.29],
    ['2022/11/29', 214.01, 213.68, 215.57, 213.54],
    ['2022/11/30', 218.08, 221.45, 221.45, 216.52],
    ['2022/12/01', 224.56, 226.45, 226.77, 223.33],
    ['2022/12/02', 223.03, 224.96, 225.06, 221.81],
    ['2022/12/05', 225.3, 222.08, 225.42, 222.08],
    ['2022/12/06', 221.89, 219.52, 222.23, 217.38],
    ['2022/12/07', 219.41, 218.51, 221.13, 218.2],
    ['2022/12/08', 218.06, 218.75, 219.11, 217.14],
    ['2022/12/09', 218.41, 219.14, 219.96, 217.85],
    ['2022/12/12', 220.7, 220.94, 221.17, 219.42],
    ['2022/12/13', 227.58, 223.88, 228.53, 221.34],
    ['2022/12/14', 224.3, 223.57, 225.69, 222.51],
    ['2022/12/15', 222.43, 220.81, 222.97, 219.58],
    ['2022/12/16', 219.47, 216.55, 220.74, 216.55],
    ['2022/12/19', 216.82, 214.58, 216.82, 214.53],
    ['2022/12/20', 211.92, 212.56, 213.44, 211.68],
    ['2022/12/21', 212.25, 212.37, 213.48, 212.01],
    ['2022/12/22', 211.67, 211.04, 211.83, 208.85],
    ['2022/12/23', 209.29, 209.5, 210.79, 208.38],
    ['2022/12/27', 210.28, 210.48, 211.45, 208.8],
    ['2022/12/28', 210.48, 208.75, 211.71, 208.53],
    ['2022/12/29', 212.26, 215.04, 215.38, 212.17],
    ['2022/12/30', 214.0, 212.69, 214.74, 211.28],
    ['2023/01/03', 215.11, 213.83, 217.2, 212.44],
    ['2023/01/04', 217.63, 218.1, 218.1, 215.06],
    ['2023/01/05', 215.7, 214.53, 216.89, 214.23],
    ['2023/01/06', 215.29, 222.48, 223.2, 214.65],
    ['2023/01/09', 228.35, 227.13, 231.08, 227.13],
    ['2023/01/10', 228.45, 230.29, 230.47, 227.62],
    ['2023/01/11', 231.29, 232.04, 233.2, 230.78],
    ['2023/01/12', 232.45, 234.15, 235.4, 231.01],
    ['2023/01/13', 233.1, 234.23, 234.76, 232.93],
    ['2023/01/17', 235.66, 236.16, 238.08, 235.66],
    ['2023/01/18', 240.21, 238.0, 240.9, 238.0],
    ['2023/01/19', 237.74, 236.29, 238.28, 234.98],
    ['2023/01/20', 238.48, 240.65, 240.77, 237.81],
    ['2023/01/23', 240.22, 241.9, 243.53, 239.93],
    ['2023/01/24', 240.96, 242.29, 242.69, 240.08],
    ['2023/01/25', 241.02, 243.82, 244.02, 240.63],
    ['2023/01/26', 244.99, 246.0, 246.73, 244.54],
    ['2023/01/27', 247.04, 251.9, 254.25, 247.04],
    ['2023/01/30', 251.93, 249.45, 253.24, 248.81],
    ['2023/01/31', 244.84, 249.51, 249.79, 244.75],
    ['2023/02/01', 248.02, 251.51, 254.63, 247.45],
    ['2023/02/02', 263.3, 263.58, 268.42, 260.73],
    ['2023/02/03', 258.59, 258.18, 262.11, 257.84],
    ['2023/02/06', 258.54, 259.44, 261.13, 257.11],
    ['2023/02/07', 260.63, 265.0, 265.34, 260.4],
    ['2023/02/08', 264.55, 264.65, 265.92, 263.25],
    ['2023/02/09', 267.65, 264.4, 268.19, 263.17],
    ['2023/02/10', 256.45, 257.82, 258.27, 255.08],
    ['2023/02/13', 259.74, 261.56, 263.0, 259.29],
    ['2023/02/14', 259.38, 263.71, 264.3, 259.11],
    ['2023/02/15', 262.1, 265.32, 265.39, 262.1],
    ['2023/02/16', 263.41, 263.98, 266.78, 262.25],
    ['2023/02/17', 263.0, 264.97, 265.68, 262.47],
    ['2023/02/21', 261.16, 260.92, 261.73, 259.91],
    ['2023/02/22', 259.94, 258.74, 260.41, 257.71],
    ['2023/02/23', 262.07, 260.27, 262.73, 259.39],
    ['2023/02/24', 255.86, 257.26, 258.16, 255.24],
    ['2023/02/27', 259.01, 259.49, 260.72, 258.66],
    ['2023/02/28', 257.86, 258.51, 260.22, 257.03],
    ['2023/03/01', 263.8, 260.84, 263.9, 260.26],
    ['2023/03/02', 260.44, 262.69, 263.15, 259.63],
    ['2023/03/03', 269.95, 269.51, 271.19, 268.6],
    ['2023/03/06', 271.54, 268.43, 271.88, 268.0],
    ['2023/03/07', 271.58, 266.75, 272.12, 266.22],
    ['2023/03/08', 266.65, 267.73, 268.82, 265.42],
    ['2023/03/09', 266.23, 262.79, 266.85, 261.25],
    ['2023/03/10', 263.87, 259.36, 263.87, 257.49],
    ['2023/03/13', 256.35, 258.2, 259.78, 255.98],
    ['2023/03/14', 260.68, 261.02, 261.9, 258.72],
    ['2023/03/15', 252.47, 254.46, 255.16, 250.37],
    ['2023/03/16', 254.49, 262.47, 263.41, 254.49],
    ['2023/03/17', 256.49, 257.35, 258.5, 255.14],
    ['2023/03/20', 260.86, 260.6, 261.85, 258.78],
    ['2023/03/21', 263.8, 264.73, 265.39, 263.32],
    ['2023/03/22', 267.14, 263.27, 269.06, 263.27],
    ['2023/03/23', 267.12, 264.22, 268.78, 262.33],
    ['2023/03/24', 262.34, 263.47, 263.81, 259.39],
    ['2023/03/27', 266.28, 264.27, 266.71, 263.55],
    ['2023/03/28', 264.9, 264.4, 265.04, 263.0],
    ['2023/03/29', 267.86, 266.95, 268.31, 266.04],
    ['2023/03/30', 267.35, 266.98, 268.07, 265.88],
    ['2023/03/31', 268.78, 269.0, 270.16, 268.26],
    ['2023/04/03', 268.27, 269.0, 269.58, 266.88],
    ['2023/04/04', 271.42, 268.89, 271.7, 268.27],
    ['2023/04/05', 273.02, 268.61, 273.31, 267.57],
    ['2023/04/06', 267.57, 269.99, 271.76, 267.57],
    ['2023/04/10', 268.15, 271.04, 271.34, 268.14],
    ['2023/04/11', 272.3, 272.26, 273.66, 271.54],
    ['2023/04/12', 275.4, 274.65, 276.2, 273.96],
    ['2023/04/13', 280.98, 280.92, 282.82, 277.72],
    ['2023/04/14', 282.9, 283.49, 284.56, 282.32],
    ['2023/04/17', 278.61, 279.03, 279.39, 275.93],
    ['2023/04/18', 278.14, 278.59, 279.63, 276.93],
    ['2023/04/19', 277.96, 276.64, 278.19, 276.23],
    ['2023/04/20', 271.25, 274.03, 274.68, 270.75],
    ['2023/04/21', 274.83, 276.04, 276.78, 272.81],
    ['2023/04/24', 278.84, 280.19, 280.64, 278.84],
    ['2023/04/25', 279.96, 277.21, 280.18, 277.14],
    ['2023/04/26', 278.22, 275.41, 279.24, 274.63],
    ['2023/04/27', 276.38, 278.24, 278.87, 275.3],
    ['2023/04/28', 275.26, 278.64, 278.96, 274.62],
    ['2023/05/01', 279.58, 279.14, 280.21, 278.66],
    ['2023/05/02', 274.26, 275.78, 276.32, 273.39],
    ['2023/05/03', 278.79, 277.64, 281.51, 277.46],
    ['2023/05/04', 290.16, 291.79, 293.64, 288.74],
    ['2023/05/05', 295.61, 296.81, 297.74, 294.6],
    ['2023/05/08', 297.74, 296.97, 297.82, 295.66],
    ['2023/05/09', 295.26, 294.19, 296.55, 294.07],
    ['2023/05/10', 294.2, 292.18, 295.08, 290.71],
    ['2023/05/11', 294.35, 293.61, 294.65, 292.62],
    ['2023/05/12', 296.87, 296.27, 297.06, 294.26],
    ['2023/05/15', 295.8, 293.0, 296.28, 292.59],
    ['2023/05/16', 295.34, 292.6, 295.74, 292.41],
    ['2023/05/17', 294.32, 293.33, 294.42, 292.81],
    ['2023/05/18', 295.82, 295.16, 296.28, 293.6],
    ['2023/05/19', 298.48, 298.24, 299.22, 297.15],
    ['2023/05/22', 298.62, 301.53, 302.86, 298.4],
    ['2023/05/23', 292.76, 289.9, 292.76, 288.36],
    ['2023/05/24', 286.26, 286.96, 287.46, 283.96],
    ['2023/05/25', 286.49, 286.6, 287.44, 285.31],
    ['2023/05/26', 288.36, 290.76, 291.58, 288.18],
    ['2023/05/30', 292.18, 287.36, 292.18, 287.23],
    ['2023/05/31', 288.18, 286.67, 288.43, 283.2],
    ['2023/06/01', 288.87, 293.09, 293.19, 288.12],
    ['2023/06/02', 298.3, 298.6, 300.29, 297.58],
    ['2023/06/05', 298.19, 296.43, 298.37, 295.88],
    ['2023/06/06', 296.93, 297.12, 297.83, 295.92],
    ['2023/06/07', 295.66, 294.53, 298.14, 294.11],
    ['2023/06/08', 296.6, 298.24, 299.01, 296.6],
    ['2023/06/09', 297.4, 297.8, 298.89, 296.62],
    ['2023/06/12', 300.54, 300.58, 301.84, 299.1],
    ['2023/06/13', 301.27, 300.11, 302.56, 299.94],
    ['2023/06/14', 304.72, 302.79, 305.22, 300.72],
    ['2023/06/15', 305.46, 306.11, 306.73, 303.66],
    ['2023/06/16', 308.71, 308.02, 309.29, 306.62],
    ['2023/06/20', 306.7, 306.16, 308.06, 305.29],
    ['2023/06/21', 307.11, 308.3, 309.12, 305.54],
    ['2023/06/22', 306.46, 307.29, 308.94, 306.0],
    ['2023/06/23', 306.16, 307.52, 309.01, 305.88],
    ['2023/06/26', 307.5, 306.49, 308.75, 305.85],
    ['2023/06/27', 309.25, 314.09, 314.47, 309.12],
    ['2023/06/28', 315.34, 317.96, 318.01, 315.34],
    ['2023/06/29', 318.36, 320.67, 322.72, 318.25],
    ['2023/06/30', 324.84, 325.21, 327.07, 323.88],
    ['2023/07/03', 325.52, 325.87, 326.02, 323.1],
    ['2023/07/05', 321.6, 320.01, 322.8, 319.63],
    ['2023/07/06', 312.89, 313.53, 314.76, 311.2],
    ['2023/07/07', 314.64, 314.49, 317.56, 312.78],
    ['2023/07/10', 314.25, 318.29, 318.8, 314.0],
    ['2023/07/11', 319.0, 318.39, 320.33, 317.36],
    ['2023/07/12', 320.19, 322.68, 323.04, 318.99],
    ['2023/07/13', 325.84, 323.36, 326.12, 323.0],
    ['2023/07/14', 326.89, 328.78, 329.5, 326.58],
    ['2023/07/17', 328.49, 328.71, 329.88, 327.62],
    ['2023/07/18', 326.22, 326.32, 326.75, 323.53],
    ['2023/07/19', 323.31, 321.09, 324.41, 320.58],
    ['2023/07/20', 320.28, 318.66, 320.71, 317.52],
    ['2023/07/21', 321.01, 318.01, 321.01, 317.93],
    ['2023/07/24', 317.38, 317.16, 318.66, 316.44],
    ['2023/07/25', 314.43, 316.11, 317.33, 313.86],
    ['2023/07/26', 314.34, 317.35, 318.63, 314.02],
    ['2023/07/27', 321.4, 317.27, 322.08, 316.45],
    ['2023/07/28', 321.71, 321.82, 323.61, 321.15],
    ['2023/07/31', 322.5, 320.39, 322.5, 319.34],
    ['2023/08/01', 317.0, 317.62, 319.54, 316.57],
    ['2023/08/02', 311.9, 313.56, 322.16, 311.76],
]);
var volumes = [
    349100.0,
    276400.0,
    310600.0,
    212800.0,
    246100.0,
    181300.0,
    299900.0,
    176800.0,
    96400.0,
    288300.0,
    221200.0,
    252800.0,
    220100.0,
    473400.0,
    211800.0,
    173800.0,
    202600.0,
    279500.0,
    271300.0,
    375900.0,
    325700.0,
    308600.0,
    334900.0,
    444800.0,
    156600.0,
    245900.0,
    266500.0,
    321100.0,
    339300.0,
    437700.0,
    290800.0,
    355500.0,
    183200.0,
    578700.0,
    421300.0,
    527200.0,
    577100.0,
    275200.0,
    413900.0,
    433200.0,
    444600.0,
    282600.0,
    412900.0,
    509600.0,
    361200.0,
    332600.0,
    340400.0,
    493500.0,
    322000.0,
    319600.0,
    463100.0,
    388100.0,
    308500.0,
    264300.0,
    179100.0,
    260600.0,
    285800.0,
    399700.0,
    352600.0,
    257300.0,
    261200.0,
    356600.0,
    277900.0,
    299200.0,
    595000.0,
    528200.0,
    565300.0,
    298700.0,
    385900.0,
    261300.0,
    445800.0,
    439700.0,
    341900.0,
    289800.0,
    194100.0,
    347900.0,
    143500.0,
    181700.0,
    162600.0,
    213200.0,
    70200.0,
    203600.0,
    223500.0,
    282600.0,
    299200.0,
    353700.0,
    372300.0,
    301300.0,
    194800.0,
    228800.0,
    150100.0,
    147000.0,
    343300.0,
    205300.0,
    221400.0,
    155900.0,
    192700.0,
    208800.0,
    335000.0,
    180600.0,
    222000.0,
    190300.0,
    163200.0,
    189300.0,
    141200.0,
    316400.0,
    354700.0,
    205900.0,
    212900.0,
    564700.0,
    297700.0,
    332600.0,
    329800.0,
    186400.0,
    340100.0,
    566200.0,
    605100.0,
    311800.0,
    373100.0,
    283700.0,
    275200.0,
    362500.0,
    802900.0,
    481300.0,
    708600.0,
    786100.0,
    1191400.0,
    776300.0,
    395300.0,
    464800.0,
    445200.0,
    306600.0,
    564700.0,
    232000.0,
    198100.0,
    282600.0,
    217500.0,
    251800.0,
    331800.0,
    286900.0,
    258000.0,
    246200.0,
    195600.0,
    351700.0,
    203300.0,
    203500.0,
    494700.0,
    752100.0,
    269500.0,
    165000.0,
    242300.0,
    476400.0,
    310500.0,
    419800.0,
    405900.0,
    413300.0,
    354500.0,
    262400.0,
    262000.0,
    284200.0,
    327300.0,
    326800.0,
    237100.0,
    200500.0,
    186100.0,
    251400.0,
    237300.0,
    186300.0,
    194400.0,
    364800.0,
    402700.0,
    202400.0,
    227500.0,
    294200.0,
    679800.0,
    462000.0,
    337500.0,
    309300.0,
    271900.0,
    428800.0,
    324300.0,
    316000.0,
    249800.0,
    325100.0,
    466300.0,
    383500.0,
    163000.0,
    298300.0,
    330100.0,
    946900.0,
    465000.0,
    297100.0,
    378900.0,
    438200.0,
    333000.0,
    393800.0,
    316000.0,
    316900.0,
    246200.0,
    365400.0,
    354700.0,
    236800.0,
    541000.0,
    445100.0,
    228300.0,
    221900.0,
    405200.0,
    482200.0,
    269400.0,
    364500.0,
    168300.0,
    312300.0,
    315100.0,
    289300.0,
    263100.0,
    275000.0,
    359400.0,
    418100.0,
    657600.0,
    294900.0,
    355800.0,
    400200.0,
    268100.0,
    426800.0,
    145000.0,
    240900.0,
    334600.0,
    472100.0,
    521700.0,
    224400.0,
    395100.0,
    451000.0,
    332100.0,
    338500.0,
    378100.0,
    443800.0,
    375200.0,
    334200.0,
    339500.0,
    258600.0,
    362200.0,
    399700.0,
    281200.0,
    213700.0,
    269200.0,
    171600.0,
    319000.0,
    298100.0,
    265000.0,
    340400.0,
    546000.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "RACE",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 40,
            end: 70,
            top: 30,
            height: 20,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);