/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_SMCI");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/08', 59.4, 61.09, 61.98, 59.32],
    ['2022/08/09', 60.51, 58.19, 60.78, 57.11],
    ['2022/08/10', 63.76, 63.73, 68.8, 63.09],
    ['2022/08/11', 64.53, 64.22, 67.99, 64.05],
    ['2022/08/12', 63.35, 65.31, 66.98, 62.5],
    ['2022/08/15', 65.19, 67.03, 67.48, 64.5],
    ['2022/08/16', 66.53, 66.12, 66.92, 65.47],
    ['2022/08/17', 66.35, 67.61, 68.48, 65.38],
    ['2022/08/18', 67.9, 71.96, 72.57, 67.65],
    ['2022/08/19', 71.09, 69.83, 71.09, 69.16],
    ['2022/08/22', 68.89, 67.95, 70.13, 67.65],
    ['2022/08/23', 68.3, 67.67, 69.99, 67.66],
    ['2022/08/24', 67.67, 70.29, 71.98, 66.5],
    ['2022/08/25', 71.48, 74.37, 74.93, 71.04],
    ['2022/08/26', 74.1, 69.82, 74.1, 69.4],
    ['2022/08/29', 68.36, 69.26, 71.17, 68.0],
    ['2022/08/30', 69.59, 64.6, 70.02, 64.3],
    ['2022/08/31', 64.93, 65.08, 66.14, 63.7],
    ['2022/09/01', 63.9, 63.3, 64.32, 61.9],
    ['2022/09/02', 64.4, 64.54, 66.79, 63.96],
    ['2022/09/06', 64.62, 61.58, 65.25, 61.13],
    ['2022/09/07', 61.44, 63.31, 63.59, 60.84],
    ['2022/09/08', 62.7, 64.98, 65.07, 62.26],
    ['2022/09/09', 66.28, 66.88, 67.08, 65.32],
    ['2022/09/12', 67.09, 66.66, 68.17, 65.01],
    ['2022/09/13', 64.0, 63.42, 64.99, 62.61],
    ['2022/09/14', 63.64, 64.38, 64.45, 62.47],
    ['2022/09/15', 64.1, 65.36, 65.93, 63.56],
    ['2022/09/16', 64.66, 62.3, 64.66, 60.44],
    ['2022/09/19', 58.14, 57.97, 59.79, 56.03],
    ['2022/09/20', 57.24, 55.8, 57.58, 55.67],
    ['2022/09/21', 56.29, 55.03, 57.23, 54.76],
    ['2022/09/22', 55.04, 54.19, 55.21, 52.84],
    ['2022/09/23', 52.73, 53.43, 53.64, 51.63],
    ['2022/09/26', 53.18, 52.15, 53.99, 51.67],
    ['2022/09/27', 53.05, 53.5, 53.65, 52.29],
    ['2022/09/28', 53.5, 55.65, 55.91, 53.2],
    ['2022/09/29', 54.91, 54.45, 54.91, 53.21],
    ['2022/09/30', 54.14, 55.07, 57.21, 54.0],
    ['2022/10/03', 56.55, 57.07, 57.81, 55.19],
    ['2022/10/04', 58.93, 60.27, 60.73, 58.71],
    ['2022/10/05', 59.66, 60.47, 61.68, 58.81],
    ['2022/10/06', 60.17, 61.45, 61.89, 60.1],
    ['2022/10/07', 60.01, 58.93, 60.28, 58.39],
    ['2022/10/10', 59.87, 56.25, 59.99, 56.14],
    ['2022/10/11', 55.5, 55.74, 56.91, 54.79],
    ['2022/10/12', 55.0, 52.42, 55.21, 52.3],
    ['2022/10/13', 51.79, 55.15, 55.4, 50.28],
    ['2022/10/14', 56.06, 54.02, 56.06, 53.1],
    ['2022/10/17', 55.44, 56.12, 56.4, 54.84],
    ['2022/10/18', 57.93, 55.36, 57.97, 54.44],
    ['2022/10/19', 54.66, 55.59, 56.14, 54.64],
    ['2022/10/20', 64.4, 61.34, 65.0, 60.11],
    ['2022/10/21', 60.64, 64.53, 65.43, 60.64],
    ['2022/10/24', 65.1, 63.01, 65.62, 62.8],
    ['2022/10/25', 63.09, 67.04, 67.18, 63.09],
    ['2022/10/26', 66.48, 65.65, 68.18, 65.5],
    ['2022/10/27', 67.0, 66.82, 68.3, 66.59],
    ['2022/10/28', 66.78, 68.72, 68.85, 66.62],
    ['2022/10/31', 68.58, 69.59, 70.19, 67.75],
    ['2022/11/01', 70.2, 71.86, 72.2, 69.17],
    ['2022/11/02', 75.0, 80.84, 85.95, 74.15],
    ['2022/11/03', 78.7, 79.7, 81.41, 75.21],
    ['2022/11/04', 80.26, 76.63, 82.91, 75.37],
    ['2022/11/07', 76.99, 77.15, 78.69, 76.85],
    ['2022/11/08', 78.5, 78.31, 79.9, 77.05],
    ['2022/11/09', 78.62, 76.49, 81.12, 76.21],
    ['2022/11/10', 80.86, 80.72, 81.11, 78.54],
    ['2022/11/11', 81.88, 83.47, 86.15, 81.41],
    ['2022/11/14', 82.94, 81.93, 84.09, 80.6],
    ['2022/11/15', 85.25, 86.89, 89.69, 84.0],
    ['2022/11/16', 86.96, 82.17, 87.72, 81.29],
    ['2022/11/17', 82.5, 87.02, 88.03, 82.5],
    ['2022/11/18', 88.61, 86.49, 88.61, 84.25],
    ['2022/11/21', 86.0, 83.91, 86.49, 83.38],
    ['2022/11/22', 83.91, 87.72, 87.92, 83.04],
    ['2022/11/23', 88.24, 91.22, 91.74, 87.64],
    ['2022/11/25', 91.87, 93.87, 94.99, 91.55],
    ['2022/11/28', 93.0, 92.5, 95.22, 91.86],
    ['2022/11/29', 92.44, 91.49, 94.89, 89.84],
    ['2022/11/30', 91.44, 90.23, 91.49, 85.7],
    ['2022/12/01', 91.76, 90.51, 93.22, 89.03],
    ['2022/12/02', 88.69, 86.7, 89.5, 85.35],
    ['2022/12/05', 86.5, 83.31, 86.67, 82.56],
    ['2022/12/06', 83.35, 86.28, 86.43, 81.03],
    ['2022/12/07', 84.67, 86.1, 87.16, 82.77],
    ['2022/12/08', 86.32, 85.61, 89.97, 85.15],
    ['2022/12/09', 85.38, 84.02, 86.5, 83.3],
    ['2022/12/12', 85.15, 89.16, 89.48, 84.29],
    ['2022/12/13', 92.72, 90.01, 93.0, 88.77],
    ['2022/12/14', 90.5, 90.04, 91.55, 87.93],
    ['2022/12/15', 88.33, 80.58, 88.74, 78.87],
    ['2022/12/16', 80.24, 80.73, 82.36, 78.8],
    ['2022/12/19', 80.67, 78.29, 81.38, 77.47],
    ['2022/12/20', 83.32, 83.31, 85.85, 82.6],
    ['2022/12/21', 84.02, 83.87, 85.29, 82.69],
    ['2022/12/22', 83.06, 82.0, 83.38, 79.47],
    ['2022/12/23', 81.95, 82.19, 82.35, 80.13],
    ['2022/12/27', 82.51, 82.89, 83.98, 82.19],
    ['2022/12/28', 82.35, 80.6, 84.35, 80.56],
    ['2022/12/29', 81.79, 81.91, 83.34, 81.1],
    ['2022/12/30', 80.53, 82.1, 82.8, 79.52],
    ['2023/01/03', 83.08, 83.86, 85.25, 81.94],
    ['2023/01/04', 84.61, 82.25, 87.74, 82.06],
    ['2023/01/05', 81.52, 80.25, 81.56, 79.63],
    ['2023/01/06', 81.45, 84.39, 85.12, 80.53],
    ['2023/01/09', 85.95, 84.77, 92.8, 84.66],
    ['2023/01/10', 81.0, 78.37, 81.5, 75.11],
    ['2023/01/11', 78.31, 75.61, 78.7, 74.04],
    ['2023/01/12', 76.45, 80.45, 80.82, 75.66],
    ['2023/01/13', 79.61, 80.58, 82.15, 79.55],
    ['2023/01/17', 80.55, 84.83, 84.91, 80.2],
    ['2023/01/18', 85.99, 78.87, 86.82, 78.64],
    ['2023/01/19', 76.49, 70.86, 76.75, 69.02],
    ['2023/01/20', 71.5, 71.98, 72.92, 70.86],
    ['2023/01/23', 72.96, 73.75, 74.92, 71.51],
    ['2023/01/24', 73.21, 78.25, 78.47, 72.37],
    ['2023/01/25', 77.18, 77.31, 78.07, 74.6],
    ['2023/01/26', 79.4, 76.27, 79.74, 76.01],
    ['2023/01/27', 75.74, 74.3, 76.38, 73.92],
    ['2023/01/30', 73.07, 72.13, 75.07, 71.63],
    ['2023/01/31', 72.55, 72.33, 73.93, 72.05],
    ['2023/02/01', 72.0, 79.74, 80.77, 70.11],
    ['2023/02/02', 80.27, 81.88, 84.54, 79.82],
    ['2023/02/03', 81.0, 84.34, 85.85, 80.68],
    ['2023/02/06', 83.5, 83.21, 84.4, 81.8],
    ['2023/02/07', 83.16, 81.98, 84.78, 80.0],
    ['2023/02/08', 82.68, 85.22, 87.49, 82.33],
    ['2023/02/09', 86.9, 87.0, 93.88, 86.55],
    ['2023/02/10', 86.0, 90.02, 90.92, 85.77],
    ['2023/02/13', 89.45, 90.53, 91.55, 87.6],
    ['2023/02/14', 89.83, 92.88, 94.83, 89.04],
    ['2023/02/15', 93.02, 93.0, 93.84, 91.69],
    ['2023/02/16', 92.68, 95.88, 97.96, 92.07],
    ['2023/02/17', 95.08, 91.98, 95.72, 90.66],
    ['2023/02/21', 90.5, 88.06, 93.23, 87.91],
    ['2023/02/22', 87.59, 86.71, 88.72, 85.61],
    ['2023/02/23', 89.33, 94.27, 94.95, 89.3],
    ['2023/02/24', 92.48, 98.16, 98.36, 91.96],
    ['2023/02/27', 98.86, 101.13, 103.98, 98.7],
    ['2023/02/28', 100.92, 97.97, 103.0, 97.86],
    ['2023/03/01', 99.16, 102.0, 103.06, 98.62],
    ['2023/03/02', 100.06, 98.37, 100.93, 95.1],
    ['2023/03/03', 98.48, 97.83, 100.0, 95.52],
    ['2023/03/06', 98.85, 98.3, 99.98, 96.87],
    ['2023/03/07', 98.55, 98.51, 100.75, 97.02],
    ['2023/03/08', 98.75, 102.35, 103.66, 98.12],
    ['2023/03/09', 102.5, 98.56, 104.3, 98.16],
    ['2023/03/10', 98.01, 92.76, 98.01, 92.09],
    ['2023/03/13', 91.0, 89.28, 92.37, 88.56],
    ['2023/03/14', 91.84, 92.47, 94.6, 91.27],
    ['2023/03/15', 89.36, 91.75, 91.82, 87.25],
    ['2023/03/16', 90.06, 97.23, 97.27, 90.06],
    ['2023/03/17', 96.85, 95.5, 98.04, 94.07],
    ['2023/03/20', 95.49, 98.52, 100.21, 95.41],
    ['2023/03/21', 99.99, 108.25, 108.35, 99.99],
    ['2023/03/22', 108.85, 112.54, 116.27, 108.37],
    ['2023/03/23', 114.0, 114.0, 118.36, 111.75],
    ['2023/03/24', 112.82, 110.83, 113.07, 106.14],
    ['2023/03/27', 111.95, 110.9, 113.6, 109.89],
    ['2023/03/28', 110.41, 102.78, 111.05, 101.44],
    ['2023/03/29', 104.55, 105.65, 105.88, 102.52],
    ['2023/03/30', 107.32, 103.34, 107.32, 101.31],
    ['2023/03/31', 103.56, 106.55, 107.75, 103.2],
    ['2023/04/03', 106.57, 112.72, 112.8, 106.55],
    ['2023/04/04', 113.84, 109.46, 117.07, 108.59],
    ['2023/04/05', 108.31, 108.03, 110.2, 106.21],
    ['2023/04/06', 99.84, 100.69, 104.35, 97.02],
    ['2023/04/10', 100.0, 106.55, 106.88, 99.24],
    ['2023/04/11', 107.37, 104.68, 108.79, 104.55],
    ['2023/04/12', 105.87, 108.11, 110.54, 105.6],
    ['2023/04/13', 108.13, 108.24, 108.59, 103.81],
    ['2023/04/14', 108.24, 109.15, 109.75, 107.7],
    ['2023/04/17', 109.15, 110.43, 110.62, 107.28],
    ['2023/04/18', 112.0, 115.88, 119.24, 112.0],
    ['2023/04/19', 113.5, 109.82, 116.59, 109.58],
    ['2023/04/20', 108.16, 108.01, 111.96, 107.02],
    ['2023/04/21', 106.99, 107.32, 108.07, 102.33],
    ['2023/04/24', 97.51, 98.59, 103.37, 96.91],
    ['2023/04/25', 97.99, 93.28, 97.99, 93.19],
    ['2023/04/26', 94.64, 94.89, 96.18, 94.01],
    ['2023/04/27', 94.22, 98.58, 98.76, 93.34],
    ['2023/04/28', 98.45, 105.43, 105.5, 98.02],
    ['2023/05/01', 105.44, 105.11, 107.96, 103.12],
    ['2023/05/02', 105.2, 104.43, 107.8, 101.71],
    ['2023/05/03', 116.0, 133.95, 136.64, 114.32],
    ['2023/05/04', 132.82, 136.4, 139.5, 131.23],
    ['2023/05/05', 138.2, 137.23, 143.53, 135.03],
    ['2023/05/08', 135.95, 136.63, 139.23, 134.39],
    ['2023/05/09', 136.79, 132.25, 137.5, 132.09],
    ['2023/05/10', 132.45, 134.28, 135.58, 131.06],
    ['2023/05/11', 133.42, 136.43, 137.47, 133.0],
    ['2023/05/12', 138.81, 134.5, 139.88, 132.69],
    ['2023/05/15', 136.0, 137.84, 139.34, 135.55],
    ['2023/05/16', 137.83, 145.84, 147.5, 137.6],
    ['2023/05/17', 147.0, 154.31, 156.0, 147.0],
    ['2023/05/18', 155.45, 164.56, 166.55, 155.45],
    ['2023/05/19', 167.41, 164.19, 171.67, 160.24],
    ['2023/05/22', 164.2, 164.81, 169.41, 162.55],
    ['2023/05/23', 162.91, 161.91, 165.66, 159.58],
    ['2023/05/24', 159.63, 167.62, 167.92, 158.26],
    ['2023/05/25', 196.01, 206.86, 213.41, 192.5],
    ['2023/05/26', 209.95, 219.18, 227.71, 207.01],
    ['2023/05/30', 228.0, 234.1, 242.99, 227.67],
    ['2023/05/31', 226.34, 223.95, 227.56, 216.0],
    ['2023/06/01', 226.63, 231.02, 232.49, 220.24],
    ['2023/06/02', 234.49, 221.94, 237.88, 220.2],
    ['2023/06/05', 219.14, 223.66, 227.68, 217.02],
    ['2023/06/06', 221.0, 233.15, 235.74, 220.12],
    ['2023/06/07', 244.03, 239.78, 261.65, 237.0],
    ['2023/06/08', 240.63, 254.35, 259.69, 237.12],
    ['2023/06/09', 263.0, 261.66, 270.18, 256.88],
    ['2023/06/12', 264.7, 258.65, 266.44, 245.34],
    ['2023/06/13', 260.85, 244.24, 261.0, 232.11],
    ['2023/06/14', 243.17, 247.77, 253.0, 239.14],
    ['2023/06/15', 244.46, 243.92, 248.99, 239.2],
    ['2023/06/16', 245.0, 230.77, 245.78, 230.37],
    ['2023/06/20', 227.3, 222.4, 235.71, 219.33],
    ['2023/06/21', 221.0, 219.91, 227.0, 217.2],
    ['2023/06/22', 221.99, 226.46, 241.97, 221.14],
    ['2023/06/23', 222.34, 216.06, 224.49, 214.23],
    ['2023/06/26', 219.71, 216.5, 229.99, 213.08],
    ['2023/06/27', 222.41, 226.17, 228.34, 218.51],
    ['2023/06/28', 223.27, 235.94, 238.16, 220.29],
    ['2023/06/29', 240.8, 235.93, 248.82, 231.35],
    ['2023/06/30', 240.0, 249.25, 253.96, 239.88],
    ['2023/07/03', 254.89, 249.2, 262.99, 246.71],
    ['2023/07/05', 248.0, 255.0, 263.38, 247.95],
    ['2023/07/06', 252.99, 250.53, 256.0, 245.1],
    ['2023/07/07', 255.0, 260.01, 267.77, 254.55],
    ['2023/07/10', 262.0, 269.93, 270.2, 253.31],
    ['2023/07/11', 275.17, 270.95, 282.9, 262.54],
    ['2023/07/12', 273.05, 276.64, 278.0, 265.21],
    ['2023/07/13', 280.26, 294.05, 295.39, 279.21],
    ['2023/07/14', 298.0, 295.38, 306.85, 288.44],
    ['2023/07/17', 299.1, 302.05, 305.11, 292.19],
    ['2023/07/18', 302.5, 318.4, 319.37, 296.15],
    ['2023/07/19', 324.0, 303.67, 329.07, 296.4],
    ['2023/07/20', 298.74, 302.95, 307.97, 281.34],
    ['2023/07/21', 309.0, 303.15, 315.16, 296.01],
    ['2023/07/24', 303.5, 309.37, 312.76, 294.73],
    ['2023/07/25', 309.16, 321.35, 323.99, 309.16],
    ['2023/07/26', 319.53, 317.36, 323.63, 307.19],
    ['2023/07/27', 325.0, 327.34, 336.64, 321.01],
    ['2023/07/28', 334.49, 334.5, 337.79, 324.84],
    ['2023/07/31', 335.15, 330.27, 336.3, 321.02],
    ['2023/08/01', 322.49, 337.56, 337.88, 320.0],
    ['2023/08/02', 328.66, 319.61, 337.75, 312.02],
    ['2023/08/03', 314.0, 321.21, 324.37, 313.0],
    ['2023/08/04', 324.0, 338.09, 347.97, 320.22],
]);
var volumes = [
    731200.0,
    753800.0,
    1749000.0,
    755300.0,
    1032500.0,
    641700.0,
    598800.0,
    722200.0,
    1150300.0,
    726900.0,
    829100.0,
    416900.0,
    787100.0,
    813400.0,
    746000.0,
    765700.0,
    890300.0,
    938000.0,
    845200.0,
    579200.0,
    593000.0,
    577800.0,
    382400.0,
    457100.0,
    551700.0,
    503100.0,
    402300.0,
    536600.0,
    753400.0,
    1036000.0,
    740700.0,
    587800.0,
    541700.0,
    642200.0,
    433100.0,
    284700.0,
    356700.0,
    253100.0,
    565200.0,
    456600.0,
    559700.0,
    656200.0,
    398100.0,
    473800.0,
    381200.0,
    359600.0,
    443800.0,
    567800.0,
    371100.0,
    352100.0,
    344800.0,
    261700.0,
    1791300.0,
    993500.0,
    516700.0,
    650600.0,
    400600.0,
    535800.0,
    489000.0,
    647500.0,
    914500.0,
    3850800.0,
    1173300.0,
    1196200.0,
    621500.0,
    740000.0,
    595200.0,
    796600.0,
    1395000.0,
    917300.0,
    1197900.0,
    981400.0,
    1029800.0,
    933300.0,
    526700.0,
    702000.0,
    889900.0,
    641800.0,
    964700.0,
    916900.0,
    1240900.0,
    810600.0,
    843700.0,
    840900.0,
    991700.0,
    667400.0,
    1030800.0,
    662400.0,
    725300.0,
    839800.0,
    1012100.0,
    1660800.0,
    1327900.0,
    1134300.0,
    3338500.0,
    8430900.0,
    1299100.0,
    966000.0,
    790200.0,
    899800.0,
    864300.0,
    639200.0,
    815200.0,
    1449600.0,
    1097800.0,
    1033100.0,
    2621600.0,
    4158300.0,
    2121400.0,
    1080300.0,
    667900.0,
    1169700.0,
    1537600.0,
    4910300.0,
    1399000.0,
    1182200.0,
    1275900.0,
    1044600.0,
    719900.0,
    905000.0,
    1148300.0,
    1571600.0,
    3203300.0,
    1518000.0,
    1401000.0,
    877600.0,
    876300.0,
    1758000.0,
    2465700.0,
    1397700.0,
    1081000.0,
    1517200.0,
    1051900.0,
    1698000.0,
    1386900.0,
    1120000.0,
    871000.0,
    1832800.0,
    1945100.0,
    1891100.0,
    1741600.0,
    1078500.0,
    1319400.0,
    996900.0,
    826500.0,
    966400.0,
    1461000.0,
    1165100.0,
    1733300.0,
    1282600.0,
    1067300.0,
    1243100.0,
    1544300.0,
    1825600.0,
    1540900.0,
    2035200.0,
    2449900.0,
    2062000.0,
    1831200.0,
    1768900.0,
    2076100.0,
    1382600.0,
    1285700.0,
    1256000.0,
    1858700.0,
    1740700.0,
    839200.0,
    3395900.0,
    1319800.0,
    1021000.0,
    1495400.0,
    1229800.0,
    947000.0,
    795100.0,
    1525100.0,
    1536100.0,
    1104000.0,
    1098700.0,
    4235100.0,
    2171100.0,
    1504300.0,
    1000600.0,
    1503700.0,
    1584500.0,
    2040900.0,
    8162800.0,
    2122800.0,
    2362800.0,
    1487700.0,
    1463600.0,
    1021100.0,
    1092700.0,
    792600.0,
    1001900.0,
    2289100.0,
    2751300.0,
    3278700.0,
    2775700.0,
    1753700.0,
    1437500.0,
    1551200.0,
    7137200.0,
    4989200.0,
    4830000.0,
    4416300.0,
    2968900.0,
    2728500.0,
    1923100.0,
    2071500.0,
    4494800.0,
    3522100.0,
    3507700.0,
    3468500.0,
    4520500.0,
    2645600.0,
    2198200.0,
    3031000.0,
    3363300.0,
    2603600.0,
    3936600.0,
    2509400.0,
    2840600.0,
    2432500.0,
    2666700.0,
    2726600.0,
    2551700.0,
    1710900.0,
    2059800.0,
    1757800.0,
    2869600.0,
    2511200.0,
    2932700.0,
    2774200.0,
    3065100.0,
    3755000.0,
    2549500.0,
    2664700.0,
    4401700.0,
    4929700.0,
    4009700.0,
    2903300.0,
    2351300.0,
    2356000.0,
    3228200.0,
    2043900.0,
    2354900.0,
    2066700.0,
    2779700.0,
    1490700.0,
    3468700.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "SMCI",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);