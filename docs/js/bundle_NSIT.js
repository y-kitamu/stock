/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_NSIT");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 93.65, 93.68, 94.44, 93.13],
    ['2022/08/04', 94.89, 94.56, 95.56, 91.53],
    ['2022/08/05', 93.92, 92.51, 94.61, 90.66],
    ['2022/08/08', 92.4, 92.48, 94.18, 92.05],
    ['2022/08/09', 91.8, 90.22, 92.52, 90.02],
    ['2022/08/10', 91.45, 91.68, 93.0, 90.92],
    ['2022/08/11', 92.27, 92.77, 93.47, 91.76],
    ['2022/08/12', 92.99, 93.65, 94.35, 92.99],
    ['2022/08/15', 93.45, 94.54, 94.78, 92.56],
    ['2022/08/16', 94.17, 95.1, 95.8, 93.75],
    ['2022/08/17', 94.67, 94.13, 94.97, 92.48],
    ['2022/08/18', 95.29, 96.35, 96.75, 95.05],
    ['2022/08/19', 96.12, 96.11, 96.52, 94.8],
    ['2022/08/22', 94.84, 94.84, 95.45, 93.95],
    ['2022/08/23', 94.59, 93.34, 95.55, 93.33],
    ['2022/08/24', 92.83, 93.26, 93.65, 92.55],
    ['2022/08/25', 94.2, 95.57, 95.66, 93.87],
    ['2022/08/26', 95.52, 93.31, 95.74, 92.78],
    ['2022/08/29', 92.7, 92.42, 93.23, 91.95],
    ['2022/08/30', 93.0, 91.67, 93.13, 91.29],
    ['2022/08/31', 91.8, 91.12, 91.93, 89.95],
    ['2022/09/01', 90.23, 89.06, 90.23, 88.34],
    ['2022/09/02', 90.01, 87.92, 90.07, 87.21],
    ['2022/09/06', 87.5, 84.33, 88.27, 82.67],
    ['2022/09/07', 84.29, 85.36, 85.68, 83.93],
    ['2022/09/08', 84.71, 84.29, 84.88, 83.42],
    ['2022/09/09', 85.01, 85.93, 86.53, 84.84],
    ['2022/09/12', 86.66, 87.06, 87.49, 86.06],
    ['2022/09/13', 85.54, 83.63, 85.99, 83.0],
    ['2022/09/14', 84.05, 82.87, 84.05, 81.37],
    ['2022/09/15', 82.29, 82.38, 82.85, 81.6],
    ['2022/09/16', 81.98, 84.54, 84.92, 81.53],
    ['2022/09/19', 83.82, 84.93, 85.68, 83.25],
    ['2022/09/20', 85.38, 86.28, 86.29, 84.44],
    ['2022/09/21', 87.54, 85.43, 87.54, 85.15],
    ['2022/09/22', 85.08, 84.27, 85.34, 83.84],
    ['2022/09/23', 83.41, 83.08, 83.53, 81.65],
    ['2022/09/26', 82.56, 82.13, 83.57, 81.51],
    ['2022/09/27', 82.44, 82.4, 83.52, 81.11],
    ['2022/09/28', 82.44, 84.52, 84.87, 81.6],
    ['2022/09/29', 83.54, 83.52, 85.76, 82.1],
    ['2022/09/30', 83.51, 82.41, 84.45, 82.26],
    ['2022/10/03', 82.94, 83.31, 84.17, 82.44],
    ['2022/10/04', 84.47, 85.71, 86.45, 84.47],
    ['2022/10/05', 85.15, 86.21, 86.66, 85.15],
    ['2022/10/06', 86.27, 86.44, 86.96, 85.86],
    ['2022/10/07', 85.52, 85.07, 85.52, 84.14],
    ['2022/10/10', 85.49, 85.18, 85.69, 84.59],
    ['2022/10/11', 84.72, 85.08, 86.0, 84.3],
    ['2022/10/12', 85.73, 85.48, 87.2, 84.99],
    ['2022/10/13', 84.24, 87.26, 87.98, 83.85],
    ['2022/10/14', 87.49, 85.44, 87.53, 85.3],
    ['2022/10/17', 86.53, 86.34, 87.4, 86.07],
    ['2022/10/18', 87.15, 87.14, 88.39, 86.74],
    ['2022/10/19', 87.08, 85.49, 87.31, 84.88],
    ['2022/10/20', 85.55, 86.45, 87.15, 85.27],
    ['2022/10/21', 87.08, 88.19, 88.85, 86.5],
    ['2022/10/24', 88.32, 89.69, 90.11, 88.02],
    ['2022/10/25', 89.76, 91.9, 92.1, 89.39],
    ['2022/10/26', 92.0, 92.8, 93.72, 91.5],
    ['2022/10/27', 93.33, 93.44, 94.62, 93.0],
    ['2022/10/28', 93.9, 94.6, 95.46, 93.62],
    ['2022/10/31', 94.81, 94.51, 95.25, 93.9],
    ['2022/11/01', 94.99, 94.69, 95.66, 93.81],
    ['2022/11/02', 94.05, 93.9, 96.01, 93.33],
    ['2022/11/03', 93.9, 93.51, 94.94, 90.69],
    ['2022/11/04', 94.26, 94.19, 95.37, 93.16],
    ['2022/11/07', 94.13, 95.61, 96.25, 93.98],
    ['2022/11/08', 96.09, 96.72, 97.93, 95.63],
    ['2022/11/09', 96.1, 95.95, 97.35, 95.64],
    ['2022/11/10', 98.77, 98.82, 99.56, 97.5],
    ['2022/11/11', 98.81, 99.77, 100.37, 98.26],
    ['2022/11/14', 99.77, 99.58, 100.27, 92.41],
    ['2022/11/15', 101.18, 100.84, 102.07, 100.15],
    ['2022/11/16', 100.29, 100.77, 101.27, 100.03],
    ['2022/11/17', 100.02, 100.95, 101.11, 99.72],
    ['2022/11/18', 101.2, 101.9, 102.16, 100.86],
    ['2022/11/21', 101.9, 102.35, 103.0, 101.36],
    ['2022/11/22', 102.67, 103.53, 103.79, 102.48],
    ['2022/11/23', 103.52, 104.21, 104.53, 103.37],
    ['2022/11/25', 103.92, 104.95, 105.37, 103.92],
    ['2022/11/28', 104.34, 102.02, 104.91, 101.8],
    ['2022/11/29', 101.56, 101.38, 102.62, 100.67],
    ['2022/11/30', 101.06, 103.91, 104.13, 99.76],
    ['2022/12/01', 104.02, 103.28, 104.41, 103.18],
    ['2022/12/02', 102.59, 102.31, 102.94, 102.05],
    ['2022/12/05', 102.08, 100.77, 102.21, 100.04],
    ['2022/12/06', 100.77, 99.03, 100.96, 98.22],
    ['2022/12/07', 99.12, 98.69, 99.98, 97.66],
    ['2022/12/08', 98.7, 100.01, 100.39, 98.7],
    ['2022/12/09', 99.8, 99.94, 101.2, 99.43],
    ['2022/12/12', 100.09, 100.88, 101.76, 99.77],
    ['2022/12/13', 103.12, 100.87, 103.93, 100.58],
    ['2022/12/14', 101.18, 100.29, 101.64, 99.87],
    ['2022/12/15', 99.52, 97.57, 99.73, 96.49],
    ['2022/12/16', 96.67, 96.22, 97.2, 96.11],
    ['2022/12/19', 96.35, 95.99, 97.6, 95.22],
    ['2022/12/20', 95.87, 95.6, 96.31, 95.01],
    ['2022/12/21', 96.18, 97.22, 98.43, 96.01],
    ['2022/12/22', 96.41, 97.23, 97.23, 95.1],
    ['2022/12/23', 97.17, 98.35, 98.46, 96.31],
    ['2022/12/27', 98.79, 99.78, 100.17, 98.0],
    ['2022/12/28', 100.0, 98.25, 100.16, 98.09],
    ['2022/12/29', 99.09, 99.7, 100.51, 98.76],
    ['2022/12/30', 99.41, 100.27, 100.51, 99.01],
    ['2023/01/03', 100.58, 102.2, 102.48, 100.22],
    ['2023/01/04', 102.93, 102.46, 103.51, 101.52],
    ['2023/01/05', 102.37, 101.93, 102.54, 101.56],
    ['2023/01/06', 103.21, 105.17, 105.49, 103.21],
    ['2023/01/09', 105.38, 106.35, 106.73, 105.21],
    ['2023/01/10', 106.28, 108.36, 109.03, 106.22],
    ['2023/01/11', 108.13, 109.34, 110.08, 107.35],
    ['2023/01/12', 109.28, 110.13, 111.17, 109.28],
    ['2023/01/13', 109.95, 111.1, 112.07, 109.81],
    ['2023/01/17', 111.39, 110.77, 111.88, 110.39],
    ['2023/01/18', 111.47, 111.05, 111.93, 109.78],
    ['2023/01/19', 111.12, 109.59, 111.65, 109.36],
    ['2023/01/20', 109.99, 110.31, 110.87, 109.1],
    ['2023/01/23', 110.22, 111.4, 111.57, 110.22],
    ['2023/01/24', 111.2, 111.14, 112.74, 110.31],
    ['2023/01/25', 110.33, 111.8, 111.91, 109.49],
    ['2023/01/26', 112.05, 111.96, 112.37, 110.32],
    ['2023/01/27', 111.85, 111.81, 112.58, 110.09],
    ['2023/01/30', 111.06, 111.12, 112.57, 110.56],
    ['2023/01/31', 111.12, 112.72, 112.78, 111.02],
    ['2023/02/01', 112.06, 113.85, 114.95, 112.06],
    ['2023/02/02', 113.92, 115.86, 116.8, 113.92],
    ['2023/02/03', 115.07, 116.12, 117.25, 115.07],
    ['2023/02/06', 114.25, 112.68, 114.25, 111.78],
    ['2023/02/07', 111.9, 112.87, 113.49, 111.44],
    ['2023/02/08', 112.86, 112.33, 113.08, 111.32],
    ['2023/02/09', 120.99, 125.21, 126.56, 117.6],
    ['2023/02/10', 125.43, 126.51, 127.15, 123.68],
    ['2023/02/13', 126.68, 126.36, 127.56, 124.76],
    ['2023/02/14', 126.36, 126.35, 127.4, 125.15],
    ['2023/02/15', 126.02, 126.86, 128.83, 125.63],
    ['2023/02/16', 126.5, 129.03, 129.68, 126.5],
    ['2023/02/17', 130.0, 130.52, 132.04, 129.59],
    ['2023/02/21', 129.61, 128.56, 130.95, 127.78],
    ['2023/02/22', 128.31, 129.26, 129.79, 128.31],
    ['2023/02/23', 129.93, 130.5, 131.32, 129.2],
    ['2023/02/24', 130.0, 132.11, 132.11, 129.52],
    ['2023/02/27', 132.4, 132.89, 133.86, 132.04],
    ['2023/02/28', 132.56, 133.92, 134.69, 132.56],
    ['2023/03/01', 133.38, 134.39, 135.24, 133.34],
    ['2023/03/02', 134.0, 136.36, 136.36, 133.72],
    ['2023/03/03', 136.55, 136.98, 137.76, 135.98],
    ['2023/03/06', 136.77, 136.21, 137.57, 135.19],
    ['2023/03/07', 136.22, 136.23, 137.89, 135.03],
    ['2023/03/08', 136.88, 137.1, 137.45, 136.38],
    ['2023/03/09', 137.0, 137.11, 138.99, 136.75],
    ['2023/03/10', 137.0, 134.36, 137.66, 133.35],
    ['2023/03/13', 132.71, 135.04, 136.81, 132.69],
    ['2023/03/14', 137.41, 138.36, 139.3, 136.93],
    ['2023/03/15', 135.97, 136.19, 137.09, 134.53],
    ['2023/03/16', 135.66, 139.48, 139.66, 134.82],
    ['2023/03/17', 139.16, 138.01, 139.78, 136.39],
    ['2023/03/20', 138.7, 138.7, 140.9, 138.53],
    ['2023/03/21', 140.32, 138.49, 141.23, 138.1],
    ['2023/03/22', 138.26, 137.6, 139.79, 137.46],
    ['2023/03/23', 137.96, 138.77, 139.46, 137.48],
    ['2023/03/24', 138.21, 139.36, 139.38, 137.54],
    ['2023/03/27', 139.91, 140.0, 140.62, 139.0],
    ['2023/03/28', 139.58, 140.0, 140.32, 138.83],
    ['2023/03/29', 141.2, 140.0, 141.2, 139.43],
    ['2023/03/30', 140.79, 139.53, 141.45, 139.21],
    ['2023/03/31', 140.09, 142.96, 143.15, 140.02],
    ['2023/04/03', 142.5, 143.57, 143.58, 141.82],
    ['2023/04/04', 144.04, 144.54, 144.54, 142.69],
    ['2023/04/05', 144.26, 143.56, 144.84, 142.74],
    ['2023/04/06', 143.03, 143.38, 143.7, 141.53],
    ['2023/04/10', 143.61, 143.72, 144.34, 143.21],
    ['2023/04/11', 144.03, 142.36, 144.57, 141.34],
    ['2023/04/12', 140.56, 137.17, 140.99, 136.67],
    ['2023/04/13', 137.4, 137.33, 137.56, 135.43],
    ['2023/04/14', 136.97, 137.85, 138.58, 136.25],
    ['2023/04/17', 138.01, 137.93, 138.64, 136.9],
    ['2023/04/18', 138.09, 139.04, 139.24, 137.25],
    ['2023/04/19', 134.31, 127.04, 134.31, 124.24],
    ['2023/04/20', 126.24, 127.95, 128.73, 126.24],
    ['2023/04/21', 127.45, 120.61, 127.45, 119.5],
    ['2023/04/24', 120.14, 120.47, 121.77, 119.66],
    ['2023/04/25', 119.42, 119.61, 120.46, 118.87],
    ['2023/04/26', 118.76, 118.79, 119.64, 118.39],
    ['2023/04/27', 118.79, 119.4, 119.76, 118.08],
    ['2023/04/28', 119.55, 120.95, 121.85, 119.55],
    ['2023/05/01', 120.66, 121.63, 122.13, 120.66],
    ['2023/05/02', 124.08, 119.38, 125.72, 117.99],
    ['2023/05/03', 120.15, 123.72, 125.27, 120.15],
    ['2023/05/04', 122.8, 124.23, 124.67, 121.91],
    ['2023/05/05', 125.42, 124.78, 126.22, 124.37],
    ['2023/05/08', 124.9, 124.08, 124.9, 123.08],
    ['2023/05/09', 123.38, 123.78, 124.28, 122.33],
    ['2023/05/10', 125.03, 125.9, 126.05, 123.3],
    ['2023/05/11', 124.99, 124.55, 126.12, 123.78],
    ['2023/05/12', 124.69, 123.93, 125.12, 123.18],
    ['2023/05/15', 122.92, 123.67, 124.76, 122.92],
    ['2023/05/16', 123.42, 123.72, 124.55, 123.3],
    ['2023/05/17', 124.02, 127.6, 128.78, 124.02],
    ['2023/05/18', 128.08, 129.5, 130.06, 127.61],
    ['2023/05/19', 130.74, 130.83, 131.58, 128.78],
    ['2023/05/22', 130.6, 132.45, 132.81, 130.39],
    ['2023/05/23', 132.35, 131.68, 133.77, 131.68],
    ['2023/05/24', 131.68, 131.03, 132.37, 130.85],
    ['2023/05/25', 131.49, 132.94, 135.03, 131.49],
    ['2023/05/26', 133.57, 135.72, 136.68, 133.57],
    ['2023/05/30', 136.37, 136.09, 137.28, 135.86],
    ['2023/05/31', 135.15, 135.22, 136.48, 134.84],
    ['2023/06/01', 134.97, 134.85, 136.22, 134.58],
    ['2023/06/02', 135.53, 136.94, 137.51, 135.3],
    ['2023/06/05', 136.24, 135.86, 137.09, 134.12],
    ['2023/06/06', 135.4, 137.88, 138.32, 135.4],
    ['2023/06/07', 138.8, 141.1, 141.89, 138.8],
    ['2023/06/08', 140.56, 142.94, 143.98, 140.56],
    ['2023/06/09', 143.08, 144.11, 146.03, 143.08],
    ['2023/06/12', 144.11, 146.32, 147.05, 144.11],
    ['2023/06/13', 146.68, 145.62, 147.15, 145.58],
    ['2023/06/14', 145.21, 144.63, 147.11, 144.16],
    ['2023/06/15', 144.83, 144.35, 146.14, 143.78],
    ['2023/06/16', 145.54, 144.01, 145.99, 142.79],
    ['2023/06/20', 143.25, 142.96, 145.6, 141.62],
    ['2023/06/21', 142.68, 143.61, 144.16, 142.46],
    ['2023/06/22', 143.25, 143.49, 143.79, 142.42],
    ['2023/06/23', 142.04, 142.34, 143.25, 141.63],
    ['2023/06/26', 142.3, 142.36, 145.25, 142.3],
    ['2023/06/27', 142.51, 143.31, 143.58, 140.53],
    ['2023/06/28', 142.53, 143.43, 144.79, 142.53],
    ['2023/06/29', 143.97, 145.97, 146.09, 143.0],
    ['2023/06/30', 147.0, 146.34, 147.23, 145.99],
    ['2023/07/03', 145.8, 146.38, 147.09, 145.32],
    ['2023/07/05', 145.52, 144.5, 145.68, 143.65],
    ['2023/07/06', 143.23, 143.43, 144.18, 141.99],
    ['2023/07/07', 143.55, 143.31, 144.72, 143.03],
    ['2023/07/10', 142.73, 146.97, 147.06, 142.73],
    ['2023/07/11', 146.95, 147.71, 148.48, 145.57],
    ['2023/07/12', 149.03, 149.04, 150.55, 148.5],
    ['2023/07/13', 149.11, 151.02, 151.95, 149.11],
    ['2023/07/14', 151.01, 149.25, 151.22, 148.45],
    ['2023/07/17', 149.54, 150.26, 151.45, 149.37],
    ['2023/07/18', 150.26, 150.27, 151.01, 149.13],
    ['2023/07/19', 150.7, 149.22, 151.56, 148.56],
    ['2023/07/20', 149.5, 148.77, 149.5, 147.35],
    ['2023/07/21', 149.48, 147.61, 149.59, 146.92],
    ['2023/07/24', 147.71, 147.97, 149.6, 147.06],
    ['2023/07/25', 148.34, 148.92, 150.35, 147.9],
    ['2023/07/26', 148.16, 148.4, 149.61, 147.8],
    ['2023/07/27', 149.11, 145.96, 149.97, 144.7],
    ['2023/07/28', 146.6, 144.93, 146.7, 144.81],
    ['2023/07/31', 144.93, 146.69, 146.79, 144.76],
    ['2023/08/01', 146.02, 146.38, 147.15, 146.02],
    ['2023/08/02', 146.17, 145.79, 146.82, 144.98],
]);
var volumes = [
    150500.0,
    199700.0,
    219500.0,
    222900.0,
    310100.0,
    286500.0,
    180800.0,
    216600.0,
    177300.0,
    199400.0,
    157200.0,
    151800.0,
    270700.0,
    313900.0,
    196100.0,
    149400.0,
    203200.0,
    247000.0,
    258000.0,
    180800.0,
    246500.0,
    190400.0,
    267500.0,
    631600.0,
    254700.0,
    276100.0,
    258500.0,
    192500.0,
    382200.0,
    350700.0,
    355500.0,
    1629800.0,
    235000.0,
    434500.0,
    209100.0,
    193200.0,
    252000.0,
    261800.0,
    218800.0,
    275000.0,
    179300.0,
    260900.0,
    222600.0,
    195600.0,
    135700.0,
    118500.0,
    221000.0,
    209300.0,
    299500.0,
    354400.0,
    315200.0,
    255300.0,
    176200.0,
    277600.0,
    258300.0,
    378600.0,
    257900.0,
    243000.0,
    258600.0,
    220000.0,
    220500.0,
    264500.0,
    193800.0,
    181100.0,
    337500.0,
    284200.0,
    254300.0,
    255500.0,
    625600.0,
    238200.0,
    305500.0,
    248000.0,
    369900.0,
    341600.0,
    191200.0,
    170300.0,
    314500.0,
    244200.0,
    770100.0,
    108100.0,
    92800.0,
    431300.0,
    300800.0,
    477600.0,
    209600.0,
    224200.0,
    148300.0,
    190400.0,
    125500.0,
    224400.0,
    217900.0,
    216700.0,
    309400.0,
    260100.0,
    220600.0,
    497800.0,
    226800.0,
    160000.0,
    245200.0,
    216300.0,
    168400.0,
    200000.0,
    234400.0,
    172500.0,
    168500.0,
    244200.0,
    171600.0,
    126100.0,
    180500.0,
    206000.0,
    204000.0,
    229500.0,
    185800.0,
    172100.0,
    166300.0,
    166900.0,
    228700.0,
    221100.0,
    145200.0,
    167300.0,
    357000.0,
    120400.0,
    102000.0,
    157400.0,
    189700.0,
    205000.0,
    177000.0,
    505700.0,
    252000.0,
    155500.0,
    361700.0,
    753100.0,
    329200.0,
    273200.0,
    215300.0,
    195600.0,
    243200.0,
    363300.0,
    294500.0,
    320800.0,
    267600.0,
    327500.0,
    355600.0,
    390600.0,
    269300.0,
    260600.0,
    226300.0,
    267100.0,
    241400.0,
    261100.0,
    255000.0,
    495400.0,
    314100.0,
    431100.0,
    461800.0,
    404500.0,
    731100.0,
    283000.0,
    236700.0,
    211300.0,
    186000.0,
    171900.0,
    186700.0,
    131100.0,
    153100.0,
    217300.0,
    276300.0,
    175300.0,
    855600.0,
    362100.0,
    306500.0,
    264200.0,
    318700.0,
    356900.0,
    290200.0,
    231000.0,
    185400.0,
    209400.0,
    2040000.0,
    342200.0,
    719200.0,
    327800.0,
    248500.0,
    252600.0,
    262100.0,
    272200.0,
    214300.0,
    492600.0,
    413700.0,
    265700.0,
    233200.0,
    160100.0,
    127400.0,
    811100.0,
    480700.0,
    163500.0,
    140100.0,
    202500.0,
    437200.0,
    321900.0,
    240000.0,
    242500.0,
    265000.0,
    197500.0,
    244800.0,
    254900.0,
    171000.0,
    482300.0,
    256600.0,
    286000.0,
    248200.0,
    247900.0,
    295400.0,
    258900.0,
    277800.0,
    248600.0,
    245400.0,
    399300.0,
    317300.0,
    1183600.0,
    281000.0,
    162800.0,
    183100.0,
    691800.0,
    172700.0,
    230200.0,
    180000.0,
    199500.0,
    221000.0,
    89700.0,
    343000.0,
    177500.0,
    126200.0,
    154500.0,
    1306500.0,
    144500.0,
    148400.0,
    131300.0,
    122000.0,
    172200.0,
    177400.0,
    151700.0,
    165200.0,
    136900.0,
    193500.0,
    123700.0,
    161100.0,
    125500.0,
    183200.0,
    130900.0,
    267800.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "NSIT",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);