/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_BECN");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/08', 59.91, 59.97, 61.39, 59.52],
    ['2022/08/09', 59.48, 57.95, 59.48, 57.74],
    ['2022/08/10', 59.04, 59.11, 60.18, 58.85],
    ['2022/08/11', 59.1, 59.14, 60.88, 59.05],
    ['2022/08/12', 59.72, 60.23, 60.3, 59.12],
    ['2022/08/15', 59.74, 60.52, 60.78, 59.58],
    ['2022/08/16', 60.52, 61.64, 62.06, 60.01],
    ['2022/08/17', 60.84, 60.43, 60.96, 59.79],
    ['2022/08/18', 61.16, 62.39, 62.61, 60.57],
    ['2022/08/19', 61.65, 61.4, 62.09, 60.82],
    ['2022/08/22', 60.59, 60.41, 60.85, 60.01],
    ['2022/08/23', 60.41, 60.36, 61.5, 60.09],
    ['2022/08/24', 60.22, 60.16, 60.68, 59.58],
    ['2022/08/25', 60.11, 60.68, 61.71, 60.02],
    ['2022/08/26', 60.73, 58.12, 60.96, 57.9],
    ['2022/08/29', 57.59, 57.2, 57.79, 57.11],
    ['2022/08/30', 57.18, 55.95, 57.64, 55.84],
    ['2022/08/31', 55.87, 54.91, 55.89, 54.47],
    ['2022/09/01', 54.22, 54.16, 54.76, 53.57],
    ['2022/09/02', 54.73, 53.36, 54.97, 53.16],
    ['2022/09/06', 53.37, 52.66, 53.64, 52.15],
    ['2022/09/07', 52.65, 53.46, 53.79, 52.01],
    ['2022/09/08', 52.79, 55.29, 55.39, 52.33],
    ['2022/09/09', 55.73, 56.53, 57.11, 55.73],
    ['2022/09/12', 57.0, 57.23, 57.59, 56.88],
    ['2022/09/13', 55.5, 55.28, 56.0, 54.92],
    ['2022/09/14', 55.47, 54.43, 55.47, 53.73],
    ['2022/09/15', 53.82, 54.34, 55.32, 53.6],
    ['2022/09/16', 53.91, 54.47, 54.59, 53.35],
    ['2022/09/19', 54.2, 54.84, 55.5, 54.2],
    ['2022/09/20', 54.24, 54.24, 54.6, 53.58],
    ['2022/09/21', 55.14, 53.85, 55.6, 53.72],
    ['2022/09/22', 53.6, 52.25, 53.61, 52.22],
    ['2022/09/23', 51.45, 52.23, 52.28, 51.0],
    ['2022/09/26', 51.82, 50.61, 52.55, 50.55],
    ['2022/09/27', 51.67, 51.99, 53.05, 51.36],
    ['2022/09/28', 52.8, 54.89, 55.34, 52.18],
    ['2022/09/29', 54.21, 53.69, 54.88, 53.01],
    ['2022/09/30', 54.11, 54.72, 56.23, 53.46],
    ['2022/10/03', 55.79, 56.88, 57.59, 55.45],
    ['2022/10/04', 57.88, 58.74, 59.37, 57.88],
    ['2022/10/05', 58.24, 58.87, 59.42, 58.06],
    ['2022/10/06', 58.7, 58.94, 59.65, 58.7],
    ['2022/10/07', 58.11, 58.24, 58.5, 57.53],
    ['2022/10/10', 58.25, 58.54, 59.04, 58.04],
    ['2022/10/11', 58.39, 58.32, 59.42, 57.83],
    ['2022/10/12', 58.62, 57.48, 58.65, 57.17],
    ['2022/10/13', 55.88, 57.84, 58.37, 55.38],
    ['2022/10/14', 56.39, 54.45, 56.58, 53.77],
    ['2022/10/17', 55.26, 54.75, 56.41, 54.32],
    ['2022/10/18', 55.82, 55.69, 56.94, 55.25],
    ['2022/10/19', 55.14, 53.56, 55.46, 52.98],
    ['2022/10/20', 53.39, 52.68, 54.11, 52.15],
    ['2022/10/21', 53.08, 53.88, 54.38, 52.98],
    ['2022/10/24', 54.58, 53.58, 54.58, 53.27],
    ['2022/10/25', 53.71, 54.5, 54.74, 52.91],
    ['2022/10/26', 54.3, 54.64, 55.79, 53.72],
    ['2022/10/27', 55.03, 54.81, 56.03, 54.77],
    ['2022/10/28', 55.36, 56.32, 56.46, 54.87],
    ['2022/10/31', 56.41, 56.35, 57.28, 56.35],
    ['2022/11/01', 57.27, 56.56, 57.51, 55.94],
    ['2022/11/02', 56.52, 55.11, 56.91, 54.44],
    ['2022/11/03', 54.41, 54.77, 55.14, 54.02],
    ['2022/11/04', 56.7, 55.99, 58.14, 54.04],
    ['2022/11/07', 56.23, 55.32, 56.75, 54.5],
    ['2022/11/08', 55.86, 55.62, 56.68, 55.18],
    ['2022/11/09', 54.89, 54.8, 56.29, 54.52],
    ['2022/11/10', 57.03, 58.11, 58.62, 57.03],
    ['2022/11/11', 59.02, 59.04, 59.73, 58.11],
    ['2022/11/14', 58.11, 57.8, 59.25, 57.67],
    ['2022/11/15', 58.71, 58.16, 59.28, 57.74],
    ['2022/11/16', 57.69, 57.6, 58.16, 57.08],
    ['2022/11/17', 56.7, 57.45, 57.6, 56.35],
    ['2022/11/18', 58.38, 58.01, 58.51, 57.27],
    ['2022/11/21', 57.43, 58.19, 58.39, 57.43],
    ['2022/11/22', 58.6, 59.04, 59.52, 57.94],
    ['2022/11/23', 58.99, 59.25, 59.77, 58.7],
    ['2022/11/25', 58.89, 59.0, 59.71, 58.89],
    ['2022/11/28', 58.66, 57.97, 58.86, 57.44],
    ['2022/11/29', 57.57, 57.91, 58.27, 57.0],
    ['2022/11/30', 57.74, 58.39, 58.46, 55.46],
    ['2022/12/01', 59.12, 59.0, 59.64, 58.24],
    ['2022/12/02', 58.25, 59.47, 59.82, 57.66],
    ['2022/12/05', 58.88, 57.19, 58.88, 57.0],
    ['2022/12/06', 57.08, 56.38, 57.63, 55.8],
    ['2022/12/07', 56.42, 57.02, 57.63, 56.4],
    ['2022/12/08', 57.52, 57.86, 58.36, 56.98],
    ['2022/12/09', 57.45, 58.0, 58.29, 56.11],
    ['2022/12/12', 58.04, 58.0, 58.31, 57.63],
    ['2022/12/13', 59.89, 58.82, 60.5, 58.21],
    ['2022/12/14', 58.64, 57.99, 59.44, 57.72],
    ['2022/12/15', 57.29, 57.01, 57.53, 56.36],
    ['2022/12/16', 55.93, 55.74, 56.8, 55.5],
    ['2022/12/19', 56.03, 56.01, 56.49, 55.52],
    ['2022/12/20', 55.9, 55.05, 55.9, 55.04],
    ['2022/12/21', 55.4, 54.62, 55.83, 54.44],
    ['2022/12/22', 53.98, 53.19, 53.98, 52.27],
    ['2022/12/23', 53.21, 53.5, 53.63, 52.76],
    ['2022/12/27', 53.64, 53.15, 53.64, 52.87],
    ['2022/12/28', 53.49, 52.4, 53.51, 52.12],
    ['2022/12/29', 52.62, 53.13, 53.47, 52.19],
    ['2022/12/30', 52.71, 52.79, 53.07, 52.15],
    ['2023/01/03', 53.35, 52.85, 53.8, 52.02],
    ['2023/01/04', 53.38, 53.38, 53.93, 52.84],
    ['2023/01/05', 53.13, 51.58, 53.21, 51.34],
    ['2023/01/06', 52.21, 53.11, 53.4, 51.83],
    ['2023/01/09', 53.55, 52.91, 53.55, 52.47],
    ['2023/01/10', 52.35, 52.32, 52.57, 50.42],
    ['2023/01/11', 53.14, 54.25, 54.4, 52.84],
    ['2023/01/12', 54.47, 53.92, 54.68, 53.4],
    ['2023/01/13', 53.58, 54.73, 55.17, 52.57],
    ['2023/01/17', 54.55, 54.19, 54.93, 53.86],
    ['2023/01/18', 54.63, 55.09, 56.05, 54.63],
    ['2023/01/19', 54.95, 53.1, 55.02, 52.86],
    ['2023/01/20', 53.23, 53.42, 53.45, 52.52],
    ['2023/01/23', 53.58, 54.68, 54.74, 53.46],
    ['2023/01/24', 54.72, 55.26, 55.62, 54.19],
    ['2023/01/25', 54.92, 54.91, 55.02, 54.4],
    ['2023/01/26', 55.18, 54.81, 55.51, 53.94],
    ['2023/01/27', 54.53, 55.1, 55.31, 54.33],
    ['2023/01/30', 54.74, 54.18, 55.26, 54.08],
    ['2023/01/31', 54.84, 56.88, 56.9, 54.84],
    ['2023/02/01', 56.3, 58.81, 59.06, 56.08],
    ['2023/02/02', 59.42, 61.35, 61.81, 59.11],
    ['2023/02/03', 60.6, 60.36, 61.31, 60.11],
    ['2023/02/06', 60.13, 59.86, 60.33, 58.91],
    ['2023/02/07', 59.37, 60.35, 60.4, 58.97],
    ['2023/02/08', 60.25, 59.66, 60.64, 59.11],
    ['2023/02/09', 60.1, 59.17, 60.83, 59.1],
    ['2023/02/10', 59.14, 59.23, 59.83, 58.71],
    ['2023/02/13', 59.56, 60.79, 60.83, 58.93],
    ['2023/02/14', 60.63, 61.61, 61.73, 60.15],
    ['2023/02/15', 61.56, 62.34, 62.82, 61.34],
    ['2023/02/16', 61.55, 62.27, 63.03, 59.54],
    ['2023/02/17', 62.34, 61.38, 62.45, 60.14],
    ['2023/02/21', 60.31, 58.57, 60.66, 58.52],
    ['2023/02/22', 58.85, 59.53, 60.08, 58.56],
    ['2023/02/23', 59.62, 59.7, 60.38, 58.65],
    ['2023/02/24', 64.49, 65.27, 66.79, 60.48],
    ['2023/02/27', 65.86, 64.88, 66.77, 64.39],
    ['2023/02/28', 64.3, 65.0, 65.7, 64.3],
    ['2023/03/01', 65.0, 65.0, 65.99, 64.71],
    ['2023/03/02', 64.51, 65.71, 66.28, 64.51],
    ['2023/03/03', 66.33, 67.32, 67.64, 65.58],
    ['2023/03/06', 67.8, 66.11, 68.31, 66.02],
    ['2023/03/07', 65.88, 65.17, 66.52, 64.89],
    ['2023/03/08', 65.3, 65.46, 65.78, 64.92],
    ['2023/03/09', 65.56, 64.65, 65.99, 64.54],
    ['2023/03/10', 63.65, 61.72, 64.9, 61.23],
    ['2023/03/13', 60.89, 59.78, 61.19, 59.18],
    ['2023/03/14', 60.53, 59.44, 60.98, 58.55],
    ['2023/03/15', 58.2, 57.7, 58.92, 57.17],
    ['2023/03/16', 56.93, 58.53, 58.98, 56.93],
    ['2023/03/17', 57.85, 56.23, 58.05, 56.09],
    ['2023/03/20', 56.97, 57.17, 58.01, 56.85],
    ['2023/03/21', 58.35, 58.55, 59.08, 57.55],
    ['2023/03/22', 58.46, 56.91, 58.92, 56.9],
    ['2023/03/23', 57.32, 56.44, 58.3, 55.99],
    ['2023/03/24', 55.8, 56.7, 56.94, 55.18],
    ['2023/03/27', 57.29, 57.09, 57.66, 56.63],
    ['2023/03/28', 56.8, 57.42, 57.9, 56.8],
    ['2023/03/29', 58.02, 58.09, 59.15, 57.3],
    ['2023/03/30', 58.57, 57.63, 58.8, 57.63],
    ['2023/03/31', 58.15, 58.85, 59.15, 57.6],
    ['2023/04/03', 58.86, 58.66, 59.36, 57.82],
    ['2023/04/04', 58.59, 56.18, 59.12, 55.67],
    ['2023/04/05', 55.83, 55.26, 56.08, 54.89],
    ['2023/04/06', 55.46, 54.9, 55.9, 54.6],
    ['2023/04/10', 54.9, 57.18, 57.34, 54.9],
    ['2023/04/11', 57.57, 58.31, 59.07, 57.31],
    ['2023/04/12', 58.85, 58.88, 59.44, 58.63],
    ['2023/04/13', 59.12, 58.67, 59.13, 57.93],
    ['2023/04/14', 58.56, 58.56, 59.32, 58.21],
    ['2023/04/17', 58.6, 59.4, 59.4, 58.52],
    ['2023/04/18', 59.53, 60.21, 60.3, 59.39],
    ['2023/04/19', 60.0, 60.21, 60.42, 59.48],
    ['2023/04/20', 59.98, 60.62, 61.0, 59.98],
    ['2023/04/21', 60.49, 60.08, 60.77, 59.86],
    ['2023/04/24', 59.98, 60.09, 60.48, 59.59],
    ['2023/04/25', 59.51, 58.54, 60.14, 58.54],
    ['2023/04/26', 58.26, 57.24, 58.86, 56.94],
    ['2023/04/27', 57.6, 58.86, 59.17, 57.36],
    ['2023/04/28', 58.94, 60.18, 60.75, 58.82],
    ['2023/05/01', 60.73, 60.7, 61.7, 60.49],
    ['2023/05/02', 60.35, 60.21, 60.46, 59.15],
    ['2023/05/03', 60.48, 60.8, 62.18, 60.48],
    ['2023/05/04', 60.42, 59.87, 61.16, 59.37],
    ['2023/05/05', 57.09, 59.01, 59.77, 57.01],
    ['2023/05/08', 59.16, 60.36, 60.4, 58.98],
    ['2023/05/09', 60.37, 59.8, 60.75, 59.59],
    ['2023/05/10', 60.75, 59.61, 60.8, 58.85],
    ['2023/05/11', 59.01, 59.28, 59.35, 57.88],
    ['2023/05/12', 59.35, 61.07, 61.17, 58.1],
    ['2023/05/15', 61.08, 62.33, 62.4, 60.85],
    ['2023/05/16', 61.72, 62.41, 62.58, 61.34],
    ['2023/05/17', 62.72, 63.31, 63.52, 62.6],
    ['2023/05/18', 63.31, 65.68, 65.77, 63.1],
    ['2023/05/19', 66.4, 64.85, 66.47, 64.8],
    ['2023/05/22', 64.7, 65.48, 65.58, 64.62],
    ['2023/05/23', 65.39, 66.0, 66.34, 64.64],
    ['2023/05/24', 66.0, 65.67, 66.37, 65.32],
    ['2023/05/25', 65.64, 66.0, 66.67, 64.63],
    ['2023/05/26', 66.16, 67.31, 67.55, 66.08],
    ['2023/05/30', 67.65, 66.5, 67.91, 66.13],
    ['2023/05/31', 66.41, 63.94, 66.41, 63.88],
    ['2023/06/01', 63.93, 64.64, 64.96, 63.42],
    ['2023/06/02', 65.6, 67.23, 67.37, 65.27],
    ['2023/06/05', 66.63, 66.77, 67.18, 65.79],
    ['2023/06/06', 66.44, 70.07, 70.15, 66.37],
    ['2023/06/07', 70.01, 71.62, 71.77, 70.01],
    ['2023/06/08', 71.87, 72.82, 73.2, 71.7],
    ['2023/06/09', 72.82, 73.35, 74.19, 72.34],
    ['2023/06/12', 72.95, 74.77, 75.07, 72.43],
    ['2023/06/13', 74.77, 76.12, 76.46, 74.39],
    ['2023/06/14', 76.43, 77.25, 77.63, 76.07],
    ['2023/06/15', 77.25, 79.46, 79.7, 76.76],
    ['2023/06/16', 80.19, 79.44, 80.33, 79.04],
    ['2023/06/20', 79.44, 80.52, 81.23, 79.39],
    ['2023/06/21', 80.27, 80.75, 81.18, 80.08],
    ['2023/06/22', 80.44, 79.81, 80.5, 78.93],
    ['2023/06/23', 79.05, 79.9, 80.63, 78.81],
    ['2023/06/26', 79.74, 80.18, 81.47, 79.74],
    ['2023/06/27', 80.66, 81.75, 82.73, 80.42],
    ['2023/06/28', 81.78, 81.1, 82.16, 80.9],
    ['2023/06/29', 81.42, 83.33, 83.78, 81.36],
    ['2023/06/30', 83.68, 82.98, 84.1, 82.94],
    ['2023/07/03', 82.92, 83.37, 83.87, 82.46],
    ['2023/07/05', 82.88, 82.52, 83.03, 81.79],
    ['2023/07/06', 82.52, 80.86, 82.52, 80.28],
    ['2023/07/07', 82.58, 82.58, 84.6, 82.03],
    ['2023/07/10', 82.75, 84.54, 84.59, 82.38],
    ['2023/07/11', 85.0, 83.37, 85.23, 83.1],
    ['2023/07/12', 85.13, 84.21, 85.2, 83.69],
    ['2023/07/13', 84.54, 84.92, 85.31, 83.92],
    ['2023/07/14', 84.66, 84.03, 85.0, 83.1],
    ['2023/07/17', 84.04, 84.85, 85.56, 83.69],
    ['2023/07/18', 84.9, 85.4, 85.83, 84.38],
    ['2023/07/19', 85.4, 85.2, 85.66, 84.62],
    ['2023/07/20', 85.85, 84.4, 85.85, 83.91],
    ['2023/07/21', 84.62, 83.29, 85.09, 83.17],
    ['2023/07/24', 83.62, 83.06, 84.26, 82.88],
    ['2023/07/25', 82.66, 82.95, 84.1, 82.66],
    ['2023/07/26', 83.33, 83.66, 84.95, 83.26],
    ['2023/07/27', 84.18, 82.92, 84.66, 82.54],
    ['2023/07/28', 83.64, 84.18, 84.41, 83.37],
    ['2023/07/31', 84.28, 85.67, 86.05, 84.28],
    ['2023/08/01', 85.42, 86.93, 87.46, 85.24],
    ['2023/08/02', 85.94, 86.51, 87.06, 84.31],
    ['2023/08/03', 86.48, 84.9, 86.48, 83.6],
    ['2023/08/04', 86.95, 83.3, 86.95, 82.63],
]);
var volumes = [
    637400.0,
    391300.0,
    456800.0,
    645900.0,
    360900.0,
    364700.0,
    781500.0,
    596400.0,
    844700.0,
    405200.0,
    401200.0,
    394000.0,
    256300.0,
    430200.0,
    511200.0,
    342200.0,
    470200.0,
    570000.0,
    444000.0,
    647500.0,
    556800.0,
    619400.0,
    572600.0,
    711000.0,
    474100.0,
    651500.0,
    563300.0,
    561800.0,
    1339300.0,
    545800.0,
    510100.0,
    443100.0,
    578700.0,
    835400.0,
    626900.0,
    1212900.0,
    1726700.0,
    947500.0,
    1031100.0,
    1044400.0,
    917800.0,
    498100.0,
    449400.0,
    378800.0,
    329000.0,
    453600.0,
    470700.0,
    509800.0,
    1296300.0,
    509700.0,
    619900.0,
    986600.0,
    662000.0,
    1109100.0,
    545300.0,
    850900.0,
    832700.0,
    814900.0,
    686100.0,
    711300.0,
    408600.0,
    793500.0,
    554200.0,
    918200.0,
    556400.0,
    407300.0,
    476600.0,
    1384200.0,
    551700.0,
    554500.0,
    433300.0,
    357000.0,
    384500.0,
    355100.0,
    335200.0,
    336000.0,
    293900.0,
    106100.0,
    360200.0,
    362600.0,
    679300.0,
    367800.0,
    294700.0,
    554500.0,
    300800.0,
    534800.0,
    487200.0,
    385100.0,
    447700.0,
    568000.0,
    362600.0,
    468600.0,
    728000.0,
    400200.0,
    520000.0,
    364400.0,
    527500.0,
    419100.0,
    350700.0,
    426500.0,
    301100.0,
    249300.0,
    711400.0,
    652400.0,
    447100.0,
    310300.0,
    431300.0,
    930100.0,
    613900.0,
    439300.0,
    430000.0,
    288800.0,
    469500.0,
    504700.0,
    406400.0,
    279200.0,
    216300.0,
    275900.0,
    279100.0,
    239800.0,
    262000.0,
    668900.0,
    564500.0,
    708100.0,
    306400.0,
    295800.0,
    304600.0,
    270500.0,
    582800.0,
    180400.0,
    263000.0,
    387100.0,
    472300.0,
    334900.0,
    472600.0,
    375500.0,
    354800.0,
    382300.0,
    1145600.0,
    711600.0,
    690900.0,
    448600.0,
    382200.0,
    513500.0,
    394600.0,
    343500.0,
    246700.0,
    443300.0,
    1110900.0,
    545900.0,
    486000.0,
    520700.0,
    385400.0,
    497300.0,
    295900.0,
    484600.0,
    352800.0,
    371700.0,
    390300.0,
    321700.0,
    279300.0,
    256900.0,
    196500.0,
    299700.0,
    325100.0,
    330400.0,
    337300.0,
    316700.0,
    610400.0,
    394000.0,
    317700.0,
    250100.0,
    220100.0,
    219100.0,
    256700.0,
    215100.0,
    222900.0,
    181400.0,
    187600.0,
    158500.0,
    335800.0,
    284800.0,
    302300.0,
    300000.0,
    259500.0,
    450700.0,
    590200.0,
    685800.0,
    311000.0,
    315700.0,
    353400.0,
    383600.0,
    556300.0,
    337500.0,
    279300.0,
    392300.0,
    492200.0,
    759400.0,
    433400.0,
    576400.0,
    539500.0,
    556300.0,
    328600.0,
    392300.0,
    489100.0,
    305500.0,
    349700.0,
    346800.0,
    439000.0,
    425100.0,
    447300.0,
    502500.0,
    535700.0,
    419800.0,
    890700.0,
    721800.0,
    666400.0,
    557400.0,
    406300.0,
    399800.0,
    1349300.0,
    418000.0,
    738600.0,
    520100.0,
    543500.0,
    423200.0,
    155600.0,
    319500.0,
    349800.0,
    1269200.0,
    665900.0,
    422500.0,
    513900.0,
    442800.0,
    348500.0,
    342300.0,
    355400.0,
    337800.0,
    423200.0,
    350600.0,
    327200.0,
    383800.0,
    411600.0,
    284400.0,
    261700.0,
    385800.0,
    524600.0,
    333600.0,
    492500.0,
    1013600.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "BECN",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);