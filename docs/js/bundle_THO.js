/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_THO");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/08', 85.84, 88.36, 90.42, 85.32],
    ['2022/08/09', 87.84, 85.51, 88.26, 84.68],
    ['2022/08/10', 87.92, 88.2, 89.55, 87.53],
    ['2022/08/11', 88.97, 90.38, 91.79, 88.97],
    ['2022/08/12', 90.52, 91.86, 91.87, 89.64],
    ['2022/08/15', 90.96, 92.02, 92.45, 90.35],
    ['2022/08/16', 91.85, 94.97, 96.11, 91.5],
    ['2022/08/17', 93.01, 93.11, 94.22, 92.05],
    ['2022/08/18', 93.35, 93.4, 93.99, 92.81],
    ['2022/08/19', 92.44, 90.32, 92.84, 90.07],
    ['2022/08/22', 88.64, 86.55, 88.65, 86.43],
    ['2022/08/23', 86.76, 86.94, 87.65, 86.25],
    ['2022/08/24', 87.54, 87.22, 88.72, 86.23],
    ['2022/08/25', 87.48, 89.11, 90.53, 87.42],
    ['2022/08/26', 89.39, 84.97, 89.86, 84.64],
    ['2022/08/29', 83.88, 82.56, 84.32, 82.37],
    ['2022/08/30', 82.88, 82.29, 83.38, 81.43],
    ['2022/08/31', 82.8, 81.01, 82.8, 79.72],
    ['2022/09/01', 80.43, 79.19, 80.63, 77.8],
    ['2022/09/02', 80.09, 77.88, 80.09, 76.99],
    ['2022/09/06', 77.81, 76.34, 78.58, 75.37],
    ['2022/09/07', 77.2, 79.15, 79.52, 76.72],
    ['2022/09/08', 77.65, 79.18, 79.22, 76.59],
    ['2022/09/09', 79.57, 81.42, 81.81, 79.57],
    ['2022/09/12', 82.4, 84.2, 85.1, 81.84],
    ['2022/09/13', 81.02, 77.96, 81.15, 77.75],
    ['2022/09/14', 78.02, 76.88, 78.02, 75.04],
    ['2022/09/15', 76.82, 75.91, 78.27, 75.26],
    ['2022/09/16', 75.14, 75.08, 76.62, 74.11],
    ['2022/09/19', 74.46, 77.01, 77.16, 74.39],
    ['2022/09/20', 75.74, 74.23, 76.29, 73.79],
    ['2022/09/21', 74.38, 72.72, 75.55, 72.69],
    ['2022/09/22', 72.62, 70.33, 72.78, 70.02],
    ['2022/09/23', 68.51, 69.53, 69.88, 67.31],
    ['2022/09/26', 68.82, 68.88, 70.19, 68.29],
    ['2022/09/27', 70.06, 71.75, 72.11, 69.88],
    ['2022/09/28', 73.0, 74.68, 76.11, 70.53],
    ['2022/09/29', 71.81, 68.9, 72.1, 67.09],
    ['2022/09/30', 68.65, 69.98, 71.88, 68.5],
    ['2022/10/03', 69.35, 69.72, 71.43, 68.26],
    ['2022/10/04', 71.23, 73.25, 73.45, 71.23],
    ['2022/10/05', 72.5, 72.33, 72.75, 71.48],
    ['2022/10/06', 71.8, 72.01, 72.8, 70.73],
    ['2022/10/07', 72.15, 72.4, 72.75, 70.17],
    ['2022/10/10', 72.71, 75.65, 75.83, 71.75],
    ['2022/10/11', 75.23, 78.38, 79.64, 74.96],
    ['2022/10/12', 78.27, 79.15, 79.8, 76.54],
    ['2022/10/13', 77.4, 78.92, 79.63, 74.63],
    ['2022/10/14', 78.94, 78.27, 79.9, 78.09],
    ['2022/10/17', 80.25, 79.61, 80.48, 78.24],
    ['2022/10/18', 82.96, 81.31, 83.35, 80.65],
    ['2022/10/19', 79.28, 74.41, 79.28, 71.58],
    ['2022/10/20', 74.72, 74.39, 77.34, 73.75],
    ['2022/10/21', 74.69, 76.59, 77.24, 74.13],
    ['2022/10/24', 77.03, 79.43, 79.97, 76.61],
    ['2022/10/25', 79.41, 80.5, 80.53, 78.92],
    ['2022/10/26', 81.21, 79.27, 82.5, 79.23],
    ['2022/10/27', 80.05, 79.77, 81.96, 79.22],
    ['2022/10/28', 79.79, 82.61, 82.79, 79.23],
    ['2022/10/31', 81.99, 81.47, 82.89, 81.0],
    ['2022/11/01', 83.67, 83.03, 83.67, 81.33],
    ['2022/11/02', 82.13, 76.82, 82.13, 76.72],
    ['2022/11/03', 75.21, 76.13, 78.29, 74.65],
    ['2022/11/04', 77.37, 77.12, 79.27, 75.85],
    ['2022/11/07', 78.02, 79.87, 80.18, 76.38],
    ['2022/11/08', 80.31, 80.76, 82.01, 78.99],
    ['2022/11/09', 79.84, 79.39, 81.0, 78.87],
    ['2022/11/10', 83.72, 84.77, 86.27, 83.1],
    ['2022/11/11', 85.42, 90.52, 90.91, 85.26],
    ['2022/11/14', 89.76, 90.66, 91.77, 88.11],
    ['2022/11/15', 92.4, 88.49, 93.14, 87.92],
    ['2022/11/16', 87.15, 85.07, 87.79, 84.78],
    ['2022/11/17', 83.48, 84.17, 85.29, 82.87],
    ['2022/11/18', 85.81, 83.49, 86.72, 82.27],
    ['2022/11/21', 82.6, 81.68, 83.38, 81.02],
    ['2022/11/22', 82.2, 85.2, 85.35, 81.95],
    ['2022/11/23', 84.47, 86.1, 86.33, 84.47],
    ['2022/11/25', 85.85, 86.5, 86.68, 85.37],
    ['2022/11/28', 85.38, 85.63, 86.66, 85.03],
    ['2022/11/29', 85.94, 85.94, 87.45, 85.14],
    ['2022/11/30', 86.19, 86.14, 86.62, 82.6],
    ['2022/12/01', 87.1, 87.13, 88.8, 85.45],
    ['2022/12/02', 85.84, 90.44, 90.75, 85.48],
    ['2022/12/05', 89.29, 85.05, 89.39, 84.65],
    ['2022/12/06', 85.17, 84.0, 86.08, 82.31],
    ['2022/12/07', 86.0, 79.95, 88.13, 79.22],
    ['2022/12/08', 79.73, 78.64, 81.37, 77.94],
    ['2022/12/09', 77.8, 81.94, 83.3, 77.21],
    ['2022/12/12', 81.38, 83.94, 84.3, 80.71],
    ['2022/12/13', 87.33, 82.63, 87.5, 81.88],
    ['2022/12/14', 82.0, 83.6, 84.61, 81.55],
    ['2022/12/15', 82.54, 81.53, 83.66, 80.12],
    ['2022/12/16', 81.13, 80.63, 83.46, 80.06],
    ['2022/12/19', 80.77, 77.42, 81.19, 77.41],
    ['2022/12/20', 77.2, 77.0, 78.43, 76.75],
    ['2022/12/21', 78.24, 78.5, 78.87, 77.6],
    ['2022/12/22', 77.29, 76.54, 77.29, 75.1],
    ['2022/12/23', 76.79, 77.26, 77.49, 75.7],
    ['2022/12/27', 76.74, 75.63, 77.45, 75.36],
    ['2022/12/28', 75.68, 74.44, 75.9, 74.0],
    ['2022/12/29', 74.95, 75.41, 76.27, 74.94],
    ['2022/12/30', 74.4, 75.49, 75.76, 74.09],
    ['2023/01/03', 76.32, 75.45, 77.2, 74.56],
    ['2023/01/04', 76.44, 78.04, 78.53, 75.89],
    ['2023/01/05', 76.9, 78.28, 78.47, 75.85],
    ['2023/01/06', 78.7, 83.22, 83.23, 78.24],
    ['2023/01/09', 85.55, 89.9, 91.2, 85.01],
    ['2023/01/10', 90.26, 91.23, 91.38, 88.95],
    ['2023/01/11', 92.16, 93.28, 94.46, 91.77],
    ['2023/01/12', 94.27, 93.05, 94.35, 91.41],
    ['2023/01/13', 91.36, 91.7, 93.0, 90.5],
    ['2023/01/17', 91.41, 90.28, 93.39, 89.6],
    ['2023/01/18', 90.63, 83.91, 90.63, 83.54],
    ['2023/01/19', 82.93, 86.11, 87.46, 82.18],
    ['2023/01/20', 85.66, 88.05, 88.17, 84.35],
    ['2023/01/23', 88.48, 89.92, 91.36, 88.09],
    ['2023/01/24', 89.5, 89.88, 90.76, 88.53],
    ['2023/01/25', 88.94, 90.66, 91.17, 88.33],
    ['2023/01/26', 91.65, 90.41, 92.32, 88.59],
    ['2023/01/27', 90.14, 92.64, 93.22, 90.14],
    ['2023/01/30', 91.76, 92.61, 94.04, 91.68],
    ['2023/01/31', 93.39, 95.33, 95.46, 92.54],
    ['2023/02/01', 95.15, 98.93, 99.36, 94.27],
    ['2023/02/02', 99.87, 102.87, 105.36, 99.7],
    ['2023/02/03', 101.35, 102.39, 104.52, 100.51],
    ['2023/02/06', 101.63, 98.75, 101.8, 97.81],
    ['2023/02/07', 98.11, 98.77, 99.47, 97.24],
    ['2023/02/08', 98.34, 95.48, 98.7, 94.87],
    ['2023/02/09', 96.52, 93.16, 97.21, 92.29],
    ['2023/02/10', 92.19, 92.29, 93.46, 91.68],
    ['2023/02/13', 92.86, 96.65, 97.0, 91.44],
    ['2023/02/14', 95.5, 94.97, 95.5, 92.51],
    ['2023/02/15', 92.3, 95.0, 95.28, 91.93],
    ['2023/02/16', 93.34, 96.47, 97.5, 93.18],
    ['2023/02/17', 96.03, 95.11, 96.15, 93.59],
    ['2023/02/21', 93.62, 90.34, 94.55, 90.23],
    ['2023/02/22', 89.37, 92.38, 93.78, 89.37],
    ['2023/02/23', 93.0, 92.62, 93.52, 90.85],
    ['2023/02/24', 91.05, 92.11, 92.19, 89.65],
    ['2023/02/27', 93.07, 91.75, 94.18, 91.54],
    ['2023/02/28', 92.14, 90.99, 92.85, 90.99],
    ['2023/03/01', 90.81, 91.64, 92.56, 90.5],
    ['2023/03/02', 90.24, 92.53, 92.6, 90.07],
    ['2023/03/03', 93.69, 92.05, 94.18, 91.94],
    ['2023/03/06', 92.22, 92.58, 93.19, 91.57],
    ['2023/03/07', 87.74, 89.06, 89.91, 85.79],
    ['2023/03/08', 89.39, 88.44, 90.15, 86.02],
    ['2023/03/09', 88.0, 86.3, 88.71, 86.14],
    ['2023/03/10', 86.48, 83.25, 86.79, 82.67],
    ['2023/03/13', 80.89, 80.6, 82.45, 78.44],
    ['2023/03/14', 82.27, 79.97, 84.08, 78.82],
    ['2023/03/15', 77.5, 79.75, 80.15, 77.11],
    ['2023/03/16', 78.74, 80.63, 82.0, 78.51],
    ['2023/03/17', 79.63, 78.18, 80.63, 77.67],
    ['2023/03/20', 78.55, 78.28, 80.14, 77.0],
    ['2023/03/21', 79.87, 79.74, 81.57, 79.1],
    ['2023/03/22', 80.65, 77.5, 81.01, 77.43],
    ['2023/03/23', 77.85, 77.05, 78.63, 76.13],
    ['2023/03/24', 76.38, 76.01, 76.98, 75.35],
    ['2023/03/27', 77.17, 76.57, 77.65, 75.76],
    ['2023/03/28', 76.66, 77.73, 77.93, 76.13],
    ['2023/03/29', 78.8, 77.87, 78.8, 77.31],
    ['2023/03/30', 78.79, 78.58, 79.89, 78.25],
    ['2023/03/31', 79.1, 79.64, 80.28, 78.86],
    ['2023/04/03', 79.32, 78.47, 79.92, 77.77],
    ['2023/04/04', 79.05, 76.93, 79.05, 76.23],
    ['2023/04/05', 76.11, 76.57, 76.64, 75.41],
    ['2023/04/06', 76.74, 76.16, 76.94, 75.71],
    ['2023/04/10', 76.09, 78.15, 78.2, 76.09],
    ['2023/04/11', 78.21, 80.88, 81.44, 78.21],
    ['2023/04/12', 82.0, 79.02, 82.33, 78.56],
    ['2023/04/13', 79.46, 78.62, 79.46, 77.91],
    ['2023/04/14', 78.78, 79.58, 80.43, 78.78],
    ['2023/04/17', 79.57, 79.68, 80.36, 78.36],
    ['2023/04/18', 79.59, 79.59, 79.93, 78.63],
    ['2023/04/19', 79.33, 79.57, 80.16, 78.88],
    ['2023/04/20', 78.65, 78.93, 80.26, 78.28],
    ['2023/04/21', 78.86, 79.38, 79.93, 78.17],
    ['2023/04/24', 79.36, 78.61, 80.26, 78.17],
    ['2023/04/25', 77.99, 76.76, 78.05, 76.38],
    ['2023/04/26', 76.37, 75.0, 77.61, 74.5],
    ['2023/04/27', 75.48, 77.68, 78.16, 75.3],
    ['2023/04/28', 77.68, 79.02, 79.4, 77.6],
    ['2023/05/01', 79.19, 80.01, 80.22, 78.88],
    ['2023/05/02', 79.45, 80.09, 80.2, 76.79],
    ['2023/05/03', 80.25, 81.0, 85.23, 80.25],
    ['2023/05/04', 79.93, 79.47, 80.89, 78.03],
    ['2023/05/05', 80.87, 82.13, 82.58, 80.63],
    ['2023/05/08', 82.52, 82.6, 83.17, 81.24],
    ['2023/05/09', 81.74, 80.1, 82.33, 80.07],
    ['2023/05/10', 81.41, 79.27, 81.65, 77.08],
    ['2023/05/11', 78.99, 80.37, 80.55, 78.75],
    ['2023/05/12', 81.0, 78.9, 81.23, 78.16],
    ['2023/05/15', 78.9, 79.5, 80.35, 78.4],
    ['2023/05/16', 78.57, 78.12, 78.93, 77.02],
    ['2023/05/17', 78.61, 81.25, 81.58, 78.23],
    ['2023/05/18', 81.13, 81.84, 82.02, 80.08],
    ['2023/05/19', 82.04, 80.86, 82.04, 79.99],
    ['2023/05/22', 81.08, 80.99, 81.5, 80.27],
    ['2023/05/23', 80.62, 81.44, 82.61, 80.3],
    ['2023/05/24', 81.12, 80.14, 82.17, 79.34],
    ['2023/05/25', 79.22, 80.16, 80.46, 78.68],
    ['2023/05/26', 80.33, 81.65, 81.68, 79.55],
    ['2023/05/30', 82.47, 79.7, 82.47, 79.41],
    ['2023/05/31', 78.17, 78.27, 79.14, 75.93],
    ['2023/06/01', 78.53, 78.91, 79.38, 76.64],
    ['2023/06/02', 79.86, 81.98, 82.0, 79.43],
    ['2023/06/05', 80.55, 79.16, 81.53, 79.13],
    ['2023/06/06', 88.0, 93.15, 93.47, 85.65],
    ['2023/06/07', 94.95, 94.0, 95.74, 92.55],
    ['2023/06/08', 94.71, 94.17, 94.71, 92.73],
    ['2023/06/09', 94.17, 93.47, 94.94, 93.16],
    ['2023/06/12', 93.7, 92.72, 94.0, 92.04],
    ['2023/06/13', 93.05, 96.12, 96.41, 92.7],
    ['2023/06/14', 96.04, 97.08, 97.74, 95.32],
    ['2023/06/15', 96.5, 97.1, 97.44, 96.26],
    ['2023/06/16', 97.49, 95.47, 97.67, 94.76],
    ['2023/06/20', 95.13, 94.8, 95.46, 94.25],
    ['2023/06/21', 92.54, 96.43, 96.74, 91.69],
    ['2023/06/22', 96.07, 94.81, 96.09, 94.25],
    ['2023/06/23', 94.12, 94.36, 95.24, 93.81],
    ['2023/06/26', 94.67, 96.18, 97.0, 94.35],
    ['2023/06/27', 96.17, 101.76, 101.89, 96.17],
    ['2023/06/28', 101.38, 102.31, 102.67, 100.01],
    ['2023/06/29', 102.87, 102.75, 104.2, 102.3],
    ['2023/06/30', 103.63, 103.5, 105.15, 103.36],
    ['2023/07/03', 103.25, 103.81, 104.97, 103.12],
    ['2023/07/05', 103.88, 102.69, 103.91, 102.11],
    ['2023/07/06', 100.65, 101.1, 101.39, 100.25],
    ['2023/07/07', 101.77, 101.45, 103.13, 101.13],
    ['2023/07/10', 101.1, 103.33, 103.44, 101.1],
    ['2023/07/11', 103.52, 105.17, 105.39, 103.26],
    ['2023/07/12', 106.41, 106.52, 107.37, 105.39],
    ['2023/07/13', 106.74, 107.5, 107.53, 105.64],
    ['2023/07/14', 107.75, 108.47, 108.78, 106.95],
    ['2023/07/17', 107.78, 109.23, 109.57, 107.34],
    ['2023/07/18', 109.23, 110.95, 112.84, 109.23],
    ['2023/07/19', 110.63, 111.45, 111.52, 109.08],
    ['2023/07/20', 110.94, 111.69, 112.4, 110.44],
    ['2023/07/21', 112.04, 109.81, 112.25, 109.19],
    ['2023/07/24', 110.22, 110.65, 112.05, 109.33],
    ['2023/07/25', 110.52, 111.25, 112.25, 109.62],
    ['2023/07/26', 110.58, 112.92, 113.02, 110.47],
    ['2023/07/27', 114.08, 111.87, 115.37, 111.26],
    ['2023/07/28', 113.12, 114.17, 114.26, 112.47],
    ['2023/07/31', 114.27, 115.49, 115.52, 114.13],
    ['2023/08/01', 114.79, 115.54, 115.65, 114.04],
    ['2023/08/02', 113.98, 115.96, 116.31, 113.07],
    ['2023/08/03', 115.12, 114.01, 115.65, 113.42],
    ['2023/08/04', 114.09, 111.19, 114.19, 110.44],
]);
var volumes = [
    1123100.0,
    650800.0,
    570500.0,
    656300.0,
    436400.0,
    444400.0,
    679500.0,
    694800.0,
    836900.0,
    572600.0,
    604600.0,
    513600.0,
    511300.0,
    394700.0,
    503600.0,
    591800.0,
    562100.0,
    611000.0,
    744300.0,
    582200.0,
    835300.0,
    801800.0,
    674200.0,
    650400.0,
    769400.0,
    922200.0,
    796100.0,
    786400.0,
    1113300.0,
    736400.0,
    812400.0,
    774400.0,
    548300.0,
    1667500.0,
    978400.0,
    1997700.0,
    2141100.0,
    1752800.0,
    1063400.0,
    1063400.0,
    852300.0,
    551800.0,
    456600.0,
    1001600.0,
    991500.0,
    1643200.0,
    1215500.0,
    1043300.0,
    984200.0,
    818000.0,
    1394400.0,
    2370800.0,
    933500.0,
    792200.0,
    771400.0,
    812200.0,
    759900.0,
    598100.0,
    408500.0,
    462000.0,
    459200.0,
    986300.0,
    529100.0,
    480900.0,
    466700.0,
    476000.0,
    477800.0,
    778100.0,
    1086100.0,
    850700.0,
    824200.0,
    606500.0,
    783700.0,
    580900.0,
    580700.0,
    423200.0,
    374700.0,
    137900.0,
    573700.0,
    410400.0,
    893900.0,
    670500.0,
    1109100.0,
    855700.0,
    1178100.0,
    1539700.0,
    1137700.0,
    933900.0,
    830500.0,
    708000.0,
    646500.0,
    836400.0,
    1195900.0,
    593700.0,
    700600.0,
    621300.0,
    540800.0,
    369800.0,
    281700.0,
    477600.0,
    520100.0,
    382800.0,
    572100.0,
    409900.0,
    333300.0,
    731400.0,
    1457400.0,
    692300.0,
    662900.0,
    671000.0,
    647200.0,
    653600.0,
    1555800.0,
    1091900.0,
    958600.0,
    518300.0,
    516600.0,
    327400.0,
    359700.0,
    465100.0,
    347300.0,
    584100.0,
    727500.0,
    1032800.0,
    461200.0,
    642500.0,
    517400.0,
    474900.0,
    474500.0,
    489400.0,
    485300.0,
    586600.0,
    526200.0,
    472300.0,
    468900.0,
    656900.0,
    646500.0,
    385900.0,
    470100.0,
    477500.0,
    729000.0,
    522800.0,
    478700.0,
    486300.0,
    1052100.0,
    2070300.0,
    849200.0,
    672000.0,
    1253600.0,
    975800.0,
    1118900.0,
    1281600.0,
    1038000.0,
    1769800.0,
    1087100.0,
    684000.0,
    1041300.0,
    673600.0,
    947300.0,
    521300.0,
    609400.0,
    461300.0,
    371000.0,
    413000.0,
    463800.0,
    353300.0,
    502900.0,
    371200.0,
    358800.0,
    602400.0,
    480500.0,
    595100.0,
    338600.0,
    378600.0,
    339100.0,
    488800.0,
    365100.0,
    338500.0,
    523500.0,
    488900.0,
    495300.0,
    696500.0,
    556100.0,
    271200.0,
    624900.0,
    864800.0,
    479100.0,
    387200.0,
    337500.0,
    388300.0,
    548000.0,
    453900.0,
    448500.0,
    259800.0,
    527300.0,
    391900.0,
    385500.0,
    470600.0,
    418700.0,
    501500.0,
    357200.0,
    304400.0,
    345700.0,
    435600.0,
    807800.0,
    555000.0,
    911700.0,
    826700.0,
    2899600.0,
    1319500.0,
    725200.0,
    657600.0,
    591200.0,
    575600.0,
    907000.0,
    600300.0,
    953000.0,
    491600.0,
    631900.0,
    484200.0,
    513000.0,
    540300.0,
    734400.0,
    543500.0,
    474300.0,
    576200.0,
    274900.0,
    525100.0,
    472900.0,
    693900.0,
    592100.0,
    546500.0,
    578400.0,
    550500.0,
    1126500.0,
    497900.0,
    807300.0,
    745200.0,
    775100.0,
    760000.0,
    457800.0,
    389600.0,
    440400.0,
    596200.0,
    402100.0,
    443300.0,
    456800.0,
    749000.0,
    665400.0,
    851300.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "THO",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);