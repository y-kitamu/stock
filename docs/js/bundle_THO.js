/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_THO");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 80.52, 84.17, 84.71, 80.27],
    ['2022/08/04', 83.84, 82.28, 85.94, 82.25],
    ['2022/08/05', 81.4, 83.05, 84.2, 80.92],
    ['2022/08/08', 83.98, 86.44, 88.46, 83.47],
    ['2022/08/09', 85.94, 83.66, 86.35, 82.84],
    ['2022/08/10', 86.01, 86.29, 87.61, 85.63],
    ['2022/08/11', 87.04, 88.42, 89.8, 87.04],
    ['2022/08/12', 88.56, 89.87, 89.88, 87.7],
    ['2022/08/15', 88.99, 90.03, 90.45, 88.39],
    ['2022/08/16', 89.86, 92.91, 94.03, 89.52],
    ['2022/08/17', 90.99, 91.09, 92.18, 90.05],
    ['2022/08/18', 91.33, 91.38, 91.95, 90.8],
    ['2022/08/19', 90.44, 88.36, 90.83, 88.12],
    ['2022/08/22', 86.72, 84.67, 86.73, 84.56],
    ['2022/08/23', 84.88, 85.06, 85.75, 84.38],
    ['2022/08/24', 85.64, 85.33, 86.8, 84.36],
    ['2022/08/25', 85.58, 87.18, 88.57, 85.53],
    ['2022/08/26', 87.45, 83.13, 87.91, 82.81],
    ['2022/08/29', 82.06, 80.77, 82.49, 80.58],
    ['2022/08/30', 81.08, 80.51, 81.57, 79.67],
    ['2022/08/31', 81.01, 79.25, 81.01, 77.99],
    ['2022/09/01', 78.69, 77.47, 78.88, 76.11],
    ['2022/09/02', 78.35, 76.19, 78.35, 75.32],
    ['2022/09/06', 76.12, 74.69, 76.88, 73.74],
    ['2022/09/07', 75.53, 77.43, 77.8, 75.06],
    ['2022/09/08', 75.97, 77.46, 77.5, 74.93],
    ['2022/09/09', 77.85, 79.66, 80.04, 77.85],
    ['2022/09/12', 80.61, 82.38, 83.26, 80.07],
    ['2022/09/13', 79.26, 76.27, 79.39, 76.06],
    ['2022/09/14', 76.33, 75.21, 76.33, 73.41],
    ['2022/09/15', 75.16, 74.26, 76.57, 73.63],
    ['2022/09/16', 73.51, 73.45, 74.96, 72.5],
    ['2022/09/19', 72.85, 75.34, 75.49, 72.78],
    ['2022/09/20', 74.1, 72.62, 74.64, 72.19],
    ['2022/09/21', 72.77, 71.14, 73.91, 71.11],
    ['2022/09/22', 71.05, 68.81, 71.2, 68.5],
    ['2022/09/23', 67.03, 68.02, 68.37, 65.85],
    ['2022/09/26', 67.33, 67.39, 68.67, 66.81],
    ['2022/09/27', 68.54, 70.19, 70.55, 68.37],
    ['2022/09/28', 71.42, 73.06, 74.46, 69.0],
    ['2022/09/29', 70.25, 67.41, 70.54, 65.64],
    ['2022/09/30', 67.16, 68.46, 70.32, 67.02],
    ['2022/10/03', 67.85, 68.21, 69.88, 66.78],
    ['2022/10/04', 69.69, 71.66, 71.86, 69.69],
    ['2022/10/05', 70.93, 70.76, 71.17, 69.93],
    ['2022/10/06', 70.24, 70.45, 71.22, 69.2],
    ['2022/10/07', 70.59, 70.83, 71.17, 68.65],
    ['2022/10/10', 71.13, 74.01, 74.19, 70.19],
    ['2022/10/11', 73.6, 76.68, 77.91, 73.34],
    ['2022/10/12', 76.57, 77.43, 78.07, 74.88],
    ['2022/10/13', 75.72, 77.21, 77.9, 73.01],
    ['2022/10/14', 77.23, 76.57, 78.17, 76.4],
    ['2022/10/17', 78.51, 77.88, 78.74, 76.54],
    ['2022/10/18', 81.16, 79.55, 81.54, 78.9],
    ['2022/10/19', 77.56, 72.8, 77.56, 70.03],
    ['2022/10/20', 73.1, 72.78, 75.66, 72.15],
    ['2022/10/21', 73.07, 74.93, 75.57, 72.52],
    ['2022/10/24', 75.36, 77.71, 78.24, 74.95],
    ['2022/10/25', 78.13, 79.2, 79.23, 77.65],
    ['2022/10/26', 79.9, 77.99, 81.17, 77.95],
    ['2022/10/27', 78.76, 78.49, 80.64, 77.94],
    ['2022/10/28', 78.51, 81.28, 81.46, 77.95],
    ['2022/10/31', 80.67, 80.16, 81.56, 79.7],
    ['2022/11/01', 82.32, 81.69, 82.32, 80.02],
    ['2022/11/02', 80.81, 75.58, 80.81, 75.48],
    ['2022/11/03', 74.0, 74.9, 77.03, 73.45],
    ['2022/11/04', 76.12, 75.88, 77.99, 74.63],
    ['2022/11/07', 76.76, 78.58, 78.89, 75.15],
    ['2022/11/08', 79.02, 79.46, 80.69, 77.72],
    ['2022/11/09', 78.55, 78.11, 79.7, 77.6],
    ['2022/11/10', 82.37, 83.41, 84.88, 81.76],
    ['2022/11/11', 84.04, 89.06, 89.45, 83.89],
    ['2022/11/14', 88.31, 89.2, 90.29, 86.69],
    ['2022/11/15', 90.91, 87.07, 91.64, 86.5],
    ['2022/11/16', 85.75, 83.7, 86.38, 83.42],
    ['2022/11/17', 82.14, 82.81, 83.92, 81.54],
    ['2022/11/18', 84.43, 82.15, 85.32, 80.95],
    ['2022/11/21', 81.27, 80.37, 82.04, 79.72],
    ['2022/11/22', 80.88, 83.83, 83.98, 80.63],
    ['2022/11/23', 83.11, 84.71, 84.94, 83.11],
    ['2022/11/25', 84.47, 85.11, 85.28, 84.0],
    ['2022/11/28', 84.01, 84.25, 85.26, 83.66],
    ['2022/11/29', 84.56, 84.56, 86.04, 83.77],
    ['2022/11/30', 84.8, 84.75, 85.23, 81.27],
    ['2022/12/01', 85.7, 85.73, 87.37, 84.07],
    ['2022/12/02', 84.46, 88.98, 89.29, 84.1],
    ['2022/12/05', 87.85, 83.68, 87.95, 83.29],
    ['2022/12/06', 83.8, 82.65, 84.69, 80.98],
    ['2022/12/07', 84.62, 78.66, 86.71, 77.94],
    ['2022/12/08', 78.45, 77.37, 80.06, 76.69],
    ['2022/12/09', 76.55, 80.62, 81.96, 75.97],
    ['2022/12/12', 80.07, 82.59, 82.94, 79.41],
    ['2022/12/13', 85.92, 81.3, 86.09, 80.56],
    ['2022/12/14', 80.68, 82.25, 83.25, 80.24],
    ['2022/12/15', 81.21, 80.22, 82.31, 78.83],
    ['2022/12/16', 79.82, 79.33, 82.12, 78.77],
    ['2022/12/19', 79.47, 76.17, 79.88, 76.16],
    ['2022/12/20', 75.96, 75.76, 77.17, 75.51],
    ['2022/12/21', 76.98, 77.24, 77.6, 76.35],
    ['2022/12/22', 76.05, 75.31, 76.05, 73.89],
    ['2022/12/23', 75.55, 76.02, 76.24, 74.48],
    ['2022/12/27', 75.5, 74.41, 76.2, 74.15],
    ['2022/12/28', 74.46, 73.24, 74.68, 72.81],
    ['2022/12/29', 74.19, 74.65, 75.5, 74.18],
    ['2022/12/30', 73.65, 74.73, 74.99, 73.34],
    ['2023/01/03', 75.55, 74.69, 76.42, 73.81],
    ['2023/01/04', 75.67, 77.25, 77.74, 75.12],
    ['2023/01/05', 76.12, 77.49, 77.68, 75.08],
    ['2023/01/06', 77.9, 82.38, 82.39, 77.45],
    ['2023/01/09', 84.68, 88.99, 90.28, 84.15],
    ['2023/01/10', 89.35, 90.31, 90.46, 88.05],
    ['2023/01/11', 91.23, 92.34, 93.5, 90.84],
    ['2023/01/12', 93.32, 92.11, 93.4, 90.49],
    ['2023/01/13', 90.44, 90.77, 92.06, 89.58],
    ['2023/01/17', 90.49, 89.37, 92.45, 88.69],
    ['2023/01/18', 89.71, 83.06, 89.71, 82.69],
    ['2023/01/19', 82.09, 85.24, 86.58, 81.35],
    ['2023/01/20', 84.79, 87.16, 87.28, 83.5],
    ['2023/01/23', 87.59, 89.01, 90.44, 87.2],
    ['2023/01/24', 88.59, 88.97, 89.84, 87.63],
    ['2023/01/25', 88.04, 89.74, 90.25, 87.44],
    ['2023/01/26', 90.72, 89.5, 91.39, 87.69],
    ['2023/01/27', 89.23, 91.7, 92.28, 89.23],
    ['2023/01/30', 90.83, 91.67, 93.09, 90.75],
    ['2023/01/31', 92.45, 94.37, 94.49, 91.6],
    ['2023/02/01', 94.19, 97.93, 98.35, 93.32],
    ['2023/02/02', 98.86, 101.83, 104.29, 98.69],
    ['2023/02/03', 100.32, 101.35, 103.46, 99.49],
    ['2023/02/06', 100.6, 97.75, 100.77, 96.82],
    ['2023/02/07', 97.12, 97.77, 98.46, 96.26],
    ['2023/02/08', 97.35, 94.51, 97.7, 93.91],
    ['2023/02/09', 95.54, 92.22, 96.23, 91.36],
    ['2023/02/10', 91.26, 91.36, 92.51, 90.75],
    ['2023/02/13', 91.92, 95.67, 96.02, 90.52],
    ['2023/02/14', 94.53, 94.01, 94.53, 91.57],
    ['2023/02/15', 91.37, 94.04, 94.32, 91.0],
    ['2023/02/16', 92.4, 95.49, 96.51, 92.24],
    ['2023/02/17', 95.06, 94.15, 95.18, 92.64],
    ['2023/02/21', 92.67, 89.43, 93.59, 89.32],
    ['2023/02/22', 88.47, 91.45, 92.83, 88.47],
    ['2023/02/23', 92.06, 91.68, 92.57, 89.93],
    ['2023/02/24', 90.13, 91.18, 91.26, 88.74],
    ['2023/02/27', 92.13, 90.82, 93.23, 90.61],
    ['2023/02/28', 91.21, 90.07, 91.91, 90.07],
    ['2023/03/01', 89.89, 90.71, 91.62, 89.58],
    ['2023/03/02', 89.33, 91.59, 91.66, 89.16],
    ['2023/03/03', 92.74, 91.12, 93.23, 91.01],
    ['2023/03/06', 91.29, 91.64, 92.25, 90.64],
    ['2023/03/07', 86.85, 88.16, 89.0, 84.92],
    ['2023/03/08', 88.49, 87.55, 89.24, 85.15],
    ['2023/03/09', 87.11, 85.43, 87.81, 85.27],
    ['2023/03/10', 85.61, 82.41, 85.91, 81.83],
    ['2023/03/13', 80.07, 79.78, 81.62, 77.65],
    ['2023/03/14', 81.44, 79.16, 83.23, 78.02],
    ['2023/03/15', 76.72, 78.94, 79.34, 76.33],
    ['2023/03/16', 77.94, 79.81, 81.17, 77.72],
    ['2023/03/17', 78.82, 77.39, 79.81, 76.88],
    ['2023/03/20', 77.76, 77.49, 79.33, 76.22],
    ['2023/03/21', 79.06, 78.93, 80.74, 78.3],
    ['2023/03/22', 79.83, 76.72, 80.19, 76.65],
    ['2023/03/23', 77.06, 76.27, 77.83, 75.36],
    ['2023/03/24', 75.61, 75.24, 76.2, 74.59],
    ['2023/03/27', 76.39, 75.8, 76.86, 74.99],
    ['2023/03/28', 75.88, 76.94, 77.14, 75.36],
    ['2023/03/29', 78.0, 77.08, 78.0, 76.53],
    ['2023/03/30', 77.99, 77.79, 79.08, 77.46],
    ['2023/03/31', 78.3, 78.83, 79.47, 78.06],
    ['2023/04/03', 78.52, 77.68, 79.11, 76.98],
    ['2023/04/04', 78.25, 76.15, 78.25, 75.46],
    ['2023/04/05', 75.34, 75.8, 75.86, 74.65],
    ['2023/04/06', 75.96, 75.39, 76.16, 74.94],
    ['2023/04/10', 75.32, 77.36, 77.41, 75.32],
    ['2023/04/11', 77.87, 80.53, 81.08, 77.87],
    ['2023/04/12', 81.64, 78.67, 81.97, 78.22],
    ['2023/04/13', 79.11, 78.28, 79.11, 77.57],
    ['2023/04/14', 78.43, 79.23, 80.08, 78.43],
    ['2023/04/17', 79.22, 79.33, 80.01, 78.02],
    ['2023/04/18', 79.24, 79.24, 79.58, 78.29],
    ['2023/04/19', 78.98, 79.22, 79.81, 78.53],
    ['2023/04/20', 78.31, 78.58, 79.91, 77.94],
    ['2023/04/21', 78.51, 79.03, 79.58, 77.83],
    ['2023/04/24', 79.01, 78.27, 79.91, 77.83],
    ['2023/04/25', 77.65, 76.42, 77.71, 76.05],
    ['2023/04/26', 76.04, 74.67, 77.27, 74.17],
    ['2023/04/27', 75.15, 77.34, 77.82, 74.97],
    ['2023/04/28', 77.34, 78.67, 79.05, 77.26],
    ['2023/05/01', 78.84, 79.66, 79.87, 78.53],
    ['2023/05/02', 79.1, 79.74, 79.85, 76.45],
    ['2023/05/03', 79.9, 80.65, 84.86, 79.9],
    ['2023/05/04', 79.58, 79.12, 80.54, 77.69],
    ['2023/05/05', 80.52, 81.77, 82.22, 80.28],
    ['2023/05/08', 82.16, 82.24, 82.81, 80.88],
    ['2023/05/09', 81.38, 79.75, 81.97, 79.72],
    ['2023/05/10', 81.05, 78.92, 81.29, 76.74],
    ['2023/05/11', 78.64, 80.02, 80.2, 78.4],
    ['2023/05/12', 80.65, 78.55, 80.87, 77.82],
    ['2023/05/15', 78.55, 79.15, 80.0, 78.06],
    ['2023/05/16', 78.23, 77.78, 78.58, 76.68],
    ['2023/05/17', 78.27, 80.89, 81.22, 77.89],
    ['2023/05/18', 80.77, 81.48, 81.66, 79.73],
    ['2023/05/19', 81.68, 80.51, 81.68, 79.64],
    ['2023/05/22', 80.72, 80.64, 81.14, 79.92],
    ['2023/05/23', 80.27, 81.08, 82.25, 79.95],
    ['2023/05/24', 80.76, 79.79, 81.81, 78.99],
    ['2023/05/25', 78.87, 79.81, 80.11, 78.34],
    ['2023/05/26', 79.98, 81.29, 81.32, 79.2],
    ['2023/05/30', 82.11, 79.35, 82.11, 79.06],
    ['2023/05/31', 77.83, 77.93, 78.79, 75.6],
    ['2023/06/01', 78.19, 78.56, 79.03, 76.3],
    ['2023/06/02', 79.51, 81.62, 81.64, 79.08],
    ['2023/06/05', 80.2, 78.81, 81.17, 78.78],
    ['2023/06/06', 87.61, 92.74, 93.06, 85.27],
    ['2023/06/07', 94.53, 93.59, 95.32, 92.14],
    ['2023/06/08', 94.29, 93.76, 94.29, 92.32],
    ['2023/06/09', 93.76, 93.06, 94.52, 92.75],
    ['2023/06/12', 93.29, 92.31, 93.59, 91.64],
    ['2023/06/13', 92.64, 95.7, 95.99, 92.29],
    ['2023/06/14', 95.62, 96.65, 97.31, 94.9],
    ['2023/06/15', 96.08, 96.67, 97.01, 95.84],
    ['2023/06/16', 97.06, 95.05, 97.24, 94.34],
    ['2023/06/20', 94.71, 94.38, 95.04, 93.84],
    ['2023/06/21', 92.13, 96.01, 96.32, 91.29],
    ['2023/06/22', 95.65, 94.39, 95.67, 93.84],
    ['2023/06/23', 93.71, 93.95, 94.82, 93.4],
    ['2023/06/26', 94.26, 95.76, 96.57, 93.94],
    ['2023/06/27', 95.75, 101.31, 101.44, 95.75],
    ['2023/06/28', 100.94, 101.86, 102.22, 99.57],
    ['2023/06/29', 102.42, 102.3, 103.74, 101.85],
    ['2023/06/30', 103.18, 103.05, 104.69, 102.91],
    ['2023/07/03', 102.8, 103.36, 104.51, 102.67],
    ['2023/07/05', 103.42, 102.24, 103.45, 101.66],
    ['2023/07/06', 100.65, 101.1, 101.39, 100.25],
    ['2023/07/07', 101.77, 101.45, 103.13, 101.13],
    ['2023/07/10', 101.1, 103.33, 103.44, 101.1],
    ['2023/07/11', 103.52, 105.17, 105.39, 103.26],
    ['2023/07/12', 106.41, 106.52, 107.37, 105.39],
    ['2023/07/13', 106.74, 107.5, 107.53, 105.64],
    ['2023/07/14', 107.75, 108.47, 108.78, 106.95],
    ['2023/07/17', 107.78, 109.23, 109.57, 107.34],
    ['2023/07/18', 109.23, 110.95, 112.84, 109.23],
    ['2023/07/19', 110.63, 111.45, 111.52, 109.08],
    ['2023/07/20', 110.94, 111.69, 112.4, 110.44],
    ['2023/07/21', 112.04, 109.81, 112.25, 109.19],
    ['2023/07/24', 110.22, 110.65, 112.05, 109.33],
    ['2023/07/25', 110.52, 111.25, 112.25, 109.62],
    ['2023/07/26', 110.58, 112.92, 113.02, 110.47],
    ['2023/07/27', 114.08, 111.87, 115.37, 111.26],
    ['2023/07/28', 113.12, 114.17, 114.26, 112.47],
    ['2023/07/31', 114.27, 115.49, 115.52, 114.13],
    ['2023/08/01', 114.79, 115.54, 115.65, 114.04],
    ['2023/08/02', 113.98, 115.96, 116.31, 113.07],
]);
var volumes = [
    1111200.0,
    813400.0,
    517000.0,
    1123100.0,
    650800.0,
    570500.0,
    656300.0,
    436400.0,
    444400.0,
    679500.0,
    694800.0,
    836900.0,
    572600.0,
    604600.0,
    513600.0,
    511300.0,
    394700.0,
    503600.0,
    591800.0,
    562100.0,
    611000.0,
    744300.0,
    582200.0,
    835300.0,
    801800.0,
    674200.0,
    650400.0,
    769400.0,
    922200.0,
    796100.0,
    786400.0,
    1113300.0,
    736400.0,
    812400.0,
    774400.0,
    548300.0,
    1667500.0,
    978400.0,
    1997700.0,
    2141100.0,
    1752800.0,
    1063400.0,
    1063400.0,
    852300.0,
    551800.0,
    456600.0,
    1001600.0,
    991500.0,
    1643200.0,
    1215500.0,
    1043300.0,
    984200.0,
    818000.0,
    1394400.0,
    2370800.0,
    933500.0,
    792200.0,
    771400.0,
    812200.0,
    759900.0,
    598100.0,
    408500.0,
    462000.0,
    459200.0,
    986300.0,
    529100.0,
    480900.0,
    466700.0,
    476000.0,
    477800.0,
    778100.0,
    1086100.0,
    850700.0,
    824200.0,
    606500.0,
    783700.0,
    580900.0,
    580700.0,
    423200.0,
    374700.0,
    137900.0,
    573700.0,
    410400.0,
    893900.0,
    670500.0,
    1109100.0,
    855700.0,
    1178100.0,
    1539700.0,
    1137700.0,
    933900.0,
    830500.0,
    708000.0,
    646500.0,
    836400.0,
    1195900.0,
    593700.0,
    700600.0,
    621300.0,
    540800.0,
    369800.0,
    281700.0,
    477600.0,
    520100.0,
    382800.0,
    572100.0,
    409900.0,
    333300.0,
    731400.0,
    1457400.0,
    692300.0,
    662900.0,
    671000.0,
    647200.0,
    653600.0,
    1555800.0,
    1091900.0,
    958600.0,
    518300.0,
    516600.0,
    327400.0,
    359700.0,
    465100.0,
    347300.0,
    584100.0,
    727500.0,
    1032800.0,
    461200.0,
    642500.0,
    517400.0,
    474900.0,
    474500.0,
    489400.0,
    485300.0,
    586600.0,
    526200.0,
    472300.0,
    468900.0,
    656900.0,
    646500.0,
    385900.0,
    470100.0,
    477500.0,
    729000.0,
    522800.0,
    478700.0,
    486300.0,
    1052100.0,
    2070300.0,
    849200.0,
    672000.0,
    1253600.0,
    975800.0,
    1118900.0,
    1281600.0,
    1038000.0,
    1769800.0,
    1087100.0,
    684000.0,
    1041300.0,
    673600.0,
    947300.0,
    521300.0,
    609400.0,
    461300.0,
    371000.0,
    413000.0,
    463800.0,
    353300.0,
    502900.0,
    371200.0,
    358800.0,
    602400.0,
    480500.0,
    595100.0,
    338600.0,
    378600.0,
    339100.0,
    488800.0,
    365100.0,
    338500.0,
    523500.0,
    488900.0,
    495300.0,
    696500.0,
    556100.0,
    271200.0,
    624900.0,
    864800.0,
    479100.0,
    387200.0,
    337500.0,
    388300.0,
    548000.0,
    453900.0,
    448500.0,
    259800.0,
    527300.0,
    391900.0,
    385500.0,
    470600.0,
    418700.0,
    501500.0,
    357200.0,
    304400.0,
    345700.0,
    435600.0,
    807800.0,
    555000.0,
    911700.0,
    826700.0,
    2899600.0,
    1319500.0,
    725200.0,
    657600.0,
    591200.0,
    575600.0,
    907000.0,
    600300.0,
    953000.0,
    491600.0,
    631900.0,
    484200.0,
    513000.0,
    540300.0,
    734400.0,
    543500.0,
    474300.0,
    576200.0,
    274900.0,
    525100.0,
    472900.0,
    693900.0,
    592100.0,
    546500.0,
    578400.0,
    550500.0,
    1126500.0,
    497900.0,
    807300.0,
    745200.0,
    775100.0,
    760000.0,
    457800.0,
    389600.0,
    440400.0,
    596200.0,
    402100.0,
    443300.0,
    456800.0,
    749000.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "THO",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);