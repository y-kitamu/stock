/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_ENS");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 66.5, 66.41, 67.0, 65.32],
    ['2022/08/04', 66.41, 67.85, 67.86, 66.26],
    ['2022/08/05', 67.09, 67.83, 68.41, 66.86],
    ['2022/08/08', 68.48, 68.23, 69.36, 67.71],
    ['2022/08/09', 68.2, 67.34, 68.2, 66.6],
    ['2022/08/10', 69.2, 70.39, 70.41, 68.56],
    ['2022/08/11', 69.47, 68.3, 70.97, 68.16],
    ['2022/08/12', 68.39, 70.26, 70.48, 67.75],
    ['2022/08/15', 69.23, 71.4, 71.7, 69.04],
    ['2022/08/16', 70.62, 70.78, 71.28, 70.06],
    ['2022/08/17', 69.57, 69.73, 70.48, 68.94],
    ['2022/08/18', 69.83, 70.43, 70.67, 69.83],
    ['2022/08/19', 69.73, 68.4, 69.73, 68.01],
    ['2022/08/22', 67.36, 67.09, 67.61, 66.77],
    ['2022/08/23', 66.8, 65.82, 67.62, 65.77],
    ['2022/08/24', 66.07, 66.32, 66.96, 65.94],
    ['2022/08/25', 66.64, 67.4, 67.51, 66.52],
    ['2022/08/26', 67.35, 63.72, 67.66, 63.65],
    ['2022/08/29', 63.61, 64.13, 64.94, 62.71],
    ['2022/08/30', 64.51, 62.84, 64.59, 62.4],
    ['2022/08/31', 62.76, 61.82, 62.92, 61.59],
    ['2022/09/01', 61.5, 61.77, 61.86, 60.35],
    ['2022/09/02', 62.62, 60.6, 62.62, 60.23],
    ['2022/09/06', 60.71, 59.86, 60.71, 58.88],
    ['2022/09/07', 59.98, 61.56, 61.63, 59.8],
    ['2022/09/08', 60.87, 62.14, 62.16, 60.42],
    ['2022/09/09', 62.54, 64.65, 64.79, 62.54],
    ['2022/09/12', 65.0, 65.86, 65.87, 64.65],
    ['2022/09/13', 64.42, 62.77, 64.79, 62.31],
    ['2022/09/14', 62.88, 62.87, 62.93, 61.82],
    ['2022/09/15', 62.43, 62.38, 63.31, 62.18],
    ['2022/09/16', 61.58, 61.92, 62.12, 60.9],
    ['2022/09/19', 61.13, 63.19, 63.38, 61.13],
    ['2022/09/20', 62.37, 62.06, 62.37, 61.34],
    ['2022/09/21', 62.71, 62.31, 63.93, 61.98],
    ['2022/09/22', 61.91, 60.87, 62.03, 60.62],
    ['2022/09/23', 60.06, 58.61, 60.34, 57.55],
    ['2022/09/26', 58.38, 58.58, 59.76, 58.07],
    ['2022/09/27', 59.46, 58.48, 60.02, 57.83],
    ['2022/09/28', 58.98, 60.31, 60.75, 58.58],
    ['2022/09/29', 59.27, 59.12, 59.28, 58.04],
    ['2022/09/30', 59.3, 57.82, 60.02, 57.72],
    ['2022/10/03', 58.66, 59.41, 59.96, 58.6],
    ['2022/10/04', 60.77, 62.94, 62.97, 60.45],
    ['2022/10/05', 61.56, 62.33, 62.66, 60.79],
    ['2022/10/06', 61.86, 61.75, 62.7, 61.38],
    ['2022/10/07', 61.1, 59.81, 61.26, 59.4],
    ['2022/10/10', 60.07, 60.2, 60.72, 59.58],
    ['2022/10/11', 60.14, 60.18, 61.19, 59.44],
    ['2022/10/12', 60.33, 58.75, 60.33, 58.47],
    ['2022/10/13', 57.31, 60.63, 60.65, 56.38],
    ['2022/10/14', 60.94, 58.59, 61.45, 58.34],
    ['2022/10/17', 60.04, 60.15, 60.62, 59.69],
    ['2022/10/18', 61.89, 61.17, 62.65, 60.43],
    ['2022/10/19', 60.32, 59.66, 60.79, 59.15],
    ['2022/10/20', 59.97, 58.44, 60.47, 58.22],
    ['2022/10/21', 58.91, 60.48, 60.56, 58.13],
    ['2022/10/24', 60.87, 60.61, 61.36, 59.9],
    ['2022/10/25', 60.56, 62.37, 62.6, 60.16],
    ['2022/10/26', 63.11, 63.91, 65.37, 62.37],
    ['2022/10/27', 64.56, 64.42, 65.69, 64.05],
    ['2022/10/28', 64.83, 64.94, 65.52, 63.66],
    ['2022/10/31', 64.76, 65.89, 66.11, 64.07],
    ['2022/11/01', 66.88, 66.87, 67.06, 65.91],
    ['2022/11/02', 66.35, 64.73, 67.96, 64.64],
    ['2022/11/03', 63.53, 64.71, 65.11, 62.94],
    ['2022/11/04', 65.93, 65.89, 66.23, 64.94],
    ['2022/11/07', 66.45, 66.79, 66.91, 65.41],
    ['2022/11/08', 66.92, 66.64, 68.54, 66.26],
    ['2022/11/09', 65.98, 66.19, 67.25, 65.45],
    ['2022/11/10', 70.69, 76.11, 77.11, 70.07],
    ['2022/11/11', 76.31, 77.07, 78.48, 75.98],
    ['2022/11/14', 76.21, 77.24, 78.38, 75.11],
    ['2022/11/15', 78.32, 77.66, 78.93, 76.5],
    ['2022/11/16', 76.83, 75.73, 76.83, 74.82],
    ['2022/11/17', 74.43, 75.83, 75.9, 73.9],
    ['2022/11/18', 77.38, 78.54, 78.55, 76.67],
    ['2022/11/21', 77.62, 75.24, 78.05, 74.91],
    ['2022/11/22', 75.78, 76.19, 76.6, 75.55],
    ['2022/11/23', 76.05, 75.22, 76.54, 74.74],
    ['2022/11/25', 75.12, 75.44, 75.73, 74.65],
    ['2022/11/28', 74.83, 73.06, 75.01, 72.54],
    ['2022/11/29', 73.34, 73.32, 73.79, 72.72],
    ['2022/11/30', 73.23, 75.12, 75.6, 71.96],
    ['2022/12/01', 75.69, 75.9, 76.17, 73.84],
    ['2022/12/02', 74.77, 77.4, 77.98, 74.43],
    ['2022/12/05', 76.65, 75.89, 76.65, 75.29],
    ['2022/12/06', 76.17, 73.93, 76.23, 73.65],
    ['2022/12/07', 73.88, 74.33, 75.31, 73.34],
    ['2022/12/08', 74.82, 74.22, 75.4, 73.72],
    ['2022/12/09', 73.76, 74.98, 75.3, 73.44],
    ['2022/12/12', 75.2, 75.67, 75.68, 74.04],
    ['2022/12/13', 77.64, 78.02, 78.62, 76.38],
    ['2022/12/14', 77.84, 78.52, 79.31, 77.39],
    ['2022/12/15', 77.32, 75.72, 77.75, 75.56],
    ['2022/12/16', 74.6, 73.9, 75.32, 72.56],
    ['2022/12/19', 73.87, 72.05, 74.2, 71.62],
    ['2022/12/20', 72.11, 71.86, 72.72, 71.69],
    ['2022/12/21', 72.47, 73.83, 74.35, 72.11],
    ['2022/12/22', 72.85, 72.51, 73.69, 70.89],
    ['2022/12/23', 72.02, 72.75, 72.76, 71.89],
    ['2022/12/27', 73.19, 73.01, 73.29, 72.36],
    ['2022/12/28', 73.07, 72.19, 73.67, 72.02],
    ['2022/12/29', 72.91, 74.14, 74.7, 72.91],
    ['2022/12/30', 73.36, 73.56, 73.99, 72.94],
    ['2023/01/03', 74.45, 72.43, 74.84, 71.75],
    ['2023/01/04', 73.33, 72.97, 73.86, 72.32],
    ['2023/01/05', 72.49, 72.58, 73.11, 71.5],
    ['2023/01/06', 73.66, 75.27, 75.87, 72.96],
    ['2023/01/09', 76.18, 75.77, 77.21, 75.66],
    ['2023/01/10', 75.67, 77.66, 77.7, 75.61],
    ['2023/01/11', 78.24, 78.84, 79.21, 77.83],
    ['2023/01/12', 80.15, 80.49, 80.73, 78.6],
    ['2023/01/13', 79.83, 81.26, 81.75, 79.18],
    ['2023/01/17', 81.19, 80.36, 82.17, 80.07],
    ['2023/01/18', 80.55, 79.39, 81.74, 78.81],
    ['2023/01/19', 78.54, 78.77, 79.14, 77.82],
    ['2023/01/20', 79.45, 80.03, 80.11, 78.11],
    ['2023/01/23', 80.0, 80.95, 81.43, 79.99],
    ['2023/01/24', 79.95, 80.89, 81.36, 79.5],
    ['2023/01/25', 79.89, 79.72, 80.27, 78.57],
    ['2023/01/26', 80.52, 79.48, 80.52, 78.58],
    ['2023/01/27', 79.41, 79.88, 80.27, 78.98],
    ['2023/01/30', 79.04, 78.26, 79.79, 78.0],
    ['2023/01/31', 78.26, 82.7, 82.82, 78.26],
    ['2023/02/01', 83.53, 84.29, 85.09, 82.07],
    ['2023/02/02', 89.9, 85.55, 89.9, 84.72],
    ['2023/02/03', 84.26, 85.42, 85.44, 84.14],
    ['2023/02/06', 84.4, 86.23, 86.5, 83.96],
    ['2023/02/07', 85.78, 86.66, 86.87, 84.67],
    ['2023/02/08', 85.54, 85.86, 87.3, 85.54],
    ['2023/02/09', 86.62, 90.58, 93.96, 85.89],
    ['2023/02/10', 90.21, 89.97, 90.34, 88.69],
    ['2023/02/13', 90.22, 92.35, 92.51, 89.67],
    ['2023/02/14', 91.62, 91.6, 92.38, 90.47],
    ['2023/02/15', 90.62, 91.96, 92.35, 90.31],
    ['2023/02/16', 90.32, 91.1, 92.02, 90.32],
    ['2023/02/17', 90.78, 90.65, 91.13, 89.63],
    ['2023/02/21', 89.3, 87.3, 89.67, 87.26],
    ['2023/02/22', 87.67, 87.83, 88.56, 86.99],
    ['2023/02/23', 88.65, 89.19, 89.24, 87.48],
    ['2023/02/24', 87.79, 87.49, 88.29, 86.99],
    ['2023/02/27', 88.67, 88.7, 88.98, 88.04],
    ['2023/02/28', 88.17, 90.34, 90.53, 88.14],
    ['2023/03/01', 90.18, 90.94, 91.46, 89.85],
    ['2023/03/02', 89.87, 91.1, 91.13, 89.18],
    ['2023/03/03', 91.83, 91.84, 92.24, 90.57],
    ['2023/03/06', 91.71, 90.55, 91.84, 90.15],
    ['2023/03/07', 90.7, 88.42, 91.06, 88.28],
    ['2023/03/08', 88.83, 88.56, 89.55, 87.87],
    ['2023/03/09', 88.93, 86.59, 89.79, 86.48],
    ['2023/03/10', 86.43, 83.21, 86.43, 82.8],
    ['2023/03/13', 81.5, 81.24, 82.66, 80.73],
    ['2023/03/14', 84.39, 82.83, 84.84, 81.64],
    ['2023/03/15', 80.16, 80.34, 80.53, 78.89],
    ['2023/03/16', 79.35, 81.56, 82.17, 79.12],
    ['2023/03/17', 80.94, 79.3, 81.06, 78.68],
    ['2023/03/20', 80.35, 81.25, 81.97, 80.35],
    ['2023/03/21', 83.11, 83.07, 84.24, 82.24],
    ['2023/03/22', 83.24, 81.08, 83.68, 80.98],
    ['2023/03/23', 81.5, 80.99, 83.06, 79.97],
    ['2023/03/24', 79.97, 81.36, 81.36, 79.33],
    ['2023/03/27', 82.56, 82.24, 83.19, 81.2],
    ['2023/03/28', 82.03, 83.84, 83.91, 81.48],
    ['2023/03/29', 84.67, 84.82, 85.08, 83.91],
    ['2023/03/30', 85.62, 85.59, 86.42, 84.88],
    ['2023/03/31', 86.48, 86.74, 86.81, 85.53],
    ['2023/04/03', 86.22, 85.54, 86.41, 84.06],
    ['2023/04/04', 85.44, 81.56, 85.44, 81.11],
    ['2023/04/05', 80.8, 80.61, 81.95, 79.63],
    ['2023/04/06', 80.9, 79.59, 80.9, 79.52],
    ['2023/04/10', 79.48, 80.71, 80.99, 79.48],
    ['2023/04/11', 81.05, 80.9, 81.57, 80.59],
    ['2023/04/12', 82.12, 81.43, 82.23, 81.09],
    ['2023/04/13', 81.99, 82.59, 82.75, 80.27],
    ['2023/04/14', 82.69, 81.71, 83.11, 81.33],
    ['2023/04/17', 82.09, 83.16, 83.3, 81.94],
    ['2023/04/18', 83.74, 83.0, 83.95, 82.62],
    ['2023/04/19', 82.74, 82.82, 83.19, 82.43],
    ['2023/04/20', 82.32, 82.81, 82.9, 81.61],
    ['2023/04/21', 83.17, 82.49, 83.17, 81.45],
    ['2023/04/24', 82.54, 83.1, 83.42, 82.43],
    ['2023/04/25', 82.27, 81.06, 82.69, 81.04],
    ['2023/04/26', 80.04, 80.05, 80.9, 79.77],
    ['2023/04/27', 80.36, 82.27, 82.34, 80.36],
    ['2023/04/28', 81.66, 82.83, 83.14, 81.66],
    ['2023/05/01', 82.82, 83.39, 84.58, 82.8],
    ['2023/05/02', 82.73, 82.78, 83.0, 81.46],
    ['2023/05/03', 83.27, 82.27, 84.15, 82.14],
    ['2023/05/04', 81.42, 81.09, 81.42, 79.77],
    ['2023/05/05', 82.22, 84.25, 84.55, 82.22],
    ['2023/05/08', 84.85, 84.43, 84.85, 83.41],
    ['2023/05/09', 84.12, 84.71, 84.95, 83.55],
    ['2023/05/10', 85.99, 84.52, 85.99, 84.18],
    ['2023/05/11', 83.59, 84.03, 84.04, 83.04],
    ['2023/05/12', 84.09, 83.52, 84.72, 82.36],
    ['2023/05/15', 83.53, 84.21, 84.83, 83.1],
    ['2023/05/16', 83.83, 82.91, 83.83, 82.64],
    ['2023/05/17', 83.19, 85.78, 86.22, 82.72],
    ['2023/05/18', 85.51, 85.85, 86.24, 84.71],
    ['2023/05/19', 86.85, 85.66, 86.85, 84.4],
    ['2023/05/22', 86.27, 86.64, 87.08, 85.33],
    ['2023/05/23', 86.07, 85.59, 86.96, 85.18],
    ['2023/05/24', 84.79, 83.94, 84.79, 83.1],
    ['2023/05/25', 88.13, 96.06, 96.2, 87.9],
    ['2023/05/26', 97.03, 98.28, 98.77, 95.9],
    ['2023/05/30', 98.83, 99.81, 99.85, 98.35],
    ['2023/05/31', 99.38, 97.11, 100.03, 96.0],
    ['2023/06/01', 97.51, 99.15, 99.16, 96.38],
    ['2023/06/02', 100.69, 103.05, 103.25, 100.01],
    ['2023/06/05', 102.43, 101.65, 102.43, 100.02],
    ['2023/06/06', 101.3, 103.63, 104.95, 101.3],
    ['2023/06/07', 104.94, 105.75, 106.05, 104.44],
    ['2023/06/08', 104.38, 104.2, 105.0, 103.48],
    ['2023/06/09', 104.44, 103.89, 105.14, 103.26],
    ['2023/06/12', 104.14, 104.74, 105.95, 103.59],
    ['2023/06/13', 104.63, 105.53, 106.43, 104.63],
    ['2023/06/14', 105.57, 105.27, 106.47, 104.61],
    ['2023/06/15', 104.51, 105.82, 106.09, 104.24],
    ['2023/06/16', 106.93, 104.4, 107.44, 104.11],
    ['2023/06/20', 104.31, 102.13, 104.39, 101.95],
    ['2023/06/21', 102.13, 103.7, 103.92, 101.87],
    ['2023/06/22', 103.36, 102.73, 103.36, 101.58],
    ['2023/06/23', 101.13, 102.39, 102.67, 100.69],
    ['2023/06/26', 102.4, 102.53, 103.93, 102.4],
    ['2023/06/27', 102.68, 105.72, 106.79, 102.57],
    ['2023/06/28', 105.39, 105.68, 106.01, 104.66],
    ['2023/06/29', 105.71, 107.27, 107.55, 105.71],
    ['2023/06/30', 108.25, 108.52, 109.5, 107.5],
    ['2023/07/03', 108.5, 108.59, 109.11, 108.07],
    ['2023/07/05', 107.81, 105.64, 107.85, 105.51],
    ['2023/07/06', 104.58, 105.39, 105.87, 103.92],
    ['2023/07/07', 105.52, 106.51, 107.45, 105.52],
    ['2023/07/10', 106.08, 108.9, 108.9, 106.08],
    ['2023/07/11', 109.14, 109.3, 109.62, 108.54],
    ['2023/07/12', 110.56, 110.36, 111.8, 109.87],
    ['2023/07/13', 110.73, 110.99, 111.49, 110.05],
    ['2023/07/14', 111.36, 110.68, 111.36, 109.92],
    ['2023/07/17', 110.7, 111.97, 112.62, 110.62],
    ['2023/07/18', 111.77, 112.98, 113.19, 111.77],
    ['2023/07/19', 112.63, 112.61, 113.21, 111.65],
    ['2023/07/20', 113.34, 111.39, 113.34, 111.3],
    ['2023/07/21', 111.66, 109.07, 111.7, 108.66],
    ['2023/07/24', 109.3, 108.32, 110.59, 108.07],
    ['2023/07/25', 107.78, 107.67, 109.13, 107.5],
    ['2023/07/26', 107.0, 107.27, 107.82, 105.58],
    ['2023/07/27', 107.98, 106.91, 108.46, 106.41],
    ['2023/07/28', 108.29, 106.77, 108.74, 106.2],
    ['2023/07/31', 107.33, 108.32, 108.5, 107.1],
    ['2023/08/01', 107.3, 107.88, 108.52, 106.87],
    ['2023/08/02', 106.51, 106.78, 107.32, 105.77],
]);
var volumes = [
    121900.0,
    142600.0,
    170800.0,
    194800.0,
    163200.0,
    183500.0,
    463000.0,
    283200.0,
    230900.0,
    170500.0,
    169700.0,
    145200.0,
    200700.0,
    210400.0,
    170600.0,
    100400.0,
    105300.0,
    199500.0,
    183100.0,
    85300.0,
    134300.0,
    166800.0,
    142900.0,
    170200.0,
    159600.0,
    172800.0,
    227400.0,
    217400.0,
    239200.0,
    162400.0,
    167600.0,
    526800.0,
    145600.0,
    127100.0,
    239500.0,
    307200.0,
    267600.0,
    240200.0,
    201400.0,
    221700.0,
    200100.0,
    241900.0,
    333700.0,
    240000.0,
    215600.0,
    154400.0,
    205000.0,
    138800.0,
    155600.0,
    187700.0,
    328500.0,
    208700.0,
    291900.0,
    243700.0,
    210300.0,
    214200.0,
    291800.0,
    218700.0,
    243600.0,
    249200.0,
    233800.0,
    242000.0,
    519100.0,
    200700.0,
    187300.0,
    141100.0,
    184400.0,
    133200.0,
    218800.0,
    331400.0,
    406900.0,
    337700.0,
    226900.0,
    243000.0,
    203200.0,
    277600.0,
    348600.0,
    238100.0,
    162200.0,
    169700.0,
    110600.0,
    311100.0,
    184100.0,
    341200.0,
    605500.0,
    211300.0,
    210300.0,
    219700.0,
    174000.0,
    160900.0,
    213800.0,
    236300.0,
    330200.0,
    369100.0,
    287500.0,
    438000.0,
    162000.0,
    165500.0,
    138600.0,
    138800.0,
    93800.0,
    97200.0,
    119900.0,
    116400.0,
    129000.0,
    373600.0,
    164700.0,
    143400.0,
    126100.0,
    99800.0,
    116600.0,
    174400.0,
    156500.0,
    157300.0,
    188900.0,
    162500.0,
    142000.0,
    188600.0,
    107400.0,
    90700.0,
    132700.0,
    127900.0,
    121300.0,
    122100.0,
    409400.0,
    232500.0,
    192100.0,
    162100.0,
    311800.0,
    194800.0,
    271600.0,
    373900.0,
    200000.0,
    190800.0,
    186700.0,
    187600.0,
    218500.0,
    181800.0,
    166900.0,
    184100.0,
    194200.0,
    184800.0,
    126800.0,
    401300.0,
    228200.0,
    115300.0,
    118500.0,
    167900.0,
    226500.0,
    174400.0,
    193900.0,
    302600.0,
    318400.0,
    303000.0,
    275500.0,
    214400.0,
    373900.0,
    189100.0,
    111000.0,
    143400.0,
    174600.0,
    153700.0,
    164500.0,
    232100.0,
    212500.0,
    144700.0,
    238600.0,
    207600.0,
    152700.0,
    159900.0,
    110500.0,
    199300.0,
    169300.0,
    144000.0,
    148900.0,
    177100.0,
    184900.0,
    154600.0,
    126100.0,
    165700.0,
    165800.0,
    159100.0,
    106400.0,
    143200.0,
    116600.0,
    168300.0,
    154900.0,
    110200.0,
    203500.0,
    114700.0,
    167700.0,
    88700.0,
    153900.0,
    228000.0,
    112400.0,
    136300.0,
    144400.0,
    125500.0,
    198000.0,
    159400.0,
    384900.0,
    146300.0,
    183300.0,
    166700.0,
    702800.0,
    430200.0,
    319400.0,
    399900.0,
    343700.0,
    388000.0,
    238300.0,
    346000.0,
    416400.0,
    377300.0,
    217400.0,
    284500.0,
    294600.0,
    344900.0,
    272400.0,
    507500.0,
    281500.0,
    189200.0,
    277200.0,
    1678600.0,
    240900.0,
    267000.0,
    164500.0,
    240900.0,
    208800.0,
    78900.0,
    272600.0,
    223700.0,
    198100.0,
    274800.0,
    151600.0,
    282800.0,
    273100.0,
    264600.0,
    169000.0,
    160700.0,
    199200.0,
    264500.0,
    258500.0,
    221900.0,
    181900.0,
    202200.0,
    247000.0,
    213800.0,
    158600.0,
    165500.0,
    273100.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "ENS",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 40,
            end: 70,
            top: 30,
            height: 20,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);