/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_HCI");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 66.35, 67.11, 67.29, 65.68],
    ['2022/08/04', 66.79, 68.53, 68.54, 66.34],
    ['2022/08/05', 68.04, 69.91, 70.23, 67.42],
    ['2022/08/08', 69.72, 69.6, 70.87, 69.27],
    ['2022/08/09', 65.55, 58.48, 66.85, 54.18],
    ['2022/08/10', 58.77, 56.63, 59.09, 56.6],
    ['2022/08/11', 57.02, 56.31, 58.66, 56.23],
    ['2022/08/12', 56.31, 55.96, 58.13, 55.62],
    ['2022/08/15', 56.74, 56.91, 58.26, 56.66],
    ['2022/08/16', 57.28, 56.82, 58.14, 56.45],
    ['2022/08/17', 56.71, 57.25, 58.18, 55.57],
    ['2022/08/18', 56.58, 55.21, 57.14, 55.04],
    ['2022/08/19', 54.56, 52.18, 54.73, 51.6],
    ['2022/08/22', 51.35, 50.47, 51.85, 50.1],
    ['2022/08/23', 50.1, 49.53, 50.25, 48.71],
    ['2022/08/24', 49.63, 49.34, 49.67, 48.64],
    ['2022/08/25', 50.0, 49.72, 50.0, 49.01],
    ['2022/08/26', 50.16, 46.99, 50.16, 46.81],
    ['2022/08/29', 46.81, 44.94, 47.06, 44.84],
    ['2022/08/30', 45.52, 45.51, 45.66, 43.8],
    ['2022/08/31', 46.08, 46.61, 47.68, 45.69],
    ['2022/09/01', 46.9, 47.01, 47.27, 45.96],
    ['2022/09/02', 46.89, 46.3, 47.52, 46.12],
    ['2022/09/06', 46.36, 46.14, 46.37, 45.49],
    ['2022/09/07', 46.43, 47.34, 48.69, 46.36],
    ['2022/09/08', 47.25, 47.19, 47.48, 46.58],
    ['2022/09/09', 47.46, 47.12, 47.79, 46.88],
    ['2022/09/12', 47.3, 47.04, 47.51, 46.76],
    ['2022/09/13', 46.33, 46.7, 46.79, 45.86],
    ['2022/09/14', 46.57, 48.07, 48.11, 46.07],
    ['2022/09/15', 47.66, 49.44, 49.95, 47.3],
    ['2022/09/16', 49.21, 49.73, 51.21, 49.0],
    ['2022/09/19', 49.22, 50.04, 50.12, 48.42],
    ['2022/09/20', 49.43, 46.83, 49.52, 46.66],
    ['2022/09/21', 46.65, 46.94, 47.82, 46.62],
    ['2022/09/22', 47.16, 46.26, 47.16, 45.68],
    ['2022/09/23', 45.84, 43.35, 45.91, 42.55],
    ['2022/09/26', 42.87, 42.51, 43.34, 41.9],
    ['2022/09/27', 42.74, 40.7, 42.76, 39.98],
    ['2022/09/28', 40.62, 40.67, 41.14, 40.0],
    ['2022/09/29', 40.34, 39.53, 40.34, 38.53],
    ['2022/09/30', 39.73, 38.23, 39.73, 38.16],
    ['2022/10/03', 38.82, 37.52, 38.82, 37.44],
    ['2022/10/04', 37.51, 38.94, 39.74, 37.51],
    ['2022/10/05', 38.87, 38.1, 38.87, 37.84],
    ['2022/10/06', 38.01, 34.8, 38.09, 34.75],
    ['2022/10/07', 34.57, 32.43, 34.69, 31.58],
    ['2022/10/10', 32.18, 36.0, 37.3, 32.08],
    ['2022/10/11', 35.66, 34.7, 36.66, 34.39],
    ['2022/10/12', 35.2, 35.65, 36.01, 34.74],
    ['2022/10/13', 35.51, 36.62, 37.05, 35.4],
    ['2022/10/14', 36.74, 36.09, 38.29, 35.3],
    ['2022/10/17', 36.55, 37.77, 38.07, 36.55],
    ['2022/10/18', 38.09, 36.07, 38.77, 35.61],
    ['2022/10/19', 35.42, 33.21, 36.22, 33.07],
    ['2022/10/20', 32.97, 30.2, 32.97, 30.14],
    ['2022/10/21', 30.62, 28.53, 30.62, 28.37],
    ['2022/10/24', 28.49, 27.73, 29.1, 26.97],
    ['2022/10/25', 27.92, 31.44, 31.75, 27.28],
    ['2022/10/26', 31.4, 32.46, 33.19, 30.62],
    ['2022/10/27', 32.74, 33.44, 35.2, 32.74],
    ['2022/10/28', 33.84, 34.23, 34.82, 33.32],
    ['2022/10/31', 34.42, 35.73, 36.29, 34.36],
    ['2022/11/01', 35.66, 36.77, 37.01, 35.28],
    ['2022/11/02', 36.49, 36.17, 37.45, 35.87],
    ['2022/11/03', 36.04, 35.79, 36.81, 35.16],
    ['2022/11/04', 35.95, 34.82, 36.34, 34.06],
    ['2022/11/07', 35.16, 34.85, 35.16, 32.21],
    ['2022/11/08', 34.93, 33.75, 35.34, 32.79],
    ['2022/11/09', 34.0, 36.48, 39.34, 32.42],
    ['2022/11/10', 37.68, 40.48, 40.52, 37.4],
    ['2022/11/11', 40.58, 41.6, 42.27, 40.32],
    ['2022/11/14', 41.32, 42.14, 42.43, 41.01],
    ['2022/11/15', 42.61, 41.08, 42.61, 40.19],
    ['2022/11/16', 40.56, 38.61, 40.56, 38.49],
    ['2022/11/17', 38.24, 37.87, 38.63, 37.28],
    ['2022/11/18', 38.67, 37.14, 38.67, 36.65],
    ['2022/11/21', 36.79, 37.16, 37.54, 36.28],
    ['2022/11/22', 37.56, 38.24, 38.47, 36.84],
    ['2022/11/23', 38.24, 37.94, 38.51, 37.51],
    ['2022/11/25', 37.54, 37.42, 38.07, 37.42],
    ['2022/11/28', 37.35, 35.92, 37.35, 35.13],
    ['2022/11/29', 35.56, 36.27, 36.86, 34.48],
    ['2022/11/30', 36.51, 36.87, 37.04, 35.1],
    ['2022/12/01', 36.66, 37.4, 37.83, 36.65],
    ['2022/12/02', 36.76, 37.3, 37.8, 36.57],
    ['2022/12/05', 37.15, 36.58, 37.15, 35.46],
    ['2022/12/06', 36.92, 37.33, 37.9, 35.47],
    ['2022/12/07', 36.95, 35.59, 37.57, 35.35],
    ['2022/12/08', 35.75, 37.18, 37.44, 35.29],
    ['2022/12/09', 37.43, 34.1, 38.24, 33.59],
    ['2022/12/12', 33.92, 34.31, 34.76, 32.86],
    ['2022/12/13', 35.53, 34.17, 36.32, 34.01],
    ['2022/12/14', 34.29, 34.33, 35.27, 32.98],
    ['2022/12/15', 33.72, 33.52, 34.67, 32.32],
    ['2022/12/16', 32.96, 32.55, 33.7, 31.94],
    ['2022/12/19', 32.65, 34.31, 34.4, 32.11],
    ['2022/12/20', 33.99, 35.95, 36.13, 33.92],
    ['2022/12/21', 35.95, 36.6, 36.84, 35.95],
    ['2022/12/22', 36.03, 38.07, 38.18, 35.99],
    ['2022/12/23', 38.4, 38.98, 39.87, 38.37],
    ['2022/12/27', 39.31, 38.76, 39.49, 38.18],
    ['2022/12/28', 38.89, 37.93, 39.62, 37.51],
    ['2022/12/29', 38.34, 40.61, 40.66, 38.34],
    ['2022/12/30', 39.81, 39.01, 40.5, 38.17],
    ['2023/01/03', 39.05, 39.04, 39.99, 38.43],
    ['2023/01/04', 39.68, 39.69, 40.37, 39.34],
    ['2023/01/05', 39.08, 38.4, 39.26, 38.14],
    ['2023/01/06', 38.87, 39.14, 39.62, 37.92],
    ['2023/01/09', 39.53, 39.31, 40.37, 39.16],
    ['2023/01/10', 39.68, 40.55, 40.83, 38.69],
    ['2023/01/11', 40.7, 40.59, 41.45, 39.44],
    ['2023/01/12', 41.16, 42.01, 42.43, 40.28],
    ['2023/01/13', 41.63, 42.55, 43.43, 41.06],
    ['2023/01/17', 42.24, 44.68, 44.76, 41.25],
    ['2023/01/18', 45.04, 45.81, 46.3, 44.39],
    ['2023/01/19', 46.66, 45.8, 47.3, 45.32],
    ['2023/01/20', 46.18, 46.31, 46.35, 44.34],
    ['2023/01/23', 46.06, 48.28, 48.69, 46.06],
    ['2023/01/24', 48.59, 49.26, 49.47, 48.18],
    ['2023/01/25', 49.02, 49.23, 49.28, 47.89],
    ['2023/01/26', 49.71, 49.69, 50.43, 49.07],
    ['2023/01/27', 49.58, 49.75, 50.02, 49.12],
    ['2023/01/30', 49.45, 48.66, 50.83, 48.32],
    ['2023/01/31', 48.87, 49.47, 49.79, 48.87],
    ['2023/02/01', 49.73, 49.19, 49.94, 48.6],
    ['2023/02/02', 49.85, 50.68, 50.72, 49.45],
    ['2023/02/03', 50.39, 49.72, 51.21, 49.47],
    ['2023/02/06', 49.74, 49.02, 50.44, 48.01],
    ['2023/02/07', 48.52, 49.68, 49.8, 47.98],
    ['2023/02/08', 49.46, 47.6, 49.85, 47.52],
    ['2023/02/09', 48.06, 47.99, 48.69, 47.7],
    ['2023/02/10', 48.09, 48.6, 48.88, 47.54],
    ['2023/02/13', 48.76, 49.0, 49.68, 47.96],
    ['2023/02/14', 49.64, 48.36, 49.67, 48.1],
    ['2023/02/15', 48.02, 50.58, 50.7, 47.85],
    ['2023/02/16', 49.35, 49.86, 50.15, 48.94],
    ['2023/02/17', 49.98, 52.03, 52.07, 49.55],
    ['2023/02/21', 50.98, 50.3, 51.54, 49.7],
    ['2023/02/22', 50.31, 49.66, 51.09, 49.34],
    ['2023/02/23', 49.77, 49.52, 50.44, 48.18],
    ['2023/02/24', 48.74, 51.4, 51.52, 48.56],
    ['2023/02/27', 51.56, 53.11, 54.21, 51.36],
    ['2023/02/28', 53.0, 52.13, 54.07, 52.06],
    ['2023/03/01', 52.14, 52.35, 52.57, 51.36],
    ['2023/03/02', 51.85, 53.18, 53.29, 51.27],
    ['2023/03/03', 53.54, 54.49, 54.51, 52.74],
    ['2023/03/06', 54.61, 54.97, 55.14, 53.98],
    ['2023/03/07', 54.75, 54.91, 55.17, 54.27],
    ['2023/03/08', 55.4, 54.18, 55.8, 53.94],
    ['2023/03/09', 54.11, 52.32, 54.66, 52.07],
    ['2023/03/10', 54.72, 57.76, 59.37, 53.16],
    ['2023/03/13', 56.68, 55.16, 58.14, 54.4],
    ['2023/03/14', 56.78, 58.05, 58.58, 56.09],
    ['2023/03/15', 56.44, 54.45, 57.93, 53.06],
    ['2023/03/16', 53.8, 55.59, 56.77, 53.07],
    ['2023/03/17', 55.04, 52.83, 55.41, 52.71],
    ['2023/03/20', 53.87, 54.4, 55.72, 53.11],
    ['2023/03/21', 55.27, 55.34, 55.76, 54.36],
    ['2023/03/22', 55.23, 53.31, 55.92, 53.31],
    ['2023/03/23', 53.43, 52.94, 54.24, 52.48],
    ['2023/03/24', 52.94, 53.83, 54.71, 52.74],
    ['2023/03/27', 54.5, 54.58, 54.93, 53.77],
    ['2023/03/28', 54.55, 53.98, 55.34, 53.98],
    ['2023/03/29', 54.23, 52.72, 54.62, 52.49],
    ['2023/03/30', 53.06, 51.83, 53.29, 51.64],
    ['2023/03/31', 52.15, 53.22, 53.55, 52.15],
    ['2023/04/03', 53.18, 53.07, 53.84, 52.44],
    ['2023/04/04', 53.28, 51.66, 53.79, 50.84],
    ['2023/04/05', 51.56, 51.52, 51.9, 51.04],
    ['2023/04/06', 51.52, 50.92, 52.07, 50.84],
    ['2023/04/10', 50.67, 51.1, 51.64, 50.59],
    ['2023/04/11', 51.19, 51.06, 51.87, 50.94],
    ['2023/04/12', 51.31, 50.47, 51.69, 50.34],
    ['2023/04/13', 50.62, 52.06, 52.85, 50.62],
    ['2023/04/14', 52.31, 49.24, 52.31, 48.12],
    ['2023/04/17', 49.3, 50.64, 50.89, 49.3],
    ['2023/04/18', 50.61, 51.42, 51.51, 50.28],
    ['2023/04/19', 51.38, 52.58, 52.78, 51.38],
    ['2023/04/20', 52.55, 54.5, 54.64, 52.55],
    ['2023/04/21', 54.38, 54.19, 54.38, 53.0],
    ['2023/04/24', 54.06, 53.34, 54.42, 53.22],
    ['2023/04/25', 52.58, 52.88, 52.94, 52.38],
    ['2023/04/26', 52.5, 51.52, 52.8, 51.13],
    ['2023/04/27', 51.43, 50.88, 52.27, 50.88],
    ['2023/04/28', 50.97, 50.3, 51.54, 50.11],
    ['2023/05/01', 50.25, 50.24, 51.26, 50.18],
    ['2023/05/02', 50.14, 48.95, 50.14, 48.68],
    ['2023/05/03', 49.21, 48.74, 49.94, 48.72],
    ['2023/05/04', 48.62, 47.8, 48.83, 47.74],
    ['2023/05/05', 48.84, 49.37, 49.77, 48.83],
    ['2023/05/08', 49.4, 50.57, 50.97, 49.18],
    ['2023/05/09', 50.13, 50.13, 51.53, 48.97],
    ['2023/05/10', 54.61, 59.58, 60.37, 53.49],
    ['2023/05/11', 58.67, 54.92, 59.58, 54.02],
    ['2023/05/12', 54.82, 56.29, 56.82, 54.82],
    ['2023/05/15', 56.88, 56.28, 56.88, 55.45],
    ['2023/05/16', 56.26, 56.07, 56.9, 55.94],
    ['2023/05/17', 56.85, 56.61, 58.13, 55.92],
    ['2023/05/18', 56.8, 56.44, 57.35, 56.03],
    ['2023/05/19', 57.6, 55.66, 57.6, 55.62],
    ['2023/05/22', 56.54, 56.2, 57.16, 55.75],
    ['2023/05/23', 56.28, 56.74, 57.1, 56.25],
    ['2023/05/24', 56.21, 56.08, 56.45, 54.69],
    ['2023/05/25', 55.83, 55.35, 55.9, 54.31],
    ['2023/05/26', 55.4, 54.72, 56.73, 54.65],
    ['2023/05/30', 54.74, 53.23, 54.99, 53.07],
    ['2023/05/31', 53.29, 52.89, 53.29, 52.36],
    ['2023/06/01', 53.1, 53.39, 54.62, 52.42],
    ['2023/06/02', 53.91, 54.97, 55.23, 52.62],
    ['2023/06/05', 54.43, 54.91, 55.54, 53.25],
    ['2023/06/06', 54.84, 56.13, 57.19, 54.84],
    ['2023/06/07', 56.31, 58.03, 58.1, 56.31],
    ['2023/06/08', 57.79, 58.65, 58.7, 56.91],
    ['2023/06/09', 58.65, 58.49, 59.0, 57.83],
    ['2023/06/12', 58.4, 56.75, 58.55, 56.75],
    ['2023/06/13', 56.94, 57.71, 58.35, 56.41],
    ['2023/06/14', 57.68, 58.33, 58.4, 57.23],
    ['2023/06/15', 58.1, 58.78, 58.78, 56.88],
    ['2023/06/16', 59.43, 57.72, 59.43, 57.51],
    ['2023/06/20', 57.72, 57.97, 58.61, 57.3],
    ['2023/06/21', 57.78, 60.18, 60.57, 57.2],
    ['2023/06/22', 60.27, 60.75, 61.98, 59.41],
    ['2023/06/23', 60.27, 58.92, 60.28, 58.66],
    ['2023/06/26', 58.78, 58.54, 59.34, 58.4],
    ['2023/06/27', 58.89, 60.5, 60.64, 58.38],
    ['2023/06/28', 60.31, 61.83, 62.04, 59.6],
    ['2023/06/29', 62.07, 63.12, 63.5, 61.99],
    ['2023/06/30', 63.58, 61.78, 64.0, 60.38],
    ['2023/07/03', 61.27, 62.0, 62.47, 61.27],
    ['2023/07/05', 61.23, 58.75, 61.47, 58.34],
    ['2023/07/06', 58.5, 58.28, 59.19, 56.66],
    ['2023/07/07', 58.42, 59.23, 59.34, 57.72],
    ['2023/07/10', 58.96, 58.55, 59.81, 57.6],
    ['2023/07/11', 58.79, 59.37, 59.7, 58.24],
    ['2023/07/12', 59.84, 60.52, 61.26, 59.38],
    ['2023/07/13', 60.49, 59.93, 61.09, 59.84],
    ['2023/07/14', 60.17, 58.88, 60.17, 58.66],
    ['2023/07/17', 58.58, 59.35, 59.89, 58.13],
    ['2023/07/18', 59.19, 57.98, 59.93, 57.85],
    ['2023/07/19', 58.56, 58.79, 59.48, 58.02],
    ['2023/07/20', 58.91, 59.14, 59.75, 58.84],
    ['2023/07/21', 59.7, 59.38, 59.74, 58.64],
    ['2023/07/24', 59.53, 60.53, 60.6, 59.07],
    ['2023/07/25', 59.89, 62.73, 62.97, 59.89],
    ['2023/07/26', 62.6, 62.35, 63.88, 62.1],
    ['2023/07/27', 62.54, 60.89, 62.95, 60.28],
    ['2023/07/28', 61.63, 61.29, 63.15, 61.19],
    ['2023/07/31', 61.52, 62.81, 63.12, 61.52],
    ['2023/08/01', 62.14, 62.01, 62.6, 61.79],
    ['2023/08/02', 61.46, 60.93, 62.05, 60.69],
]);
var volumes = [
    27600.0,
    167400.0,
    99600.0,
    77800.0,
    665200.0,
    161800.0,
    88800.0,
    74600.0,
    90000.0,
    75000.0,
    82000.0,
    77600.0,
    96400.0,
    84500.0,
    83200.0,
    50400.0,
    54900.0,
    139100.0,
    117900.0,
    165200.0,
    165600.0,
    127800.0,
    117400.0,
    131000.0,
    107000.0,
    76200.0,
    64700.0,
    55500.0,
    61600.0,
    77100.0,
    99400.0,
    375000.0,
    61200.0,
    103200.0,
    66800.0,
    66200.0,
    130000.0,
    127800.0,
    81300.0,
    165800.0,
    96200.0,
    136200.0,
    91300.0,
    113500.0,
    65500.0,
    132700.0,
    169100.0,
    380700.0,
    224000.0,
    64400.0,
    137800.0,
    186300.0,
    132300.0,
    122000.0,
    120700.0,
    145700.0,
    136100.0,
    137000.0,
    334400.0,
    243700.0,
    180700.0,
    160100.0,
    100200.0,
    80500.0,
    171400.0,
    159800.0,
    105800.0,
    203100.0,
    149200.0,
    513400.0,
    214600.0,
    158100.0,
    175000.0,
    120500.0,
    128900.0,
    89800.0,
    62500.0,
    65700.0,
    79200.0,
    38600.0,
    25500.0,
    80700.0,
    183200.0,
    406200.0,
    234900.0,
    99000.0,
    108100.0,
    154800.0,
    166900.0,
    68300.0,
    178300.0,
    191000.0,
    195900.0,
    319400.0,
    176000.0,
    572800.0,
    150600.0,
    167700.0,
    115400.0,
    78200.0,
    119300.0,
    109100.0,
    102100.0,
    99200.0,
    85900.0,
    146300.0,
    91600.0,
    105900.0,
    46900.0,
    41400.0,
    188300.0,
    183000.0,
    186700.0,
    253900.0,
    316400.0,
    340100.0,
    234500.0,
    153900.0,
    106000.0,
    62000.0,
    97400.0,
    53500.0,
    30500.0,
    38700.0,
    74100.0,
    92300.0,
    76000.0,
    81400.0,
    65000.0,
    69300.0,
    77500.0,
    149000.0,
    68200.0,
    68700.0,
    70500.0,
    82900.0,
    70700.0,
    70400.0,
    124000.0,
    68300.0,
    95100.0,
    102200.0,
    143300.0,
    177000.0,
    122300.0,
    71100.0,
    118500.0,
    160100.0,
    76000.0,
    120100.0,
    109300.0,
    211700.0,
    259600.0,
    143700.0,
    198200.0,
    130700.0,
    242700.0,
    134700.0,
    83500.0,
    90100.0,
    62000.0,
    58600.0,
    58200.0,
    55300.0,
    51000.0,
    48200.0,
    75600.0,
    64400.0,
    58200.0,
    37100.0,
    57600.0,
    58200.0,
    79400.0,
    43900.0,
    59500.0,
    97900.0,
    50700.0,
    36600.0,
    35900.0,
    36800.0,
    38800.0,
    26300.0,
    24200.0,
    28800.0,
    84300.0,
    50100.0,
    53700.0,
    70400.0,
    62200.0,
    49600.0,
    46100.0,
    39000.0,
    40300.0,
    166000.0,
    209400.0,
    47300.0,
    46400.0,
    40100.0,
    76400.0,
    43500.0,
    51900.0,
    60800.0,
    64400.0,
    73700.0,
    45000.0,
    40900.0,
    52400.0,
    62400.0,
    110100.0,
    52100.0,
    59900.0,
    114400.0,
    88300.0,
    77100.0,
    48000.0,
    47100.0,
    75900.0,
    74500.0,
    92400.0,
    132500.0,
    56700.0,
    115500.0,
    95000.0,
    105000.0,
    39200.0,
    47300.0,
    58700.0,
    64000.0,
    104000.0,
    32400.0,
    65900.0,
    66200.0,
    91500.0,
    84100.0,
    52900.0,
    38300.0,
    37700.0,
    42700.0,
    95100.0,
    43800.0,
    61100.0,
    36000.0,
    49400.0,
    58000.0,
    63900.0,
    50400.0,
    82600.0,
    44500.0,
    56700.0,
    54200.0,
    69400.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "HCI",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 40,
            end: 70,
            top: 30,
            height: 20,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);