/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_MELI");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/12', 1050.0, 1081.08, 1083.6, 1042.66],
    ['2022/08/15', 1073.0, 1082.66, 1095.34, 1067.09],
    ['2022/08/16', 1070.41, 1053.75, 1080.0, 1040.46],
    ['2022/08/17', 1030.0, 997.9, 1039.31, 990.0],
    ['2022/08/18', 995.0, 977.52, 995.0, 975.46],
    ['2022/08/19', 950.0, 909.76, 952.07, 904.21],
    ['2022/08/22', 880.88, 878.09, 894.93, 860.0],
    ['2022/08/23', 889.0, 887.04, 908.16, 875.71],
    ['2022/08/24', 881.29, 898.0, 917.44, 879.5],
    ['2022/08/25', 909.02, 919.18, 919.84, 896.1],
    ['2022/08/26', 920.0, 877.8, 934.6, 877.79],
    ['2022/08/29', 854.01, 875.17, 891.62, 853.28],
    ['2022/08/30', 890.0, 862.1, 903.45, 849.25],
    ['2022/08/31', 868.11, 855.36, 886.29, 851.63],
    ['2022/09/01', 833.28, 858.79, 860.0, 812.46],
    ['2022/09/02', 872.0, 855.91, 883.24, 847.15],
    ['2022/09/06', 855.33, 857.93, 871.64, 831.35],
    ['2022/09/07', 858.14, 887.69, 893.64, 848.39],
    ['2022/09/08', 867.86, 922.54, 930.65, 866.0],
    ['2022/09/09', 932.54, 970.99, 976.2, 932.54],
    ['2022/09/12', 974.83, 1002.01, 1011.99, 974.83],
    ['2022/09/13', 946.37, 943.9, 969.99, 935.0],
    ['2022/09/14', 947.08, 960.33, 970.86, 925.0],
    ['2022/09/15', 942.34, 965.78, 982.83, 942.34],
    ['2022/09/16', 932.95, 919.11, 933.5, 904.88],
    ['2022/09/19', 900.2, 933.1, 933.7, 900.2],
    ['2022/09/20', 922.58, 905.69, 929.81, 903.11],
    ['2022/09/21', 905.89, 887.5, 931.48, 887.36],
    ['2022/09/22', 876.13, 850.0, 884.9, 843.69],
    ['2022/09/23', 833.75, 815.01, 840.43, 808.0],
    ['2022/09/26', 817.08, 799.58, 833.98, 797.09],
    ['2022/09/27', 821.28, 804.69, 830.0, 790.15],
    ['2022/09/28', 805.37, 865.24, 871.32, 801.3],
    ['2022/09/29', 843.1, 829.68, 850.53, 818.92],
    ['2022/09/30', 818.11, 827.78, 858.55, 811.55],
    ['2022/10/03', 859.42, 882.3, 893.97, 832.0],
    ['2022/10/04', 909.89, 948.25, 955.56, 909.89],
    ['2022/10/05', 919.88, 933.76, 944.3, 910.05],
    ['2022/10/06', 926.88, 929.18, 962.07, 926.59],
    ['2022/10/07', 905.22, 881.99, 906.42, 874.01],
    ['2022/10/10', 883.0, 872.6, 885.26, 854.41],
    ['2022/10/11', 858.03, 834.67, 863.19, 817.25],
    ['2022/10/12', 830.33, 820.65, 837.59, 800.61],
    ['2022/10/13', 777.28, 822.06, 831.13, 760.06],
    ['2022/10/14', 834.4, 756.88, 845.49, 754.76],
    ['2022/10/17', 793.79, 850.66, 853.72, 793.79],
    ['2022/10/18', 901.5, 853.29, 911.52, 841.88],
    ['2022/10/19', 834.38, 815.45, 837.03, 801.65],
    ['2022/10/20', 810.16, 820.47, 852.26, 804.01],
    ['2022/10/21', 811.52, 844.9, 847.78, 797.01],
    ['2022/10/24', 838.74, 827.16, 839.21, 792.46],
    ['2022/10/25', 832.38, 862.97, 878.82, 832.38],
    ['2022/10/26', 855.6, 833.36, 880.67, 830.0],
    ['2022/10/27', 836.95, 836.82, 858.39, 829.61],
    ['2022/10/28', 825.03, 881.75, 881.93, 820.31],
    ['2022/10/31', 874.55, 901.62, 905.65, 860.0],
    ['2022/11/01', 933.16, 919.34, 945.16, 910.01],
    ['2022/11/02', 910.0, 851.28, 913.91, 847.0],
    ['2022/11/03', 848.72, 870.88, 910.76, 840.0],
    ['2022/11/04', 947.1, 938.57, 1018.0, 919.62],
    ['2022/11/07', 957.0, 940.78, 967.01, 914.86],
    ['2022/11/08', 946.13, 937.08, 957.52, 909.77],
    ['2022/11/09', 921.2, 897.62, 934.5, 896.07],
    ['2022/11/10', 964.45, 935.53, 1006.18, 922.88],
    ['2022/11/11', 943.33, 974.89, 989.02, 932.86],
    ['2022/11/14', 966.16, 959.58, 982.74, 950.3],
    ['2022/11/15', 1009.74, 1020.68, 1039.39, 995.55],
    ['2022/11/16', 988.0, 972.82, 1004.0, 964.09],
    ['2022/11/17', 940.0, 927.13, 949.99, 910.84],
    ['2022/11/18', 944.42, 962.08, 966.69, 936.0],
    ['2022/11/21', 948.45, 963.03, 968.15, 944.61],
    ['2022/11/22', 961.0, 957.16, 963.5, 915.8],
    ['2022/11/23', 967.0, 962.43, 975.46, 945.63],
    ['2022/11/25', 957.99, 951.57, 957.99, 946.48],
    ['2022/11/28', 941.1, 921.34, 956.69, 920.85],
    ['2022/11/29', 927.2, 889.26, 927.96, 882.1],
    ['2022/11/30', 893.65, 930.99, 934.17, 879.11],
    ['2022/12/01', 936.76, 941.01, 955.0, 921.68],
    ['2022/12/02', 920.01, 945.07, 957.0, 912.0],
    ['2022/12/05', 933.19, 881.9, 935.94, 876.94],
    ['2022/12/06', 891.37, 863.09, 893.86, 852.0],
    ['2022/12/07', 855.62, 863.81, 880.46, 845.02],
    ['2022/12/08', 872.0, 884.24, 903.92, 865.04],
    ['2022/12/09', 878.37, 896.48, 908.25, 872.06],
    ['2022/12/12', 885.28, 880.25, 894.37, 868.5],
    ['2022/12/13', 931.48, 870.65, 942.09, 867.3],
    ['2022/12/14', 864.06, 867.3, 887.99, 855.0],
    ['2022/12/15', 852.07, 835.09, 854.9, 818.22],
    ['2022/12/16', 830.0, 843.98, 849.61, 825.0],
    ['2022/12/19', 844.24, 884.27, 895.8, 843.52],
    ['2022/12/20', 881.18, 875.91, 907.08, 874.87],
    ['2022/12/21', 877.58, 900.1, 908.99, 873.0],
    ['2022/12/22', 882.97, 873.26, 885.39, 863.47],
    ['2022/12/23', 864.3, 878.32, 879.73, 853.08],
    ['2022/12/27', 872.99, 854.3, 874.38, 848.13],
    ['2022/12/28', 856.44, 839.57, 867.99, 838.25],
    ['2022/12/29', 849.47, 866.28, 874.08, 838.05],
    ['2022/12/30', 846.81, 846.24, 851.06, 830.01],
    ['2023/01/03', 867.58, 826.11, 874.06, 815.86],
    ['2023/01/04', 842.0, 837.44, 849.29, 821.98],
    ['2023/01/05', 827.87, 856.09, 859.96, 818.01],
    ['2023/01/06', 856.09, 873.47, 879.42, 847.01],
    ['2023/01/09', 891.26, 897.31, 920.0, 882.0],
    ['2023/01/10', 897.0, 915.78, 919.19, 896.31],
    ['2023/01/11', 928.29, 936.8, 936.89, 911.1],
    ['2023/01/12', 983.0, 1024.31, 1033.79, 933.57],
    ['2023/01/13', 1011.15, 1082.92, 1091.85, 1011.0],
    ['2023/01/17', 1081.27, 1070.0, 1089.0, 1046.86],
    ['2023/01/18', 1082.12, 1068.92, 1108.6, 1049.86],
    ['2023/01/19', 1045.37, 1072.74, 1085.0, 1040.47],
    ['2023/01/20', 1076.65, 1098.09, 1101.89, 1072.55],
    ['2023/01/23', 1097.67, 1095.0, 1121.62, 1090.54],
    ['2023/01/24', 1079.23, 1109.91, 1113.94, 1074.06],
    ['2023/01/25', 1080.0, 1130.64, 1133.68, 1073.16],
    ['2023/01/26', 1151.31, 1188.58, 1190.93, 1151.31],
    ['2023/01/27', 1187.35, 1221.27, 1233.28, 1183.0],
    ['2023/01/30', 1190.62, 1161.8, 1210.25, 1160.61],
    ['2023/01/31', 1170.01, 1181.69, 1183.18, 1153.01],
    ['2023/02/01', 1180.0, 1214.29, 1222.0, 1152.48],
    ['2023/02/02', 1235.92, 1226.58, 1250.48, 1201.78],
    ['2023/02/03', 1175.7, 1187.25, 1223.54, 1161.88],
    ['2023/02/06', 1168.7, 1175.44, 1188.79, 1158.88],
    ['2023/02/07', 1168.24, 1173.81, 1177.25, 1129.53],
    ['2023/02/08', 1161.7, 1166.9, 1192.35, 1158.95],
    ['2023/02/09', 1189.98, 1143.65, 1194.62, 1136.84],
    ['2023/02/10', 1125.77, 1104.95, 1129.57, 1097.83],
    ['2023/02/13', 1111.16, 1112.32, 1126.64, 1102.91],
    ['2023/02/14', 1101.93, 1132.31, 1147.53, 1083.1],
    ['2023/02/15', 1122.0, 1159.6, 1164.0, 1115.27],
    ['2023/02/16', 1131.75, 1119.64, 1156.75, 1117.85],
    ['2023/02/17', 1104.7, 1100.87, 1112.01, 1088.36],
    ['2023/02/21', 1094.9, 1099.33, 1123.31, 1085.15],
    ['2023/02/22', 1104.67, 1118.26, 1134.41, 1093.32],
    ['2023/02/23', 1134.88, 1136.26, 1142.34, 1101.05],
    ['2023/02/24', 1163.25, 1156.88, 1181.7, 1118.81],
    ['2023/02/27', 1172.84, 1182.99, 1192.16, 1153.37],
    ['2023/02/28', 1191.99, 1220.0, 1223.05, 1186.18],
    ['2023/03/01', 1220.85, 1208.72, 1225.0, 1190.21],
    ['2023/03/02', 1195.0, 1218.52, 1223.04, 1188.0],
    ['2023/03/03', 1226.48, 1226.74, 1227.97, 1203.23],
    ['2023/03/06', 1233.0, 1256.26, 1273.86, 1218.83],
    ['2023/03/07', 1260.96, 1264.91, 1268.33, 1236.13],
    ['2023/03/08', 1264.72, 1252.57, 1265.0, 1230.32],
    ['2023/03/09', 1243.77, 1201.79, 1268.0, 1196.26],
    ['2023/03/10', 1193.0, 1168.04, 1201.14, 1143.62],
    ['2023/03/13', 1152.78, 1162.33, 1180.67, 1124.02],
    ['2023/03/14', 1193.3, 1214.96, 1216.28, 1179.16],
    ['2023/03/15', 1186.73, 1188.96, 1200.0, 1159.35],
    ['2023/03/16', 1180.0, 1214.74, 1228.77, 1173.37],
    ['2023/03/17', 1200.17, 1201.15, 1208.0, 1180.78],
    ['2023/03/20', 1197.28, 1182.75, 1198.56, 1167.0],
    ['2023/03/21', 1199.25, 1220.42, 1234.0, 1196.22],
    ['2023/03/22', 1224.2, 1186.63, 1225.65, 1185.08],
    ['2023/03/23', 1205.92, 1191.55, 1236.02, 1178.57],
    ['2023/03/24', 1184.28, 1187.28, 1197.26, 1163.84],
    ['2023/03/27', 1198.0, 1191.79, 1215.9, 1182.6],
    ['2023/03/28', 1186.09, 1196.74, 1198.64, 1183.0],
    ['2023/03/29', 1212.67, 1224.88, 1230.23, 1208.14],
    ['2023/03/30', 1247.99, 1266.8, 1269.18, 1228.0],
    ['2023/03/31', 1273.88, 1318.06, 1325.67, 1266.13],
    ['2023/04/03', 1305.0, 1313.64, 1317.77, 1297.0],
    ['2023/04/04', 1328.0, 1301.9, 1329.49, 1296.86],
    ['2023/04/05', 1288.28, 1250.05, 1295.18, 1240.5],
    ['2023/04/06', 1233.9, 1245.0, 1253.97, 1207.7],
    ['2023/04/10', 1225.22, 1251.62, 1252.39, 1210.29],
    ['2023/04/11', 1253.58, 1285.06, 1288.88, 1253.58],
    ['2023/04/12', 1307.46, 1256.04, 1314.91, 1249.7],
    ['2023/04/13', 1277.39, 1296.12, 1304.0, 1268.48],
    ['2023/04/14', 1294.17, 1301.88, 1319.98, 1289.45],
    ['2023/04/17', 1301.52, 1314.74, 1315.88, 1285.64],
    ['2023/04/18', 1320.6, 1321.47, 1337.75, 1315.95],
    ['2023/04/19', 1305.31, 1308.29, 1324.2, 1302.26],
    ['2023/04/20', 1288.28, 1293.77, 1308.29, 1285.3],
    ['2023/04/21', 1296.23, 1281.92, 1304.28, 1268.12],
    ['2023/04/24', 1282.0, 1273.62, 1285.99, 1252.13],
    ['2023/04/25', 1261.78, 1229.55, 1262.31, 1227.58],
    ['2023/04/26', 1241.96, 1235.63, 1259.99, 1232.92],
    ['2023/04/27', 1257.97, 1244.92, 1257.97, 1233.72],
    ['2023/04/28', 1248.38, 1277.49, 1294.27, 1237.25],
    ['2023/05/01', 1263.22, 1291.65, 1298.73, 1260.0],
    ['2023/05/02', 1292.48, 1255.74, 1292.48, 1242.67],
    ['2023/05/03', 1267.18, 1279.99, 1296.73, 1256.29],
    ['2023/05/04', 1326.05, 1213.38, 1336.81, 1196.16],
    ['2023/05/05', 1225.78, 1243.59, 1263.92, 1221.94],
    ['2023/05/08', 1242.55, 1284.5, 1289.41, 1242.55],
    ['2023/05/09', 1267.56, 1248.05, 1281.2, 1244.77],
    ['2023/05/10', 1268.0, 1288.92, 1317.28, 1263.09],
    ['2023/05/11', 1296.0, 1296.52, 1303.0, 1281.8],
    ['2023/05/12', 1293.93, 1279.67, 1295.37, 1261.64],
    ['2023/05/15', 1289.93, 1296.8, 1306.29, 1284.17],
    ['2023/05/16', 1286.21, 1275.39, 1301.67, 1268.06],
    ['2023/05/17', 1288.25, 1320.15, 1330.57, 1276.0],
    ['2023/05/18', 1320.0, 1332.49, 1336.17, 1309.2],
    ['2023/05/19', 1327.33, 1310.88, 1327.33, 1300.04],
    ['2023/05/22', 1313.33, 1339.62, 1365.64, 1308.8],
    ['2023/05/23', 1328.44, 1299.83, 1357.55, 1293.0],
    ['2023/05/24', 1290.0, 1284.13, 1297.19, 1261.11],
    ['2023/05/25', 1300.42, 1249.91, 1307.88, 1246.81],
    ['2023/05/26', 1252.52, 1282.26, 1296.0, 1250.65],
    ['2023/05/30', 1297.25, 1249.72, 1301.98, 1242.32],
    ['2023/05/31', 1244.36, 1239.0, 1248.64, 1226.62],
    ['2023/06/01', 1240.09, 1258.02, 1278.47, 1232.0],
    ['2023/06/02', 1279.91, 1270.67, 1284.11, 1221.07],
    ['2023/06/05', 1268.71, 1289.49, 1292.28, 1258.16],
    ['2023/06/06', 1282.98, 1254.45, 1282.98, 1246.1],
    ['2023/06/07', 1253.44, 1208.29, 1259.54, 1200.88],
    ['2023/06/08', 1205.84, 1209.74, 1224.36, 1192.34],
    ['2023/06/09', 1219.16, 1208.55, 1220.15, 1186.11],
    ['2023/06/12', 1209.0, 1238.15, 1240.37, 1192.2],
    ['2023/06/13', 1252.8, 1209.52, 1254.73, 1189.05],
    ['2023/06/14', 1209.52, 1211.84, 1220.01, 1194.04],
    ['2023/06/15', 1206.41, 1223.77, 1229.35, 1198.29],
    ['2023/06/16', 1224.0, 1194.74, 1224.0, 1192.6],
    ['2023/06/20', 1190.0, 1197.74, 1237.24, 1182.0],
    ['2023/06/21', 1199.0, 1210.9, 1227.51, 1192.0],
    ['2023/06/22', 1211.76, 1241.51, 1242.0, 1199.5],
    ['2023/06/23', 1221.85, 1226.49, 1237.77, 1190.03],
    ['2023/06/26', 1220.9, 1155.51, 1239.03, 1154.5],
    ['2023/06/27', 1173.1, 1162.09, 1183.0, 1159.29],
    ['2023/06/28', 1156.85, 1207.69, 1208.25, 1156.85],
    ['2023/06/29', 1211.2, 1171.45, 1214.21, 1162.39],
    ['2023/06/30', 1188.0, 1184.6, 1212.6, 1173.26],
    ['2023/07/03', 1190.0, 1193.75, 1193.75, 1172.09],
    ['2023/07/05', 1193.75, 1247.36, 1248.77, 1178.3],
    ['2023/07/06', 1221.2, 1153.59, 1226.0, 1145.5],
    ['2023/07/07', 1166.53, 1153.82, 1189.98, 1151.05],
    ['2023/07/10', 1108.04, 1087.15, 1109.49, 1063.02],
    ['2023/07/11', 1087.15, 1121.58, 1131.45, 1081.37],
    ['2023/07/12', 1143.0, 1141.13, 1153.43, 1127.35],
    ['2023/07/13', 1153.95, 1146.72, 1154.0, 1130.0],
    ['2023/07/14', 1141.0, 1135.72, 1147.77, 1126.84],
    ['2023/07/17', 1128.3, 1179.17, 1181.3, 1128.3],
    ['2023/07/18', 1170.05, 1208.66, 1210.0, 1170.05],
    ['2023/07/19', 1219.03, 1225.75, 1232.58, 1210.94],
    ['2023/07/20', 1210.0, 1198.34, 1223.99, 1194.13],
    ['2023/07/21', 1209.22, 1221.03, 1228.92, 1201.99],
    ['2023/07/24', 1221.03, 1198.43, 1223.36, 1174.07],
    ['2023/07/25', 1201.51, 1181.84, 1212.56, 1181.16],
    ['2023/07/26', 1181.56, 1176.23, 1189.0, 1171.0],
    ['2023/07/27', 1193.0, 1169.9, 1221.45, 1167.25],
    ['2023/07/28', 1193.85, 1225.02, 1228.14, 1182.39],
    ['2023/07/31', 1235.03, 1238.05, 1257.66, 1223.66],
    ['2023/08/01', 1236.9, 1210.4, 1236.9, 1202.52],
    ['2023/08/02', 1184.55, 1164.81, 1194.64, 1150.01],
    ['2023/08/03', 1225.0, 1323.11, 1326.61, 1212.69],
    ['2023/08/04', 1321.32, 1296.16, 1325.11, 1277.29],
    ['2023/08/07', 1315.36, 1358.81, 1370.0, 1290.01],
    ['2023/08/08', 1348.97, 1328.36, 1356.28, 1311.4],
    ['2023/08/09', 1347.65, 1312.66, 1348.94, 1312.09],
    ['2023/08/10', 1345.0, 1387.06, 1388.39, 1344.34],
]);
var volumes = [
    508500.0,
    399800.0,
    644500.0,
    839100.0,
    540600.0,
    840400.0,
    804400.0,
    516900.0,
    490600.0,
    495000.0,
    538000.0,
    358200.0,
    572000.0,
    487400.0,
    689000.0,
    492900.0,
    645000.0,
    542900.0,
    831100.0,
    1190100.0,
    704400.0,
    720700.0,
    361000.0,
    682300.0,
    629500.0,
    485400.0,
    506800.0,
    639300.0,
    637400.0,
    562100.0,
    604100.0,
    501700.0,
    743800.0,
    504900.0,
    627700.0,
    955400.0,
    876600.0,
    474000.0,
    374100.0,
    610000.0,
    430100.0,
    652100.0,
    547400.0,
    866100.0,
    727900.0,
    1057900.0,
    661600.0,
    718600.0,
    630200.0,
    596500.0,
    536100.0,
    609900.0,
    548000.0,
    552300.0,
    644300.0,
    931800.0,
    776200.0,
    746200.0,
    779800.0,
    1340000.0,
    680600.0,
    556400.0,
    569500.0,
    1263500.0,
    838900.0,
    509000.0,
    711500.0,
    690500.0,
    720300.0,
    636100.0,
    293100.0,
    431900.0,
    387200.0,
    178900.0,
    505600.0,
    688800.0,
    838100.0,
    502200.0,
    485800.0,
    597100.0,
    414000.0,
    587700.0,
    433400.0,
    409500.0,
    518100.0,
    880500.0,
    579600.0,
    652100.0,
    731000.0,
    723800.0,
    540300.0,
    409900.0,
    470100.0,
    288100.0,
    294000.0,
    475300.0,
    443900.0,
    365600.0,
    775500.0,
    404900.0,
    415200.0,
    343000.0,
    451800.0,
    270200.0,
    466100.0,
    1132200.0,
    1237100.0,
    593800.0,
    794400.0,
    769400.0,
    504700.0,
    582100.0,
    441000.0,
    475600.0,
    826200.0,
    702500.0,
    758700.0,
    496700.0,
    603300.0,
    653900.0,
    556400.0,
    486600.0,
    820600.0,
    376000.0,
    330900.0,
    400200.0,
    288100.0,
    389800.0,
    338700.0,
    394300.0,
    427500.0,
    656900.0,
    683300.0,
    720500.0,
    1089900.0,
    701600.0,
    568700.0,
    580400.0,
    359600.0,
    556800.0,
    624100.0,
    559600.0,
    318100.0,
    456000.0,
    662000.0,
    531400.0,
    471400.0,
    475000.0,
    495500.0,
    641800.0,
    376700.0,
    419700.0,
    381500.0,
    406900.0,
    424600.0,
    355600.0,
    251700.0,
    373700.0,
    463900.0,
    719200.0,
    393600.0,
    285500.0,
    473100.0,
    323700.0,
    289800.0,
    403400.0,
    393400.0,
    344000.0,
    248000.0,
    241600.0,
    274000.0,
    209900.0,
    286600.0,
    262100.0,
    316600.0,
    341400.0,
    315700.0,
    300900.0,
    446200.0,
    267300.0,
    376000.0,
    566200.0,
    1238700.0,
    478300.0,
    451300.0,
    469100.0,
    535000.0,
    334600.0,
    275800.0,
    507900.0,
    347600.0,
    458600.0,
    349900.0,
    463600.0,
    604300.0,
    491900.0,
    326200.0,
    368300.0,
    409100.0,
    515100.0,
    637500.0,
    344300.0,
    402000.0,
    272900.0,
    478800.0,
    571600.0,
    447500.0,
    447300.0,
    399800.0,
    500400.0,
    360900.0,
    389500.0,
    779400.0,
    436000.0,
    387600.0,
    452000.0,
    779700.0,
    582500.0,
    522300.0,
    409600.0,
    382400.0,
    489600.0,
    237000.0,
    614900.0,
    912500.0,
    503100.0,
    1409200.0,
    586200.0,
    448200.0,
    383400.0,
    463600.0,
    547200.0,
    641800.0,
    558100.0,
    627700.0,
    1116300.0,
    441700.0,
    475000.0,
    435700.0,
    628300.0,
    447400.0,
    504300.0,
    380800.0,
    747000.0,
    1593900.0,
    797000.0,
    710700.0,
    523800.0,
    418300.0,
    650800.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "MELI",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);