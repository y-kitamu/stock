/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_ONTO");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 82.49, 85.29, 85.96, 81.68],
    ['2022/08/04', 85.4, 88.25, 88.38, 85.4],
    ['2022/08/05', 86.29, 89.43, 89.69, 85.83],
    ['2022/08/08', 88.47, 85.11, 89.12, 83.65],
    ['2022/08/09', 83.32, 74.81, 83.59, 74.28],
    ['2022/08/10', 78.74, 79.18, 80.6, 77.35],
    ['2022/08/11', 79.6, 80.28, 81.82, 79.31],
    ['2022/08/12', 80.67, 82.19, 82.22, 80.41],
    ['2022/08/15', 82.12, 82.29, 82.99, 80.48],
    ['2022/08/16', 82.07, 80.66, 82.36, 80.0],
    ['2022/08/17', 79.3, 79.03, 79.57, 77.25],
    ['2022/08/18', 79.64, 81.5, 82.71, 79.6],
    ['2022/08/19', 80.41, 79.47, 80.41, 79.08],
    ['2022/08/22', 77.48, 76.5, 78.31, 76.1],
    ['2022/08/23', 76.52, 77.41, 78.12, 76.52],
    ['2022/08/24', 77.5, 76.92, 77.97, 76.64],
    ['2022/08/25', 78.07, 81.01, 81.19, 78.04],
    ['2022/08/26', 81.42, 76.12, 81.42, 75.95],
    ['2022/08/29', 74.98, 74.12, 76.11, 74.06],
    ['2022/08/30', 74.92, 72.55, 74.92, 71.51],
    ['2022/08/31', 73.16, 70.99, 73.16, 70.47],
    ['2022/09/01', 69.36, 67.7, 69.36, 65.69],
    ['2022/09/02', 69.35, 67.57, 69.99, 66.71],
    ['2022/09/06', 67.24, 65.98, 67.85, 65.71],
    ['2022/09/07', 66.2, 67.46, 67.73, 64.74],
    ['2022/09/08', 66.4, 70.0, 70.05, 66.2],
    ['2022/09/09', 71.23, 71.49, 71.53, 70.52],
    ['2022/09/12', 71.68, 72.02, 72.05, 70.86],
    ['2022/09/13', 68.76, 70.6, 70.9, 68.76],
    ['2022/09/14', 70.83, 69.92, 71.51, 69.43],
    ['2022/09/15', 69.28, 67.99, 69.87, 67.29],
    ['2022/09/16', 66.93, 68.3, 68.45, 66.12],
    ['2022/09/19', 67.11, 68.28, 68.93, 66.95],
    ['2022/09/20', 67.18, 67.8, 68.42, 66.96],
    ['2022/09/21', 68.33, 67.61, 70.47, 67.51],
    ['2022/09/22', 66.72, 65.59, 67.7, 65.31],
    ['2022/09/23', 64.73, 66.08, 66.26, 63.42],
    ['2022/09/26', 65.71, 65.85, 67.42, 65.63],
    ['2022/09/27', 66.4, 65.72, 67.53, 65.04],
    ['2022/09/28', 64.47, 66.17, 66.71, 64.47],
    ['2022/09/29', 64.77, 65.17, 65.42, 64.31],
    ['2022/09/30', 64.37, 64.05, 66.28, 63.98],
    ['2022/10/03', 65.1, 68.43, 69.35, 64.5],
    ['2022/10/04', 70.58, 71.46, 72.4, 70.57],
    ['2022/10/05', 70.39, 72.03, 72.43, 69.84],
    ['2022/10/06', 71.73, 71.79, 73.65, 71.25],
    ['2022/10/07', 69.87, 68.34, 70.18, 67.93],
    ['2022/10/10', 68.12, 66.24, 68.12, 64.3],
    ['2022/10/11', 64.7, 61.85, 65.53, 60.83],
    ['2022/10/12', 61.68, 59.32, 61.68, 59.28],
    ['2022/10/13', 56.71, 61.83, 62.89, 56.02],
    ['2022/10/14', 62.51, 59.04, 62.69, 58.68],
    ['2022/10/17', 60.78, 60.27, 61.14, 59.85],
    ['2022/10/18', 61.54, 60.09, 61.98, 59.68],
    ['2022/10/19', 59.36, 60.34, 60.45, 58.92],
    ['2022/10/20', 60.24, 60.91, 62.14, 59.77],
    ['2022/10/21', 61.06, 63.31, 63.7, 60.45],
    ['2022/10/24', 62.99, 63.39, 63.75, 61.89],
    ['2022/10/25', 63.3, 67.3, 68.11, 63.3],
    ['2022/10/26', 66.28, 67.02, 69.07, 65.98],
    ['2022/10/27', 67.36, 65.08, 67.83, 64.99],
    ['2022/10/28', 64.54, 67.19, 68.42, 62.16],
    ['2022/10/31', 66.62, 66.84, 67.72, 65.65],
    ['2022/11/01', 68.65, 70.4, 70.76, 67.94],
    ['2022/11/02', 70.54, 69.36, 73.08, 69.35],
    ['2022/11/03', 68.07, 68.85, 71.02, 67.49],
    ['2022/11/04', 70.74, 72.16, 72.42, 69.78],
    ['2022/11/07', 72.96, 74.55, 74.89, 71.92],
    ['2022/11/08', 76.28, 75.47, 77.18, 74.73],
    ['2022/11/09', 74.2, 74.58, 75.32, 73.71],
    ['2022/11/10', 78.6, 82.7, 82.81, 77.76],
    ['2022/11/11', 82.78, 84.7, 86.86, 82.7],
    ['2022/11/14', 83.46, 81.74, 84.22, 81.74],
    ['2022/11/15', 84.73, 84.2, 85.89, 83.77],
    ['2022/11/16', 82.64, 80.34, 83.25, 79.87],
    ['2022/11/17', 78.47, 79.89, 80.05, 78.27],
    ['2022/11/18', 81.59, 79.73, 81.59, 78.6],
    ['2022/11/21', 78.71, 78.81, 79.4, 78.39],
    ['2022/11/22', 79.04, 79.54, 79.95, 78.29],
    ['2022/11/23', 79.39, 80.42, 80.75, 79.39],
    ['2022/11/25', 79.64, 80.38, 80.86, 78.83],
    ['2022/11/28', 78.78, 76.14, 80.08, 75.66],
    ['2022/11/29', 76.39, 75.72, 77.02, 75.68],
    ['2022/11/30', 76.2, 79.95, 80.05, 74.75],
    ['2022/12/01', 80.72, 80.85, 81.54, 78.25],
    ['2022/12/02', 78.76, 79.85, 80.78, 78.53],
    ['2022/12/05', 79.0, 78.32, 79.85, 77.41],
    ['2022/12/06', 78.45, 76.08, 78.45, 75.23],
    ['2022/12/07', 75.73, 75.96, 76.78, 75.34],
    ['2022/12/08', 76.19, 77.44, 78.04, 75.6],
    ['2022/12/09', 76.83, 76.17, 77.14, 75.83],
    ['2022/12/12', 75.93, 77.55, 77.91, 75.24],
    ['2022/12/13', 80.0, 77.67, 82.07, 77.27],
    ['2022/12/14', 77.19, 75.75, 78.28, 74.94],
    ['2022/12/15', 74.49, 72.44, 74.49, 72.01],
    ['2022/12/16', 71.68, 71.19, 73.16, 70.65],
    ['2022/12/19', 71.16, 70.05, 71.42, 69.43],
    ['2022/12/20', 69.59, 69.01, 70.48, 68.82],
    ['2022/12/21', 69.01, 70.99, 71.65, 68.03],
    ['2022/12/22', 69.27, 67.09, 69.27, 65.61],
    ['2022/12/23', 66.88, 67.86, 67.97, 65.93],
    ['2022/12/27', 67.5, 67.1, 68.3, 66.92],
    ['2022/12/28', 66.84, 66.0, 67.87, 65.91],
    ['2022/12/29', 67.0, 68.73, 68.96, 66.81],
    ['2022/12/30', 67.57, 68.09, 68.45, 67.54],
    ['2023/01/03', 69.48, 68.14, 69.74, 67.55],
    ['2023/01/04', 69.25, 70.13, 70.53, 68.87],
    ['2023/01/05', 69.18, 69.47, 70.92, 68.81],
    ['2023/01/06', 70.79, 74.1, 74.11, 69.72],
    ['2023/01/09', 75.5, 75.7, 77.21, 75.1],
    ['2023/01/10', 75.57, 76.32, 76.86, 75.43],
    ['2023/01/11', 75.64, 76.5, 76.52, 74.57],
    ['2023/01/12', 77.75, 77.88, 78.41, 75.64],
    ['2023/01/13', 76.84, 77.52, 77.87, 76.81],
    ['2023/01/17', 77.29, 77.01, 77.91, 75.88],
    ['2023/01/18', 77.89, 76.35, 79.02, 76.35],
    ['2023/01/19', 75.36, 73.97, 75.63, 73.4],
    ['2023/01/20', 74.88, 76.14, 76.43, 74.29],
    ['2023/01/23', 76.52, 78.93, 79.31, 76.52],
    ['2023/01/24', 77.56, 78.16, 78.77, 77.38],
    ['2023/01/25', 76.83, 78.64, 78.64, 75.76],
    ['2023/01/26', 79.0, 80.51, 80.51, 77.85],
    ['2023/01/27', 79.28, 78.12, 79.5, 77.98],
    ['2023/01/30', 77.04, 77.04, 78.11, 76.02],
    ['2023/01/31', 77.02, 78.65, 78.76, 76.65],
    ['2023/02/01', 78.78, 83.41, 85.09, 78.78],
    ['2023/02/02', 84.09, 87.27, 87.56, 83.65],
    ['2023/02/03', 85.52, 86.15, 88.49, 85.52],
    ['2023/02/06', 84.43, 82.57, 85.08, 81.75],
    ['2023/02/07', 82.49, 84.31, 84.4, 81.43],
    ['2023/02/08', 83.06, 82.3, 84.62, 81.94],
    ['2023/02/09', 83.99, 82.73, 85.62, 82.38],
    ['2023/02/10', 82.35, 80.9, 82.35, 77.96],
    ['2023/02/13', 80.91, 81.88, 82.03, 80.2],
    ['2023/02/14', 80.77, 82.18, 82.79, 80.09],
    ['2023/02/15', 80.93, 82.48, 82.9, 80.63],
    ['2023/02/16', 80.68, 80.76, 82.19, 80.03],
    ['2023/02/17', 80.83, 79.98, 80.83, 79.11],
    ['2023/02/21', 78.57, 77.87, 79.58, 77.78],
    ['2023/02/22', 77.6, 77.21, 78.35, 76.01],
    ['2023/02/23', 79.47, 80.17, 81.1, 78.37],
    ['2023/02/24', 78.49, 80.2, 80.67, 78.04],
    ['2023/02/27', 81.28, 82.06, 82.93, 80.07],
    ['2023/02/28', 82.0, 82.47, 84.16, 81.79],
    ['2023/03/01', 82.98, 83.56, 84.54, 82.98],
    ['2023/03/02', 82.08, 84.11, 84.83, 80.9],
    ['2023/03/03', 84.25, 85.74, 85.94, 83.22],
    ['2023/03/06', 85.78, 83.84, 85.97, 83.32],
    ['2023/03/07', 83.73, 81.89, 84.31, 80.76],
    ['2023/03/08', 82.03, 84.27, 84.34, 82.03],
    ['2023/03/09', 84.28, 83.2, 85.82, 83.09],
    ['2023/03/10', 83.55, 80.66, 83.8, 79.71],
    ['2023/03/13', 79.16, 80.4, 81.37, 78.66],
    ['2023/03/14', 82.84, 85.41, 85.82, 82.84],
    ['2023/03/15', 83.6, 84.83, 85.0, 82.17],
    ['2023/03/16', 83.68, 87.52, 87.84, 83.23],
    ['2023/03/17', 87.72, 86.26, 88.65, 85.71],
    ['2023/03/20', 86.63, 86.87, 87.28, 85.65],
    ['2023/03/21', 87.94, 86.88, 88.57, 85.26],
    ['2023/03/22', 86.66, 85.58, 88.78, 85.52],
    ['2023/03/23', 87.12, 87.31, 89.75, 86.18],
    ['2023/03/24', 86.52, 85.69, 86.52, 84.63],
    ['2023/03/27', 86.39, 84.76, 86.39, 84.6],
    ['2023/03/28', 84.46, 82.81, 84.46, 81.49],
    ['2023/03/29', 84.02, 86.14, 86.77, 83.23],
    ['2023/03/30', 87.35, 86.96, 88.21, 86.22],
    ['2023/03/31', 86.56, 87.88, 88.46, 86.16],
    ['2023/04/03', 86.89, 87.07, 87.47, 85.02],
    ['2023/04/04', 87.44, 83.78, 87.44, 82.91],
    ['2023/04/05', 82.84, 82.32, 82.84, 81.07],
    ['2023/04/06', 81.88, 81.07, 82.4, 80.0],
    ['2023/04/10', 80.0, 83.71, 84.1, 79.72],
    ['2023/04/11', 84.04, 83.34, 84.3, 83.14],
    ['2023/04/12', 84.33, 81.76, 84.33, 81.42],
    ['2023/04/13', 82.27, 82.89, 83.33, 81.38],
    ['2023/04/14', 83.12, 82.54, 84.7, 82.0],
    ['2023/04/17', 81.48, 80.96, 82.15, 80.01],
    ['2023/04/18', 81.94, 80.38, 82.43, 80.03],
    ['2023/04/19', 79.77, 79.61, 80.26, 79.13],
    ['2023/04/20', 79.08, 81.65, 81.83, 78.46],
    ['2023/04/21', 81.88, 82.71, 83.13, 81.41],
    ['2023/04/24', 82.59, 82.32, 83.38, 81.43],
    ['2023/04/25', 81.37, 78.5, 81.42, 77.82],
    ['2023/04/26', 78.5, 78.9, 79.74, 78.11],
    ['2023/04/27', 78.42, 79.08, 79.33, 76.4],
    ['2023/04/28', 79.05, 80.98, 80.99, 78.67],
    ['2023/05/01', 81.21, 81.97, 82.61, 81.21],
    ['2023/05/02', 81.8, 82.06, 82.51, 81.23],
    ['2023/05/03', 81.86, 83.12, 84.75, 81.86],
    ['2023/05/04', 82.25, 82.11, 82.8, 80.83],
    ['2023/05/05', 82.01, 86.32, 86.65, 80.17],
    ['2023/05/08', 85.91, 86.16, 86.65, 84.17],
    ['2023/05/09', 84.94, 85.41, 86.03, 84.63],
    ['2023/05/10', 86.93, 88.4, 88.58, 86.52],
    ['2023/05/11', 88.09, 88.81, 89.07, 86.04],
    ['2023/05/12', 88.94, 88.28, 89.54, 87.82],
    ['2023/05/15', 88.48, 93.44, 93.56, 88.03],
    ['2023/05/16', 93.08, 95.7, 96.06, 93.08],
    ['2023/05/17', 95.91, 97.95, 99.13, 94.07],
    ['2023/05/18', 98.1, 99.48, 101.57, 98.07],
    ['2023/05/19', 99.48, 100.42, 100.77, 98.22],
    ['2023/05/22', 100.0, 99.98, 101.09, 99.69],
    ['2023/05/23', 98.77, 99.07, 100.63, 98.54],
    ['2023/05/24', 97.34, 97.7, 98.56, 94.83],
    ['2023/05/25', 101.1, 102.72, 103.71, 99.71],
    ['2023/05/26', 102.9, 109.22, 110.11, 102.9],
    ['2023/05/30', 112.0, 109.5, 112.72, 108.2],
    ['2023/05/31', 107.41, 107.35, 109.15, 106.41],
    ['2023/06/01', 107.43, 106.74, 108.01, 104.76],
    ['2023/06/02', 108.1, 107.22, 108.33, 103.85],
    ['2023/06/05', 106.23, 107.03, 107.9, 104.82],
    ['2023/06/06', 105.66, 108.24, 109.31, 104.66],
    ['2023/06/07', 108.64, 111.36, 113.3, 108.64],
    ['2023/06/08', 111.06, 112.22, 113.38, 110.23],
    ['2023/06/09', 113.06, 110.1, 113.87, 109.51],
    ['2023/06/12', 111.91, 111.85, 112.1, 110.26],
    ['2023/06/13', 112.99, 111.76, 113.37, 110.9],
    ['2023/06/14', 109.69, 105.44, 110.18, 103.93],
    ['2023/06/15', 104.62, 105.85, 106.2, 104.38],
    ['2023/06/16', 106.68, 104.5, 106.74, 103.0],
    ['2023/06/20', 104.39, 106.42, 107.0, 104.31],
    ['2023/06/21', 106.0, 105.92, 106.93, 105.05],
    ['2023/06/22', 105.4, 108.0, 108.82, 105.24],
    ['2023/06/23', 105.07, 105.45, 107.54, 104.76],
    ['2023/06/26', 106.2, 108.27, 109.46, 106.2],
    ['2023/06/27', 108.14, 112.79, 113.63, 107.05],
    ['2023/06/28', 112.61, 114.16, 114.94, 112.0],
    ['2023/06/29', 114.99, 116.42, 117.63, 114.44],
    ['2023/06/30', 117.68, 116.47, 117.99, 116.0],
    ['2023/07/03', 116.45, 115.69, 117.93, 114.21],
    ['2023/07/05', 114.43, 109.81, 114.54, 109.73],
    ['2023/07/06', 108.25, 109.08, 109.44, 107.29],
    ['2023/07/07', 108.7, 108.17, 110.58, 107.97],
    ['2023/07/10', 108.25, 110.04, 110.81, 108.25],
    ['2023/07/11', 110.03, 107.06, 110.63, 104.9],
    ['2023/07/12', 109.41, 108.85, 109.48, 107.92],
    ['2023/07/13', 109.66, 112.09, 112.67, 109.51],
    ['2023/07/14', 112.79, 111.78, 113.36, 111.34],
    ['2023/07/17', 113.15, 115.9, 118.11, 112.57],
    ['2023/07/18', 114.6, 114.0, 114.88, 112.33],
    ['2023/07/19', 113.22, 112.65, 113.85, 111.29],
    ['2023/07/20', 109.93, 104.84, 110.2, 104.52],
    ['2023/07/21', 106.31, 105.96, 107.56, 104.96],
    ['2023/07/24', 106.67, 107.13, 107.18, 103.93],
    ['2023/07/25', 107.54, 109.33, 110.9, 107.54],
    ['2023/07/26', 108.22, 108.09, 109.0, 106.87],
    ['2023/07/27', 111.66, 117.3, 118.62, 111.66],
    ['2023/07/28', 118.92, 122.16, 123.83, 118.39],
    ['2023/07/31', 121.61, 124.32, 126.64, 121.61],
    ['2023/08/01', 122.74, 123.21, 123.45, 121.54],
    ['2023/08/02', 121.1, 119.35, 121.51, 117.47],
]);
var volumes = [
    171100.0,
    341300.0,
    373600.0,
    331600.0,
    749400.0,
    562600.0,
    352500.0,
    222600.0,
    493300.0,
    165300.0,
    130600.0,
    205500.0,
    148500.0,
    210600.0,
    127500.0,
    136800.0,
    189400.0,
    143400.0,
    180200.0,
    217100.0,
    258600.0,
    265700.0,
    152900.0,
    309000.0,
    255600.0,
    317500.0,
    163300.0,
    167100.0,
    525500.0,
    398600.0,
    158500.0,
    314800.0,
    133300.0,
    105600.0,
    145600.0,
    213300.0,
    241600.0,
    298300.0,
    238600.0,
    363400.0,
    213900.0,
    319200.0,
    271100.0,
    213000.0,
    168600.0,
    174900.0,
    173200.0,
    206900.0,
    459800.0,
    336300.0,
    850500.0,
    386100.0,
    321000.0,
    484100.0,
    349700.0,
    281500.0,
    206300.0,
    242400.0,
    333600.0,
    207700.0,
    445300.0,
    407400.0,
    347300.0,
    331300.0,
    430100.0,
    386700.0,
    216300.0,
    211400.0,
    256500.0,
    196600.0,
    249000.0,
    252100.0,
    262000.0,
    291800.0,
    156300.0,
    340700.0,
    199600.0,
    119600.0,
    130800.0,
    145000.0,
    66400.0,
    192800.0,
    157500.0,
    401200.0,
    202100.0,
    172200.0,
    152800.0,
    150500.0,
    120300.0,
    175100.0,
    136500.0,
    169300.0,
    298300.0,
    228000.0,
    223300.0,
    579300.0,
    219200.0,
    312500.0,
    331600.0,
    492800.0,
    258800.0,
    198400.0,
    206800.0,
    160500.0,
    264300.0,
    180800.0,
    260300.0,
    184300.0,
    162900.0,
    156600.0,
    158700.0,
    188100.0,
    182500.0,
    112700.0,
    141500.0,
    146600.0,
    222000.0,
    207100.0,
    182500.0,
    128800.0,
    217900.0,
    171700.0,
    196500.0,
    174800.0,
    292500.0,
    333000.0,
    249700.0,
    230900.0,
    233600.0,
    311100.0,
    137700.0,
    235400.0,
    411900.0,
    243900.0,
    222700.0,
    198200.0,
    154200.0,
    174600.0,
    304500.0,
    257100.0,
    323600.0,
    299000.0,
    289900.0,
    517800.0,
    247900.0,
    183700.0,
    219700.0,
    312100.0,
    196700.0,
    127300.0,
    175000.0,
    220500.0,
    187200.0,
    309300.0,
    375300.0,
    193700.0,
    662200.0,
    175000.0,
    227300.0,
    230400.0,
    146300.0,
    181400.0,
    131800.0,
    121800.0,
    174800.0,
    142800.0,
    253700.0,
    182000.0,
    180300.0,
    162500.0,
    195200.0,
    211400.0,
    129200.0,
    186600.0,
    111700.0,
    164800.0,
    188600.0,
    198900.0,
    181600.0,
    209700.0,
    139200.0,
    157200.0,
    182000.0,
    145300.0,
    147500.0,
    199400.0,
    153500.0,
    170100.0,
    253100.0,
    361000.0,
    264600.0,
    239200.0,
    200200.0,
    181900.0,
    186700.0,
    204700.0,
    306900.0,
    390100.0,
    464700.0,
    570200.0,
    286900.0,
    227400.0,
    219100.0,
    364800.0,
    362400.0,
    396400.0,
    396500.0,
    731200.0,
    423000.0,
    432700.0,
    235000.0,
    221500.0,
    458500.0,
    256900.0,
    280200.0,
    514300.0,
    287300.0,
    664700.0,
    458700.0,
    1022800.0,
    301600.0,
    264400.0,
    274500.0,
    685100.0,
    299900.0,
    241000.0,
    389000.0,
    463000.0,
    272100.0,
    104100.0,
    351300.0,
    212200.0,
    172900.0,
    241200.0,
    313000.0,
    286900.0,
    271500.0,
    258700.0,
    400100.0,
    240700.0,
    179800.0,
    439500.0,
    361500.0,
    349300.0,
    253600.0,
    151800.0,
    704800.0,
    496700.0,
    496800.0,
    332100.0,
    266500.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "ONTO",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 40,
            end: 70,
            top: 30,
            height: 20,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);