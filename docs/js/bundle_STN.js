/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_STN");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/11', 49.41, 48.67, 51.08, 48.43],
    ['2022/08/12', 49.09, 50.85, 50.97, 49.06],
    ['2022/08/15', 50.62, 50.2, 50.62, 49.44],
    ['2022/08/16', 50.17, 50.35, 50.43, 49.92],
    ['2022/08/17', 49.71, 50.79, 51.22, 49.71],
    ['2022/08/18', 50.67, 51.13, 51.23, 50.3],
    ['2022/08/19', 50.62, 50.61, 51.37, 50.42],
    ['2022/08/22', 50.61, 49.28, 50.61, 49.05],
    ['2022/08/23', 49.02, 49.38, 49.82, 49.02],
    ['2022/08/24', 49.08, 49.34, 49.65, 49.08],
    ['2022/08/25', 49.48, 49.84, 49.84, 49.2],
    ['2022/08/26', 49.69, 48.5, 49.69, 48.35],
    ['2022/08/29', 48.41, 48.62, 48.81, 48.11],
    ['2022/08/30', 48.78, 47.64, 48.91, 47.48],
    ['2022/08/31', 47.0, 47.44, 47.84, 47.0],
    ['2022/09/01', 47.37, 46.79, 47.37, 46.16],
    ['2022/09/02', 47.28, 46.8, 47.55, 46.64],
    ['2022/09/06', 46.67, 46.8, 47.35, 46.67],
    ['2022/09/07', 46.76, 47.54, 47.77, 46.67],
    ['2022/09/08', 47.21, 47.96, 48.02, 47.05],
    ['2022/09/09', 48.31, 49.13, 49.13, 48.31],
    ['2022/09/12', 49.03, 49.35, 49.69, 49.03],
    ['2022/09/13', 48.74, 48.22, 48.82, 48.06],
    ['2022/09/14', 48.16, 47.81, 48.34, 47.52],
    ['2022/09/15', 47.65, 48.42, 48.5, 47.6],
    ['2022/09/16', 47.72, 47.04, 47.72, 46.54],
    ['2022/09/19', 46.65, 47.5, 47.56, 46.65],
    ['2022/09/20', 46.88, 46.56, 47.03, 46.18],
    ['2022/09/21', 46.59, 46.01, 46.97, 45.99],
    ['2022/09/22', 45.86, 44.69, 45.89, 44.2],
    ['2022/09/23', 44.03, 43.69, 44.03, 43.44],
    ['2022/09/26', 43.28, 43.84, 44.16, 43.28],
    ['2022/09/27', 44.02, 43.24, 44.48, 43.15],
    ['2022/09/28', 43.13, 44.35, 44.57, 43.04],
    ['2022/09/29', 43.89, 43.93, 44.0, 43.4],
    ['2022/09/30', 44.25, 43.83, 44.49, 43.81],
    ['2022/10/03', 44.19, 45.92, 46.24, 44.07],
    ['2022/10/04', 46.56, 48.7, 48.73, 46.56],
    ['2022/10/05', 48.08, 48.11, 48.29, 47.44],
    ['2022/10/06', 47.92, 46.16, 47.92, 46.06],
    ['2022/10/07', 45.89, 45.74, 46.38, 45.54],
    ['2022/10/10', 45.91, 45.74, 46.15, 45.4],
    ['2022/10/11', 45.4, 45.46, 46.1, 44.91],
    ['2022/10/12', 45.6, 45.08, 45.84, 45.0],
    ['2022/10/13', 44.24, 46.27, 46.61, 44.19],
    ['2022/10/14', 46.44, 45.1, 46.76, 45.06],
    ['2022/10/17', 45.76, 46.23, 46.39, 45.76],
    ['2022/10/18', 47.6, 46.91, 47.6, 46.49],
    ['2022/10/19', 46.41, 46.18, 46.83, 45.34],
    ['2022/10/20', 46.42, 45.73, 46.72, 45.67],
    ['2022/10/21', 45.45, 46.57, 46.78, 45.21],
    ['2022/10/24', 46.74, 47.17, 47.22, 46.23],
    ['2022/10/25', 47.02, 48.51, 48.52, 47.02],
    ['2022/10/26', 48.46, 49.32, 49.49, 48.41],
    ['2022/10/27', 49.32, 49.52, 49.75, 49.13],
    ['2022/10/28', 49.5, 49.94, 50.19, 49.27],
    ['2022/10/31', 49.44, 48.92, 49.5, 48.69],
    ['2022/11/01', 49.18, 48.94, 49.67, 48.75],
    ['2022/11/02', 48.65, 47.19, 48.85, 47.14],
    ['2022/11/03', 46.58, 47.31, 47.56, 46.58],
    ['2022/11/04', 48.42, 48.35, 48.54, 47.92],
    ['2022/11/07', 48.25, 49.32, 49.69, 48.25],
    ['2022/11/08', 49.23, 49.12, 49.78, 48.52],
    ['2022/11/09', 48.64, 48.14, 49.28, 48.09],
    ['2022/11/10', 49.87, 50.77, 50.77, 49.87],
    ['2022/11/11', 49.41, 49.53, 51.2, 48.28],
    ['2022/11/14', 49.57, 50.45, 51.39, 49.57],
    ['2022/11/15', 51.2, 50.08, 51.2, 49.19],
    ['2022/11/16', 49.77, 49.58, 50.1, 49.12],
    ['2022/11/17', 49.11, 49.51, 49.94, 49.07],
    ['2022/11/18', 49.74, 49.68, 49.99, 49.45],
    ['2022/11/21', 49.3, 50.01, 50.17, 49.2],
    ['2022/11/22', 50.4, 50.59, 50.79, 50.16],
    ['2022/11/23', 50.48, 50.93, 51.16, 50.45],
    ['2022/11/25', 50.74, 50.97, 51.03, 50.74],
    ['2022/11/28', 50.26, 50.0, 50.6, 49.78],
    ['2022/11/29', 49.93, 48.85, 49.93, 48.64],
    ['2022/11/30', 49.15, 49.47, 49.57, 48.74],
    ['2022/12/01', 49.66, 49.54, 49.83, 49.15],
    ['2022/12/02', 49.14, 50.25, 50.61, 49.14],
    ['2022/12/05', 49.93, 49.04, 50.08, 48.95],
    ['2022/12/06', 48.76, 48.27, 48.76, 48.19],
    ['2022/12/07', 48.1, 48.8, 49.31, 48.1],
    ['2022/12/08', 48.83, 48.56, 49.22, 48.45],
    ['2022/12/09', 48.3, 48.44, 49.01, 48.3],
    ['2022/12/12', 48.59, 48.98, 49.01, 48.48],
    ['2022/12/13', 49.86, 50.0, 50.5, 49.77],
    ['2022/12/14', 49.78, 49.61, 50.18, 49.34],
    ['2022/12/15', 48.9, 48.57, 49.14, 48.26],
    ['2022/12/16', 48.27, 48.26, 48.59, 48.03],
    ['2022/12/19', 47.9, 47.11, 48.32, 47.07],
    ['2022/12/20', 47.02, 47.4, 47.77, 46.9],
    ['2022/12/21', 47.82, 47.43, 47.82, 47.1],
    ['2022/12/22', 47.02, 46.85, 47.1, 46.35],
    ['2022/12/23', 46.74, 47.11, 47.12, 46.66],
    ['2022/12/27', 46.86, 47.13, 47.29, 46.64],
    ['2022/12/28', 47.01, 46.96, 47.88, 46.89],
    ['2022/12/29', 47.08, 47.61, 47.76, 47.08],
    ['2022/12/30', 47.13, 47.94, 48.28, 47.13],
    ['2023/01/03', 47.65, 47.82, 48.22, 47.53],
    ['2023/01/04', 48.04, 48.58, 48.82, 48.04],
    ['2023/01/05', 48.12, 47.89, 48.6, 47.82],
    ['2023/01/06', 48.43, 49.37, 49.38, 48.24],
    ['2023/01/09', 49.38, 49.37, 50.01, 49.22],
    ['2023/01/10', 49.27, 50.38, 50.76, 49.27],
    ['2023/01/11', 50.71, 51.35, 51.76, 50.61],
    ['2023/01/12', 51.58, 51.68, 51.81, 51.23],
    ['2023/01/13', 51.26, 51.72, 51.74, 51.26],
    ['2023/01/17', 51.66, 51.67, 52.07, 51.55],
    ['2023/01/18', 52.71, 51.07, 52.71, 50.91],
    ['2023/01/19', 50.88, 50.7, 51.06, 50.67],
    ['2023/01/20', 50.78, 51.45, 51.5, 50.56],
    ['2023/01/23', 51.24, 51.26, 51.55, 51.09],
    ['2023/01/24', 50.94, 51.5, 51.84, 50.94],
    ['2023/01/25', 51.08, 50.81, 51.32, 50.74],
    ['2023/01/26', 50.84, 51.2, 51.27, 50.84],
    ['2023/01/27', 51.44, 51.61, 51.87, 51.18],
    ['2023/01/30', 51.42, 51.4, 52.28, 51.31],
    ['2023/01/31', 51.44, 52.16, 52.32, 51.38],
    ['2023/02/01', 51.81, 53.01, 53.18, 51.81],
    ['2023/02/02', 53.03, 53.47, 53.65, 52.91],
    ['2023/02/03', 52.83, 53.13, 53.44, 52.77],
    ['2023/02/06', 52.79, 52.8, 52.89, 52.54],
    ['2023/02/07', 52.4, 52.67, 52.9, 52.29],
    ['2023/02/08', 52.21, 52.6, 52.7, 52.21],
    ['2023/02/09', 52.89, 52.46, 53.07, 51.95],
    ['2023/02/10', 52.44, 53.06, 53.1, 52.35],
    ['2023/02/13', 52.8, 53.37, 53.77, 52.8],
    ['2023/02/14', 53.23, 53.39, 53.8, 53.11],
    ['2023/02/15', 53.04, 53.4, 53.65, 53.02],
    ['2023/02/16', 53.1, 53.2, 53.57, 52.87],
    ['2023/02/17', 53.25, 53.33, 53.6, 53.03],
    ['2023/02/21', 52.87, 52.94, 53.34, 52.75],
    ['2023/02/22', 52.97, 52.38, 53.34, 52.25],
    ['2023/02/23', 55.0, 57.3, 61.61, 54.65],
    ['2023/02/24', 57.27, 58.26, 58.33, 56.32],
    ['2023/02/27', 58.49, 58.46, 58.64, 56.82],
    ['2023/02/28', 58.42, 58.02, 58.74, 58.02],
    ['2023/03/01', 57.74, 58.06, 58.61, 57.49],
    ['2023/03/02', 57.61, 58.28, 58.35, 57.61],
    ['2023/03/03', 58.27, 58.77, 58.8, 57.83],
    ['2023/03/06', 58.5, 58.26, 59.11, 58.17],
    ['2023/03/07', 58.17, 58.4, 58.61, 57.99],
    ['2023/03/08', 58.22, 58.3, 58.59, 57.79],
    ['2023/03/09', 58.49, 57.6, 58.58, 57.59],
    ['2023/03/10', 57.51, 56.7, 57.78, 56.5],
    ['2023/03/13', 56.06, 57.37, 57.52, 56.06],
    ['2023/03/14', 57.73, 57.79, 57.98, 57.37],
    ['2023/03/15', 57.11, 57.23, 57.36, 56.51],
    ['2023/03/16', 57.02, 57.5, 57.82, 56.8],
    ['2023/03/17', 57.1, 57.03, 57.4, 56.75],
    ['2023/03/20', 57.29, 57.61, 57.82, 57.02],
    ['2023/03/21', 57.96, 56.54, 58.06, 55.79],
    ['2023/03/22', 56.51, 55.89, 56.71, 55.88],
    ['2023/03/23', 56.05, 55.75, 56.49, 55.55],
    ['2023/03/24', 55.11, 55.31, 55.58, 54.9],
    ['2023/03/27', 55.88, 55.53, 55.88, 54.99],
    ['2023/03/28', 55.8, 56.7, 56.82, 55.43],
    ['2023/03/29', 56.93, 57.13, 57.13, 56.37],
    ['2023/03/30', 57.55, 58.37, 58.42, 57.31],
    ['2023/03/31', 58.68, 58.41, 58.68, 58.01],
    ['2023/04/03', 58.41, 58.83, 58.99, 58.41],
    ['2023/04/04', 58.95, 58.43, 58.97, 58.02],
    ['2023/04/05', 58.52, 57.81, 58.77, 57.45],
    ['2023/04/06', 57.8, 57.69, 57.96, 57.41],
    ['2023/04/10', 57.25, 58.52, 58.53, 57.25],
    ['2023/04/11', 58.4, 58.27, 58.78, 57.94],
    ['2023/04/12', 58.55, 58.96, 59.13, 58.55],
    ['2023/04/13', 59.04, 59.38, 59.5, 58.92],
    ['2023/04/14', 59.35, 59.17, 59.66, 58.99],
    ['2023/04/17', 59.12, 59.61, 59.93, 59.12],
    ['2023/04/18', 59.96, 59.29, 59.97, 59.1],
    ['2023/04/19', 59.09, 59.06, 59.39, 58.93],
    ['2023/04/20', 59.0, 60.26, 60.56, 59.0],
    ['2023/04/21', 60.23, 60.49, 60.53, 59.96],
    ['2023/04/24', 60.38, 60.48, 60.96, 60.34],
    ['2023/04/25', 60.04, 59.49, 60.04, 59.44],
    ['2023/04/26', 59.49, 59.18, 59.68, 59.03],
    ['2023/04/27', 59.31, 59.62, 59.7, 59.08],
    ['2023/04/28', 59.71, 60.05, 60.29, 59.52],
    ['2023/05/01', 59.91, 60.38, 60.7, 59.91],
    ['2023/05/02', 60.46, 60.25, 60.5, 60.06],
    ['2023/05/03', 60.44, 61.11, 61.46, 60.44],
    ['2023/05/04', 61.14, 60.31, 61.3, 60.31],
    ['2023/05/05', 60.51, 60.92, 61.19, 60.51],
    ['2023/05/08', 61.13, 61.12, 61.63, 60.9],
    ['2023/05/09', 60.99, 61.3, 61.34, 60.62],
    ['2023/05/10', 61.78, 61.85, 62.31, 60.88],
    ['2023/05/11', 60.0, 59.15, 61.49, 58.57],
    ['2023/05/12', 58.06, 58.16, 58.59, 57.32],
    ['2023/05/15', 58.0, 58.57, 58.78, 58.0],
    ['2023/05/16', 58.52, 58.29, 58.58, 57.98],
    ['2023/05/17', 58.29, 58.43, 58.7, 58.12],
    ['2023/05/18', 58.21, 58.37, 58.38, 57.91],
    ['2023/05/19', 58.72, 58.79, 58.96, 58.47],
    ['2023/05/22', 58.78, 58.6, 58.84, 58.51],
    ['2023/05/23', 58.3, 57.53, 58.65, 57.53],
    ['2023/05/24', 57.39, 56.77, 57.41, 56.61],
    ['2023/05/25', 56.55, 56.74, 57.0, 56.49],
    ['2023/05/26', 56.7, 58.04, 58.12, 56.7],
    ['2023/05/30', 58.09, 57.79, 58.62, 57.72],
    ['2023/05/31', 57.8, 57.83, 58.09, 57.46],
    ['2023/06/01', 58.06, 58.73, 58.89, 57.77],
    ['2023/06/02', 59.11, 60.55, 60.65, 59.11],
    ['2023/06/05', 60.37, 60.83, 60.91, 60.08],
    ['2023/06/06', 60.89, 61.9, 62.35, 60.89],
    ['2023/06/07', 61.88, 61.94, 62.6, 61.61],
    ['2023/06/08', 62.0, 62.16, 62.37, 61.81],
    ['2023/06/09', 62.0, 60.99, 62.66, 60.72],
    ['2023/06/12', 61.1, 61.55, 61.72, 60.98],
    ['2023/06/13', 61.88, 62.21, 62.65, 61.85],
    ['2023/06/14', 62.08, 62.85, 63.02, 62.08],
    ['2023/06/15', 62.59, 63.68, 63.75, 62.37],
    ['2023/06/16', 63.91, 63.73, 64.23, 63.28],
    ['2023/06/20', 62.78, 63.14, 63.51, 62.46],
    ['2023/06/21', 62.79, 63.29, 63.65, 62.73],
    ['2023/06/22', 63.08, 63.43, 63.67, 63.06],
    ['2023/06/23', 62.95, 62.86, 62.95, 62.37],
    ['2023/06/26', 62.73, 63.08, 63.4, 62.61],
    ['2023/06/27', 63.08, 63.59, 63.6, 63.01],
    ['2023/06/28', 63.4, 63.7, 63.79, 63.2],
    ['2023/06/29', 63.12, 64.08, 64.21, 63.12],
    ['2023/06/30', 64.49, 65.22, 65.42, 64.23],
    ['2023/07/03', 64.98, 64.85, 64.98, 64.45],
    ['2023/07/05', 64.85, 65.4, 65.47, 64.58],
    ['2023/07/06', 65.06, 65.23, 66.04, 65.06],
    ['2023/07/07', 65.5, 65.38, 65.8, 65.24],
    ['2023/07/10', 65.37, 65.65, 66.23, 65.17],
    ['2023/07/11', 65.8, 66.34, 66.37, 65.51],
    ['2023/07/12', 66.94, 67.06, 67.61, 66.68],
    ['2023/07/13', 67.14, 66.6, 67.14, 66.11],
    ['2023/07/14', 66.5, 67.81, 67.91, 66.5],
    ['2023/07/17', 67.97, 68.01, 68.2, 66.97],
    ['2023/07/18', 68.48, 68.74, 68.89, 68.01],
    ['2023/07/19', 69.0, 68.46, 69.02, 68.05],
    ['2023/07/20', 68.71, 67.48, 68.84, 67.29],
    ['2023/07/21', 67.82, 67.11, 67.9, 67.08],
    ['2023/07/24', 67.21, 67.21, 67.47, 66.9],
    ['2023/07/25', 66.95, 67.28, 67.43, 66.95],
    ['2023/07/26', 67.16, 67.13, 67.69, 66.83],
    ['2023/07/27', 67.51, 67.01, 67.54, 66.84],
    ['2023/07/28', 67.11, 67.49, 67.78, 67.11],
    ['2023/07/31', 67.37, 67.7, 68.16, 67.37],
    ['2023/08/01', 67.5, 67.28, 67.54, 67.19],
    ['2023/08/02', 67.07, 66.3, 67.08, 66.23],
    ['2023/08/03', 66.39, 66.16, 66.39, 65.59],
    ['2023/08/04', 66.1, 67.65, 67.96, 66.1],
    ['2023/08/07', 67.58, 67.27, 67.69, 67.0],
    ['2023/08/08', 66.83, 66.91, 67.19, 65.61],
    ['2023/08/09', 66.78, 66.56, 67.37, 66.16],
]);
var volumes = [
    219900.0,
    135700.0,
    72500.0,
    52900.0,
    72800.0,
    65900.0,
    80000.0,
    99300.0,
    115300.0,
    70400.0,
    56900.0,
    42900.0,
    54300.0,
    86200.0,
    74200.0,
    50500.0,
    53400.0,
    57800.0,
    40800.0,
    46800.0,
    38200.0,
    53900.0,
    59800.0,
    55000.0,
    122100.0,
    133100.0,
    110400.0,
    43500.0,
    30200.0,
    68600.0,
    53900.0,
    67100.0,
    91200.0,
    58200.0,
    32400.0,
    52600.0,
    89400.0,
    92500.0,
    76000.0,
    140300.0,
    98900.0,
    33100.0,
    185500.0,
    109800.0,
    116900.0,
    78600.0,
    135500.0,
    207000.0,
    125200.0,
    106800.0,
    93700.0,
    100400.0,
    63100.0,
    88300.0,
    66900.0,
    67000.0,
    89600.0,
    67300.0,
    102900.0,
    58700.0,
    44200.0,
    125300.0,
    71700.0,
    82900.0,
    78500.0,
    298500.0,
    120800.0,
    113900.0,
    70800.0,
    81900.0,
    43900.0,
    46600.0,
    88600.0,
    53300.0,
    18800.0,
    82900.0,
    54200.0,
    121100.0,
    93100.0,
    51000.0,
    49200.0,
    33800.0,
    59100.0,
    46600.0,
    81300.0,
    90900.0,
    50300.0,
    46300.0,
    54500.0,
    90800.0,
    51300.0,
    57500.0,
    50800.0,
    64400.0,
    25800.0,
    21200.0,
    42700.0,
    35500.0,
    63800.0,
    53600.0,
    37200.0,
    49900.0,
    34900.0,
    31300.0,
    69900.0,
    85400.0,
    50500.0,
    46000.0,
    52900.0,
    47900.0,
    26700.0,
    67200.0,
    30000.0,
    98000.0,
    54500.0,
    25200.0,
    35800.0,
    46100.0,
    77700.0,
    100900.0,
    63000.0,
    57100.0,
    43600.0,
    46200.0,
    36900.0,
    51500.0,
    45700.0,
    37600.0,
    30500.0,
    28100.0,
    29900.0,
    39000.0,
    65600.0,
    57600.0,
    236700.0,
    108200.0,
    84500.0,
    93600.0,
    72600.0,
    62900.0,
    106100.0,
    66200.0,
    82200.0,
    121900.0,
    65200.0,
    75900.0,
    133800.0,
    101400.0,
    155700.0,
    141200.0,
    396100.0,
    74600.0,
    172900.0,
    73300.0,
    90200.0,
    110600.0,
    101800.0,
    93800.0,
    71200.0,
    86900.0,
    66800.0,
    57400.0,
    81200.0,
    141400.0,
    73200.0,
    44600.0,
    52200.0,
    52300.0,
    34200.0,
    60700.0,
    55600.0,
    44200.0,
    36200.0,
    74600.0,
    89000.0,
    63100.0,
    33400.0,
    39700.0,
    35700.0,
    57000.0,
    71500.0,
    80000.0,
    41000.0,
    54700.0,
    43800.0,
    50200.0,
    49800.0,
    75200.0,
    142200.0,
    100100.0,
    72900.0,
    56900.0,
    48100.0,
    54400.0,
    48400.0,
    20200.0,
    39500.0,
    79500.0,
    51000.0,
    49400.0,
    65400.0,
    58000.0,
    37000.0,
    46800.0,
    28500.0,
    84600.0,
    65200.0,
    50200.0,
    63300.0,
    44300.0,
    92300.0,
    100700.0,
    76200.0,
    106400.0,
    78300.0,
    60500.0,
    42100.0,
    53100.0,
    40800.0,
    64600.0,
    50000.0,
    140200.0,
    71300.0,
    28900.0,
    75100.0,
    117700.0,
    66700.0,
    55400.0,
    48500.0,
    62900.0,
    54900.0,
    64800.0,
    61400.0,
    48700.0,
    84500.0,
    96300.0,
    66200.0,
    55900.0,
    72000.0,
    62900.0,
    81900.0,
    39600.0,
    69800.0,
    39600.0,
    48500.0,
    63200.0,
    84600.0,
    15800.0,
    72100.0,
    65900.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "STN",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);