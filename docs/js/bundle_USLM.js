/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_USLM");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 102.57, 103.08, 103.22, 102.42],
    ['2022/08/04', 105.98, 103.91, 105.98, 103.91],
    ['2022/08/05', 104.7, 104.7, 104.7, 104.7],
    ['2022/08/08', 105.94, 108.02, 108.02, 103.96],
    ['2022/08/09', 106.4, 106.59, 107.81, 104.91],
    ['2022/08/10', 107.39, 110.56, 111.24, 107.39],
    ['2022/08/11', 110.37, 105.7, 111.24, 104.99],
    ['2022/08/12', 105.92, 104.61, 111.18, 103.72],
    ['2022/08/15', 104.4, 107.87, 110.66, 104.4],
    ['2022/08/16', 107.13, 104.66, 108.15, 104.66],
    ['2022/08/17', 105.51, 102.89, 105.62, 102.89],
    ['2022/08/18', 103.41, 106.38, 107.15, 103.41],
    ['2022/08/19', 104.51, 105.7, 106.39, 103.64],
    ['2022/08/22', 106.39, 107.04, 108.78, 106.39],
    ['2022/08/23', 111.04, 106.99, 111.04, 106.99],
    ['2022/08/24', 107.38, 106.9, 109.29, 106.63],
    ['2022/08/25', 107.37, 108.08, 108.57, 107.27],
    ['2022/08/26', 108.76, 107.31, 109.12, 106.26],
    ['2022/08/29', 106.45, 106.69, 108.15, 106.07],
    ['2022/08/30', 107.02, 104.14, 107.02, 104.14],
    ['2022/08/31', 104.62, 102.4, 104.62, 102.4],
    ['2022/09/01', 102.41, 105.05, 105.05, 102.41],
    ['2022/09/02', 106.59, 104.12, 109.13, 104.12],
    ['2022/09/06', 103.83, 104.62, 106.89, 103.7],
    ['2022/09/07', 107.4, 106.41, 107.4, 104.51],
    ['2022/09/08', 105.52, 105.55, 105.55, 105.25],
    ['2022/09/09', 107.21, 104.99, 107.21, 104.24],
    ['2022/09/12', 106.36, 107.31, 107.31, 106.17],
    ['2022/09/13', 107.59, 105.6, 107.84, 105.28],
    ['2022/09/14', 104.69, 103.23, 105.71, 103.23],
    ['2022/09/15', 103.95, 105.37, 106.1, 103.95],
    ['2022/09/16', 105.0, 106.01, 106.01, 104.76],
    ['2022/09/19', 104.39, 107.28, 107.28, 104.39],
    ['2022/09/20', 105.81, 107.73, 107.84, 105.41],
    ['2022/09/21', 108.63, 108.52, 108.63, 108.34],
    ['2022/09/22', 106.74, 105.86, 106.74, 105.63],
    ['2022/09/23', 102.71, 103.11, 103.71, 102.4],
    ['2022/09/26', 103.55, 104.09, 104.09, 103.55],
    ['2022/09/27', 104.54, 102.31, 104.54, 102.31],
    ['2022/09/28', 103.41, 103.72, 105.0, 103.37],
    ['2022/09/29', 102.46, 102.73, 102.73, 101.73],
    ['2022/09/30', 103.57, 101.81, 105.6, 101.81],
    ['2022/10/03', 104.69, 105.7, 105.7, 104.69],
    ['2022/10/04', 105.6, 106.0, 106.0, 105.6],
    ['2022/10/05', 106.0, 105.5, 106.0, 105.5],
    ['2022/10/06', 107.04, 107.04, 107.04, 107.04],
    ['2022/10/07', 106.89, 105.26, 106.89, 105.26],
    ['2022/10/10', 107.83, 105.91, 107.83, 105.91],
    ['2022/10/11', 105.6, 105.52, 105.6, 105.52],
    ['2022/10/12', 106.99, 106.99, 106.99, 106.99],
    ['2022/10/13', 106.18, 107.58, 109.28, 106.18],
    ['2022/10/14', 105.03, 105.6, 106.4, 104.62],
    ['2022/10/17', 107.59, 108.51, 108.58, 107.59],
    ['2022/10/18', 109.58, 108.77, 109.58, 108.71],
    ['2022/10/19', 106.87, 108.49, 108.49, 105.89],
    ['2022/10/20', 108.49, 107.1, 108.49, 106.49],
    ['2022/10/21', 107.65, 112.4, 112.4, 107.55],
    ['2022/10/24', 107.7, 115.81, 115.81, 107.7],
    ['2022/10/25', 115.06, 117.74, 117.74, 115.06],
    ['2022/10/26', 119.54, 118.66, 119.54, 118.37],
    ['2022/10/27', 119.54, 118.58, 120.4, 118.58],
    ['2022/10/28', 124.76, 126.02, 126.02, 124.76],
    ['2022/10/31', 125.5, 125.67, 125.67, 124.05],
    ['2022/11/01', 125.58, 126.15, 128.51, 123.87],
    ['2022/11/02', 123.46, 126.71, 128.32, 123.46],
    ['2022/11/03', 130.8, 129.11, 136.21, 129.11],
    ['2022/11/04', 129.51, 131.39, 131.39, 129.51],
    ['2022/11/07', 130.45, 130.05, 130.45, 126.93],
    ['2022/11/08', 130.02, 130.48, 130.6, 129.52],
    ['2022/11/09', 130.2, 130.2, 130.2, 130.2],
    ['2022/11/10', 132.41, 136.68, 136.68, 132.41],
    ['2022/11/11', 136.48, 134.98, 136.48, 134.15],
    ['2022/11/14', 129.51, 128.61, 130.89, 127.94],
    ['2022/11/15', 129.51, 128.68, 129.53, 128.68],
    ['2022/11/16', 127.65, 131.8, 132.48, 127.65],
    ['2022/11/17', 128.51, 133.88, 134.85, 128.51],
    ['2022/11/18', 135.42, 133.39, 135.42, 132.0],
    ['2022/11/21', 134.44, 133.29, 134.44, 133.29],
    ['2022/11/22', 134.49, 136.39, 136.59, 133.39],
    ['2022/11/23', 133.98, 134.42, 136.58, 133.98],
    ['2022/11/25', 134.44, 136.83, 136.83, 134.44],
    ['2022/11/28', 137.58, 136.98, 137.58, 136.53],
    ['2022/11/29', 136.98, 137.68, 137.68, 136.98],
    ['2022/11/30', 136.0, 138.65, 139.37, 135.11],
    ['2022/12/01', 137.68, 142.46, 142.46, 137.68],
    ['2022/12/02', 142.09, 141.87, 145.9, 139.8],
    ['2022/12/05', 137.04, 143.3, 143.3, 137.04],
    ['2022/12/06', 144.33, 146.44, 146.44, 144.33],
    ['2022/12/07', 146.71, 151.42, 152.41, 146.16],
    ['2022/12/08', 150.21, 149.46, 153.64, 149.46],
    ['2022/12/09', 150.15, 149.76, 150.88, 149.65],
    ['2022/12/12', 150.6, 146.17, 150.65, 143.7],
    ['2022/12/13', 146.22, 145.64, 148.41, 143.1],
    ['2022/12/14', 146.6, 144.67, 146.6, 144.67],
    ['2022/12/15', 142.97, 140.57, 142.97, 140.57],
    ['2022/12/16', 138.87, 138.64, 139.36, 138.64],
    ['2022/12/19', 139.63, 139.67, 141.07, 138.8],
    ['2022/12/20', 139.09, 142.17, 142.96, 139.09],
    ['2022/12/21', 141.96, 143.51, 146.07, 141.72],
    ['2022/12/22', 140.64, 135.71, 140.64, 128.99],
    ['2022/12/23', 137.37, 136.68, 138.67, 136.68],
    ['2022/12/27', 135.99, 135.68, 139.62, 135.63],
    ['2022/12/28', 135.0, 131.78, 137.05, 131.78],
    ['2022/12/29', 132.42, 137.62, 137.62, 132.42],
    ['2022/12/30', 139.61, 140.43, 140.43, 136.74],
    ['2023/01/03', 140.43, 136.7, 140.43, 136.7],
    ['2023/01/04', 134.38, 134.38, 134.38, 134.38],
    ['2023/01/05', 135.04, 139.14, 140.94, 135.04],
    ['2023/01/06', 143.46, 143.46, 143.46, 143.46],
    ['2023/01/09', 141.69, 143.01, 143.01, 141.67],
    ['2023/01/10', 144.63, 144.63, 144.63, 144.63],
    ['2023/01/11', 143.77, 147.98, 148.65, 143.77],
    ['2023/01/12', 147.65, 148.7, 148.7, 146.67],
    ['2023/01/13', 149.05, 145.86, 149.05, 143.65],
    ['2023/01/17', 140.87, 141.47, 143.08, 140.87],
    ['2023/01/18', 141.67, 139.77, 141.67, 139.77],
    ['2023/01/19', 140.38, 142.93, 142.93, 140.38],
    ['2023/01/20', 143.6, 147.03, 147.07, 143.6],
    ['2023/01/23', 145.19, 145.15, 145.19, 145.15],
    ['2023/01/24', 145.25, 147.03, 147.03, 145.25],
    ['2023/01/25', 146.84, 149.65, 149.65, 146.84],
    ['2023/01/26', 149.65, 151.6, 151.6, 148.73],
    ['2023/01/27', 152.09, 152.16, 152.16, 150.95],
    ['2023/01/30', 150.43, 151.18, 151.74, 150.43],
    ['2023/01/31', 152.4, 151.44, 152.4, 149.7],
    ['2023/02/01', 147.85, 147.85, 147.85, 147.85],
    ['2023/02/02', 146.66, 150.74, 150.74, 144.66],
    ['2023/02/03', 152.44, 152.44, 152.44, 152.44],
    ['2023/02/06', 152.44, 155.33, 155.33, 151.05],
    ['2023/02/07', 153.25, 156.13, 156.13, 152.79],
    ['2023/02/08', 153.81, 153.73, 156.38, 153.73],
    ['2023/02/09', 152.64, 151.78, 156.5, 151.78],
    ['2023/02/10', 151.64, 155.74, 156.93, 151.23],
    ['2023/02/13', 153.7, 161.12, 163.32, 153.7],
    ['2023/02/14', 161.07, 160.82, 161.08, 160.82],
    ['2023/02/15', 159.53, 160.64, 161.64, 159.53],
    ['2023/02/16', 158.95, 158.12, 158.95, 158.12],
    ['2023/02/17', 159.44, 162.8, 162.8, 159.44],
    ['2023/02/21', 162.97, 162.77, 168.36, 158.72],
    ['2023/02/22', 163.12, 159.68, 164.61, 159.68],
    ['2023/02/23', 163.02, 163.3, 164.62, 158.03],
    ['2023/02/24', 162.09, 162.57, 162.61, 160.07],
    ['2023/02/27', 161.86, 160.22, 164.86, 159.38],
    ['2023/02/28', 160.22, 161.12, 163.63, 160.22],
    ['2023/03/01', 162.72, 163.93, 164.82, 162.08],
    ['2023/03/02', 163.53, 161.28, 163.85, 161.28],
    ['2023/03/03', 160.16, 163.47, 163.47, 160.16],
    ['2023/03/06', 160.5, 156.07, 160.5, 156.07],
    ['2023/03/07', 156.77, 157.83, 157.83, 156.77],
    ['2023/03/08', 157.83, 159.3, 159.82, 157.13],
    ['2023/03/09', 159.81, 153.1, 159.81, 153.1],
    ['2023/03/10', 151.2, 149.94, 151.2, 149.88],
    ['2023/03/13', 143.24, 143.24, 143.24, 143.24],
    ['2023/03/14', 145.71, 147.85, 148.84, 141.43],
    ['2023/03/15', 147.03, 148.85, 148.85, 145.33],
    ['2023/03/16', 152.26, 154.02, 154.02, 152.03],
    ['2023/03/17', 152.61, 153.33, 153.33, 152.61],
    ['2023/03/20', 157.33, 152.66, 157.33, 152.23],
    ['2023/03/21', 151.83, 151.83, 151.83, 151.83],
    ['2023/03/22', 150.32, 149.96, 150.32, 149.96],
    ['2023/03/23', 147.29, 147.29, 147.29, 147.29],
    ['2023/03/24', 147.29, 149.83, 149.83, 147.29],
    ['2023/03/27', 151.74, 151.74, 151.74, 151.74],
    ['2023/03/28', 153.79, 154.53, 156.8, 153.79],
    ['2023/03/29', 157.52, 151.08, 157.52, 151.08],
    ['2023/03/30', 152.23, 151.83, 152.23, 148.57],
    ['2023/03/31', 151.83, 152.52, 152.52, 151.83],
    ['2023/04/03', 152.33, 154.84, 154.84, 152.33],
    ['2023/04/04', 155.34, 156.33, 158.12, 155.34],
    ['2023/04/05', 152.82, 148.82, 152.82, 148.82],
    ['2023/04/06', 147.12, 145.97, 147.12, 145.97],
    ['2023/04/10', 146.81, 150.04, 159.38, 145.18],
    ['2023/04/11', 155.36, 150.04, 155.36, 150.04],
    ['2023/04/12', 150.04, 154.99, 154.99, 150.04],
    ['2023/04/13', 154.83, 154.79, 154.83, 154.79],
    ['2023/04/14', 153.52, 153.38, 154.78, 153.38],
    ['2023/04/17', 150.98, 153.93, 155.61, 150.08],
    ['2023/04/18', 156.23, 154.18, 156.23, 154.18],
    ['2023/04/19', 157.01, 158.03, 158.03, 157.01],
    ['2023/04/20', 160.81, 160.8, 160.81, 160.68],
    ['2023/04/21', 159.52, 160.32, 160.48, 159.52],
    ['2023/04/24', 158.98, 158.98, 158.98, 158.98],
    ['2023/04/25', 159.54, 159.33, 159.54, 158.83],
    ['2023/04/26', 158.03, 159.76, 159.76, 158.03],
    ['2023/04/27', 158.51, 161.51, 161.69, 158.51],
    ['2023/04/28', 161.77, 160.72, 161.77, 158.43],
    ['2023/05/01', 161.6, 161.22, 161.62, 161.22],
    ['2023/05/02', 160.59, 161.45, 161.45, 159.37],
    ['2023/05/03', 161.32, 158.38, 162.43, 158.38],
    ['2023/05/04', 157.14, 160.17, 160.17, 157.14],
    ['2023/05/05', 164.8, 165.8, 168.65, 163.32],
    ['2023/05/08', 167.41, 164.07, 168.66, 164.07],
    ['2023/05/09', 165.75, 162.78, 167.36, 151.36],
    ['2023/05/10', 162.82, 164.64, 164.64, 162.82],
    ['2023/05/11', 165.13, 164.07, 165.13, 164.07],
    ['2023/05/12', 168.43, 167.81, 168.43, 167.81],
    ['2023/05/15', 168.26, 177.7, 177.7, 168.26],
    ['2023/05/16', 180.64, 180.75, 184.55, 179.02],
    ['2023/05/17', 178.62, 184.0, 184.0, 176.97],
    ['2023/05/18', 181.86, 188.79, 188.79, 181.86],
    ['2023/05/19', 189.98, 186.2, 191.79, 186.04],
    ['2023/05/22', 187.39, 186.21, 190.46, 185.81],
    ['2023/05/23', 187.79, 185.31, 188.98, 185.31],
    ['2023/05/24', 182.26, 182.26, 182.26, 182.26],
    ['2023/05/25', 184.98, 180.55, 184.98, 180.55],
    ['2023/05/26', 182.27, 182.0, 182.27, 182.0],
    ['2023/05/30', 183.66, 186.0, 186.0, 183.6],
    ['2023/05/31', 186.36, 181.42, 186.36, 177.96],
    ['2023/06/01', 179.91, 180.21, 181.5, 179.91],
    ['2023/06/02', 183.02, 186.2, 186.2, 182.98],
    ['2023/06/05', 185.48, 185.06, 185.48, 183.68],
    ['2023/06/06', 188.86, 188.4, 190.89, 188.12],
    ['2023/06/07', 189.48, 191.0, 193.2, 189.48],
    ['2023/06/08', 190.88, 191.95, 192.48, 187.48],
    ['2023/06/09', 190.04, 190.68, 192.5, 189.94],
    ['2023/06/12', 189.66, 192.85, 192.85, 188.86],
    ['2023/06/13', 192.75, 194.0, 196.8, 192.31],
    ['2023/06/14', 195.6, 193.62, 196.75, 192.06],
    ['2023/06/15', 193.5, 195.41, 195.41, 190.87],
    ['2023/06/16', 195.86, 194.0, 195.86, 194.0],
    ['2023/06/20', 194.77, 193.19, 194.77, 192.42],
    ['2023/06/21', 193.0, 192.01, 194.35, 192.01],
    ['2023/06/22', 193.32, 190.9, 193.8, 190.9],
    ['2023/06/23', 189.44, 192.29, 192.39, 189.44],
    ['2023/06/26', 194.0, 195.0, 195.41, 193.53],
    ['2023/06/27', 196.0, 198.97, 199.2, 193.5],
    ['2023/06/28', 198.46, 200.47, 200.47, 198.46],
    ['2023/06/29', 201.83, 205.83, 205.83, 201.83],
    ['2023/06/30', 207.0, 208.89, 210.4, 205.3],
    ['2023/07/03', 208.3, 206.98, 211.21, 206.2],
    ['2023/07/05', 206.96, 203.7, 206.96, 203.7],
    ['2023/07/06', 202.0, 195.51, 202.0, 194.9],
    ['2023/07/07', 198.0, 197.01, 200.24, 197.01],
    ['2023/07/10', 197.01, 198.52, 200.96, 197.01],
    ['2023/07/11', 199.83, 210.23, 212.36, 198.45],
    ['2023/07/12', 212.87, 208.99, 214.16, 208.23],
    ['2023/07/13', 211.49, 209.3, 211.49, 209.02],
    ['2023/07/14', 210.29, 209.42, 210.29, 204.04],
    ['2023/07/17', 210.06, 208.4, 210.53, 208.4],
    ['2023/07/18', 207.0, 209.67, 211.95, 207.0],
    ['2023/07/19', 210.01, 209.02, 210.2, 207.12],
    ['2023/07/20', 208.35, 209.5, 210.61, 208.35],
    ['2023/07/21', 208.48, 208.3, 209.55, 208.3],
    ['2023/07/24', 208.87, 205.79, 209.96, 205.05],
    ['2023/07/25', 206.56, 209.0, 209.0, 205.08],
    ['2023/07/26', 208.93, 208.29, 211.99, 207.57],
    ['2023/07/27', 208.38, 206.0, 208.38, 206.0],
    ['2023/07/28', 205.23, 203.65, 206.08, 203.65],
    ['2023/07/31', 205.47, 205.61, 206.02, 204.05],
    ['2023/08/01', 204.23, 204.24, 205.3, 203.61],
    ['2023/08/02', 204.71, 205.46, 206.3, 203.32],
]);
var volumes = [
    3200.0,
    1600.0,
    2200.0,
    9500.0,
    3600.0,
    3200.0,
    6900.0,
    20800.0,
    10600.0,
    2200.0,
    5600.0,
    4600.0,
    5700.0,
    6700.0,
    3100.0,
    3200.0,
    6600.0,
    4800.0,
    7400.0,
    5300.0,
    5100.0,
    5900.0,
    8100.0,
    10700.0,
    4400.0,
    4500.0,
    7100.0,
    2900.0,
    8900.0,
    5600.0,
    6200.0,
    12600.0,
    4900.0,
    10000.0,
    8000.0,
    7600.0,
    6700.0,
    5400.0,
    5900.0,
    5500.0,
    3500.0,
    7600.0,
    2800.0,
    2200.0,
    2700.0,
    1900.0,
    4800.0,
    2500.0,
    1600.0,
    1200.0,
    10500.0,
    7200.0,
    3000.0,
    4500.0,
    5300.0,
    2100.0,
    7200.0,
    2400.0,
    3200.0,
    2900.0,
    3000.0,
    1800.0,
    2700.0,
    6000.0,
    4100.0,
    12400.0,
    3100.0,
    4800.0,
    4300.0,
    2200.0,
    6900.0,
    3200.0,
    5300.0,
    2200.0,
    3000.0,
    4100.0,
    3900.0,
    1900.0,
    3200.0,
    1600.0,
    1300.0,
    2900.0,
    1600.0,
    5400.0,
    6800.0,
    5800.0,
    5600.0,
    4100.0,
    13000.0,
    9700.0,
    4700.0,
    11900.0,
    24800.0,
    2300.0,
    1300.0,
    7600.0,
    5700.0,
    3600.0,
    8400.0,
    9000.0,
    5200.0,
    8100.0,
    4500.0,
    7000.0,
    11800.0,
    3600.0,
    800.0,
    4200.0,
    2700.0,
    4400.0,
    2000.0,
    1600.0,
    2800.0,
    5700.0,
    3200.0,
    1200.0,
    2400.0,
    2700.0,
    2000.0,
    4000.0,
    1900.0,
    2000.0,
    4700.0,
    1500.0,
    5900.0,
    2400.0,
    5100.0,
    1900.0,
    6300.0,
    5100.0,
    12200.0,
    7200.0,
    17800.0,
    13400.0,
    2400.0,
    1500.0,
    2300.0,
    2700.0,
    9800.0,
    9500.0,
    7200.0,
    3500.0,
    9800.0,
    9200.0,
    5100.0,
    5100.0,
    2600.0,
    3100.0,
    1400.0,
    1700.0,
    2700.0,
    2300.0,
    1400.0,
    6400.0,
    3300.0,
    3100.0,
    7600.0,
    6200.0,
    1700.0,
    1700.0,
    2400.0,
    4300.0,
    1600.0,
    2800.0,
    9400.0,
    2500.0,
    4200.0,
    2600.0,
    6400.0,
    4800.0,
    2300.0,
    12900.0,
    2300.0,
    5200.0,
    2200.0,
    1700.0,
    4100.0,
    1000.0,
    1900.0,
    1800.0,
    2600.0,
    1000.0,
    2000.0,
    1500.0,
    2800.0,
    2600.0,
    1500.0,
    3000.0,
    2900.0,
    3100.0,
    4600.0,
    6100.0,
    6200.0,
    5300.0,
    2500.0,
    1600.0,
    4000.0,
    3500.0,
    9700.0,
    6500.0,
    8100.0,
    13200.0,
    5500.0,
    1400.0,
    4500.0,
    2200.0,
    4000.0,
    12400.0,
    2600.0,
    6600.0,
    3800.0,
    6400.0,
    5900.0,
    5900.0,
    4000.0,
    2200.0,
    11000.0,
    3500.0,
    9900.0,
    8800.0,
    6200.0,
    4500.0,
    6600.0,
    28700.0,
    4700.0,
    9700.0,
    7300.0,
    8400.0,
    12600.0,
    5100.0,
    6300.0,
    14400.0,
    14500.0,
    9500.0,
    18900.0,
    9700.0,
    9100.0,
    5800.0,
    5800.0,
    7100.0,
    9600.0,
    11900.0,
    13900.0,
    7200.0,
    9200.0,
    11300.0,
    8200.0,
    9200.0,
    10200.0,
    9600.0,
    9600.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "USLM",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);