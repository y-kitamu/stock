/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_NE");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 31.0, 30.62, 31.26, 30.19],
    ['2022/08/04', 30.56, 29.47, 31.08, 29.36],
    ['2022/08/05', 29.04, 29.82, 30.62, 29.04],
    ['2022/08/08', 29.83, 29.82, 30.28, 29.24],
    ['2022/08/09', 30.0, 30.96, 31.4, 29.66],
    ['2022/08/10', 30.98, 30.98, 31.26, 30.0],
    ['2022/08/11', 31.68, 32.27, 33.22, 31.27],
    ['2022/08/12', 32.31, 32.84, 32.84, 31.84],
    ['2022/08/15', 31.5, 31.58, 31.62, 30.05],
    ['2022/08/16', 31.5, 30.42, 31.67, 30.11],
    ['2022/08/17', 29.83, 30.92, 31.02, 29.51],
    ['2022/08/18', 30.7, 32.74, 32.84, 30.56],
    ['2022/08/19', 30.95, 32.3, 32.56, 30.7],
    ['2022/08/22', 31.7, 31.12, 31.75, 30.43],
    ['2022/08/23', 31.41, 31.44, 32.7, 30.85],
    ['2022/08/24', 31.28, 31.69, 32.08, 31.2],
    ['2022/08/25', 31.58, 31.59, 31.84, 31.19],
    ['2022/08/26', 31.2, 30.69, 31.27, 30.29],
    ['2022/08/29', 30.23, 31.09, 31.32, 29.92],
    ['2022/08/30', 30.54, 30.08, 30.54, 29.26],
    ['2022/08/31', 29.31, 30.35, 30.66, 28.82],
    ['2022/09/01', 29.43, 29.48, 29.49, 28.75],
    ['2022/09/02', 29.93, 31.1, 31.46, 29.56],
    ['2022/09/06', 31.37, 30.87, 31.46, 30.52],
    ['2022/09/07', 30.06, 30.66, 30.77, 29.37],
    ['2022/09/08', 30.62, 31.43, 31.83, 30.38],
    ['2022/09/09', 32.19, 32.96, 33.52, 32.06],
    ['2022/09/12', 33.43, 34.32, 34.32, 33.17],
    ['2022/09/13', 32.5, 33.81, 34.15, 32.5],
    ['2022/09/14', 34.0, 34.35, 34.71, 33.49],
    ['2022/09/15', 33.46, 34.77, 35.44, 33.06],
    ['2022/09/16', 34.17, 32.42, 34.19, 31.98],
    ['2022/09/19', 31.17, 31.8, 32.36, 31.17],
    ['2022/09/20', 31.53, 30.76, 31.65, 30.5],
    ['2022/09/21', 31.37, 29.97, 31.42, 29.8],
    ['2022/09/22', 30.32, 29.46, 30.63, 29.4],
    ['2022/09/23', 28.32, 27.86, 28.39, 27.25],
    ['2022/09/26', 27.7, 27.08, 28.06, 27.04],
    ['2022/09/27', 27.55, 27.59, 28.02, 27.23],
    ['2022/09/28', 27.84, 28.88, 29.07, 27.66],
    ['2022/09/29', 28.55, 29.7, 29.73, 28.46],
    ['2022/09/30', 29.53, 29.58, 30.18, 29.33],
    ['2022/10/03', 30.18, 30.04, 30.81, 29.71],
    ['2022/10/04', 30.79, 31.01, 31.55, 30.6],
    ['2022/10/05', 30.47, 30.47, 31.09, 29.27],
    ['2022/10/06', 30.01, 29.87, 30.4, 29.57],
    ['2022/10/07', 29.71, 29.98, 30.3, 29.28],
    ['2022/10/10', 29.56, 28.41, 29.87, 28.34],
    ['2022/10/11', 28.03, 29.02, 29.06, 28.03],
    ['2022/10/12', 28.12, 30.0, 30.05, 27.63],
    ['2022/10/13', 29.77, 32.14, 32.21, 29.77],
    ['2022/10/14', 31.69, 31.28, 31.95, 31.04],
    ['2022/10/17', 32.05, 32.56, 32.59, 31.5],
    ['2022/10/18', 33.07, 32.54, 33.44, 32.14],
    ['2022/10/19', 32.73, 33.28, 33.48, 32.5],
    ['2022/10/20', 33.37, 32.93, 34.0, 32.49],
    ['2022/10/21', 32.96, 34.13, 34.52, 32.51],
    ['2022/10/24', 34.12, 34.95, 35.01, 33.94],
    ['2022/10/25', 34.78, 35.85, 36.25, 34.71],
    ['2022/10/26', 36.28, 35.41, 36.88, 35.3],
    ['2022/10/27', 36.03, 35.02, 36.78, 34.88],
    ['2022/10/28', 35.38, 35.51, 35.85, 34.67],
    ['2022/10/31', 35.5, 36.04, 36.7, 35.25],
    ['2022/11/01', 36.25, 34.96, 36.54, 34.81],
    ['2022/11/02', 34.68, 35.03, 36.43, 34.28],
    ['2022/11/03', 35.9, 37.15, 37.19, 35.0],
    ['2022/11/04', 37.7, 38.16, 38.63, 36.47],
    ['2022/11/07', 38.03, 39.8, 40.32, 38.03],
    ['2022/11/08', 40.18, 40.76, 41.15, 39.4],
    ['2022/11/09', 40.29, 38.97, 40.56, 38.88],
    ['2022/11/10', 39.96, 40.51, 41.03, 39.63],
    ['2022/11/11', 39.65, 41.13, 41.25, 38.84],
    ['2022/11/14', 40.37, 40.94, 42.08, 40.18],
    ['2022/11/15', 40.74, 40.86, 41.74, 40.15],
    ['2022/11/16', 40.75, 39.84, 40.76, 39.73],
    ['2022/11/17', 39.19, 39.02, 39.59, 38.75],
    ['2022/11/18', 38.34, 38.26, 38.76, 37.09],
    ['2022/11/21', 37.12, 36.98, 37.32, 35.46],
    ['2022/11/22', 37.72, 37.47, 38.02, 37.29],
    ['2022/11/23', 36.91, 36.85, 37.23, 36.53],
    ['2022/11/25', 36.57, 36.45, 36.68, 35.95],
    ['2022/11/28', 35.89, 35.68, 36.21, 35.56],
    ['2022/11/29', 36.05, 35.84, 36.37, 35.75],
    ['2022/11/30', 36.1, 37.13, 37.2, 35.8],
    ['2022/12/01', 37.3, 37.32, 37.89, 37.1],
    ['2022/12/02', 36.84, 37.63, 37.76, 36.33],
    ['2022/12/05', 37.89, 36.19, 38.08, 35.99],
    ['2022/12/06', 35.71, 35.97, 36.54, 35.64],
    ['2022/12/07', 35.67, 35.54, 36.14, 35.32],
    ['2022/12/08', 36.29, 35.07, 36.8, 34.88],
    ['2022/12/09', 35.43, 34.37, 36.44, 34.35],
    ['2022/12/12', 34.78, 34.45, 35.08, 34.19],
    ['2022/12/13', 35.45, 35.18, 35.81, 34.92],
    ['2022/12/14', 35.3, 35.29, 36.13, 34.73],
    ['2022/12/15', 35.15, 34.47, 35.54, 33.86],
    ['2022/12/16', 33.43, 34.49, 35.01, 33.41],
    ['2022/12/19', 34.67, 34.68, 35.36, 34.26],
    ['2022/12/20', 34.48, 36.04, 36.11, 34.43],
    ['2022/12/21', 36.31, 36.61, 36.85, 35.85],
    ['2022/12/22', 36.54, 36.72, 37.03, 35.93],
    ['2022/12/23', 37.1, 37.94, 38.15, 36.85],
    ['2022/12/27', 38.1, 37.66, 38.17, 37.06],
    ['2022/12/28', 37.49, 36.7, 37.49, 36.19],
    ['2022/12/29', 36.72, 37.8, 38.0, 36.65],
    ['2022/12/30', 37.48, 37.71, 37.86, 37.04],
    ['2023/01/03', 37.25, 36.1, 37.4, 35.82],
    ['2023/01/04', 35.53, 36.01, 36.48, 35.27],
    ['2023/01/05', 35.74, 35.95, 36.25, 35.6],
    ['2023/01/06', 36.57, 36.95, 37.38, 36.41],
    ['2023/01/09', 37.71, 37.33, 38.38, 37.1],
    ['2023/01/10', 37.16, 38.12, 38.76, 36.91],
    ['2023/01/11', 38.24, 37.86, 38.79, 37.32],
    ['2023/01/12', 38.02, 39.0, 39.57, 37.91],
    ['2023/01/13', 39.22, 39.16, 39.64, 38.73],
    ['2023/01/17', 39.77, 40.58, 40.69, 39.63],
    ['2023/01/18', 40.93, 39.72, 41.5, 38.94],
    ['2023/01/19', 40.16, 40.22, 40.49, 39.08],
    ['2023/01/20', 40.84, 40.36, 40.89, 39.89],
    ['2023/01/23', 40.61, 39.93, 40.81, 39.06],
    ['2023/01/24', 39.77, 40.33, 40.65, 39.56],
    ['2023/01/25', 40.46, 40.52, 41.24, 39.9],
    ['2023/01/26', 41.0, 40.97, 41.75, 40.44],
    ['2023/01/27', 40.84, 41.01, 41.29, 40.68],
    ['2023/01/30', 40.4, 40.3, 40.63, 40.01],
    ['2023/01/31', 40.23, 40.69, 40.7, 39.7],
    ['2023/02/01', 40.54, 40.35, 41.23, 39.32],
    ['2023/02/02', 40.04, 38.93, 40.2, 38.3],
    ['2023/02/03', 38.78, 39.31, 40.22, 38.67],
    ['2023/02/06', 39.43, 39.68, 39.73, 39.14],
    ['2023/02/07', 39.74, 40.5, 40.61, 39.45],
    ['2023/02/08', 40.6, 42.22, 42.4, 39.85],
    ['2023/02/09', 40.87, 42.24, 42.84, 40.45],
    ['2023/02/10', 42.32, 42.7, 43.02, 41.7],
    ['2023/02/13', 42.51, 43.1, 43.52, 42.01],
    ['2023/02/14', 42.65, 43.53, 43.71, 42.49],
    ['2023/02/15', 43.0, 43.52, 43.68, 42.81],
    ['2023/02/16', 43.26, 43.0, 45.04, 42.95],
    ['2023/02/17', 43.16, 41.78, 43.16, 41.33],
    ['2023/02/21', 41.5, 39.78, 41.5, 39.31],
    ['2023/02/22', 39.38, 38.41, 39.95, 38.09],
    ['2023/02/23', 39.14, 38.04, 39.32, 37.5],
    ['2023/02/24', 37.23, 38.37, 38.44, 37.22],
    ['2023/02/27', 37.87, 41.6, 41.84, 37.54],
    ['2023/02/28', 41.62, 41.69, 42.6, 41.15],
    ['2023/03/01', 41.68, 43.47, 43.83, 41.49],
    ['2023/03/02', 42.59, 44.25, 44.45, 42.44],
    ['2023/03/03', 43.05, 44.52, 44.6, 43.05],
    ['2023/03/06', 44.42, 45.25, 45.5, 44.08],
    ['2023/03/07', 45.02, 43.34, 45.25, 43.05],
    ['2023/03/08', 43.04, 42.57, 43.69, 42.01],
    ['2023/03/09', 42.64, 40.87, 43.4, 40.7],
    ['2023/03/10', 41.26, 39.88, 41.66, 39.53],
    ['2023/03/13', 38.69, 38.89, 39.51, 38.22],
    ['2023/03/14', 39.55, 39.7, 41.19, 39.15],
    ['2023/03/15', 37.92, 37.43, 37.92, 36.64],
    ['2023/03/16', 36.93, 37.63, 37.94, 35.68],
    ['2023/03/17', 37.65, 35.36, 37.76, 35.32],
    ['2023/03/20', 35.86, 38.19, 38.49, 35.85],
    ['2023/03/21', 39.18, 39.75, 40.94, 39.04],
    ['2023/03/22', 39.49, 38.58, 39.86, 38.51],
    ['2023/03/23', 38.78, 37.32, 39.78, 36.6],
    ['2023/03/24', 36.45, 37.31, 37.52, 36.02],
    ['2023/03/27', 37.76, 38.98, 39.23, 37.1],
    ['2023/03/28', 38.46, 39.81, 39.88, 38.44],
    ['2023/03/29', 40.36, 39.94, 40.36, 39.35],
    ['2023/03/30', 40.15, 39.1, 40.28, 38.84],
    ['2023/03/31', 39.03, 39.47, 39.69, 38.9],
    ['2023/04/03', 41.14, 40.92, 41.46, 40.13],
    ['2023/04/04', 40.84, 39.28, 40.84, 37.97],
    ['2023/04/05', 39.39, 38.46, 39.51, 37.89],
    ['2023/04/06', 38.42, 37.83, 38.48, 37.73],
    ['2023/04/10', 37.98, 38.64, 38.97, 37.74],
    ['2023/04/11', 38.96, 38.73, 39.36, 38.36],
    ['2023/04/12', 39.28, 40.08, 40.12, 38.51],
    ['2023/04/13', 39.96, 40.26, 41.15, 39.82],
    ['2023/04/14', 40.48, 40.04, 40.8, 39.57],
    ['2023/04/17', 39.67, 40.57, 40.93, 39.5],
    ['2023/04/18', 40.37, 40.11, 40.76, 39.84],
    ['2023/04/19', 39.46, 38.34, 39.53, 37.91],
    ['2023/04/20', 37.74, 37.55, 38.17, 37.08],
    ['2023/04/21', 37.75, 37.7, 38.09, 37.12],
    ['2023/04/24', 37.72, 39.13, 39.37, 37.72],
    ['2023/04/25', 38.22, 37.85, 38.24, 37.36],
    ['2023/04/26', 37.47, 36.34, 38.17, 36.16],
    ['2023/04/27', 36.56, 36.83, 36.93, 36.17],
    ['2023/04/28', 36.54, 38.45, 39.12, 36.44],
    ['2023/05/01', 37.79, 38.27, 38.56, 37.39],
    ['2023/05/02', 37.66, 36.06, 37.66, 35.4],
    ['2023/05/03', 35.4, 35.53, 36.35, 35.16],
    ['2023/05/04', 36.49, 36.69, 37.0, 34.85],
    ['2023/05/05', 37.85, 37.09, 38.65, 36.15],
    ['2023/05/08', 36.96, 37.04, 37.39, 36.52],
    ['2023/05/09', 36.58, 36.74, 37.23, 35.9],
    ['2023/05/10', 37.22, 37.1, 37.8, 36.21],
    ['2023/05/11', 35.94, 35.76, 36.31, 35.29],
    ['2023/05/12', 36.08, 37.23, 37.47, 35.97],
    ['2023/05/15', 37.25, 37.41, 37.83, 36.9],
    ['2023/05/16', 37.21, 36.81, 38.0, 36.54],
    ['2023/05/17', 37.24, 37.58, 37.6, 36.38],
    ['2023/05/18', 37.25, 37.73, 37.89, 36.52],
    ['2023/05/19', 38.11, 37.47, 38.56, 37.31],
    ['2023/05/22', 37.76, 39.45, 39.97, 37.29],
    ['2023/05/23', 39.46, 39.17, 40.07, 39.07],
    ['2023/05/24', 39.13, 39.99, 40.24, 39.04],
    ['2023/05/25', 39.36, 39.46, 39.77, 38.34],
    ['2023/05/26', 39.66, 40.09, 40.49, 39.66],
    ['2023/05/30', 39.21, 39.82, 40.1, 38.6],
    ['2023/05/31', 38.86, 37.74, 39.29, 37.59],
    ['2023/06/01', 37.92, 40.13, 40.61, 37.92],
    ['2023/06/02', 40.8, 40.8, 41.44, 40.2],
    ['2023/06/05', 40.99, 40.19, 41.48, 39.82],
    ['2023/06/06', 39.35, 39.5, 40.06, 39.06],
    ['2023/06/07', 39.97, 40.84, 41.45, 39.97],
    ['2023/06/08', 40.66, 40.39, 40.87, 39.77],
    ['2023/06/09', 40.0, 40.0, 40.53, 39.5],
    ['2023/06/12', 39.2, 37.41, 39.49, 37.33],
    ['2023/06/13', 38.21, 37.28, 38.86, 37.26],
    ['2023/06/14', 37.93, 38.57, 38.62, 37.4],
    ['2023/06/15', 38.44, 38.73, 38.89, 38.02],
    ['2023/06/16', 38.94, 38.66, 39.49, 38.52],
    ['2023/06/20', 38.41, 39.16, 39.17, 37.74],
    ['2023/06/21', 38.43, 39.02, 39.35, 38.43],
    ['2023/06/22', 38.39, 38.15, 38.5, 37.73],
    ['2023/06/23', 37.36, 36.52, 37.36, 36.2],
    ['2023/06/26', 36.9, 38.32, 38.75, 36.9],
    ['2023/06/27', 38.41, 37.96, 38.65, 37.86],
    ['2023/06/28', 38.11, 37.66, 38.49, 37.33],
    ['2023/06/29', 38.11, 39.09, 39.18, 38.07],
    ['2023/06/30', 39.63, 41.31, 42.33, 39.47],
    ['2023/07/03', 41.11, 42.38, 42.87, 41.02],
    ['2023/07/05', 42.72, 43.46, 44.15, 42.5],
    ['2023/07/06', 43.0, 43.72, 43.85, 42.27],
    ['2023/07/07', 43.43, 46.19, 46.58, 43.42],
    ['2023/07/10', 45.67, 46.57, 46.71, 45.57],
    ['2023/07/11', 46.79, 47.76, 48.0, 46.5],
    ['2023/07/12', 48.12, 48.43, 48.59, 47.44],
    ['2023/07/13', 48.68, 49.33, 49.33, 48.38],
    ['2023/07/14', 49.3, 48.59, 49.36, 48.38],
    ['2023/07/17', 48.08, 49.14, 49.25, 47.92],
    ['2023/07/18', 49.83, 51.99, 52.41, 49.5],
    ['2023/07/19', 51.8, 51.0, 52.05, 50.4],
    ['2023/07/20', 51.08, 50.56, 51.61, 50.52],
    ['2023/07/21', 50.66, 51.24, 51.36, 50.23],
    ['2023/07/24', 51.39, 52.03, 52.48, 51.14],
    ['2023/07/25', 51.49, 52.37, 52.74, 51.29],
    ['2023/07/26', 51.63, 51.01, 51.89, 50.76],
    ['2023/07/27', 51.48, 51.43, 52.15, 51.02],
    ['2023/07/28', 51.77, 51.91, 52.22, 51.33],
    ['2023/07/31', 52.34, 52.27, 52.77, 51.85],
    ['2023/08/01', 51.64, 51.95, 52.02, 50.79],
    ['2023/08/02', 51.73, 51.7, 51.96, 50.54],
]);
var volumes = [
    556100.0,
    467700.0,
    567200.0,
    505500.0,
    965100.0,
    638900.0,
    1035200.0,
    968500.0,
    478100.0,
    604200.0,
    1051700.0,
    761600.0,
    688900.0,
    837700.0,
    1010200.0,
    1364400.0,
    696800.0,
    488400.0,
    804800.0,
    569700.0,
    1015700.0,
    862400.0,
    915700.0,
    734400.0,
    660700.0,
    1012100.0,
    1322700.0,
    1290100.0,
    1041600.0,
    2663800.0,
    2363900.0,
    6207400.0,
    1294500.0,
    848200.0,
    1313300.0,
    921200.0,
    1096600.0,
    835500.0,
    890800.0,
    1564800.0,
    1334900.0,
    550600.0,
    2933700.0,
    1908100.0,
    1988800.0,
    3415000.0,
    2440500.0,
    1688500.0,
    1690600.0,
    1321400.0,
    1337400.0,
    857000.0,
    1190200.0,
    1344100.0,
    1055000.0,
    1467700.0,
    2823600.0,
    1500900.0,
    1618400.0,
    1617700.0,
    2199900.0,
    2132800.0,
    1657300.0,
    1605900.0,
    1038300.0,
    2978100.0,
    2796500.0,
    2048900.0,
    1861600.0,
    1307100.0,
    1544000.0,
    1377800.0,
    1373600.0,
    1369200.0,
    976300.0,
    1255400.0,
    1533400.0,
    1461000.0,
    1998800.0,
    1082900.0,
    706400.0,
    1227400.0,
    1109300.0,
    1492400.0,
    786800.0,
    1025500.0,
    1391000.0,
    1212400.0,
    1140000.0,
    1408800.0,
    1176900.0,
    1405700.0,
    1467800.0,
    2595700.0,
    1739500.0,
    4048900.0,
    1811900.0,
    1870000.0,
    1539000.0,
    1687200.0,
    1335500.0,
    932500.0,
    531600.0,
    603300.0,
    1009000.0,
    1256200.0,
    981000.0,
    1726600.0,
    7989100.0,
    1908500.0,
    2563100.0,
    2746400.0,
    2099600.0,
    1559800.0,
    2332900.0,
    2571700.0,
    1969600.0,
    1510100.0,
    1913300.0,
    1452800.0,
    1371500.0,
    1092100.0,
    1120900.0,
    1300800.0,
    1176600.0,
    2405500.0,
    1660000.0,
    1324800.0,
    760000.0,
    1169100.0,
    2136700.0,
    5215500.0,
    2522300.0,
    1598200.0,
    1260800.0,
    1139700.0,
    2335300.0,
    2173600.0,
    2523300.0,
    2889500.0,
    1719900.0,
    1630700.0,
    3566500.0,
    2326700.0,
    2028100.0,
    2025800.0,
    1425400.0,
    1588500.0,
    972000.0,
    1229300.0,
    2160500.0,
    1092700.0,
    1897800.0,
    1904100.0,
    3835100.0,
    2427400.0,
    7098500.0,
    2137200.0,
    2471400.0,
    1239400.0,
    1490900.0,
    1096500.0,
    839000.0,
    1090100.0,
    983200.0,
    999000.0,
    1057700.0,
    1273100.0,
    1405500.0,
    1218600.0,
    500500.0,
    729000.0,
    627300.0,
    1170800.0,
    955800.0,
    914500.0,
    1350100.0,
    669700.0,
    891000.0,
    946800.0,
    694800.0,
    660500.0,
    1441400.0,
    958600.0,
    687600.0,
    1068100.0,
    776800.0,
    1568000.0,
    1133700.0,
    1393800.0,
    1344500.0,
    931200.0,
    650900.0,
    828200.0,
    1131100.0,
    1456000.0,
    1059300.0,
    1054100.0,
    793400.0,
    1164800.0,
    630800.0,
    1585800.0,
    1268600.0,
    1453900.0,
    1385400.0,
    1326100.0,
    1933500.0,
    1931300.0,
    1040000.0,
    1538600.0,
    1164000.0,
    1147800.0,
    1214000.0,
    883100.0,
    849100.0,
    2574900.0,
    1494000.0,
    1777000.0,
    1349700.0,
    1894800.0,
    1598900.0,
    1060700.0,
    849800.0,
    6300400.0,
    1231300.0,
    977500.0,
    882200.0,
    1083300.0,
    2903900.0,
    1103200.0,
    2664400.0,
    2375200.0,
    2704200.0,
    1865500.0,
    1736400.0,
    1542000.0,
    1813000.0,
    1537900.0,
    1125500.0,
    3195800.0,
    1957500.0,
    1265000.0,
    879700.0,
    976100.0,
    826700.0,
    1998300.0,
    1532200.0,
    1182900.0,
    1081400.0,
    1197800.0,
    1823400.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "NE",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 40,
            end: 70,
            top: 30,
            height: 20,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);