/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_TDG");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/08', 642.99, 641.18, 647.71, 639.39],
    ['2022/08/09', 647.22, 644.04, 652.2, 633.49],
    ['2022/08/10', 657.66, 666.06, 673.75, 654.25],
    ['2022/08/11', 673.73, 661.5, 675.71, 657.23],
    ['2022/08/12', 661.5, 676.6, 677.69, 661.13],
    ['2022/08/15', 671.59, 677.01, 679.53, 670.0],
    ['2022/08/16', 675.28, 677.36, 680.0, 674.39],
    ['2022/08/17', 667.28, 668.83, 673.94, 665.81],
    ['2022/08/18', 653.21, 655.5, 660.04, 647.94],
    ['2022/08/19', 649.62, 646.0, 653.89, 637.18],
    ['2022/08/22', 635.72, 631.5, 639.37, 630.09],
    ['2022/08/23', 633.42, 638.77, 640.89, 632.44],
    ['2022/08/24', 640.77, 643.04, 646.23, 640.77],
    ['2022/08/25', 646.09, 654.13, 654.72, 643.52],
    ['2022/08/26', 657.74, 631.02, 657.74, 630.92],
    ['2022/08/29', 623.17, 622.8, 630.54, 620.31],
    ['2022/08/30', 625.57, 606.98, 626.73, 600.84],
    ['2022/08/31', 610.0, 600.39, 612.05, 598.77],
    ['2022/09/01', 594.84, 605.43, 605.69, 589.03],
    ['2022/09/02', 608.81, 601.2, 613.63, 598.6],
    ['2022/09/06', 602.34, 601.39, 605.75, 595.89],
    ['2022/09/07', 600.93, 614.87, 616.85, 597.23],
    ['2022/09/08', 610.9, 615.58, 616.9, 606.19],
    ['2022/09/09', 617.6, 619.92, 621.53, 612.55],
    ['2022/09/12', 622.85, 628.37, 629.91, 614.57],
    ['2022/09/13', 611.63, 593.73, 613.57, 591.19],
    ['2022/09/14', 595.39, 600.14, 600.49, 585.25],
    ['2022/09/15', 597.34, 587.1, 600.27, 584.82],
    ['2022/09/16', 582.03, 581.93, 582.6, 573.01],
    ['2022/09/19', 579.59, 592.04, 593.38, 579.59],
    ['2022/09/20', 590.46, 584.71, 590.46, 576.41],
    ['2022/09/21', 592.57, 567.06, 595.0, 566.85],
    ['2022/09/22', 567.06, 554.7, 567.06, 550.09],
    ['2022/09/23', 545.96, 540.51, 545.96, 531.99],
    ['2022/09/26', 537.09, 531.44, 548.98, 530.54],
    ['2022/09/27', 540.64, 531.83, 546.2, 530.37],
    ['2022/09/28', 536.98, 540.24, 544.22, 528.45],
    ['2022/09/29', 532.34, 530.4, 535.99, 523.21],
    ['2022/09/30', 526.79, 524.82, 536.17, 523.78],
    ['2022/10/03', 533.68, 542.35, 545.89, 523.1],
    ['2022/10/04', 556.02, 563.52, 566.15, 554.65],
    ['2022/10/05', 553.19, 551.75, 557.71, 547.91],
    ['2022/10/06', 545.06, 547.0, 554.78, 545.06],
    ['2022/10/07', 540.09, 533.48, 540.63, 528.16],
    ['2022/10/10', 539.59, 531.52, 543.54, 528.51],
    ['2022/10/11', 533.77, 522.59, 533.77, 517.82],
    ['2022/10/12', 526.14, 509.83, 526.14, 509.23],
    ['2022/10/13', 499.63, 521.71, 525.11, 499.63],
    ['2022/10/14', 526.83, 514.28, 529.67, 510.01],
    ['2022/10/17', 525.0, 525.61, 532.7, 524.3],
    ['2022/10/18', 541.09, 540.21, 547.45, 536.34],
    ['2022/10/19', 536.2, 541.5, 546.25, 530.63],
    ['2022/10/20', 539.37, 531.02, 543.28, 528.26],
    ['2022/10/21', 528.8, 537.88, 539.56, 521.43],
    ['2022/10/24', 542.85, 542.58, 547.0, 536.34],
    ['2022/10/25', 538.9, 555.04, 555.75, 538.9],
    ['2022/10/26', 559.21, 554.82, 571.76, 552.25],
    ['2022/10/27', 557.56, 564.35, 571.39, 557.56],
    ['2022/10/28', 567.24, 581.55, 583.34, 560.56],
    ['2022/10/31', 578.62, 575.76, 581.7, 572.79],
    ['2022/11/01', 582.0, 575.52, 586.39, 574.79],
    ['2022/11/02', 569.52, 557.71, 578.26, 556.75],
    ['2022/11/03', 549.83, 563.1, 568.09, 545.29],
    ['2022/11/04', 574.02, 579.61, 584.36, 563.98],
    ['2022/11/07', 585.54, 584.88, 586.82, 574.44],
    ['2022/11/08', 588.68, 594.08, 598.33, 583.19],
    ['2022/11/09', 593.04, 582.8, 594.49, 581.78],
    ['2022/11/10', 619.99, 640.02, 648.4, 610.11],
    ['2022/11/11', 646.52, 626.25, 646.52, 623.0],
    ['2022/11/14', 621.51, 616.14, 626.23, 615.24],
    ['2022/11/15', 627.81, 618.01, 628.69, 611.88],
    ['2022/11/16', 617.0, 612.57, 617.69, 606.92],
    ['2022/11/17', 602.57, 602.08, 612.49, 598.0],
    ['2022/11/18', 610.62, 620.61, 621.54, 609.12],
    ['2022/11/21', 615.42, 616.39, 621.75, 614.52],
    ['2022/11/22', 619.62, 629.36, 631.98, 616.92],
    ['2022/11/23', 629.8, 639.04, 643.2, 625.51],
    ['2022/11/25', 639.61, 636.54, 639.61, 632.27],
    ['2022/11/28', 619.23, 606.09, 620.94, 602.73],
    ['2022/11/29', 606.09, 609.88, 612.79, 604.93],
    ['2022/11/30', 610.15, 628.5, 629.23, 602.04],
    ['2022/12/01', 630.22, 634.64, 638.0, 626.89],
    ['2022/12/02', 609.02, 621.82, 626.49, 607.63],
    ['2022/12/05', 615.49, 616.85, 622.02, 611.92],
    ['2022/12/06', 618.98, 607.45, 618.98, 601.91],
    ['2022/12/07', 607.61, 609.69, 614.98, 604.44],
    ['2022/12/08', 618.25, 614.47, 631.44, 611.58],
    ['2022/12/09', 611.79, 609.7, 618.68, 609.7],
    ['2022/12/12', 612.06, 618.02, 618.08, 609.17],
    ['2022/12/13', 635.0, 626.59, 636.82, 623.05],
    ['2022/12/14', 624.81, 628.01, 635.67, 623.26],
    ['2022/12/15', 621.18, 612.15, 621.18, 608.28],
    ['2022/12/16', 604.89, 605.73, 614.86, 599.42],
    ['2022/12/19', 605.08, 602.05, 611.5, 599.52],
    ['2022/12/20', 602.72, 610.16, 611.18, 602.35],
    ['2022/12/21', 614.85, 627.64, 627.66, 614.85],
    ['2022/12/22', 620.69, 619.05, 621.96, 604.84],
    ['2022/12/23', 619.07, 620.32, 623.47, 615.57],
    ['2022/12/27', 624.02, 626.45, 630.83, 620.4],
    ['2022/12/28', 624.86, 621.7, 629.25, 618.82],
    ['2022/12/29', 625.88, 628.4, 632.75, 625.27],
    ['2022/12/30', 622.57, 629.65, 629.85, 622.51],
    ['2023/01/03', 633.04, 625.77, 633.93, 623.58],
    ['2023/01/04', 627.15, 633.56, 638.42, 627.15],
    ['2023/01/05', 629.61, 636.46, 637.22, 627.39],
    ['2023/01/06', 640.0, 649.03, 652.51, 638.78],
    ['2023/01/09', 653.63, 650.82, 658.13, 648.33],
    ['2023/01/10', 647.25, 658.8, 658.81, 645.06],
    ['2023/01/11', 660.0, 673.83, 673.94, 659.91],
    ['2023/01/12', 674.96, 680.2, 682.5, 669.86],
    ['2023/01/13', 676.96, 683.88, 685.71, 673.11],
    ['2023/01/17', 685.0, 680.35, 691.0, 678.72],
    ['2023/01/18', 685.35, 672.11, 689.55, 671.48],
    ['2023/01/19', 666.92, 660.24, 671.17, 659.59],
    ['2023/01/20', 664.75, 672.65, 673.33, 661.08],
    ['2023/01/23', 673.03, 685.0, 686.74, 671.93],
    ['2023/01/24', 678.53, 694.25, 696.42, 677.56],
    ['2023/01/25', 686.44, 700.5, 701.23, 683.91],
    ['2023/01/26', 703.5, 710.14, 710.21, 695.53],
    ['2023/01/27', 706.04, 710.69, 717.0, 704.54],
    ['2023/01/30', 708.82, 707.25, 712.34, 702.5],
    ['2023/01/31', 706.59, 717.75, 718.18, 704.21],
    ['2023/02/01', 713.45, 728.15, 729.49, 713.43],
    ['2023/02/02', 730.0, 711.84, 733.47, 707.0],
    ['2023/02/03', 704.25, 713.5, 713.86, 704.25],
    ['2023/02/06', 710.55, 720.35, 720.63, 705.62],
    ['2023/02/07', 738.0, 742.5, 744.0, 717.62],
    ['2023/02/08', 746.19, 754.3, 758.43, 742.56],
    ['2023/02/09', 757.61, 746.98, 766.71, 746.37],
    ['2023/02/10', 745.15, 730.47, 751.0, 729.78],
    ['2023/02/13', 731.0, 740.51, 741.6, 726.9],
    ['2023/02/14', 737.14, 755.68, 758.31, 737.14],
    ['2023/02/15', 749.32, 768.16, 768.63, 749.32],
    ['2023/02/16', 740.0, 748.67, 756.16, 738.91],
    ['2023/02/17', 743.35, 743.97, 745.74, 734.07],
    ['2023/02/21', 741.04, 737.2, 741.84, 734.63],
    ['2023/02/22', 739.86, 740.99, 746.18, 736.82],
    ['2023/02/23', 741.69, 746.3, 747.1, 736.0],
    ['2023/02/24', 736.46, 741.85, 742.25, 729.44],
    ['2023/02/27', 745.74, 747.4, 748.73, 741.35],
    ['2023/02/28', 748.6, 743.87, 755.14, 743.22],
    ['2023/03/01', 743.07, 750.94, 756.7, 743.07],
    ['2023/03/02', 748.99, 759.06, 759.86, 745.32],
    ['2023/03/03', 760.42, 767.22, 768.54, 757.55],
    ['2023/03/06', 766.24, 770.15, 771.34, 765.45],
    ['2023/03/07', 769.33, 762.8, 772.01, 761.93],
    ['2023/03/08', 764.58, 764.49, 769.08, 755.67],
    ['2023/03/09', 769.13, 741.55, 769.13, 740.66],
    ['2023/03/10', 740.99, 717.12, 740.99, 711.14],
    ['2023/03/13', 703.35, 702.66, 711.16, 696.56],
    ['2023/03/14', 717.11, 728.2, 737.57, 717.11],
    ['2023/03/15', 711.14, 697.13, 712.95, 686.46],
    ['2023/03/16', 689.81, 712.24, 714.03, 686.85],
    ['2023/03/17', 705.76, 690.9, 705.76, 687.59],
    ['2023/03/20', 697.48, 699.97, 701.73, 692.82],
    ['2023/03/21', 715.09, 716.46, 723.75, 710.99],
    ['2023/03/22', 717.3, 704.88, 722.02, 704.62],
    ['2023/03/23', 708.07, 701.25, 714.43, 698.41],
    ['2023/03/24', 692.03, 703.89, 707.48, 689.66],
    ['2023/03/27', 712.69, 713.67, 718.65, 707.4],
    ['2023/03/28', 711.69, 719.79, 720.37, 711.69],
    ['2023/03/29', 721.33, 732.25, 732.98, 721.33],
    ['2023/03/30', 736.04, 734.87, 738.06, 731.34],
    ['2023/03/31', 739.22, 737.05, 742.0, 732.26],
    ['2023/04/03', 739.51, 745.76, 749.21, 738.37],
    ['2023/04/04', 744.34, 735.64, 744.46, 732.92],
    ['2023/04/05', 728.87, 722.62, 733.46, 722.33],
    ['2023/04/06', 721.54, 724.32, 726.86, 719.56],
    ['2023/04/10', 720.24, 733.91, 735.05, 714.98],
    ['2023/04/11', 737.04, 738.82, 740.48, 733.65],
    ['2023/04/12', 744.84, 745.43, 749.85, 740.06],
    ['2023/04/13', 748.21, 753.72, 755.23, 742.24],
    ['2023/04/14', 748.06, 751.83, 755.95, 748.06],
    ['2023/04/17', 752.13, 754.44, 757.67, 749.44],
    ['2023/04/18', 757.43, 762.43, 763.3, 757.16],
    ['2023/04/19', 761.11, 760.64, 766.61, 758.37],
    ['2023/04/20', 756.89, 763.0, 765.76, 754.02],
    ['2023/04/21', 767.95, 764.47, 767.95, 759.43],
    ['2023/04/24', 766.39, 765.25, 769.52, 764.28],
    ['2023/04/25', 760.94, 754.0, 762.55, 751.62],
    ['2023/04/26', 752.3, 742.92, 755.93, 741.74],
    ['2023/04/27', 751.32, 759.14, 759.66, 745.65],
    ['2023/04/28', 753.62, 765.0, 765.69, 753.62],
    ['2023/05/01', 765.0, 769.19, 778.12, 764.39],
    ['2023/05/02', 768.43, 771.9, 772.96, 754.56],
    ['2023/05/03', 772.72, 769.22, 779.45, 766.29],
    ['2023/05/04', 767.08, 759.99, 767.08, 750.86],
    ['2023/05/05', 766.12, 767.19, 770.24, 762.09],
    ['2023/05/08', 770.59, 772.3, 776.26, 768.4],
    ['2023/05/09', 780.0, 808.41, 815.85, 766.0],
    ['2023/05/10', 815.0, 810.14, 816.94, 804.68],
    ['2023/05/11', 804.53, 796.88, 809.87, 791.78],
    ['2023/05/12', 800.0, 795.59, 803.28, 783.8],
    ['2023/05/15', 799.95, 808.14, 808.82, 796.36],
    ['2023/05/16', 810.0, 807.07, 824.59, 805.4],
    ['2023/05/17', 815.15, 819.92, 826.28, 812.49],
    ['2023/05/18', 819.88, 826.05, 828.93, 815.24],
    ['2023/05/19', 831.58, 822.51, 831.58, 820.06],
    ['2023/05/22', 822.58, 807.9, 826.3, 807.34],
    ['2023/05/23', 800.2, 783.22, 802.61, 782.33],
    ['2023/05/24', 775.24, 779.63, 784.8, 768.05],
    ['2023/05/25', 785.93, 786.71, 791.56, 779.17],
    ['2023/05/26', 787.5, 792.49, 799.05, 787.5],
    ['2023/05/30', 790.0, 780.46, 793.9, 778.47],
    ['2023/05/31', 777.9, 773.65, 779.8, 768.23],
    ['2023/06/01', 775.63, 778.15, 782.89, 775.38],
    ['2023/06/02', 783.77, 793.82, 802.08, 779.34],
    ['2023/06/05', 796.9, 788.15, 796.9, 782.45],
    ['2023/06/06', 790.47, 795.42, 797.65, 788.39],
    ['2023/06/07', 799.5, 805.76, 808.55, 796.06],
    ['2023/06/08', 800.0, 807.0, 808.5, 800.0],
    ['2023/06/09', 808.37, 800.01, 809.77, 794.72],
    ['2023/06/12', 802.3, 806.4, 807.52, 794.97],
    ['2023/06/13', 808.87, 802.97, 812.6, 799.63],
    ['2023/06/14', 805.38, 810.86, 812.75, 803.21],
    ['2023/06/15', 805.7, 824.66, 826.04, 805.2],
    ['2023/06/16', 826.8, 815.89, 830.0, 814.4],
    ['2023/06/20', 814.21, 821.56, 822.73, 813.39],
    ['2023/06/21', 820.62, 847.97, 848.1, 819.66],
    ['2023/06/22', 843.19, 850.59, 858.67, 843.19],
    ['2023/06/23', 843.73, 850.26, 853.83, 843.44],
    ['2023/06/26', 849.27, 855.34, 857.15, 846.52],
    ['2023/06/27', 856.35, 873.74, 873.88, 855.66],
    ['2023/06/28', 875.42, 875.42, 883.71, 869.12],
    ['2023/06/29', 874.62, 886.12, 887.1, 874.62],
    ['2023/06/30', 894.9, 894.17, 899.56, 883.5],
    ['2023/07/03', 888.93, 896.45, 896.82, 884.01],
    ['2023/07/05', 889.11, 886.58, 893.12, 882.76],
    ['2023/07/06', 882.53, 878.84, 890.09, 877.0],
    ['2023/07/07', 878.59, 883.08, 888.2, 875.95],
    ['2023/07/10', 880.09, 881.49, 889.42, 880.02],
    ['2023/07/11', 880.33, 892.72, 893.64, 878.58],
    ['2023/07/12', 895.6, 888.03, 897.28, 884.63],
    ['2023/07/13', 886.62, 893.7, 895.25, 886.62],
    ['2023/07/14', 893.63, 888.75, 893.65, 880.42],
    ['2023/07/17', 888.75, 886.25, 894.0, 886.02],
    ['2023/07/18', 886.24, 896.8, 897.78, 886.24],
    ['2023/07/19', 890.02, 886.35, 899.97, 881.43],
    ['2023/07/20', 889.95, 890.34, 890.9, 885.44],
    ['2023/07/21', 893.74, 887.93, 894.5, 886.14],
    ['2023/07/24', 887.01, 882.04, 890.2, 879.8],
    ['2023/07/25', 871.13, 893.74, 893.76, 867.43],
    ['2023/07/26', 892.67, 891.98, 899.07, 886.91],
    ['2023/07/27', 895.24, 892.62, 896.68, 885.8],
    ['2023/07/28', 899.99, 885.13, 900.0, 878.29],
    ['2023/07/31', 885.08, 899.72, 900.0, 885.08],
    ['2023/08/01', 897.29, 902.63, 907.0, 895.71],
    ['2023/08/02', 898.02, 887.36, 899.46, 886.75],
    ['2023/08/03', 882.39, 895.58, 902.78, 878.36],
    ['2023/08/04', 897.39, 896.1, 914.29, 892.44],
]);
var volumes = [
    241600.0,
    274100.0,
    406800.0,
    296700.0,
    380400.0,
    191600.0,
    216200.0,
    272400.0,
    246500.0,
    323400.0,
    512800.0,
    302300.0,
    173400.0,
    148600.0,
    179400.0,
    156700.0,
    344300.0,
    287700.0,
    249200.0,
    196100.0,
    193300.0,
    212800.0,
    169100.0,
    221300.0,
    311100.0,
    197500.0,
    207700.0,
    192700.0,
    407800.0,
    264800.0,
    268200.0,
    302900.0,
    255200.0,
    259800.0,
    268300.0,
    355400.0,
    318000.0,
    223500.0,
    340000.0,
    220200.0,
    268200.0,
    253700.0,
    187600.0,
    215600.0,
    212400.0,
    312500.0,
    399300.0,
    317600.0,
    236700.0,
    252100.0,
    331100.0,
    293600.0,
    198200.0,
    293600.0,
    188300.0,
    268700.0,
    220100.0,
    221800.0,
    223500.0,
    194900.0,
    163700.0,
    225500.0,
    266400.0,
    344300.0,
    275700.0,
    241300.0,
    390400.0,
    666700.0,
    325200.0,
    273700.0,
    401800.0,
    299300.0,
    186100.0,
    223900.0,
    194500.0,
    274000.0,
    216100.0,
    74300.0,
    312700.0,
    214400.0,
    464600.0,
    244200.0,
    475200.0,
    216400.0,
    166500.0,
    305700.0,
    328200.0,
    181700.0,
    261500.0,
    434300.0,
    447000.0,
    264300.0,
    424300.0,
    217200.0,
    266100.0,
    241800.0,
    296200.0,
    153500.0,
    184200.0,
    245700.0,
    190700.0,
    164600.0,
    216100.0,
    275700.0,
    272600.0,
    282000.0,
    248600.0,
    268700.0,
    535000.0,
    432500.0,
    347300.0,
    384600.0,
    329200.0,
    292300.0,
    427900.0,
    433200.0,
    304300.0,
    275800.0,
    343100.0,
    363300.0,
    300600.0,
    286100.0,
    290600.0,
    496000.0,
    261100.0,
    414300.0,
    577000.0,
    460200.0,
    636500.0,
    719100.0,
    723500.0,
    339900.0,
    428100.0,
    498000.0,
    316300.0,
    268800.0,
    212200.0,
    314500.0,
    181300.0,
    429500.0,
    376600.0,
    196900.0,
    174900.0,
    239800.0,
    212800.0,
    215400.0,
    201400.0,
    284200.0,
    459500.0,
    480400.0,
    393100.0,
    445200.0,
    331700.0,
    571000.0,
    387500.0,
    316000.0,
    208200.0,
    202900.0,
    304600.0,
    212600.0,
    160300.0,
    233300.0,
    179200.0,
    290300.0,
    194700.0,
    156400.0,
    222800.0,
    175900.0,
    180500.0,
    182800.0,
    157300.0,
    251000.0,
    234900.0,
    133400.0,
    240900.0,
    200100.0,
    207800.0,
    240500.0,
    232800.0,
    254700.0,
    291300.0,
    216400.0,
    167800.0,
    247700.0,
    287400.0,
    342600.0,
    355000.0,
    281700.0,
    367700.0,
    625900.0,
    445100.0,
    223000.0,
    184700.0,
    269000.0,
    313400.0,
    235100.0,
    228600.0,
    285900.0,
    247500.0,
    400000.0,
    328700.0,
    341300.0,
    206200.0,
    202600.0,
    507000.0,
    239800.0,
    284100.0,
    191000.0,
    241300.0,
    218000.0,
    139100.0,
    167300.0,
    178100.0,
    197400.0,
    216500.0,
    239600.0,
    403200.0,
    373000.0,
    303800.0,
    304300.0,
    419500.0,
    216500.0,
    199600.0,
    228700.0,
    178600.0,
    221000.0,
    90500.0,
    229200.0,
    261600.0,
    204900.0,
    257900.0,
    309400.0,
    297400.0,
    162200.0,
    194000.0,
    208200.0,
    239400.0,
    225200.0,
    253300.0,
    154200.0,
    168500.0,
    244900.0,
    204300.0,
    176300.0,
    235300.0,
    185000.0,
    256700.0,
    159500.0,
    271300.0,
    296900.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "TDG",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);