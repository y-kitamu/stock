/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_TTD");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/09', 53.51, 54.5, 55.57, 52.8],
    ['2022/08/10', 68.14, 74.24, 74.87, 68.06],
    ['2022/08/11', 74.6, 71.59, 76.34, 71.52],
    ['2022/08/12', 73.0, 74.49, 75.48, 71.21],
    ['2022/08/15', 74.08, 75.41, 76.75, 73.66],
    ['2022/08/16', 74.96, 73.74, 75.43, 72.61],
    ['2022/08/17', 72.1, 70.17, 72.36, 69.51],
    ['2022/08/18', 70.53, 69.12, 70.91, 68.95],
    ['2022/08/19', 67.55, 65.69, 67.94, 65.17],
    ['2022/08/22', 64.0, 63.94, 64.73, 62.57],
    ['2022/08/23', 64.1, 63.39, 65.4, 63.13],
    ['2022/08/24', 63.74, 63.9, 65.88, 63.65],
    ['2022/08/25', 64.58, 66.23, 66.31, 63.87],
    ['2022/08/26', 66.15, 63.41, 66.48, 62.87],
    ['2022/08/29', 62.06, 62.52, 64.2, 61.79],
    ['2022/08/30', 63.55, 62.82, 64.79, 61.12],
    ['2022/08/31', 64.8, 62.7, 65.59, 62.15],
    ['2022/09/01', 61.19, 61.89, 62.02, 59.0],
    ['2022/09/02', 63.03, 61.27, 63.39, 60.7],
    ['2022/09/06', 61.5, 60.03, 61.53, 59.39],
    ['2022/09/07', 59.86, 62.18, 62.62, 59.77],
    ['2022/09/08', 61.61, 64.39, 64.54, 61.13],
    ['2022/09/09', 65.3, 66.88, 67.22, 65.05],
    ['2022/09/12', 67.24, 67.43, 67.77, 65.92],
    ['2022/09/13', 63.69, 63.85, 64.93, 62.76],
    ['2022/09/14', 63.97, 63.61, 64.17, 61.92],
    ['2022/09/15', 62.18, 62.78, 64.7, 61.62],
    ['2022/09/16', 61.29, 61.89, 62.63, 60.86],
    ['2022/09/19', 60.93, 63.03, 63.5, 60.8],
    ['2022/09/20', 62.06, 61.57, 63.33, 61.55],
    ['2022/09/21', 62.1, 61.63, 64.46, 61.12],
    ['2022/09/22', 60.83, 59.24, 61.79, 58.96],
    ['2022/09/23', 57.99, 57.7, 58.63, 55.92],
    ['2022/09/26', 57.63, 57.45, 60.15, 57.44],
    ['2022/09/27', 59.28, 59.34, 61.0, 58.98],
    ['2022/09/28', 59.58, 62.96, 63.28, 59.2],
    ['2022/09/29', 61.33, 60.8, 62.28, 59.57],
    ['2022/09/30', 60.67, 59.75, 63.12, 59.68],
    ['2022/10/03', 60.25, 61.13, 61.69, 59.5],
    ['2022/10/04', 63.49, 63.66, 64.66, 62.53],
    ['2022/10/05', 61.96, 61.8, 64.0, 59.56],
    ['2022/10/06', 62.05, 61.17, 64.54, 61.1],
    ['2022/10/07', 59.5, 56.79, 59.5, 55.8],
    ['2022/10/10', 56.91, 54.83, 56.98, 53.94],
    ['2022/10/11', 53.95, 52.5, 54.31, 51.33],
    ['2022/10/12', 52.69, 52.62, 53.23, 50.42],
    ['2022/10/13', 49.61, 52.47, 53.27, 48.16],
    ['2022/10/14', 53.41, 50.6, 53.76, 50.39],
    ['2022/10/17', 52.86, 54.61, 54.94, 52.33],
    ['2022/10/18', 56.51, 56.39, 57.46, 55.08],
    ['2022/10/19', 55.99, 55.23, 56.7, 54.75],
    ['2022/10/20', 55.18, 56.48, 58.67, 55.1],
    ['2022/10/21', 54.29, 56.93, 56.99, 52.81],
    ['2022/10/24', 57.25, 55.67, 57.3, 53.98],
    ['2022/10/25', 56.43, 57.84, 58.53, 56.43],
    ['2022/10/26', 54.72, 55.36, 57.25, 53.18],
    ['2022/10/27', 55.67, 53.76, 56.38, 53.13],
    ['2022/10/28', 53.04, 53.71, 53.9, 52.32],
    ['2022/10/31', 53.34, 53.24, 54.46, 52.65],
    ['2022/11/01', 55.41, 53.08, 56.15, 53.08],
    ['2022/11/02', 52.84, 49.5, 52.86, 49.47],
    ['2022/11/03', 48.0, 49.17, 50.59, 47.88],
    ['2022/11/04', 50.32, 46.25, 50.45, 44.51],
    ['2022/11/07', 46.62, 43.72, 47.38, 43.12],
    ['2022/11/08', 44.01, 43.37, 44.4, 42.41],
    ['2022/11/09', 46.86, 39.89, 47.25, 39.43],
    ['2022/11/10', 43.4, 47.51, 49.03, 43.27],
    ['2022/11/11', 46.9, 48.77, 49.7, 46.4],
    ['2022/11/14', 47.85, 47.76, 49.5, 47.13],
    ['2022/11/15', 50.0, 53.56, 54.81, 49.52],
    ['2022/11/16', 52.81, 51.42, 53.82, 50.61],
    ['2022/11/17', 48.97, 50.06, 50.89, 48.69],
    ['2022/11/18', 51.62, 49.77, 51.79, 49.19],
    ['2022/11/21', 48.85, 48.32, 49.94, 47.94],
    ['2022/11/22', 47.94, 48.38, 48.6, 46.93],
    ['2022/11/23', 48.61, 49.54, 50.51, 48.24],
    ['2022/11/25', 49.15, 49.39, 49.55, 48.53],
    ['2022/11/28', 48.57, 49.01, 49.31, 48.17],
    ['2022/11/29', 49.69, 48.69, 49.76, 48.26],
    ['2022/11/30', 48.57, 52.14, 52.43, 48.05],
    ['2022/12/01', 51.98, 51.91, 53.38, 51.4],
    ['2022/12/02', 50.82, 54.49, 54.97, 50.5],
    ['2022/12/05', 54.03, 50.84, 54.92, 50.46],
    ['2022/12/06', 51.08, 47.45, 51.24, 47.19],
    ['2022/12/07', 47.23, 47.77, 48.17, 46.03],
    ['2022/12/08', 48.14, 48.51, 49.69, 47.2],
    ['2022/12/09', 48.72, 47.81, 49.18, 47.5],
    ['2022/12/12', 48.31, 49.22, 49.56, 47.23],
    ['2022/12/13', 53.22, 51.94, 54.47, 50.62],
    ['2022/12/14', 51.8, 50.94, 53.12, 50.27],
    ['2022/12/15', 48.16, 46.78, 48.96, 46.56],
    ['2022/12/16', 46.58, 46.15, 47.61, 45.31],
    ['2022/12/19', 45.72, 44.13, 46.03, 43.95],
    ['2022/12/20', 43.91, 46.59, 46.81, 43.54],
    ['2022/12/21', 47.01, 46.57, 47.39, 45.66],
    ['2022/12/22', 45.53, 44.9, 45.64, 43.36],
    ['2022/12/23', 44.5, 44.88, 45.03, 43.64],
    ['2022/12/27', 44.45, 43.82, 44.45, 42.79],
    ['2022/12/28', 43.71, 43.32, 44.22, 42.71],
    ['2022/12/29', 44.3, 45.34, 45.75, 43.76],
    ['2022/12/30', 44.02, 44.83, 45.01, 43.78],
    ['2023/01/03', 45.99, 44.02, 46.3, 43.39],
    ['2023/01/04', 44.47, 44.31, 44.68, 42.94],
    ['2023/01/05', 43.79, 42.59, 43.93, 42.35],
    ['2023/01/06', 43.06, 42.29, 43.06, 41.2],
    ['2023/01/09', 43.15, 43.99, 44.88, 42.77],
    ['2023/01/10', 43.59, 44.84, 44.85, 43.27],
    ['2023/01/11', 45.32, 47.31, 47.37, 44.78],
    ['2023/01/12', 47.38, 46.7, 47.53, 45.6],
    ['2023/01/13', 45.73, 47.03, 47.17, 45.3],
    ['2023/01/17', 46.83, 47.07, 47.6, 45.97],
    ['2023/01/18', 47.93, 45.68, 48.0, 45.3],
    ['2023/01/19', 44.89, 44.26, 45.5, 44.19],
    ['2023/01/20', 44.53, 45.57, 45.79, 44.08],
    ['2023/01/23', 45.87, 47.19, 48.12, 45.45],
    ['2023/01/24', 45.95, 47.62, 47.89, 45.8],
    ['2023/01/25', 45.94, 48.71, 48.75, 45.21],
    ['2023/01/26', 50.0, 49.75, 50.61, 48.64],
    ['2023/01/27', 49.52, 51.95, 52.6, 49.45],
    ['2023/01/30', 51.0, 49.22, 51.2, 49.07],
    ['2023/01/31', 49.23, 50.7, 50.77, 49.21],
    ['2023/02/01', 50.9, 52.31, 52.73, 49.69],
    ['2023/02/02', 56.55, 57.01, 58.39, 55.61],
    ['2023/02/03', 54.26, 53.1, 55.61, 52.9],
    ['2023/02/06', 52.41, 52.34, 54.05, 51.93],
    ['2023/02/07', 52.34, 52.7, 53.14, 50.67],
    ['2023/02/08', 52.45, 51.75, 53.57, 51.55],
    ['2023/02/09', 52.7, 49.88, 53.2, 49.8],
    ['2023/02/10', 48.94, 48.69, 49.59, 48.28],
    ['2023/02/13', 48.85, 48.63, 49.47, 47.95],
    ['2023/02/14', 48.18, 49.92, 50.71, 47.68],
    ['2023/02/15', 58.1, 66.3, 66.35, 57.05],
    ['2023/02/16', 64.9, 63.07, 65.79, 62.63],
    ['2023/02/17', 62.12, 60.3, 64.3, 60.12],
    ['2023/02/21', 58.4, 56.75, 59.94, 55.9],
    ['2023/02/22', 56.8, 56.41, 57.8, 55.59],
    ['2023/02/23', 57.02, 56.25, 57.79, 54.83],
    ['2023/02/24', 54.33, 54.97, 55.55, 54.1],
    ['2023/02/27', 55.37, 55.08, 55.54, 54.42],
    ['2023/02/28', 55.38, 55.96, 57.06, 55.2],
    ['2023/03/01', 55.75, 55.41, 56.5, 55.14],
    ['2023/03/02', 54.82, 56.39, 56.41, 54.5],
    ['2023/03/03', 56.81, 57.29, 57.77, 56.06],
    ['2023/03/06', 57.95, 56.83, 58.63, 56.81],
    ['2023/03/07', 56.89, 57.64, 58.87, 56.59],
    ['2023/03/08', 57.5, 58.22, 59.19, 57.42],
    ['2023/03/09', 57.0, 55.76, 59.67, 55.37],
    ['2023/03/10', 55.4, 53.35, 55.59, 52.38],
    ['2023/03/13', 52.1, 54.25, 55.06, 50.33],
    ['2023/03/14', 55.87, 56.53, 56.96, 55.37],
    ['2023/03/15', 55.22, 55.09, 56.34, 54.58],
    ['2023/03/16', 55.18, 58.88, 59.13, 54.9],
    ['2023/03/17', 57.77, 58.51, 59.2, 56.89],
    ['2023/03/20', 58.05, 56.84, 58.23, 56.3],
    ['2023/03/21', 57.35, 59.24, 59.51, 57.34],
    ['2023/03/22', 59.5, 57.89, 60.4, 57.81],
    ['2023/03/23', 59.31, 60.19, 62.53, 59.0],
    ['2023/03/24', 59.67, 60.45, 60.52, 58.82],
    ['2023/03/27', 61.0, 59.9, 61.66, 59.55],
    ['2023/03/28', 59.63, 58.24, 59.65, 58.21],
    ['2023/03/29', 59.54, 59.84, 59.99, 58.3],
    ['2023/03/30', 61.23, 60.09, 61.44, 59.63],
    ['2023/03/31', 60.1, 60.91, 61.34, 59.57],
    ['2023/04/03', 60.0, 60.46, 60.64, 59.2],
    ['2023/04/04', 61.11, 60.58, 61.89, 60.12],
    ['2023/04/05', 59.73, 58.64, 59.84, 57.52],
    ['2023/04/06', 58.0, 60.85, 60.96, 57.17],
    ['2023/04/10', 59.84, 61.52, 61.76, 59.66],
    ['2023/04/11', 61.49, 61.51, 61.94, 60.52],
    ['2023/04/12', 62.6, 60.02, 63.08, 59.99],
    ['2023/04/13', 61.03, 61.33, 61.89, 60.84],
    ['2023/04/14', 61.0, 60.69, 61.7, 60.08],
    ['2023/04/17', 60.7, 61.2, 61.36, 60.04],
    ['2023/04/18', 62.51, 62.12, 63.39, 61.49],
    ['2023/04/19', 60.93, 61.61, 62.15, 60.85],
    ['2023/04/20', 60.53, 62.22, 63.18, 60.52],
    ['2023/04/21', 62.21, 62.19, 62.84, 61.74],
    ['2023/04/24', 62.26, 61.46, 62.92, 60.81],
    ['2023/04/25', 61.27, 59.37, 61.99, 59.36],
    ['2023/04/26', 60.5, 60.0, 61.99, 59.98],
    ['2023/04/27', 61.73, 64.22, 64.79, 61.68],
    ['2023/04/28', 64.22, 64.34, 65.67, 63.2],
    ['2023/05/01', 63.86, 62.94, 64.52, 62.48],
    ['2023/05/02', 62.94, 62.58, 63.37, 61.43],
    ['2023/05/03', 63.35, 62.51, 63.96, 62.41],
    ['2023/05/04', 62.79, 61.44, 63.62, 61.38],
    ['2023/05/05', 62.01, 62.7, 62.84, 61.37],
    ['2023/05/08', 62.55, 64.67, 65.03, 62.12],
    ['2023/05/09', 63.85, 64.12, 64.56, 63.21],
    ['2023/05/10', 65.55, 64.97, 66.42, 64.5],
    ['2023/05/11', 67.73, 64.53, 68.25, 60.56],
    ['2023/05/12', 64.16, 62.3, 65.08, 61.3],
    ['2023/05/15', 62.27, 63.98, 64.12, 61.58],
    ['2023/05/16', 63.64, 64.14, 64.83, 63.38],
    ['2023/05/17', 64.47, 66.16, 66.27, 63.61],
    ['2023/05/18', 66.3, 67.52, 68.26, 66.19],
    ['2023/05/19', 67.59, 66.82, 67.7, 66.31],
    ['2023/05/22', 66.76, 68.52, 69.37, 66.71],
    ['2023/05/23', 67.77, 66.82, 69.14, 66.74],
    ['2023/05/24', 66.08, 66.3, 66.82, 64.56],
    ['2023/05/25', 67.26, 66.26, 67.6, 65.68],
    ['2023/05/26', 66.5, 67.67, 68.26, 66.34],
    ['2023/05/30', 69.01, 69.98, 70.04, 68.71],
    ['2023/05/31', 69.55, 70.08, 70.39, 68.53],
    ['2023/06/01', 70.12, 73.26, 73.63, 69.85],
    ['2023/06/02', 75.74, 74.24, 78.6, 74.08],
    ['2023/06/05', 73.49, 75.37, 76.06, 72.7],
    ['2023/06/06', 75.13, 74.88, 76.51, 74.32],
    ['2023/06/07', 75.94, 73.66, 77.14, 73.58],
    ['2023/06/08', 73.41, 74.54, 75.3, 72.79],
    ['2023/06/09', 74.85, 74.58, 75.44, 74.08],
    ['2023/06/12', 74.75, 75.48, 75.61, 73.9],
    ['2023/06/13', 76.38, 77.52, 77.72, 75.56],
    ['2023/06/14', 77.33, 76.81, 77.36, 75.81],
    ['2023/06/15', 76.0, 77.27, 77.74, 75.86],
    ['2023/06/16', 77.59, 76.43, 77.75, 76.06],
    ['2023/06/20', 75.63, 75.68, 76.7, 74.22],
    ['2023/06/21', 75.97, 76.46, 77.07, 75.23],
    ['2023/06/22', 75.88, 76.8, 77.53, 75.42],
    ['2023/06/23', 75.47, 76.24, 76.59, 75.08],
    ['2023/06/26', 76.04, 75.23, 77.69, 75.14],
    ['2023/06/27', 76.25, 76.77, 77.24, 75.45],
    ['2023/06/28', 76.58, 78.25, 79.38, 76.34],
    ['2023/06/29', 78.29, 77.37, 79.36, 77.03],
    ['2023/06/30', 78.37, 77.22, 78.83, 77.04],
    ['2023/07/03', 77.24, 77.45, 77.54, 76.41],
    ['2023/07/05', 76.91, 77.17, 77.76, 76.2],
    ['2023/07/06', 75.76, 75.35, 75.85, 73.91],
    ['2023/07/07', 75.4, 75.8, 76.47, 75.13],
    ['2023/07/10', 75.49, 75.91, 76.23, 74.99],
    ['2023/07/11', 76.47, 82.69, 83.04, 76.39],
    ['2023/07/12', 83.71, 84.51, 84.92, 82.9],
    ['2023/07/13', 87.6, 87.01, 90.5, 86.65],
    ['2023/07/14', 87.72, 88.0, 91.15, 87.66],
    ['2023/07/17', 87.74, 90.69, 91.66, 86.57],
    ['2023/07/18', 90.4, 88.53, 91.2, 86.4],
    ['2023/07/19', 87.65, 88.31, 89.72, 86.87],
    ['2023/07/20', 86.9, 84.4, 87.34, 83.7],
    ['2023/07/21', 84.89, 84.16, 85.88, 83.84],
    ['2023/07/24', 84.44, 82.07, 84.44, 81.91],
    ['2023/07/25', 82.62, 83.23, 84.5, 82.56],
    ['2023/07/26', 82.52, 84.59, 84.62, 82.42],
    ['2023/07/27', 87.83, 85.38, 89.5, 85.01],
    ['2023/07/28', 89.02, 90.45, 90.85, 88.11],
    ['2023/07/31', 90.83, 91.26, 91.85, 89.29],
    ['2023/08/01', 90.34, 90.05, 90.67, 88.92],
    ['2023/08/02', 88.32, 86.64, 88.56, 85.29],
    ['2023/08/03', 85.67, 84.76, 86.88, 84.47],
    ['2023/08/04', 85.53, 84.84, 86.5, 83.67],
    ['2023/08/07', 85.36, 85.8, 85.98, 84.15],
]);
var volumes = [
    8164900.0,
    42341000.0,
    12147200.0,
    7796700.0,
    5951200.0,
    4770000.0,
    7223000.0,
    4170000.0,
    5025600.0,
    4766100.0,
    2894300.0,
    3728300.0,
    3567900.0,
    3687100.0,
    2836100.0,
    5077000.0,
    4473000.0,
    4708900.0,
    3856500.0,
    3171700.0,
    3746900.0,
    4127900.0,
    4670800.0,
    3681300.0,
    4012500.0,
    4149200.0,
    3774700.0,
    4104100.0,
    3032500.0,
    3028800.0,
    4484700.0,
    4102700.0,
    6962400.0,
    5856500.0,
    4939400.0,
    5209900.0,
    4873100.0,
    10174500.0,
    5130100.0,
    7026000.0,
    7378900.0,
    5310100.0,
    6144100.0,
    5448600.0,
    5506700.0,
    5042300.0,
    7512200.0,
    3357100.0,
    6100600.0,
    6265100.0,
    3836600.0,
    5732300.0,
    6054700.0,
    3750300.0,
    4325100.0,
    6901600.0,
    4887000.0,
    4369900.0,
    4210000.0,
    3310000.0,
    4500500.0,
    4842200.0,
    8669000.0,
    9266500.0,
    9484900.0,
    20870600.0,
    13282500.0,
    7504100.0,
    6182600.0,
    10762000.0,
    5474500.0,
    3503400.0,
    3622800.0,
    3152600.0,
    2361800.0,
    2464700.0,
    1168300.0,
    3044500.0,
    2992400.0,
    5222700.0,
    4225700.0,
    4552200.0,
    3482400.0,
    4085700.0,
    3952700.0,
    3178200.0,
    2444900.0,
    3609800.0,
    5516200.0,
    4288800.0,
    5953100.0,
    7885500.0,
    4699800.0,
    4536300.0,
    2819500.0,
    3661900.0,
    2421700.0,
    2639400.0,
    2766500.0,
    2946300.0,
    3110400.0,
    2855600.0,
    4653700.0,
    3908000.0,
    3976700.0,
    4005300.0,
    2909700.0,
    4579900.0,
    4378500.0,
    4198100.0,
    3369500.0,
    3543300.0,
    3043000.0,
    3157000.0,
    4386800.0,
    3936100.0,
    5887000.0,
    3787600.0,
    4227400.0,
    3588000.0,
    3678800.0,
    3936800.0,
    8060500.0,
    4539500.0,
    4160000.0,
    4210500.0,
    2712000.0,
    3587900.0,
    3560000.0,
    4577300.0,
    6354500.0,
    33413700.0,
    11457100.0,
    8217300.0,
    6998600.0,
    5325800.0,
    4683400.0,
    3960500.0,
    3238200.0,
    4048500.0,
    2983100.0,
    3184800.0,
    3818600.0,
    3461000.0,
    3546500.0,
    4304800.0,
    6017000.0,
    4469800.0,
    3518400.0,
    3729400.0,
    3713200.0,
    4157200.0,
    4666100.0,
    2970800.0,
    2755500.0,
    2384800.0,
    4035300.0,
    2808100.0,
    4109700.0,
    2829100.0,
    2476000.0,
    2505500.0,
    3407200.0,
    2104300.0,
    2121200.0,
    2923100.0,
    3240600.0,
    3286400.0,
    2544200.0,
    2257100.0,
    1949900.0,
    1501400.0,
    1525300.0,
    3209000.0,
    1510600.0,
    3290600.0,
    2106300.0,
    1990200.0,
    3198400.0,
    4191200.0,
    5890000.0,
    4235400.0,
    5457700.0,
    3797100.0,
    5232000.0,
    3346000.0,
    2431100.0,
    4371600.0,
    3468100.0,
    9553500.0,
    17176500.0,
    6960800.0,
    3714400.0,
    3297400.0,
    3801900.0,
    3433800.0,
    2230000.0,
    3085900.0,
    2655600.0,
    3208600.0,
    2006400.0,
    2337100.0,
    3280000.0,
    3585900.0,
    4517500.0,
    7142000.0,
    4527000.0,
    4312000.0,
    4507200.0,
    3109400.0,
    2412200.0,
    2908300.0,
    3063200.0,
    2958600.0,
    2508200.0,
    2921500.0,
    2928500.0,
    3166600.0,
    2408800.0,
    3797800.0,
    1950600.0,
    2048300.0,
    3425100.0,
    3809400.0,
    2745600.0,
    1410000.0,
    1780600.0,
    4003800.0,
    2312000.0,
    2544000.0,
    6828900.0,
    4477200.0,
    10621000.0,
    31281800.0,
    7272400.0,
    6818200.0,
    6503500.0,
    5253600.0,
    8187300.0,
    4072000.0,
    2884100.0,
    3176300.0,
    5763700.0,
    5267700.0,
    3855200.0,
    2353800.0,
    3588300.0,
    2714300.0,
    2270500.0,
    2715900.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "TTD",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);