/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_CAT");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 179.37, 178.93, 181.44, 177.69],
    ['2022/08/04', 178.92, 179.68, 181.92, 177.22],
    ['2022/08/05', 179.62, 181.4, 182.09, 179.28],
    ['2022/08/08', 182.75, 181.81, 183.95, 180.19],
    ['2022/08/09', 181.94, 182.02, 183.83, 181.17],
    ['2022/08/10', 184.66, 186.61, 187.39, 183.41],
    ['2022/08/11', 188.68, 189.82, 191.37, 187.78],
    ['2022/08/12', 190.69, 192.6, 192.73, 189.62],
    ['2022/08/15', 189.23, 191.73, 192.27, 188.91],
    ['2022/08/16', 191.11, 193.26, 194.13, 190.75],
    ['2022/08/17', 190.8, 191.71, 192.66, 189.69],
    ['2022/08/18', 192.8, 193.1, 193.37, 191.04],
    ['2022/08/19', 191.06, 191.39, 192.97, 189.63],
    ['2022/08/22', 188.95, 187.63, 189.75, 187.42],
    ['2022/08/23', 188.6, 192.96, 193.87, 188.33],
    ['2022/08/24', 193.3, 189.98, 194.4, 189.28],
    ['2022/08/25', 191.28, 194.6, 194.62, 190.38],
    ['2022/08/26', 195.1, 187.79, 196.05, 187.6],
    ['2022/08/29', 185.91, 187.65, 189.01, 184.93],
    ['2022/08/30', 187.37, 182.91, 187.82, 180.61],
    ['2022/08/31', 182.61, 180.73, 184.01, 180.53],
    ['2022/09/01', 178.34, 178.51, 179.26, 176.22],
    ['2022/09/02', 180.87, 176.93, 181.74, 175.98],
    ['2022/09/06', 178.96, 176.77, 179.7, 175.72],
    ['2022/09/07', 175.25, 176.96, 177.92, 174.35],
    ['2022/09/08', 175.81, 179.2, 179.33, 174.24],
    ['2022/09/09', 183.51, 185.41, 185.67, 183.19],
    ['2022/09/12', 186.74, 188.25, 188.55, 186.5],
    ['2022/09/13', 183.8, 180.34, 185.96, 179.55],
    ['2022/09/14', 179.96, 180.67, 181.15, 177.95],
    ['2022/09/15', 180.69, 178.56, 182.52, 177.77],
    ['2022/09/16', 176.12, 175.6, 176.45, 173.94],
    ['2022/09/19', 173.43, 178.19, 178.79, 172.99],
    ['2022/09/20', 176.7, 174.16, 176.83, 172.51],
    ['2022/09/21', 175.42, 168.25, 176.6, 168.18],
    ['2022/09/22', 168.98, 166.88, 170.86, 166.62],
    ['2022/09/23', 165.03, 160.7, 165.79, 158.25],
    ['2022/09/26', 160.47, 159.12, 162.28, 158.73],
    ['2022/09/27', 160.92, 158.94, 161.02, 157.14],
    ['2022/09/28', 160.96, 164.15, 164.85, 160.02],
    ['2022/09/29', 162.13, 162.33, 163.0, 160.02],
    ['2022/09/30', 162.32, 160.54, 164.17, 160.36],
    ['2022/10/03', 163.82, 167.54, 169.63, 162.47],
    ['2022/10/04', 170.54, 175.76, 176.31, 170.46],
    ['2022/10/05', 173.33, 174.54, 176.38, 172.88],
    ['2022/10/06', 173.59, 174.96, 177.08, 173.08],
    ['2022/10/07', 172.91, 173.72, 175.1, 171.37],
    ['2022/10/10', 175.94, 174.82, 177.26, 172.28],
    ['2022/10/11', 173.01, 175.88, 179.14, 172.86],
    ['2022/10/12', 175.61, 175.63, 177.22, 174.93],
    ['2022/10/13', 170.01, 179.19, 180.97, 168.99],
    ['2022/10/14', 179.79, 174.35, 180.36, 173.71],
    ['2022/10/17', 178.37, 176.9, 180.34, 175.34],
    ['2022/10/18', 180.92, 179.6, 181.53, 177.01],
    ['2022/10/19', 179.0, 180.44, 181.7, 178.08],
    ['2022/10/20', 180.56, 176.65, 181.74, 176.57],
    ['2022/10/21', 177.03, 187.37, 187.55, 176.52],
    ['2022/10/24', 185.82, 188.43, 189.26, 185.62],
    ['2022/10/25', 187.44, 191.92, 192.74, 186.09],
    ['2022/10/26', 195.33, 194.01, 196.59, 191.65],
    ['2022/10/27', 207.0, 208.96, 213.87, 204.26],
    ['2022/10/28', 209.31, 216.05, 216.21, 208.04],
    ['2022/10/31', 212.11, 213.21, 215.59, 211.79],
    ['2022/11/01', 215.35, 215.22, 216.18, 213.46],
    ['2022/11/02', 214.34, 211.32, 218.38, 210.72],
    ['2022/11/03', 208.37, 215.97, 218.46, 208.19],
    ['2022/11/04', 220.66, 224.43, 226.28, 220.25],
    ['2022/11/07', 224.58, 225.18, 225.69, 219.33],
    ['2022/11/08', 225.18, 226.36, 229.14, 223.27],
    ['2022/11/09', 222.68, 222.16, 225.7, 221.68],
    ['2022/11/10', 228.74, 228.96, 229.1, 222.94],
    ['2022/11/11', 229.51, 232.94, 234.82, 228.52],
    ['2022/11/14', 232.46, 232.95, 236.25, 230.98],
    ['2022/11/15', 233.54, 231.07, 235.81, 229.26],
    ['2022/11/16', 230.49, 228.93, 231.14, 227.38],
    ['2022/11/17', 224.33, 226.98, 227.07, 222.13],
    ['2022/11/18', 227.39, 227.96, 228.36, 224.22],
    ['2022/11/21', 228.08, 228.69, 230.17, 224.85],
    ['2022/11/22', 230.49, 233.7, 233.92, 229.86],
    ['2022/11/23', 234.07, 233.37, 236.04, 232.08],
    ['2022/11/25', 233.45, 232.17, 233.93, 231.66],
    ['2022/11/28', 230.43, 228.82, 231.44, 228.1],
    ['2022/11/29', 229.8, 231.59, 232.19, 228.08],
    ['2022/11/30', 232.36, 232.86, 233.21, 227.33],
    ['2022/12/01', 233.35, 232.16, 233.45, 228.46],
    ['2022/12/02', 230.38, 232.59, 234.89, 230.09],
    ['2022/12/05', 231.28, 229.08, 232.37, 228.78],
    ['2022/12/06', 229.1, 224.87, 229.55, 222.18],
    ['2022/12/07', 223.6, 225.55, 226.39, 222.39],
    ['2022/12/08', 227.45, 227.46, 229.01, 226.1],
    ['2022/12/09', 228.52, 223.88, 229.32, 223.78],
    ['2022/12/12', 224.14, 229.56, 229.9, 223.62],
    ['2022/12/13', 234.25, 231.96, 234.35, 228.65],
    ['2022/12/14', 232.52, 230.96, 234.65, 229.62],
    ['2022/12/15', 228.68, 227.2, 229.44, 224.3],
    ['2022/12/16', 225.2, 229.23, 229.72, 224.63],
    ['2022/12/19', 230.39, 228.81, 233.38, 227.47],
    ['2022/12/20', 228.95, 231.61, 232.18, 228.38],
    ['2022/12/21', 234.1, 238.1, 238.28, 234.1],
    ['2022/12/22', 236.55, 233.98, 237.19, 229.54],
    ['2022/12/23', 233.4, 236.27, 236.93, 232.95],
    ['2022/12/27', 237.08, 239.49, 241.37, 236.12],
    ['2022/12/28', 239.49, 235.79, 240.16, 234.71],
    ['2022/12/29', 237.59, 236.6, 237.99, 234.7],
    ['2022/12/30', 235.8, 235.97, 236.56, 234.14],
    ['2023/01/03', 237.07, 235.3, 237.07, 232.66],
    ['2023/01/04', 236.4, 237.74, 238.5, 234.97],
    ['2023/01/05', 236.92, 236.68, 237.92, 234.0],
    ['2023/01/06', 239.25, 245.13, 246.16, 238.61],
    ['2023/01/09', 245.28, 242.92, 247.21, 242.31],
    ['2023/01/10', 243.25, 246.75, 247.08, 242.75],
    ['2023/01/11', 247.72, 246.97, 248.11, 243.42],
    ['2023/01/12', 248.22, 251.24, 253.52, 247.25],
    ['2023/01/13', 252.95, 254.58, 254.7, 251.4],
    ['2023/01/17', 254.98, 252.42, 256.59, 252.1],
    ['2023/01/18', 253.42, 249.03, 255.03, 248.29],
    ['2023/01/19', 247.9, 243.22, 248.66, 241.78],
    ['2023/01/20', 244.33, 247.14, 247.35, 242.24],
    ['2023/01/23', 248.17, 250.1, 251.07, 246.7],
    ['2023/01/24', 250.28, 254.96, 256.38, 247.18],
    ['2023/01/25', 251.91, 255.78, 256.52, 251.7],
    ['2023/01/26', 257.32, 259.42, 259.56, 254.24],
    ['2023/01/27', 259.76, 261.82, 263.3, 259.42],
    ['2023/01/30', 260.63, 258.81, 262.27, 258.62],
    ['2023/01/31', 254.35, 249.69, 254.74, 243.87],
    ['2023/02/01', 249.16, 246.97, 250.1, 242.78],
    ['2023/02/02', 246.76, 242.38, 246.96, 239.31],
    ['2023/02/03', 241.49, 245.21, 248.37, 240.63],
    ['2023/02/06', 245.55, 248.83, 249.54, 245.45],
    ['2023/02/07', 247.97, 247.09, 249.4, 242.82],
    ['2023/02/08', 245.54, 246.31, 248.97, 244.54],
    ['2023/02/09', 247.42, 243.74, 249.37, 242.95],
    ['2023/02/10', 243.74, 245.12, 246.07, 242.12],
    ['2023/02/13', 240.99, 245.59, 245.82, 240.15],
    ['2023/02/14', 244.47, 241.84, 244.76, 239.16],
    ['2023/02/15', 241.68, 246.14, 246.21, 240.72],
    ['2023/02/16', 243.96, 243.98, 245.97, 242.0],
    ['2023/02/17', 245.31, 245.24, 248.28, 243.1],
    ['2023/02/21', 241.98, 238.23, 245.45, 237.28],
    ['2023/02/22', 238.71, 235.44, 239.74, 233.98],
    ['2023/02/23', 238.19, 235.5, 238.35, 233.17],
    ['2023/02/24', 232.81, 233.74, 234.25, 230.62],
    ['2023/02/27', 236.64, 237.51, 238.77, 236.26],
    ['2023/02/28', 238.46, 237.08, 238.62, 236.25],
    ['2023/03/01', 239.52, 246.11, 247.13, 239.08],
    ['2023/03/02', 243.97, 249.58, 249.89, 243.59],
    ['2023/03/03', 249.79, 252.68, 252.77, 247.34],
    ['2023/03/06', 253.02, 251.36, 253.07, 248.99],
    ['2023/03/07', 251.43, 243.6, 252.13, 243.42],
    ['2023/03/08', 245.44, 246.16, 248.52, 244.21],
    ['2023/03/09', 246.39, 238.48, 247.55, 238.13],
    ['2023/03/10', 233.88, 224.67, 235.68, 223.47],
    ['2023/03/13', 220.29, 222.39, 225.98, 219.26],
    ['2023/03/14', 226.63, 223.35, 227.23, 219.91],
    ['2023/03/15', 217.14, 215.02, 218.9, 210.38],
    ['2023/03/16', 213.45, 216.46, 217.55, 211.12],
    ['2023/03/17', 215.16, 212.8, 215.16, 209.25],
    ['2023/03/20', 215.11, 218.04, 219.58, 214.25],
    ['2023/03/21', 221.75, 222.6, 223.67, 221.31],
    ['2023/03/22', 222.85, 217.68, 224.26, 217.6],
    ['2023/03/23', 218.24, 217.18, 222.98, 215.36],
    ['2023/03/24', 214.62, 214.77, 215.19, 210.94],
    ['2023/03/27', 212.72, 215.75, 216.7, 211.72],
    ['2023/03/28', 215.9, 217.89, 218.29, 215.47],
    ['2023/03/29', 220.45, 220.7, 220.92, 219.22],
    ['2023/03/30', 222.73, 222.23, 224.01, 221.68],
    ['2023/03/31', 224.05, 226.48, 226.7, 222.58],
    ['2023/04/03', 227.64, 227.5, 231.44, 226.5],
    ['2023/04/04', 226.54, 215.21, 227.13, 214.02],
    ['2023/04/05', 213.97, 211.33, 215.64, 209.37],
    ['2023/04/06', 210.48, 207.02, 210.81, 206.79],
    ['2023/04/10', 208.05, 213.31, 213.86, 207.16],
    ['2023/04/11', 213.94, 218.33, 220.6, 213.94],
    ['2023/04/12', 219.86, 218.23, 220.92, 217.63],
    ['2023/04/13', 217.67, 219.39, 219.89, 214.43],
    ['2023/04/14', 220.69, 221.38, 223.5, 219.16],
    ['2023/04/17', 222.69, 222.92, 224.58, 221.99],
    ['2023/04/18', 223.24, 222.88, 225.16, 221.75],
    ['2023/04/19', 222.48, 222.34, 222.83, 220.12],
    ['2023/04/20', 220.13, 219.98, 221.91, 218.65],
    ['2023/04/21', 219.58, 219.18, 219.9, 216.43],
    ['2023/04/24', 219.44, 222.33, 222.59, 219.44],
    ['2023/04/25', 221.26, 217.55, 222.13, 217.19],
    ['2023/04/26', 216.66, 215.12, 219.3, 215.06],
    ['2023/04/27', 209.44, 213.27, 215.02, 203.03],
    ['2023/04/28', 212.19, 217.72, 219.47, 211.95],
    ['2023/05/01', 218.26, 216.2, 220.87, 215.46],
    ['2023/05/02', 216.04, 214.09, 216.04, 209.55],
    ['2023/05/03', 214.58, 214.58, 218.09, 213.8],
    ['2023/05/04', 214.99, 209.34, 215.86, 208.3],
    ['2023/05/05', 212.54, 214.03, 214.62, 211.35],
    ['2023/05/08', 215.37, 213.73, 217.04, 212.58],
    ['2023/05/09', 212.69, 212.44, 214.33, 210.91],
    ['2023/05/10', 214.37, 212.12, 214.93, 209.15],
    ['2023/05/11', 207.97, 209.0, 209.24, 207.39],
    ['2023/05/12', 210.67, 208.51, 211.5, 206.91],
    ['2023/05/15', 209.27, 210.25, 212.26, 208.12],
    ['2023/05/16', 209.01, 206.18, 209.23, 206.03],
    ['2023/05/17', 208.25, 211.05, 212.79, 207.62],
    ['2023/05/18', 209.96, 213.66, 214.6, 209.19],
    ['2023/05/19', 218.38, 213.72, 218.81, 211.9],
    ['2023/05/22', 213.19, 213.2, 216.09, 210.85],
    ['2023/05/23', 212.15, 211.66, 214.2, 210.31],
    ['2023/05/24', 210.77, 208.67, 211.43, 208.19],
    ['2023/05/25', 208.66, 208.95, 210.75, 207.57],
    ['2023/05/26', 210.7, 210.76, 212.23, 209.17],
    ['2023/05/30', 210.14, 208.87, 211.84, 207.22],
    ['2023/05/31', 208.1, 204.74, 209.74, 204.59],
    ['2023/06/01', 206.66, 208.04, 209.53, 205.02],
    ['2023/06/02', 213.89, 225.51, 226.66, 212.96],
    ['2023/06/05', 225.87, 221.37, 225.87, 219.66],
    ['2023/06/06', 220.77, 225.56, 227.15, 220.36],
    ['2023/06/07', 226.69, 234.39, 235.2, 225.16],
    ['2023/06/08', 233.38, 233.29, 235.12, 230.6],
    ['2023/06/09', 234.54, 233.87, 234.65, 230.29],
    ['2023/06/12', 234.07, 236.73, 237.71, 232.17],
    ['2023/06/13', 238.9, 244.23, 245.46, 238.5],
    ['2023/06/14', 245.58, 242.12, 247.1, 240.38],
    ['2023/06/15', 242.8, 246.45, 247.16, 242.28],
    ['2023/06/16', 248.17, 244.06, 249.65, 243.76],
    ['2023/06/20', 241.14, 239.96, 242.02, 239.36],
    ['2023/06/21', 237.66, 240.29, 244.05, 236.86],
    ['2023/06/22', 239.05, 236.17, 239.79, 234.79],
    ['2023/06/23', 233.28, 233.28, 234.7, 230.14],
    ['2023/06/26', 234.3, 235.78, 238.44, 233.97],
    ['2023/06/27', 236.31, 239.5, 239.65, 234.16],
    ['2023/06/28', 238.11, 240.68, 240.86, 236.69],
    ['2023/06/29', 240.75, 243.04, 245.64, 240.18],
    ['2023/06/30', 245.35, 244.84, 245.71, 242.69],
    ['2023/07/03', 244.74, 246.11, 247.17, 244.06],
    ['2023/07/05', 243.79, 243.62, 246.28, 242.92],
    ['2023/07/06', 241.55, 239.39, 242.67, 237.66],
    ['2023/07/07', 239.01, 243.97, 246.58, 238.93],
    ['2023/07/10', 243.31, 247.58, 248.13, 242.89],
    ['2023/07/11', 248.61, 251.6, 253.22, 248.61],
    ['2023/07/12', 254.23, 252.35, 256.37, 250.2],
    ['2023/07/13', 253.31, 254.6, 255.2, 251.49],
    ['2023/07/14', 255.22, 254.36, 255.22, 251.66],
    ['2023/07/17', 253.02, 256.19, 257.57, 250.77],
    ['2023/07/18', 256.36, 262.51, 262.86, 255.66],
    ['2023/07/19', 260.14, 262.75, 262.92, 259.7],
    ['2023/07/20', 264.17, 261.09, 265.4, 260.44],
    ['2023/07/21', 261.75, 257.65, 261.76, 257.51],
    ['2023/07/24', 258.3, 259.37, 262.44, 258.1],
    ['2023/07/25', 260.1, 262.06, 263.88, 259.44],
    ['2023/07/26', 260.53, 258.32, 262.54, 257.25],
    ['2023/07/27', 258.97, 258.3, 261.1, 256.82],
    ['2023/07/28', 259.93, 260.43, 262.98, 258.99],
    ['2023/07/31', 262.75, 265.17, 265.21, 261.66],
    ['2023/08/01', 272.75, 288.65, 288.78, 270.5],
    ['2023/08/02', 287.75, 287.57, 293.88, 286.09],
]);
var volumes = [
    4155900.0,
    2478900.0,
    1908500.0,
    2655000.0,
    2460000.0,
    2304300.0,
    2538900.0,
    1864800.0,
    1752400.0,
    1959300.0,
    1576200.0,
    1750900.0,
    2003600.0,
    2008900.0,
    2444900.0,
    2503200.0,
    1888700.0,
    2560400.0,
    1996600.0,
    2691200.0,
    2656600.0,
    2686200.0,
    2185400.0,
    2141700.0,
    2166900.0,
    2245700.0,
    2279600.0,
    1937200.0,
    2207500.0,
    2295000.0,
    1933100.0,
    5088300.0,
    2923700.0,
    2512400.0,
    4061900.0,
    2508400.0,
    4047200.0,
    3213400.0,
    2753500.0,
    3694800.0,
    3518100.0,
    2963000.0,
    3444700.0,
    4008200.0,
    3067400.0,
    2415000.0,
    2759200.0,
    2633900.0,
    2542400.0,
    2260800.0,
    3745900.0,
    2830200.0,
    2940000.0,
    2674000.0,
    2088700.0,
    2953900.0,
    3483800.0,
    2919500.0,
    2545000.0,
    3546000.0,
    7872200.0,
    5161000.0,
    3786100.0,
    2717500.0,
    3150000.0,
    3570400.0,
    4973800.0,
    3405600.0,
    3676600.0,
    6248300.0,
    4590800.0,
    3585400.0,
    3217700.0,
    3371000.0,
    3062000.0,
    3256900.0,
    2868700.0,
    2522600.0,
    2523300.0,
    2311300.0,
    1034800.0,
    2862100.0,
    2277900.0,
    3850000.0,
    2504700.0,
    2218300.0,
    2064500.0,
    3633800.0,
    3044000.0,
    2189400.0,
    2257000.0,
    2709200.0,
    2945200.0,
    3513800.0,
    2953200.0,
    7610700.0,
    2622400.0,
    2649900.0,
    4143600.0,
    3129900.0,
    1959900.0,
    3381500.0,
    2270000.0,
    1652500.0,
    1521100.0,
    2651900.0,
    2387900.0,
    2355900.0,
    3945100.0,
    3417100.0,
    3011900.0,
    2402400.0,
    3881500.0,
    3067800.0,
    4100100.0,
    3361400.0,
    4885200.0,
    2964100.0,
    2610200.0,
    3505100.0,
    2424900.0,
    2677200.0,
    2783000.0,
    3426900.0,
    10992100.0,
    6022000.0,
    6130300.0,
    4134700.0,
    3528800.0,
    3467900.0,
    2300300.0,
    2464900.0,
    2820300.0,
    3068100.0,
    2512900.0,
    2398200.0,
    1934900.0,
    3759300.0,
    3105900.0,
    3145200.0,
    3219000.0,
    2105500.0,
    1720900.0,
    2647700.0,
    4117700.0,
    2676500.0,
    2314700.0,
    2317100.0,
    3018400.0,
    2068600.0,
    2518800.0,
    5767500.0,
    4885100.0,
    3754900.0,
    5471700.0,
    3555000.0,
    7203000.0,
    3464200.0,
    3074600.0,
    2930200.0,
    2957400.0,
    2976800.0,
    3209500.0,
    1802000.0,
    1857300.0,
    1921100.0,
    2746700.0,
    2242500.0,
    4282100.0,
    4265300.0,
    4180100.0,
    3839000.0,
    3882000.0,
    2385100.0,
    2909100.0,
    2246900.0,
    1751800.0,
    2567100.0,
    2078400.0,
    2826800.0,
    2712500.0,
    2790700.0,
    2505600.0,
    3254700.0,
    7711100.0,
    4668800.0,
    2876400.0,
    2858000.0,
    2635100.0,
    3211000.0,
    2716300.0,
    2414100.0,
    4111900.0,
    2446100.0,
    3263300.0,
    2172300.0,
    1925600.0,
    2771500.0,
    2897400.0,
    2643600.0,
    4401300.0,
    2540600.0,
    2298300.0,
    2964000.0,
    2243600.0,
    1973900.0,
    2885900.0,
    5937000.0,
    2989100.0,
    8356400.0,
    3438400.0,
    3230100.0,
    5586400.0,
    3546800.0,
    2488500.0,
    3644200.0,
    4335100.0,
    3122400.0,
    2743900.0,
    5260800.0,
    2979800.0,
    2892500.0,
    2421600.0,
    3354000.0,
    1748300.0,
    2283000.0,
    2200100.0,
    2070000.0,
    2377900.0,
    1045700.0,
    1820600.0,
    3079700.0,
    2903900.0,
    2771900.0,
    3294800.0,
    2986200.0,
    1949400.0,
    1936800.0,
    2674500.0,
    3833400.0,
    2771900.0,
    2102300.0,
    2249400.0,
    2195300.0,
    2016600.0,
    2622800.0,
    2284400.0,
    2101200.0,
    3568700.0,
    11823200.0,
    6288300.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "CAT",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);