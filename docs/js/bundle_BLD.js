/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_BLD");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/05', 202.37, 196.63, 203.7, 195.95],
    ['2022/08/08', 198.13, 200.24, 206.04, 198.13],
    ['2022/08/09', 197.88, 190.59, 199.4, 189.9],
    ['2022/08/10', 198.2, 199.26, 201.52, 197.06],
    ['2022/08/11', 202.37, 201.55, 208.02, 200.13],
    ['2022/08/12', 202.04, 202.73, 203.54, 200.12],
    ['2022/08/15', 202.33, 202.1, 202.51, 198.0],
    ['2022/08/16', 200.61, 204.98, 205.37, 198.61],
    ['2022/08/17', 202.96, 202.06, 204.52, 199.91],
    ['2022/08/18', 203.8, 201.17, 204.51, 200.86],
    ['2022/08/19', 199.52, 195.59, 199.52, 194.14],
    ['2022/08/22', 192.6, 192.18, 195.38, 190.0],
    ['2022/08/23', 193.39, 191.69, 195.16, 190.39],
    ['2022/08/24', 191.94, 192.96, 194.56, 190.54],
    ['2022/08/25', 191.55, 195.47, 197.8, 190.68],
    ['2022/08/26', 193.7, 184.39, 194.91, 183.76],
    ['2022/08/29', 183.76, 186.13, 187.55, 183.5],
    ['2022/08/30', 187.34, 184.72, 188.07, 183.52],
    ['2022/08/31', 184.8, 183.76, 185.82, 183.21],
    ['2022/09/01', 181.2, 181.31, 182.78, 179.03],
    ['2022/09/02', 182.95, 179.75, 183.78, 179.31],
    ['2022/09/06', 179.98, 176.08, 182.8, 173.68],
    ['2022/09/07', 177.24, 181.6, 182.26, 176.85],
    ['2022/09/08', 179.81, 183.0, 183.52, 178.6],
    ['2022/09/09', 183.68, 186.13, 186.82, 183.59],
    ['2022/09/12', 187.22, 184.54, 188.16, 183.29],
    ['2022/09/13', 177.74, 174.99, 178.29, 174.19],
    ['2022/09/14', 174.83, 169.33, 176.58, 167.54],
    ['2022/09/15', 169.09, 170.55, 173.18, 168.13],
    ['2022/09/16', 168.01, 168.54, 170.6, 166.97],
    ['2022/09/19', 170.39, 173.61, 174.4, 170.39],
    ['2022/09/20', 169.84, 168.85, 171.07, 167.29],
    ['2022/09/21', 170.0, 167.76, 172.41, 167.45],
    ['2022/09/22', 166.5, 162.55, 167.57, 159.8],
    ['2022/09/23', 160.37, 160.07, 161.35, 157.67],
    ['2022/09/26', 159.85, 155.12, 161.36, 153.82],
    ['2022/09/27', 157.29, 158.15, 159.61, 154.74],
    ['2022/09/28', 160.0, 167.97, 168.41, 160.0],
    ['2022/09/29', 164.51, 165.14, 167.06, 163.91],
    ['2022/09/30', 166.2, 164.78, 169.34, 164.03],
    ['2022/10/03', 168.55, 172.25, 173.25, 167.6],
    ['2022/10/04', 176.14, 182.6, 182.92, 176.14],
    ['2022/10/05', 179.15, 180.35, 181.53, 176.94],
    ['2022/10/06', 179.78, 182.8, 183.45, 179.55],
    ['2022/10/07', 179.14, 176.24, 180.67, 175.64],
    ['2022/10/10', 176.29, 174.5, 178.47, 172.72],
    ['2022/10/11', 173.31, 177.3, 178.81, 171.59],
    ['2022/10/12', 177.53, 170.84, 177.53, 170.26],
    ['2022/10/13', 163.54, 170.26, 171.85, 160.66],
    ['2022/10/14', 171.07, 160.02, 171.41, 159.6],
    ['2022/10/17', 163.83, 166.89, 167.77, 163.46],
    ['2022/10/18', 170.75, 171.03, 174.14, 167.71],
    ['2022/10/19', 169.27, 160.16, 170.36, 158.84],
    ['2022/10/20', 160.37, 153.44, 163.5, 153.4],
    ['2022/10/21', 153.39, 159.64, 159.95, 151.84],
    ['2022/10/24', 159.68, 160.27, 161.43, 155.95],
    ['2022/10/25', 161.47, 167.89, 168.86, 161.47],
    ['2022/10/26', 167.16, 166.56, 171.01, 165.2],
    ['2022/10/27', 167.58, 164.91, 170.25, 164.76],
    ['2022/10/28', 164.44, 168.57, 169.38, 162.27],
    ['2022/10/31', 166.6, 170.14, 171.77, 164.2],
    ['2022/11/01', 181.67, 157.18, 182.67, 152.26],
    ['2022/11/02', 156.4, 147.84, 160.63, 147.61],
    ['2022/11/03', 144.74, 141.82, 145.35, 141.28],
    ['2022/11/04', 144.12, 146.47, 148.38, 143.21],
    ['2022/11/07', 147.63, 148.25, 149.05, 144.74],
    ['2022/11/08', 148.89, 147.75, 150.78, 146.49],
    ['2022/11/09', 146.07, 147.05, 148.84, 144.64],
    ['2022/11/10', 156.08, 158.16, 165.19, 155.85],
    ['2022/11/11', 158.02, 160.71, 162.2, 158.02],
    ['2022/11/14', 160.0, 150.0, 160.29, 149.87],
    ['2022/11/15', 154.0, 155.0, 157.34, 152.18],
    ['2022/11/16', 153.23, 147.62, 153.98, 147.2],
    ['2022/11/17', 143.8, 147.98, 148.0, 140.66],
    ['2022/11/18', 151.14, 148.09, 152.45, 146.78],
    ['2022/11/21', 147.61, 146.09, 148.52, 145.08],
    ['2022/11/22', 147.51, 148.07, 148.66, 145.99],
    ['2022/11/23', 148.38, 150.09, 153.34, 146.91],
    ['2022/11/25', 149.75, 150.45, 151.95, 149.75],
    ['2022/11/28', 148.5, 146.73, 149.89, 145.23],
    ['2022/11/29', 146.94, 149.01, 149.51, 145.81],
    ['2022/11/30', 149.65, 154.08, 154.51, 145.32],
    ['2022/12/01', 156.35, 158.0, 162.41, 155.76],
    ['2022/12/02', 155.57, 156.57, 158.65, 155.0],
    ['2022/12/05', 153.68, 156.71, 157.23, 152.33],
    ['2022/12/06', 156.96, 152.33, 158.48, 149.85],
    ['2022/12/07', 153.56, 155.73, 156.91, 152.84],
    ['2022/12/08', 155.19, 158.46, 159.75, 153.18],
    ['2022/12/09', 157.23, 158.09, 159.93, 156.76],
    ['2022/12/12', 158.33, 159.49, 160.12, 154.55],
    ['2022/12/13', 168.04, 165.47, 169.54, 164.24],
    ['2022/12/14', 164.38, 162.93, 165.79, 161.14],
    ['2022/12/15', 158.59, 163.5, 164.85, 157.15],
    ['2022/12/16', 160.47, 161.22, 162.58, 160.18],
    ['2022/12/19', 161.47, 158.06, 161.93, 156.82],
    ['2022/12/20', 156.07, 154.8, 157.5, 152.39],
    ['2022/12/21', 156.64, 159.4, 159.84, 156.12],
    ['2022/12/22', 156.73, 156.8, 157.62, 153.46],
    ['2022/12/23', 156.41, 158.2, 158.22, 154.38],
    ['2022/12/27', 156.8, 155.76, 157.42, 154.58],
    ['2022/12/28', 156.65, 151.87, 157.14, 151.79],
    ['2022/12/29', 152.4, 158.41, 159.44, 150.88],
    ['2022/12/30', 155.8, 156.49, 158.11, 155.35],
    ['2023/01/03', 159.41, 157.92, 159.84, 156.49],
    ['2023/01/04', 160.03, 161.71, 162.31, 158.93],
    ['2023/01/05', 159.43, 161.37, 162.99, 158.21],
    ['2023/01/06', 163.32, 165.88, 166.77, 162.47],
    ['2023/01/09', 166.91, 167.51, 169.94, 166.61],
    ['2023/01/10', 166.7, 168.18, 168.43, 165.01],
    ['2023/01/11', 173.14, 179.31, 180.53, 173.0],
    ['2023/01/12', 179.46, 178.49, 179.76, 173.75],
    ['2023/01/13', 178.25, 186.29, 186.86, 176.75],
    ['2023/01/17', 185.49, 186.11, 188.06, 185.21],
    ['2023/01/18', 189.0, 188.28, 192.47, 187.51],
    ['2023/01/19', 185.57, 181.83, 186.73, 181.35],
    ['2023/01/20', 182.8, 187.37, 187.48, 180.01],
    ['2023/01/23', 187.94, 192.25, 192.26, 186.88],
    ['2023/01/24', 190.0, 192.82, 193.06, 189.84],
    ['2023/01/25', 190.0, 190.24, 191.29, 188.68],
    ['2023/01/26', 193.05, 194.38, 196.81, 191.77],
    ['2023/01/27', 193.39, 197.4, 197.52, 193.39],
    ['2023/01/30', 195.36, 189.43, 197.81, 189.31],
    ['2023/01/31', 191.33, 200.06, 200.14, 191.28],
    ['2023/02/01', 200.89, 204.35, 205.71, 195.5],
    ['2023/02/02', 207.54, 211.02, 212.96, 206.78],
    ['2023/02/03', 205.84, 205.5, 209.73, 204.25],
    ['2023/02/06', 201.33, 198.32, 202.46, 197.93],
    ['2023/02/07', 195.5, 199.9, 201.2, 195.01],
    ['2023/02/08', 199.3, 197.66, 200.78, 196.77],
    ['2023/02/09', 200.16, 196.72, 201.73, 194.6],
    ['2023/02/10', 194.35, 194.79, 196.81, 193.74],
    ['2023/02/13', 195.19, 199.53, 199.95, 195.19],
    ['2023/02/14', 195.61, 200.4, 201.62, 195.61],
    ['2023/02/15', 199.13, 202.53, 203.39, 199.0],
    ['2023/02/16', 197.97, 200.67, 203.23, 195.73],
    ['2023/02/17', 199.25, 198.91, 199.37, 194.78],
    ['2023/02/21', 193.79, 191.25, 196.62, 190.9],
    ['2023/02/22', 192.45, 198.0, 200.12, 192.45],
    ['2023/02/23', 210.0, 205.21, 216.24, 197.39],
    ['2023/02/24', 202.13, 206.17, 206.93, 199.08],
    ['2023/02/27', 207.63, 208.94, 210.07, 206.57],
    ['2023/02/28', 209.45, 207.59, 210.08, 206.35],
    ['2023/03/01', 207.37, 205.98, 209.04, 203.63],
    ['2023/03/02', 203.45, 206.25, 206.99, 202.14],
    ['2023/03/03', 207.79, 210.36, 210.87, 205.85],
    ['2023/03/06', 210.54, 203.88, 211.26, 202.65],
    ['2023/03/07', 203.87, 201.26, 206.96, 201.25],
    ['2023/03/08', 202.23, 203.08, 203.7, 198.52],
    ['2023/03/09', 202.24, 200.03, 205.59, 200.03],
    ['2023/03/10', 199.38, 192.86, 199.38, 190.73],
    ['2023/03/13', 188.0, 192.32, 195.68, 187.92],
    ['2023/03/14', 197.39, 194.7, 197.91, 191.95],
    ['2023/03/15', 191.25, 188.43, 193.46, 185.85],
    ['2023/03/16', 186.12, 192.07, 194.05, 185.05],
    ['2023/03/17', 190.84, 189.53, 192.38, 188.23],
    ['2023/03/20', 191.39, 190.77, 194.09, 189.94],
    ['2023/03/21', 193.38, 195.36, 197.79, 193.38],
    ['2023/03/22', 194.36, 190.77, 196.49, 190.42],
    ['2023/03/23', 193.31, 189.77, 195.95, 187.49],
    ['2023/03/24', 188.61, 193.05, 193.34, 185.04],
    ['2023/03/27', 195.93, 195.27, 196.56, 192.5],
    ['2023/03/28', 194.67, 195.59, 197.88, 193.45],
    ['2023/03/29', 197.56, 197.49, 198.39, 195.49],
    ['2023/03/30', 199.5, 198.25, 201.57, 197.85],
    ['2023/03/31', 200.07, 208.14, 208.75, 199.8],
    ['2023/04/03', 207.22, 204.39, 209.32, 201.77],
    ['2023/04/04', 203.74, 194.68, 203.74, 192.37],
    ['2023/04/05', 191.99, 189.72, 192.5, 188.19],
    ['2023/04/06', 188.02, 191.47, 192.24, 184.5],
    ['2023/04/10', 190.18, 192.19, 195.91, 190.18],
    ['2023/04/11', 192.3, 198.33, 199.6, 192.3],
    ['2023/04/12', 200.79, 199.08, 201.29, 197.77],
    ['2023/04/13', 200.86, 200.0, 201.75, 196.87],
    ['2023/04/14', 199.48, 201.68, 202.77, 195.88],
    ['2023/04/17', 201.54, 200.7, 203.42, 198.82],
    ['2023/04/18', 203.69, 209.78, 211.26, 203.69],
    ['2023/04/19', 209.52, 215.0, 215.71, 208.06],
    ['2023/04/20', 215.47, 220.9, 225.82, 214.84],
    ['2023/04/21', 223.04, 217.96, 223.04, 217.63],
    ['2023/04/24', 218.65, 219.48, 220.88, 217.4],
    ['2023/04/25', 217.8, 213.84, 219.19, 213.66],
    ['2023/04/26', 213.09, 212.47, 214.48, 212.34],
    ['2023/04/27', 214.03, 220.11, 220.19, 214.03],
    ['2023/04/28', 220.94, 225.48, 227.08, 220.94],
    ['2023/05/01', 224.79, 222.07, 226.24, 220.95],
    ['2023/05/02', 219.4, 221.07, 221.9, 216.98],
    ['2023/05/03', 220.96, 221.99, 226.27, 219.79],
    ['2023/05/04', 215.55, 210.98, 220.32, 207.6],
    ['2023/05/05', 213.74, 215.07, 216.75, 210.37],
    ['2023/05/08', 215.59, 214.34, 217.08, 210.01],
    ['2023/05/09', 213.37, 210.25, 215.71, 209.85],
    ['2023/05/10', 212.2, 214.98, 215.02, 210.98],
    ['2023/05/11', 214.7, 214.97, 215.81, 211.78],
    ['2023/05/12', 215.07, 211.54, 216.06, 208.36],
    ['2023/05/15', 210.89, 214.46, 214.61, 210.38],
    ['2023/05/16', 211.46, 210.68, 211.67, 209.17],
    ['2023/05/17', 211.69, 214.2, 214.39, 211.25],
    ['2023/05/18', 214.17, 218.04, 218.14, 212.15],
    ['2023/05/19', 219.0, 210.71, 219.0, 209.33],
    ['2023/05/22', 210.25, 209.72, 213.28, 205.97],
    ['2023/05/23', 209.76, 205.44, 211.68, 204.59],
    ['2023/05/24', 204.92, 205.39, 205.59, 202.53],
    ['2023/05/25', 206.81, 205.44, 209.51, 202.87],
    ['2023/05/26', 205.53, 206.16, 206.81, 202.26],
    ['2023/05/30', 207.87, 206.87, 208.4, 205.11],
    ['2023/05/31', 205.25, 201.66, 206.65, 199.53],
    ['2023/06/01', 200.59, 206.6, 206.7, 199.31],
    ['2023/06/02', 210.08, 217.94, 219.09, 209.6],
    ['2023/06/05', 214.31, 216.04, 217.0, 214.04],
    ['2023/06/06', 215.62, 224.83, 224.9, 215.62],
    ['2023/06/07', 226.14, 228.54, 229.44, 226.14],
    ['2023/06/08', 230.11, 229.88, 232.9, 229.07],
    ['2023/06/09', 230.02, 228.96, 230.67, 226.71],
    ['2023/06/12', 229.06, 234.88, 235.01, 228.71],
    ['2023/06/13', 236.72, 238.0, 241.63, 236.72],
    ['2023/06/14', 238.38, 234.0, 240.98, 232.94],
    ['2023/06/15', 234.31, 243.9, 244.38, 233.46],
    ['2023/06/16', 245.68, 243.28, 246.84, 242.1],
    ['2023/06/20', 243.11, 246.99, 249.58, 243.11],
    ['2023/06/21', 245.4, 248.91, 252.0, 245.4],
    ['2023/06/22', 248.31, 249.95, 250.94, 245.0],
    ['2023/06/23', 249.14, 250.87, 252.89, 248.04],
    ['2023/06/26', 251.46, 250.06, 256.75, 249.71],
    ['2023/06/27', 251.69, 259.18, 259.71, 251.69],
    ['2023/06/28', 258.69, 259.14, 262.08, 254.05],
    ['2023/06/29', 259.04, 262.74, 263.87, 258.22],
    ['2023/06/30', 265.0, 266.02, 267.41, 261.78],
    ['2023/07/03', 265.96, 264.36, 268.69, 262.34],
    ['2023/07/05', 262.31, 264.0, 264.55, 258.48],
    ['2023/07/06', 257.59, 260.24, 261.28, 255.86],
    ['2023/07/07', 261.58, 261.65, 265.47, 260.83],
    ['2023/07/10', 262.22, 267.54, 268.39, 262.22],
    ['2023/07/11', 267.54, 268.42, 269.89, 266.65],
    ['2023/07/12', 271.01, 275.93, 278.2, 270.83],
    ['2023/07/13', 277.0, 277.01, 278.24, 273.92],
    ['2023/07/14', 279.47, 277.77, 279.47, 273.9],
    ['2023/07/17', 276.5, 278.67, 280.67, 275.58],
    ['2023/07/18', 278.9, 278.06, 280.44, 274.81],
    ['2023/07/19', 275.97, 274.14, 280.17, 271.76],
    ['2023/07/20', 274.45, 267.27, 274.45, 264.28],
    ['2023/07/21', 269.16, 266.88, 271.83, 266.1],
    ['2023/07/24', 266.54, 267.14, 269.98, 266.32],
    ['2023/07/25', 266.9, 269.85, 274.25, 266.53],
    ['2023/07/26', 269.22, 270.88, 271.33, 264.75],
    ['2023/07/27', 273.9, 266.04, 274.88, 265.6],
    ['2023/07/28', 270.51, 274.28, 274.75, 270.0],
    ['2023/07/31', 276.06, 273.93, 277.61, 271.36],
    ['2023/08/01', 273.16, 273.72, 278.35, 273.16],
    ['2023/08/02', 271.43, 273.71, 274.1, 269.91],
    ['2023/08/03', 273.07, 285.05, 289.48, 271.71],
]);
var volumes = [
    289400.0,
    221100.0,
    248600.0,
    252900.0,
    229000.0,
    178200.0,
    319100.0,
    379900.0,
    210900.0,
    146400.0,
    151900.0,
    133300.0,
    107000.0,
    149800.0,
    109900.0,
    298000.0,
    183800.0,
    150200.0,
    210600.0,
    230700.0,
    179700.0,
    317800.0,
    233300.0,
    150900.0,
    151000.0,
    174700.0,
    440200.0,
    421900.0,
    365300.0,
    481300.0,
    279700.0,
    460900.0,
    412100.0,
    301800.0,
    287200.0,
    392600.0,
    286200.0,
    304300.0,
    327800.0,
    275900.0,
    194400.0,
    215200.0,
    225800.0,
    169500.0,
    204200.0,
    194000.0,
    251100.0,
    155200.0,
    250100.0,
    267600.0,
    228900.0,
    150000.0,
    249500.0,
    340200.0,
    337300.0,
    218100.0,
    318500.0,
    222100.0,
    294000.0,
    422300.0,
    413800.0,
    654900.0,
    533100.0,
    610300.0,
    486800.0,
    483500.0,
    707600.0,
    655500.0,
    1077100.0,
    735800.0,
    505100.0,
    816100.0,
    369800.0,
    425800.0,
    427700.0,
    155700.0,
    244800.0,
    177000.0,
    55600.0,
    298600.0,
    301900.0,
    425800.0,
    369800.0,
    461400.0,
    318700.0,
    449800.0,
    267400.0,
    235800.0,
    209900.0,
    271600.0,
    275200.0,
    200600.0,
    331900.0,
    568500.0,
    247700.0,
    209700.0,
    287100.0,
    155500.0,
    138800.0,
    132000.0,
    132100.0,
    202100.0,
    131700.0,
    211500.0,
    207700.0,
    326400.0,
    189300.0,
    224300.0,
    181400.0,
    379400.0,
    287300.0,
    361300.0,
    463300.0,
    306700.0,
    399500.0,
    235000.0,
    226800.0,
    138700.0,
    183300.0,
    228700.0,
    181600.0,
    185000.0,
    221200.0,
    342500.0,
    300700.0,
    211500.0,
    232100.0,
    216600.0,
    149800.0,
    139400.0,
    111800.0,
    153500.0,
    135300.0,
    161000.0,
    279000.0,
    230000.0,
    268300.0,
    422600.0,
    573800.0,
    295600.0,
    257200.0,
    360900.0,
    188900.0,
    165100.0,
    172500.0,
    263800.0,
    156100.0,
    187200.0,
    238700.0,
    306200.0,
    233600.0,
    218300.0,
    261000.0,
    205800.0,
    355000.0,
    245500.0,
    160900.0,
    214000.0,
    261000.0,
    183300.0,
    165300.0,
    142800.0,
    121400.0,
    161200.0,
    370100.0,
    238000.0,
    299400.0,
    292100.0,
    198000.0,
    245800.0,
    238600.0,
    239100.0,
    176000.0,
    159600.0,
    155400.0,
    250200.0,
    300700.0,
    458900.0,
    319200.0,
    129200.0,
    98700.0,
    252600.0,
    213500.0,
    248200.0,
    142800.0,
    164100.0,
    251000.0,
    374300.0,
    213300.0,
    198400.0,
    241100.0,
    275000.0,
    184800.0,
    157900.0,
    123000.0,
    152700.0,
    172300.0,
    176800.0,
    344000.0,
    229100.0,
    243300.0,
    191900.0,
    207300.0,
    174100.0,
    131800.0,
    280200.0,
    227700.0,
    258300.0,
    192300.0,
    236000.0,
    209800.0,
    214200.0,
    199800.0,
    264200.0,
    252900.0,
    177400.0,
    262900.0,
    549100.0,
    196900.0,
    234100.0,
    220800.0,
    809100.0,
    223100.0,
    259600.0,
    166200.0,
    156800.0,
    202500.0,
    103700.0,
    160400.0,
    260300.0,
    310000.0,
    176800.0,
    242900.0,
    274200.0,
    256300.0,
    134400.0,
    170700.0,
    203100.0,
    270500.0,
    284300.0,
    119200.0,
    111400.0,
    169100.0,
    220400.0,
    243200.0,
    276500.0,
    200300.0,
    212000.0,
    245500.0,
    477100.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "BLD",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);