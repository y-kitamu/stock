/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_SHAK");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/11', 51.55, 51.93, 53.37, 51.39],
    ['2022/08/12', 52.43, 53.11, 53.19, 52.04],
    ['2022/08/15', 52.78, 54.05, 54.45, 52.33],
    ['2022/08/16', 53.63, 53.87, 54.28, 52.45],
    ['2022/08/17', 52.98, 52.0, 53.1, 51.85],
    ['2022/08/18', 52.0, 51.98, 52.17, 50.92],
    ['2022/08/19', 51.24, 49.62, 51.51, 49.33],
    ['2022/08/22', 48.44, 49.09, 49.1, 47.99],
    ['2022/08/23', 49.78, 49.1, 50.45, 48.96],
    ['2022/08/24', 48.99, 51.08, 51.65, 48.7],
    ['2022/08/25', 51.65, 52.13, 52.54, 51.16],
    ['2022/08/26', 51.62, 47.64, 51.85, 47.38],
    ['2022/08/29', 46.84, 47.65, 48.09, 46.76],
    ['2022/08/30', 48.63, 47.72, 49.09, 47.02],
    ['2022/08/31', 48.61, 47.66, 48.89, 47.65],
    ['2022/09/01', 47.1, 47.19, 47.24, 45.19],
    ['2022/09/02', 47.75, 46.46, 47.75, 45.88],
    ['2022/09/06', 46.46, 45.34, 46.51, 44.32],
    ['2022/09/07', 45.31, 47.82, 48.35, 45.11],
    ['2022/09/08', 47.02, 48.9, 48.92, 46.85],
    ['2022/09/09', 49.05, 50.74, 50.99, 49.01],
    ['2022/09/12', 50.99, 50.93, 51.5, 49.39],
    ['2022/09/13', 48.77, 48.07, 48.77, 47.5],
    ['2022/09/14', 48.16, 49.18, 49.76, 47.11],
    ['2022/09/15', 49.13, 50.39, 51.5, 48.83],
    ['2022/09/16', 49.33, 49.61, 49.75, 47.96],
    ['2022/09/19', 48.99, 50.61, 50.83, 48.59],
    ['2022/09/20', 50.37, 49.31, 50.99, 49.04],
    ['2022/09/21', 49.48, 48.48, 50.44, 48.38],
    ['2022/09/22', 47.97, 44.88, 48.24, 43.91],
    ['2022/09/23', 43.92, 44.82, 44.98, 43.85],
    ['2022/09/26', 45.05, 45.08, 46.65, 44.64],
    ['2022/09/27', 46.33, 46.43, 47.21, 45.14],
    ['2022/09/28', 46.88, 48.56, 49.09, 46.37],
    ['2022/09/29', 47.59, 46.62, 47.71, 45.9],
    ['2022/09/30', 46.43, 44.98, 47.18, 44.87],
    ['2022/10/03', 45.57, 45.63, 46.28, 44.51],
    ['2022/10/04', 47.0, 46.56, 48.68, 45.98],
    ['2022/10/05', 45.73, 46.46, 46.86, 44.62],
    ['2022/10/06', 46.45, 47.84, 49.25, 46.45],
    ['2022/10/07', 47.24, 46.69, 47.37, 45.65],
    ['2022/10/10', 46.6, 47.59, 47.73, 45.6],
    ['2022/10/11', 47.2, 47.37, 48.42, 44.67],
    ['2022/10/12', 47.5, 49.58, 50.65, 46.6],
    ['2022/10/13', 48.55, 49.61, 50.1, 46.99],
    ['2022/10/14', 50.4, 47.83, 51.07, 47.62],
    ['2022/10/17', 48.57, 49.75, 49.93, 48.57],
    ['2022/10/18', 51.23, 50.39, 52.25, 49.49],
    ['2022/10/19', 49.62, 49.68, 50.64, 49.22],
    ['2022/10/20', 49.75, 48.98, 51.06, 48.49],
    ['2022/10/21', 49.13, 50.73, 50.98, 48.45],
    ['2022/10/24', 50.13, 48.24, 50.36, 47.95],
    ['2022/10/25', 48.45, 51.22, 51.49, 48.45],
    ['2022/10/26', 51.76, 50.54, 53.27, 50.52],
    ['2022/10/27', 51.93, 53.0, 54.39, 51.93],
    ['2022/10/28', 52.75, 55.82, 56.81, 52.63],
    ['2022/10/31', 55.68, 55.57, 56.69, 54.78],
    ['2022/11/01', 56.52, 54.24, 56.83, 54.04],
    ['2022/11/02', 53.75, 51.93, 54.42, 51.67],
    ['2022/11/03', 50.0, 47.65, 50.45, 47.43],
    ['2022/11/04', 48.28, 47.02, 49.2, 45.51],
    ['2022/11/07', 47.03, 44.2, 47.36, 43.51],
    ['2022/11/08', 44.51, 45.66, 46.73, 43.94],
    ['2022/11/09', 44.88, 46.0, 46.33, 44.42],
    ['2022/11/10', 48.5, 51.07, 51.07, 47.79],
    ['2022/11/11', 51.55, 51.73, 52.23, 50.02],
    ['2022/11/14', 51.24, 51.27, 52.27, 50.13],
    ['2022/11/15', 52.5, 51.67, 52.97, 51.08],
    ['2022/11/16', 50.99, 51.43, 51.88, 49.95],
    ['2022/11/17', 50.39, 50.74, 51.69, 49.78],
    ['2022/11/18', 51.93, 49.8, 52.17, 49.06],
    ['2022/11/21', 49.36, 47.63, 49.63, 47.57],
    ['2022/11/22', 47.73, 47.39, 47.87, 46.13],
    ['2022/11/23', 47.39, 48.3, 48.38, 46.17],
    ['2022/11/25', 48.18, 49.29, 49.32, 48.03],
    ['2022/11/28', 49.02, 49.56, 49.7, 48.69],
    ['2022/11/29', 49.75, 50.85, 51.77, 49.31],
    ['2022/11/30', 51.1, 52.6, 52.67, 49.88],
    ['2022/12/01', 52.66, 52.07, 53.26, 51.36],
    ['2022/12/02', 50.86, 51.93, 52.86, 50.55],
    ['2022/12/05', 51.64, 49.71, 51.85, 49.38],
    ['2022/12/06', 49.75, 49.2, 50.44, 48.33],
    ['2022/12/07', 48.95, 48.31, 49.34, 48.15],
    ['2022/12/08', 48.58, 48.86, 50.16, 47.9],
    ['2022/12/09', 48.65, 47.18, 49.08, 47.12],
    ['2022/12/12', 47.12, 49.75, 49.77, 47.12],
    ['2022/12/13', 51.85, 49.25, 51.85, 48.65],
    ['2022/12/14', 49.43, 49.39, 50.49, 48.86],
    ['2022/12/15', 48.59, 48.36, 48.71, 47.37],
    ['2022/12/16', 47.92, 48.45, 49.02, 47.71],
    ['2022/12/19', 48.28, 46.44, 48.4, 45.94],
    ['2022/12/20', 46.19, 46.8, 48.41, 46.19],
    ['2022/12/21', 46.05, 45.44, 46.91, 45.15],
    ['2022/12/22', 44.83, 44.95, 45.17, 43.81],
    ['2022/12/23', 44.7, 44.89, 45.19, 44.15],
    ['2022/12/27', 44.54, 43.38, 44.86, 43.34],
    ['2022/12/28', 43.02, 42.55, 43.77, 42.36],
    ['2022/12/29', 42.99, 41.6, 43.49, 41.46],
    ['2022/12/30', 41.04, 41.53, 42.01, 40.83],
    ['2023/01/03', 42.54, 41.68, 42.7, 40.9],
    ['2023/01/04', 42.58, 44.88, 44.91, 42.4],
    ['2023/01/05', 44.14, 45.49, 45.61, 43.37],
    ['2023/01/06', 45.95, 46.43, 47.2, 45.24],
    ['2023/01/09', 47.13, 48.08, 48.99, 46.91],
    ['2023/01/10', 46.85, 51.09, 51.37, 46.2],
    ['2023/01/11', 51.87, 53.72, 53.74, 51.49],
    ['2023/01/12', 54.43, 55.09, 55.84, 53.26],
    ['2023/01/13', 55.18, 56.36, 56.62, 54.43],
    ['2023/01/17', 54.63, 57.79, 57.81, 54.62],
    ['2023/01/18', 58.41, 54.39, 58.61, 54.1],
    ['2023/01/19', 54.08, 54.9, 55.1, 53.07],
    ['2023/01/20', 55.79, 54.75, 56.05, 54.45],
    ['2023/01/23', 54.87, 56.09, 56.23, 54.0],
    ['2023/01/24', 55.27, 55.23, 56.55, 54.72],
    ['2023/01/25', 54.26, 56.51, 56.75, 53.84],
    ['2023/01/26', 57.1, 56.45, 58.26, 55.65],
    ['2023/01/27', 56.14, 56.52, 57.79, 55.82],
    ['2023/01/30', 55.54, 55.49, 56.04, 54.96],
    ['2023/01/31', 55.75, 56.88, 57.36, 55.53],
    ['2023/02/01', 56.8, 57.87, 58.28, 55.75],
    ['2023/02/02', 58.74, 61.0, 61.39, 58.48],
    ['2023/02/03', 59.69, 58.29, 60.3, 58.19],
    ['2023/02/06', 57.76, 57.84, 58.82, 57.21],
    ['2023/02/07', 57.45, 59.07, 59.42, 56.81],
    ['2023/02/08', 58.51, 57.89, 59.01, 57.1],
    ['2023/02/09', 58.77, 56.7, 59.21, 56.69],
    ['2023/02/10', 56.31, 55.49, 57.12, 55.34],
    ['2023/02/13', 56.06, 56.83, 57.1, 55.41],
    ['2023/02/14', 56.34, 56.88, 57.3, 55.18],
    ['2023/02/15', 56.7, 58.69, 59.1, 56.32],
    ['2023/02/16', 57.8, 56.67, 58.56, 53.63],
    ['2023/02/17', 56.9, 55.0, 56.9, 54.11],
    ['2023/02/21', 53.64, 55.4, 55.67, 53.51],
    ['2023/02/22', 56.12, 57.82, 57.85, 55.57],
    ['2023/02/23', 57.96, 56.6, 58.05, 55.71],
    ['2023/02/24', 55.36, 56.54, 56.7, 55.05],
    ['2023/02/27', 56.61, 55.28, 57.01, 54.47],
    ['2023/02/28', 55.35, 55.79, 56.61, 55.19],
    ['2023/03/01', 56.13, 57.07, 57.19, 55.12],
    ['2023/03/02', 56.75, 57.23, 57.53, 55.3],
    ['2023/03/03', 57.38, 58.0, 58.29, 56.82],
    ['2023/03/06', 58.5, 57.84, 58.67, 57.03],
    ['2023/03/07', 58.11, 58.02, 59.07, 57.65],
    ['2023/03/08', 58.0, 59.08, 59.09, 57.41],
    ['2023/03/09', 59.08, 56.05, 59.5, 56.0],
    ['2023/03/10', 55.64, 54.53, 56.04, 54.1],
    ['2023/03/13', 53.42, 54.48, 54.97, 52.01],
    ['2023/03/14', 56.12, 55.99, 57.28, 55.09],
    ['2023/03/15', 55.1, 55.47, 56.04, 54.25],
    ['2023/03/16', 54.96, 56.22, 56.44, 54.24],
    ['2023/03/17', 55.7, 54.91, 55.94, 53.72],
    ['2023/03/20', 55.03, 55.39, 56.67, 54.81],
    ['2023/03/21', 56.16, 55.25, 56.62, 55.23],
    ['2023/03/22', 56.12, 55.22, 56.92, 55.0],
    ['2023/03/23', 55.7, 53.96, 55.88, 53.25],
    ['2023/03/24', 53.78, 52.56, 53.89, 52.51],
    ['2023/03/27', 53.26, 53.62, 53.71, 52.4],
    ['2023/03/28', 53.36, 53.1, 54.27, 52.83],
    ['2023/03/29', 53.6, 53.8, 53.88, 52.63],
    ['2023/03/30', 54.5, 54.42, 54.77, 53.35],
    ['2023/03/31', 54.89, 55.49, 56.28, 54.65],
    ['2023/04/03', 55.34, 55.56, 55.94, 54.56],
    ['2023/04/04', 55.94, 56.13, 56.15, 54.83],
    ['2023/04/05', 55.85, 54.85, 55.85, 54.14],
    ['2023/04/06', 54.94, 55.15, 55.25, 53.88],
    ['2023/04/10', 54.91, 56.56, 56.61, 54.85],
    ['2023/04/11', 56.75, 57.22, 57.69, 56.64],
    ['2023/04/12', 57.98, 55.83, 58.19, 55.81],
    ['2023/04/13', 56.21, 54.85, 56.67, 54.78],
    ['2023/04/14', 54.39, 54.03, 55.22, 53.4],
    ['2023/04/17', 54.57, 55.25, 55.78, 54.31],
    ['2023/04/18', 55.58, 54.88, 56.14, 54.36],
    ['2023/04/19', 54.74, 55.12, 55.54, 53.92],
    ['2023/04/20', 54.93, 55.6, 56.59, 54.26],
    ['2023/04/21', 55.87, 55.69, 56.14, 55.15],
    ['2023/04/24', 55.63, 55.26, 56.75, 54.93],
    ['2023/04/25', 54.92, 53.9, 55.55, 53.76],
    ['2023/04/26', 54.23, 53.54, 55.38, 53.45],
    ['2023/04/27', 54.01, 54.09, 54.47, 53.41],
    ['2023/04/28', 53.9, 54.81, 54.89, 53.08],
    ['2023/05/01', 54.47, 54.74, 55.74, 54.18],
    ['2023/05/02', 54.43, 54.48, 54.63, 53.05],
    ['2023/05/03', 54.6, 52.82, 54.79, 52.64],
    ['2023/05/04', 57.99, 61.57, 61.94, 57.1],
    ['2023/05/05', 63.0, 65.53, 66.29, 61.26],
    ['2023/05/08', 65.9, 66.92, 67.14, 65.07],
    ['2023/05/09', 65.93, 65.96, 66.83, 65.29],
    ['2023/05/10', 66.73, 66.38, 67.5, 65.39],
    ['2023/05/11', 66.62, 66.49, 66.9, 65.66],
    ['2023/05/12', 66.48, 65.21, 66.52, 64.68],
    ['2023/05/15', 68.5, 70.3, 71.93, 68.09],
    ['2023/05/16', 70.08, 67.24, 70.97, 67.21],
    ['2023/05/17', 67.76, 67.4, 68.13, 66.45],
    ['2023/05/18', 67.0, 66.72, 67.8, 66.22],
    ['2023/05/19', 67.64, 66.69, 69.19, 65.89],
    ['2023/05/22', 67.0, 66.67, 67.49, 66.2],
    ['2023/05/23', 66.28, 65.25, 66.81, 65.23],
    ['2023/05/24', 65.0, 65.84, 66.32, 64.44],
    ['2023/05/25', 66.13, 65.9, 66.13, 64.66],
    ['2023/05/26', 65.84, 65.4, 66.92, 65.33],
    ['2023/05/30', 65.81, 65.13, 66.58, 64.95],
    ['2023/05/31', 66.32, 66.17, 66.75, 64.28],
    ['2023/06/01', 66.17, 67.54, 67.67, 65.27],
    ['2023/06/02', 68.1, 68.59, 68.65, 67.24],
    ['2023/06/05', 67.77, 68.75, 69.47, 67.77],
    ['2023/06/06', 68.75, 70.0, 70.35, 68.11],
    ['2023/06/07', 70.28, 70.17, 71.21, 69.42],
    ['2023/06/08', 69.44, 69.05, 70.43, 68.92],
    ['2023/06/09', 69.17, 68.76, 69.33, 68.12],
    ['2023/06/12', 68.97, 68.75, 69.18, 68.03],
    ['2023/06/13', 68.79, 70.14, 70.29, 68.42],
    ['2023/06/14', 71.04, 72.74, 73.28, 70.4],
    ['2023/06/15', 72.53, 72.13, 73.11, 71.42],
    ['2023/06/16', 72.5, 71.13, 72.78, 70.71],
    ['2023/06/20', 71.18, 73.99, 74.84, 71.11],
    ['2023/06/21', 73.77, 75.19, 76.03, 73.48],
    ['2023/06/22', 74.95, 75.06, 76.14, 73.74],
    ['2023/06/23', 74.25, 73.95, 75.64, 73.83],
    ['2023/06/26', 73.53, 73.02, 74.82, 71.96],
    ['2023/06/27', 73.72, 74.9, 75.47, 73.58],
    ['2023/06/28', 74.72, 76.87, 76.96, 74.62],
    ['2023/06/29', 77.11, 77.65, 78.71, 76.89],
    ['2023/06/30', 77.96, 77.72, 79.33, 77.19],
    ['2023/07/03', 77.92, 78.1, 78.78, 77.65],
    ['2023/07/05', 77.94, 77.27, 77.94, 76.08],
    ['2023/07/06', 76.66, 76.99, 77.06, 76.06],
    ['2023/07/07', 77.3, 76.26, 78.0, 76.24],
    ['2023/07/10', 76.09, 76.85, 77.28, 75.56],
    ['2023/07/11', 77.01, 78.22, 78.72, 77.01],
    ['2023/07/12', 79.0, 78.89, 79.17, 76.95],
    ['2023/07/13', 79.24, 78.17, 80.39, 78.14],
    ['2023/07/14', 78.23, 78.75, 79.6, 77.68],
    ['2023/07/17', 78.45, 78.73, 79.49, 78.0],
    ['2023/07/18', 79.5, 79.91, 80.49, 78.94],
    ['2023/07/19', 80.3, 79.12, 80.58, 78.42],
    ['2023/07/20', 78.78, 78.34, 79.23, 77.8],
    ['2023/07/21', 79.16, 77.92, 79.16, 77.68],
    ['2023/07/24', 78.0, 77.22, 78.13, 76.41],
    ['2023/07/25', 76.82, 76.6, 77.54, 76.45],
    ['2023/07/26', 76.6, 78.09, 78.12, 76.42],
    ['2023/07/27', 77.61, 76.47, 78.36, 75.74],
    ['2023/07/28', 77.65, 75.98, 77.65, 75.76],
    ['2023/07/31', 75.99, 77.66, 77.7, 75.86],
    ['2023/08/01', 77.03, 77.16, 77.5, 76.26],
    ['2023/08/02', 75.97, 75.03, 76.91, 74.85],
    ['2023/08/03', 71.3, 74.67, 74.96, 70.14],
    ['2023/08/04', 77.16, 78.91, 80.49, 75.94],
    ['2023/08/07', 79.35, 79.79, 80.14, 78.47],
    ['2023/08/08', 79.35, 79.0, 80.44, 77.82],
    ['2023/08/09', 78.28, 75.6, 78.81, 75.45],
]);
var volumes = [
    617100.0,
    537200.0,
    644500.0,
    518900.0,
    557000.0,
    503100.0,
    628400.0,
    577300.0,
    682600.0,
    512800.0,
    580400.0,
    813800.0,
    681500.0,
    548700.0,
    695600.0,
    616600.0,
    483100.0,
    948600.0,
    817400.0,
    802300.0,
    604700.0,
    766800.0,
    911000.0,
    582100.0,
    944300.0,
    1191300.0,
    1209500.0,
    903600.0,
    750400.0,
    1164500.0,
    782600.0,
    638100.0,
    600100.0,
    719800.0,
    601900.0,
    824000.0,
    750100.0,
    1273000.0,
    826800.0,
    908500.0,
    703300.0,
    768500.0,
    795600.0,
    923500.0,
    1003500.0,
    523900.0,
    591700.0,
    796400.0,
    440700.0,
    710900.0,
    608000.0,
    852300.0,
    1042000.0,
    862100.0,
    1502100.0,
    1221100.0,
    941900.0,
    901400.0,
    1221800.0,
    1552500.0,
    1327500.0,
    1376500.0,
    946900.0,
    889500.0,
    1138400.0,
    751200.0,
    528800.0,
    447300.0,
    384700.0,
    433300.0,
    522900.0,
    759200.0,
    748000.0,
    586600.0,
    225000.0,
    630200.0,
    1080900.0,
    641800.0,
    502700.0,
    523100.0,
    941400.0,
    640500.0,
    530200.0,
    507100.0,
    523800.0,
    755300.0,
    718700.0,
    576500.0,
    568700.0,
    767500.0,
    693500.0,
    604900.0,
    619900.0,
    884000.0,
    329800.0,
    450000.0,
    517700.0,
    822200.0,
    687000.0,
    784000.0,
    1047700.0,
    748400.0,
    1060600.0,
    1273500.0,
    2638300.0,
    1448600.0,
    1563100.0,
    916900.0,
    1042000.0,
    970400.0,
    775700.0,
    792300.0,
    578600.0,
    480300.0,
    732600.0,
    546900.0,
    473000.0,
    767600.0,
    510000.0,
    634400.0,
    1310600.0,
    993900.0,
    494800.0,
    586300.0,
    927600.0,
    645500.0,
    938200.0,
    740300.0,
    685500.0,
    1069700.0,
    2398100.0,
    1437800.0,
    1218800.0,
    984200.0,
    1082600.0,
    1307900.0,
    959300.0,
    987500.0,
    1025500.0,
    584600.0,
    679200.0,
    826600.0,
    801500.0,
    624000.0,
    855400.0,
    951100.0,
    1105700.0,
    819600.0,
    981500.0,
    832800.0,
    1338100.0,
    602000.0,
    636200.0,
    635900.0,
    848100.0,
    725400.0,
    865800.0,
    697900.0,
    558500.0,
    578900.0,
    652900.0,
    525900.0,
    709600.0,
    845400.0,
    508100.0,
    870600.0,
    718900.0,
    723500.0,
    1027200.0,
    760000.0,
    438000.0,
    531900.0,
    591600.0,
    565500.0,
    351800.0,
    599000.0,
    546100.0,
    568900.0,
    387900.0,
    579300.0,
    863400.0,
    844200.0,
    1548000.0,
    3911900.0,
    2289400.0,
    1355700.0,
    885400.0,
    1084600.0,
    583000.0,
    704600.0,
    2889600.0,
    1160600.0,
    690300.0,
    636800.0,
    823800.0,
    1127500.0,
    889100.0,
    770700.0,
    548700.0,
    447700.0,
    565700.0,
    799800.0,
    765700.0,
    788200.0,
    595500.0,
    671700.0,
    942600.0,
    469900.0,
    400700.0,
    745700.0,
    543000.0,
    1256500.0,
    761000.0,
    726700.0,
    1639300.0,
    1090900.0,
    955800.0,
    771900.0,
    714400.0,
    502300.0,
    534900.0,
    755600.0,
    773000.0,
    341200.0,
    854400.0,
    540700.0,
    676000.0,
    521300.0,
    890100.0,
    685300.0,
    507800.0,
    562800.0,
    459500.0,
    562400.0,
    679800.0,
    734200.0,
    375700.0,
    463500.0,
    531400.0,
    526500.0,
    763000.0,
    516400.0,
    617600.0,
    680400.0,
    732000.0,
    2336900.0,
    1732300.0,
    756600.0,
    522100.0,
    586000.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "SHAK",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);