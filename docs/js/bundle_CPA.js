/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_CPA");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 66.42, 68.13, 68.56, 66.1],
    ['2022/08/04', 71.25, 71.87, 73.17, 68.68],
    ['2022/08/05', 71.55, 71.43, 72.56, 71.27],
    ['2022/08/08', 71.82, 72.02, 73.21, 71.48],
    ['2022/08/09', 71.84, 70.75, 72.71, 70.16],
    ['2022/08/10', 72.36, 72.46, 73.43, 71.85],
    ['2022/08/11', 73.48, 71.9, 73.75, 71.43],
    ['2022/08/12', 72.58, 74.19, 74.59, 71.43],
    ['2022/08/15', 73.96, 74.6, 75.47, 73.89],
    ['2022/08/16', 74.4, 74.7, 75.08, 74.06],
    ['2022/08/17', 73.5, 72.46, 73.8, 71.79],
    ['2022/08/18', 72.45, 72.7, 72.88, 71.75],
    ['2022/08/19', 72.26, 71.4, 72.26, 69.97],
    ['2022/08/22', 70.05, 70.35, 70.62, 69.67],
    ['2022/08/23', 71.15, 71.59, 72.24, 70.9],
    ['2022/08/24', 71.98, 73.43, 73.87, 71.93],
    ['2022/08/25', 73.59, 73.85, 75.41, 73.56],
    ['2022/08/26', 73.78, 72.07, 74.47, 71.85],
    ['2022/08/29', 71.29, 71.69, 72.52, 71.02],
    ['2022/08/30', 72.69, 71.69, 73.7, 71.19],
    ['2022/08/31', 71.42, 70.01, 71.55, 69.89],
    ['2022/09/01', 69.16, 69.96, 70.01, 68.29],
    ['2022/09/02', 70.81, 69.19, 70.81, 68.59],
    ['2022/09/06', 69.68, 69.26, 69.68, 68.58],
    ['2022/09/07', 69.21, 71.45, 71.54, 68.94],
    ['2022/09/08', 70.27, 70.87, 70.96, 69.38],
    ['2022/09/09', 71.52, 72.83, 73.06, 70.85],
    ['2022/09/12', 73.91, 73.65, 74.74, 73.48],
    ['2022/09/13', 71.79, 71.46, 72.24, 71.05],
    ['2022/09/14', 71.67, 74.17, 74.21, 70.62],
    ['2022/09/15', 73.91, 74.33, 76.01, 73.91],
    ['2022/09/16', 73.2, 72.67, 73.23, 71.58],
    ['2022/09/19', 72.02, 74.64, 74.99, 72.02],
    ['2022/09/20', 74.01, 73.34, 74.51, 72.82],
    ['2022/09/21', 72.56, 71.32, 73.2, 70.37],
    ['2022/09/22', 71.63, 68.63, 71.63, 67.96],
    ['2022/09/23', 67.53, 65.73, 67.77, 64.34],
    ['2022/09/26', 65.05, 63.97, 66.3, 63.92],
    ['2022/09/27', 65.07, 65.71, 66.12, 64.58],
    ['2022/09/28', 65.69, 67.59, 67.93, 65.49],
    ['2022/09/29', 66.42, 65.77, 66.44, 64.78],
    ['2022/09/30', 66.15, 65.89, 66.69, 65.05],
    ['2022/10/03', 66.6, 67.48, 68.55, 65.78],
    ['2022/10/04', 69.36, 71.65, 71.78, 69.08],
    ['2022/10/05', 70.0, 71.59, 72.03, 69.95],
    ['2022/10/06', 71.75, 71.81, 72.15, 70.93],
    ['2022/10/07', 71.25, 70.84, 71.32, 70.1],
    ['2022/10/10', 71.39, 70.5, 71.52, 69.57],
    ['2022/10/11', 70.99, 69.6, 70.99, 68.75],
    ['2022/10/12', 69.19, 70.29, 70.67, 69.15],
    ['2022/10/13', 69.31, 71.78, 72.42, 68.51],
    ['2022/10/14', 72.96, 70.47, 72.96, 70.34],
    ['2022/10/17', 72.22, 71.55, 72.56, 71.15],
    ['2022/10/18', 73.0, 72.97, 73.68, 71.72],
    ['2022/10/19', 73.26, 72.67, 73.55, 71.93],
    ['2022/10/20', 72.96, 72.69, 73.47, 72.34],
    ['2022/10/21', 72.91, 73.9, 73.99, 72.7],
    ['2022/10/24', 74.24, 73.2, 74.62, 72.48],
    ['2022/10/25', 73.02, 73.62, 73.82, 72.22],
    ['2022/10/26', 73.68, 71.72, 73.88, 71.3],
    ['2022/10/27', 73.95, 73.37, 75.07, 73.21],
    ['2022/10/28', 73.51, 74.03, 75.1, 73.15],
    ['2022/10/31', 73.72, 73.97, 75.02, 73.04],
    ['2022/11/01', 74.82, 74.95, 75.87, 74.45],
    ['2022/11/02', 74.67, 72.56, 74.72, 72.23],
    ['2022/11/03', 71.54, 73.55, 73.91, 71.02],
    ['2022/11/04', 75.07, 75.5, 75.58, 73.99],
    ['2022/11/07', 76.2, 75.04, 76.21, 74.11],
    ['2022/11/08', 75.07, 75.25, 75.86, 74.58],
    ['2022/11/09', 74.71, 74.43, 75.54, 73.76],
    ['2022/11/10', 76.76, 74.65, 76.79, 74.5],
    ['2022/11/11', 75.71, 74.41, 75.91, 73.34],
    ['2022/11/14', 74.03, 73.85, 75.25, 73.57],
    ['2022/11/15', 74.92, 73.28, 76.3, 72.84],
    ['2022/11/16', 72.5, 73.62, 74.14, 72.48],
    ['2022/11/17', 75.96, 76.58, 78.3, 75.7],
    ['2022/11/18', 77.62, 79.76, 79.98, 77.06],
    ['2022/11/21', 79.76, 81.73, 81.81, 79.33],
    ['2022/11/22', 81.49, 82.75, 83.3, 80.83],
    ['2022/11/23', 83.56, 85.01, 85.63, 83.48],
    ['2022/11/25', 84.84, 84.94, 86.04, 84.63],
    ['2022/11/28', 84.0, 83.53, 84.94, 83.11],
    ['2022/11/29', 83.65, 84.71, 85.28, 83.53],
    ['2022/11/30', 84.77, 86.17, 86.31, 83.93],
    ['2022/12/01', 85.97, 86.13, 86.87, 85.37],
    ['2022/12/02', 85.0, 87.27, 87.68, 85.0],
    ['2022/12/05', 86.83, 83.56, 87.18, 82.53],
    ['2022/12/06', 83.68, 84.88, 84.9, 83.14],
    ['2022/12/07', 84.59, 81.56, 84.59, 81.56],
    ['2022/12/08', 82.4, 81.03, 82.49, 79.34],
    ['2022/12/09', 81.03, 80.36, 81.88, 80.26],
    ['2022/12/12', 79.89, 81.82, 82.11, 79.73],
    ['2022/12/13', 86.31, 80.81, 86.31, 79.51],
    ['2022/12/14', 81.38, 80.98, 81.54, 79.69],
    ['2022/12/15', 82.26, 81.63, 82.26, 79.7],
    ['2022/12/16', 81.13, 80.35, 82.03, 79.66],
    ['2022/12/19', 80.29, 81.11, 81.47, 79.91],
    ['2022/12/20', 81.38, 82.82, 83.03, 81.38],
    ['2022/12/21', 83.57, 82.57, 84.34, 82.34],
    ['2022/12/22', 82.29, 82.61, 82.64, 81.25],
    ['2022/12/23', 82.75, 83.18, 83.32, 81.55],
    ['2022/12/27', 82.1, 81.88, 83.18, 81.64],
    ['2022/12/28', 81.45, 80.11, 81.97, 79.7],
    ['2022/12/29', 80.21, 81.93, 82.19, 79.98],
    ['2022/12/30', 81.09, 81.78, 82.23, 81.09],
    ['2023/01/03', 82.29, 80.8, 82.92, 80.43],
    ['2023/01/04', 80.82, 83.4, 83.52, 80.33],
    ['2023/01/05', 82.6, 82.74, 83.66, 82.02],
    ['2023/01/06', 82.65, 83.68, 84.02, 82.3],
    ['2023/01/09', 84.61, 84.03, 85.31, 83.82],
    ['2023/01/10', 84.1, 85.12, 85.4, 84.1],
    ['2023/01/11', 84.66, 84.07, 85.8, 83.58],
    ['2023/01/12', 84.83, 86.44, 87.0, 83.57],
    ['2023/01/13', 88.1, 91.95, 93.2, 87.56],
    ['2023/01/17', 92.01, 90.21, 92.58, 89.34],
    ['2023/01/18', 90.94, 90.07, 91.81, 89.48],
    ['2023/01/19', 89.71, 90.35, 90.43, 88.56],
    ['2023/01/20', 90.72, 90.36, 91.28, 89.95],
    ['2023/01/23', 90.36, 90.95, 91.04, 89.59],
    ['2023/01/24', 90.95, 87.53, 90.95, 87.36],
    ['2023/01/25', 86.95, 90.33, 90.35, 86.44],
    ['2023/01/26', 90.67, 90.78, 91.23, 89.26],
    ['2023/01/27', 90.06, 88.98, 90.3, 88.93],
    ['2023/01/30', 88.5, 88.97, 89.97, 88.17],
    ['2023/01/31', 88.62, 90.54, 90.56, 86.46],
    ['2023/02/01', 90.03, 90.16, 91.25, 88.84],
    ['2023/02/02', 90.07, 91.37, 92.83, 89.81],
    ['2023/02/03', 90.12, 87.4, 90.47, 86.25],
    ['2023/02/06', 87.51, 90.62, 90.62, 86.83],
    ['2023/02/07', 90.38, 91.42, 92.07, 89.4],
    ['2023/02/08', 91.67, 91.77, 92.13, 90.36],
    ['2023/02/09', 92.0, 89.87, 92.33, 89.72],
    ['2023/02/10', 89.21, 90.08, 90.36, 87.63],
    ['2023/02/13', 90.22, 90.89, 92.22, 89.35],
    ['2023/02/14', 90.36, 93.85, 94.82, 89.51],
    ['2023/02/15', 92.89, 94.4, 94.63, 92.51],
    ['2023/02/16', 95.37, 91.35, 95.37, 90.16],
    ['2023/02/17', 92.81, 91.54, 92.97, 90.93],
    ['2023/02/21', 90.71, 90.23, 91.4, 88.79],
    ['2023/02/22', 89.68, 88.77, 90.71, 88.56],
    ['2023/02/23', 89.53, 88.73, 89.98, 87.45],
    ['2023/02/24', 87.94, 89.37, 89.45, 87.9],
    ['2023/02/27', 90.18, 89.54, 90.73, 89.02],
    ['2023/02/28', 89.36, 90.81, 91.9, 88.93],
    ['2023/03/01', 90.88, 91.94, 92.32, 90.84],
    ['2023/03/02', 91.08, 92.62, 92.97, 90.54],
    ['2023/03/03', 93.4, 93.32, 94.2, 92.49],
    ['2023/03/06', 93.67, 93.2, 94.96, 93.14],
    ['2023/03/07', 93.61, 93.92, 95.62, 93.24],
    ['2023/03/08', 94.47, 95.23, 95.38, 93.95],
    ['2023/03/09', 95.22, 92.57, 96.47, 92.51],
    ['2023/03/10', 92.86, 91.72, 93.13, 90.38],
    ['2023/03/13', 89.7, 88.24, 90.35, 88.23],
    ['2023/03/14', 89.22, 89.55, 91.04, 87.85],
    ['2023/03/15', 87.15, 83.88, 87.96, 81.89],
    ['2023/03/16', 83.1, 86.69, 86.94, 83.1],
    ['2023/03/17', 85.94, 84.46, 86.01, 84.44],
    ['2023/03/20', 85.58, 85.5, 86.59, 84.68],
    ['2023/03/21', 87.04, 87.96, 88.43, 87.01],
    ['2023/03/22', 87.99, 86.74, 88.73, 86.5],
    ['2023/03/23', 87.11, 86.65, 88.83, 85.87],
    ['2023/03/24', 85.0, 86.04, 86.7, 83.83],
    ['2023/03/27', 87.29, 87.23, 88.0, 86.29],
    ['2023/03/28', 87.22, 89.02, 89.27, 87.22],
    ['2023/03/29', 89.56, 89.12, 89.71, 87.73],
    ['2023/03/30', 90.28, 90.89, 91.33, 89.39],
    ['2023/03/31', 91.52, 90.81, 92.03, 89.47],
    ['2023/04/03', 90.1, 87.83, 90.55, 87.66],
    ['2023/04/04', 88.39, 87.5, 88.72, 87.04],
    ['2023/04/05', 87.89, 87.11, 87.89, 85.57],
    ['2023/04/06', 87.44, 87.27, 87.67, 86.47],
    ['2023/04/10', 87.13, 86.23, 87.57, 85.87],
    ['2023/04/11', 86.44, 86.94, 87.59, 85.87],
    ['2023/04/12', 87.07, 85.76, 87.3, 85.02],
    ['2023/04/13', 87.33, 87.86, 88.94, 85.71],
    ['2023/04/14', 88.5, 90.8, 91.52, 88.5],
    ['2023/04/17', 91.41, 90.96, 92.6, 90.53],
    ['2023/04/18', 91.47, 91.07, 92.33, 90.6],
    ['2023/04/19', 90.62, 90.83, 91.33, 89.54],
    ['2023/04/20', 90.31, 89.01, 90.39, 88.49],
    ['2023/04/21', 89.03, 87.79, 89.41, 87.51],
    ['2023/04/24', 88.11, 87.97, 88.46, 87.36],
    ['2023/04/25', 87.27, 87.21, 87.81, 86.46],
    ['2023/04/26', 87.29, 85.36, 87.29, 85.3],
    ['2023/04/27', 85.58, 87.37, 87.4, 85.45],
    ['2023/04/28', 86.83, 89.63, 89.84, 86.66],
    ['2023/05/01', 89.24, 90.86, 91.26, 88.64],
    ['2023/05/02', 90.05, 89.13, 90.45, 88.17],
    ['2023/05/03', 90.05, 92.46, 93.71, 89.55],
    ['2023/05/04', 92.1, 88.85, 92.15, 88.42],
    ['2023/05/05', 90.01, 91.88, 92.04, 89.84],
    ['2023/05/08', 92.22, 93.18, 93.64, 92.15],
    ['2023/05/09', 93.04, 94.09, 95.51, 93.04],
    ['2023/05/10', 94.58, 94.91, 95.52, 93.26],
    ['2023/05/11', 99.49, 104.94, 106.38, 98.45],
    ['2023/05/12', 107.14, 103.91, 107.14, 102.13],
    ['2023/05/15', 104.94, 104.77, 104.94, 102.99],
    ['2023/05/16', 104.77, 103.51, 105.38, 103.39],
    ['2023/05/17', 105.82, 104.29, 105.82, 104.24],
    ['2023/05/18', 104.42, 105.64, 106.67, 104.42],
    ['2023/05/19', 106.04, 104.57, 106.08, 103.84],
    ['2023/05/22', 105.27, 102.92, 105.55, 102.79],
    ['2023/05/23', 102.69, 103.36, 105.13, 102.58],
    ['2023/05/24', 103.14, 102.2, 103.7, 101.49],
    ['2023/05/25', 102.51, 106.1, 106.9, 102.51],
    ['2023/05/26', 106.19, 107.17, 107.87, 105.52],
    ['2023/05/30', 108.28, 106.23, 109.12, 105.76],
    ['2023/05/31', 106.0, 105.06, 106.27, 104.37],
    ['2023/06/01', 105.12, 106.42, 106.65, 104.65],
    ['2023/06/02', 107.58, 107.54, 108.87, 106.91],
    ['2023/06/05', 107.5, 107.7, 108.01, 106.43],
    ['2023/06/06', 107.53, 110.58, 111.03, 107.19],
    ['2023/06/07', 110.96, 111.95, 112.9, 110.96],
    ['2023/06/08', 112.84, 111.2, 113.83, 111.0],
    ['2023/06/09', 111.2, 111.86, 112.86, 111.2],
    ['2023/06/12', 112.32, 111.15, 113.0, 110.14],
    ['2023/06/13', 110.62, 110.96, 111.65, 110.62],
    ['2023/06/14', 111.69, 113.34, 114.48, 111.61],
    ['2023/06/15', 112.69, 112.59, 113.97, 112.13],
    ['2023/06/16', 112.41, 111.31, 112.89, 110.82],
    ['2023/06/20', 110.55, 108.99, 111.02, 107.87],
    ['2023/06/21', 109.39, 110.37, 111.07, 108.8],
    ['2023/06/22', 109.53, 110.45, 110.55, 108.74],
    ['2023/06/23', 109.86, 110.44, 110.97, 109.02],
    ['2023/06/26', 110.74, 106.64, 112.05, 106.24],
    ['2023/06/27', 107.57, 108.83, 109.89, 107.2],
    ['2023/06/28', 108.26, 106.96, 108.81, 106.66],
    ['2023/06/29', 107.61, 108.74, 109.69, 107.43],
    ['2023/06/30', 109.36, 110.58, 111.63, 108.66],
    ['2023/07/03', 113.58, 111.46, 113.96, 111.45],
    ['2023/07/05', 111.18, 113.06, 113.25, 110.65],
    ['2023/07/06', 112.16, 109.09, 112.8, 109.09],
    ['2023/07/07', 109.0, 110.17, 111.04, 109.0],
    ['2023/07/10', 109.43, 110.9, 111.42, 109.43],
    ['2023/07/11', 111.71, 110.35, 112.0, 109.74],
    ['2023/07/12', 111.25, 107.61, 111.35, 107.6],
    ['2023/07/13', 109.99, 114.48, 114.49, 108.91],
    ['2023/07/14', 116.8, 113.0, 116.8, 112.72],
    ['2023/07/17', 112.21, 115.71, 115.81, 111.09],
    ['2023/07/18', 115.29, 117.71, 117.95, 114.71],
    ['2023/07/19', 117.33, 119.97, 120.0, 116.54],
    ['2023/07/20', 118.84, 119.73, 120.82, 118.32],
    ['2023/07/21', 120.44, 118.15, 120.44, 117.2],
    ['2023/07/24', 117.14, 118.78, 119.35, 117.14],
    ['2023/07/25', 118.2, 118.65, 119.18, 116.66],
    ['2023/07/26', 118.65, 119.41, 120.14, 118.02],
    ['2023/07/27', 118.95, 118.4, 120.1, 118.09],
    ['2023/07/28', 119.3, 118.92, 119.89, 118.21],
    ['2023/07/31', 119.51, 118.02, 121.2, 117.38],
    ['2023/08/01', 117.02, 114.26, 118.22, 114.24],
    ['2023/08/02', 113.15, 113.78, 114.97, 111.97],
]);
var volumes = [
    353600.0,
    792200.0,
    243900.0,
    225000.0,
    300100.0,
    229800.0,
    594200.0,
    274400.0,
    183200.0,
    171800.0,
    222400.0,
    115800.0,
    223200.0,
    178600.0,
    171800.0,
    263300.0,
    300800.0,
    304600.0,
    220300.0,
    576300.0,
    262900.0,
    620900.0,
    253700.0,
    179000.0,
    289400.0,
    144400.0,
    270400.0,
    206400.0,
    180200.0,
    278500.0,
    306400.0,
    389500.0,
    165000.0,
    130800.0,
    244800.0,
    438700.0,
    589500.0,
    203800.0,
    200400.0,
    227000.0,
    183400.0,
    202400.0,
    362900.0,
    307800.0,
    241500.0,
    152700.0,
    112700.0,
    169600.0,
    256200.0,
    185800.0,
    258100.0,
    102800.0,
    134500.0,
    270600.0,
    243000.0,
    142100.0,
    183500.0,
    270500.0,
    155300.0,
    258500.0,
    330800.0,
    387400.0,
    241200.0,
    230500.0,
    153500.0,
    172700.0,
    237300.0,
    164000.0,
    179400.0,
    200200.0,
    297000.0,
    580300.0,
    255200.0,
    321600.0,
    306000.0,
    689700.0,
    425700.0,
    494700.0,
    504000.0,
    279900.0,
    107400.0,
    268800.0,
    287200.0,
    545500.0,
    206200.0,
    431000.0,
    471200.0,
    451800.0,
    258600.0,
    296700.0,
    590200.0,
    267500.0,
    415800.0,
    390500.0,
    304500.0,
    252200.0,
    197100.0,
    274000.0,
    354800.0,
    140500.0,
    222800.0,
    175000.0,
    228100.0,
    187200.0,
    183900.0,
    243400.0,
    271000.0,
    279600.0,
    446300.0,
    480200.0,
    407700.0,
    533500.0,
    818500.0,
    840300.0,
    788200.0,
    491700.0,
    303500.0,
    395200.0,
    300800.0,
    525800.0,
    282000.0,
    233800.0,
    303900.0,
    301700.0,
    301000.0,
    502100.0,
    805000.0,
    908400.0,
    527300.0,
    327200.0,
    363200.0,
    263300.0,
    373700.0,
    359500.0,
    642100.0,
    426600.0,
    622900.0,
    466200.0,
    342600.0,
    340000.0,
    467100.0,
    272400.0,
    342900.0,
    301200.0,
    573500.0,
    792700.0,
    355400.0,
    409700.0,
    568400.0,
    251700.0,
    328100.0,
    463600.0,
    329800.0,
    565800.0,
    799200.0,
    307400.0,
    308300.0,
    392900.0,
    204700.0,
    504500.0,
    570500.0,
    534200.0,
    367700.0,
    209500.0,
    271100.0,
    317800.0,
    347900.0,
    283500.0,
    197700.0,
    330800.0,
    312100.0,
    404300.0,
    269000.0,
    360200.0,
    309300.0,
    546600.0,
    216900.0,
    276600.0,
    275400.0,
    264000.0,
    176600.0,
    212700.0,
    221400.0,
    221900.0,
    226200.0,
    316300.0,
    266800.0,
    327200.0,
    500400.0,
    493600.0,
    400100.0,
    424100.0,
    444200.0,
    408900.0,
    1519800.0,
    581300.0,
    395400.0,
    377700.0,
    578300.0,
    544800.0,
    326600.0,
    305400.0,
    759600.0,
    427600.0,
    383600.0,
    351000.0,
    291900.0,
    322500.0,
    281700.0,
    262900.0,
    452200.0,
    565500.0,
    545600.0,
    320900.0,
    570600.0,
    624700.0,
    279600.0,
    671300.0,
    277100.0,
    397900.0,
    630300.0,
    432500.0,
    489600.0,
    2270700.0,
    460200.0,
    396700.0,
    410700.0,
    342500.0,
    352000.0,
    275900.0,
    418200.0,
    738900.0,
    367200.0,
    278900.0,
    308600.0,
    474500.0,
    745900.0,
    2898000.0,
    1640200.0,
    510800.0,
    606100.0,
    3454700.0,
    412000.0,
    649300.0,
    624000.0,
    402800.0,
    759700.0,
    502800.0,
    751000.0,
    671100.0,
    441000.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "CPA",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 40,
            end: 70,
            top: 30,
            height: 20,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);