/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_CNM");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/05', 23.46, 23.65, 23.74, 23.24],
    ['2022/08/08', 23.72, 23.78, 24.37, 23.7],
    ['2022/08/09', 24.06, 23.29, 24.07, 23.18],
    ['2022/08/10', 23.83, 23.75, 24.02, 23.64],
    ['2022/08/11', 23.92, 24.32, 24.44, 23.62],
    ['2022/08/12', 24.4, 24.61, 24.71, 24.27],
    ['2022/08/15', 24.34, 24.71, 24.74, 24.28],
    ['2022/08/16', 24.52, 24.56, 24.87, 24.35],
    ['2022/08/17', 24.25, 24.22, 24.39, 24.02],
    ['2022/08/18', 24.42, 24.76, 24.85, 24.32],
    ['2022/08/19', 24.54, 24.56, 24.78, 24.4],
    ['2022/08/22', 24.24, 24.45, 24.6, 24.15],
    ['2022/08/23', 24.53, 24.22, 24.68, 23.88],
    ['2022/08/24', 24.4, 24.64, 24.7, 24.24],
    ['2022/08/25', 24.79, 25.08, 25.17, 24.75],
    ['2022/08/26', 25.08, 24.66, 25.34, 24.35],
    ['2022/08/29', 24.49, 24.17, 24.64, 24.11],
    ['2022/08/30', 24.27, 23.91, 24.27, 23.7],
    ['2022/08/31', 24.11, 23.57, 24.11, 23.56],
    ['2022/09/01', 23.44, 23.29, 23.44, 22.71],
    ['2022/09/02', 23.73, 23.24, 23.73, 23.18],
    ['2022/09/06', 23.52, 23.42, 23.72, 23.05],
    ['2022/09/07', 23.42, 24.14, 24.3, 23.39],
    ['2022/09/08', 24.04, 24.54, 24.67, 23.92],
    ['2022/09/09', 24.59, 24.27, 25.01, 24.25],
    ['2022/09/12', 24.57, 24.5, 24.85, 24.39],
    ['2022/09/13', 25.45, 25.11, 26.63, 24.58],
    ['2022/09/14', 25.57, 24.74, 26.02, 24.53],
    ['2022/09/15', 24.87, 25.01, 25.6, 24.78],
    ['2022/09/16', 23.62, 23.28, 23.7, 23.1],
    ['2022/09/19', 23.2, 23.83, 24.1, 23.18],
    ['2022/09/20', 23.57, 23.36, 23.8, 23.13],
    ['2022/09/21', 23.73, 22.77, 23.73, 22.5],
    ['2022/09/22', 22.68, 22.26, 22.79, 22.15],
    ['2022/09/23', 21.9, 22.14, 22.17, 21.68],
    ['2022/09/26', 22.22, 22.16, 22.71, 21.92],
    ['2022/09/27', 22.35, 22.04, 22.61, 21.82],
    ['2022/09/28', 22.08, 23.09, 23.26, 21.98],
    ['2022/09/29', 22.88, 22.71, 23.02, 22.46],
    ['2022/09/30', 22.66, 22.74, 23.11, 22.45],
    ['2022/10/03', 23.08, 23.08, 23.31, 22.77],
    ['2022/10/04', 23.56, 23.7, 24.09, 23.25],
    ['2022/10/05', 23.45, 23.91, 24.02, 23.31],
    ['2022/10/06', 23.75, 23.65, 24.16, 23.43],
    ['2022/10/07', 23.41, 22.96, 23.45, 22.81],
    ['2022/10/10', 23.02, 22.69, 23.07, 22.52],
    ['2022/10/11', 22.52, 22.83, 23.15, 22.21],
    ['2022/10/12', 22.86, 22.72, 23.04, 22.67],
    ['2022/10/13', 22.2, 22.85, 22.95, 21.76],
    ['2022/10/14', 23.06, 22.66, 23.13, 22.42],
    ['2022/10/17', 22.95, 23.35, 23.69, 22.86],
    ['2022/10/18', 23.88, 23.1, 24.03, 22.92],
    ['2022/10/19', 23.04, 22.14, 23.04, 21.86],
    ['2022/10/20', 22.06, 21.08, 22.21, 20.92],
    ['2022/10/21', 20.95, 21.58, 21.72, 20.83],
    ['2022/10/24', 21.69, 22.54, 22.69, 21.56],
    ['2022/10/25', 22.53, 23.04, 23.19, 22.53],
    ['2022/10/26', 23.17, 22.95, 23.51, 22.93],
    ['2022/10/27', 23.04, 22.98, 23.32, 22.87],
    ['2022/10/28', 23.15, 23.56, 23.59, 22.9],
    ['2022/10/31', 23.48, 23.58, 23.74, 23.3],
    ['2022/11/01', 23.82, 23.0, 23.83, 22.95],
    ['2022/11/02', 22.92, 22.02, 23.03, 21.9],
    ['2022/11/03', 21.75, 21.06, 22.21, 21.06],
    ['2022/11/04', 21.33, 19.99, 21.62, 19.92],
    ['2022/11/07', 20.09, 20.2, 20.38, 19.85],
    ['2022/11/08', 20.34, 20.9, 21.18, 20.1],
    ['2022/11/09', 20.69, 20.45, 20.79, 20.33],
    ['2022/11/10', 21.19, 21.24, 21.84, 21.15],
    ['2022/11/11', 21.19, 21.47, 21.83, 21.16],
    ['2022/11/14', 21.47, 20.97, 21.49, 20.91],
    ['2022/11/15', 21.41, 21.52, 21.73, 21.08],
    ['2022/11/16', 21.52, 21.19, 21.64, 21.13],
    ['2022/11/17', 20.97, 20.52, 20.99, 20.38],
    ['2022/11/18', 20.86, 21.28, 21.42, 20.66],
    ['2022/11/21', 21.04, 20.92, 21.32, 20.75],
    ['2022/11/22', 20.95, 21.72, 21.76, 20.77],
    ['2022/11/23', 21.74, 21.34, 21.87, 21.29],
    ['2022/11/25', 21.37, 21.21, 21.41, 21.06],
    ['2022/11/28', 21.0, 20.62, 21.23, 20.47],
    ['2022/11/29', 20.56, 20.5, 20.61, 20.21],
    ['2022/11/30', 20.59, 20.8, 20.8, 20.1],
    ['2022/12/01', 21.03, 20.7, 21.59, 20.59],
    ['2022/12/02', 20.36, 20.61, 20.67, 20.11],
    ['2022/12/05', 20.57, 20.11, 20.57, 20.08],
    ['2022/12/06', 20.24, 20.81, 20.81, 19.92],
    ['2022/12/07', 20.76, 20.68, 21.17, 20.63],
    ['2022/12/08', 20.64, 20.74, 20.8, 20.43],
    ['2022/12/09', 20.62, 20.68, 20.84, 20.53],
    ['2022/12/12', 20.76, 20.59, 20.86, 20.09],
    ['2022/12/13', 22.25, 20.92, 22.37, 20.37],
    ['2022/12/14', 20.99, 19.87, 21.23, 19.52],
    ['2022/12/15', 19.72, 19.6, 20.38, 19.51],
    ['2022/12/16', 19.51, 19.88, 19.97, 19.37],
    ['2022/12/19', 19.93, 19.14, 20.1, 19.07],
    ['2022/12/20', 19.0, 19.13, 19.23, 18.75],
    ['2022/12/21', 19.22, 19.47, 19.62, 19.08],
    ['2022/12/22', 19.19, 19.28, 19.31, 18.98],
    ['2022/12/23', 19.3, 19.16, 19.43, 18.98],
    ['2022/12/27', 19.24, 19.2, 19.36, 19.01],
    ['2022/12/28', 19.25, 18.9, 19.39, 18.86],
    ['2022/12/29', 19.02, 19.65, 19.68, 18.96],
    ['2022/12/30', 19.43, 19.31, 19.67, 19.11],
    ['2023/01/03', 19.54, 19.54, 19.65, 19.2],
    ['2023/01/04', 19.82, 20.26, 20.29, 19.82],
    ['2023/01/05', 20.0, 20.07, 20.2, 19.92],
    ['2023/01/06', 20.31, 20.76, 20.84, 20.31],
    ['2023/01/09', 21.0, 20.55, 21.29, 20.29],
    ['2023/01/10', 20.63, 21.18, 21.19, 20.63],
    ['2023/01/11', 21.33, 21.58, 21.89, 21.27],
    ['2023/01/12', 21.71, 21.46, 21.71, 21.28],
    ['2023/01/13', 21.27, 21.37, 21.61, 21.14],
    ['2023/01/17', 21.46, 21.17, 21.58, 21.17],
    ['2023/01/18', 21.27, 20.98, 21.43, 20.95],
    ['2023/01/19', 20.79, 20.4, 20.96, 20.25],
    ['2023/01/20', 20.53, 20.87, 20.88, 20.42],
    ['2023/01/23', 20.96, 21.08, 21.2, 20.83],
    ['2023/01/24', 21.11, 21.18, 21.45, 21.0],
    ['2023/01/25', 20.9, 21.27, 21.36, 20.85],
    ['2023/01/26', 21.46, 21.19, 21.61, 21.1],
    ['2023/01/27', 21.17, 21.67, 21.87, 21.11],
    ['2023/01/30', 21.56, 21.43, 21.69, 21.43],
    ['2023/01/31', 21.55, 22.07, 22.13, 21.52],
    ['2023/02/01', 22.0, 22.32, 22.5, 21.7],
    ['2023/02/02', 22.56, 22.98, 23.19, 22.43],
    ['2023/02/03', 22.73, 23.0, 23.45, 22.65],
    ['2023/02/06', 22.87, 22.74, 22.93, 22.39],
    ['2023/02/07', 22.56, 22.66, 22.81, 22.35],
    ['2023/02/08', 22.63, 22.56, 22.72, 22.38],
    ['2023/02/09', 22.68, 22.1, 22.79, 22.02],
    ['2023/02/10', 22.0, 22.16, 22.26, 21.85],
    ['2023/02/13', 22.3, 22.47, 22.49, 22.11],
    ['2023/02/14', 22.55, 22.92, 23.01, 22.28],
    ['2023/02/15', 22.84, 23.33, 23.44, 22.7],
    ['2023/02/16', 23.04, 23.19, 23.42, 23.04],
    ['2023/02/17', 23.16, 22.91, 23.22, 22.69],
    ['2023/02/21', 22.49, 22.13, 22.52, 21.84],
    ['2023/02/22', 22.21, 22.59, 22.64, 22.13],
    ['2023/02/23', 22.74, 22.64, 22.93, 22.4],
    ['2023/02/24', 22.43, 23.09, 23.13, 22.27],
    ['2023/02/27', 23.4, 23.51, 23.79, 23.34],
    ['2023/02/28', 23.36, 23.31, 23.53, 23.2],
    ['2023/03/01', 23.2, 23.58, 23.6, 23.0],
    ['2023/03/02', 23.46, 23.73, 23.84, 23.08],
    ['2023/03/03', 23.95, 24.28, 24.41, 23.85],
    ['2023/03/06', 24.34, 23.87, 24.69, 23.86],
    ['2023/03/07', 23.82, 23.72, 24.08, 23.68],
    ['2023/03/08', 23.67, 23.5, 23.69, 23.29],
    ['2023/03/09', 23.54, 22.89, 23.68, 22.87],
    ['2023/03/10', 22.78, 22.11, 22.78, 21.87],
    ['2023/03/13', 21.83, 21.45, 21.92, 21.33],
    ['2023/03/14', 21.94, 21.77, 22.24, 21.65],
    ['2023/03/15', 21.28, 21.34, 21.7, 20.86],
    ['2023/03/16', 21.08, 21.67, 21.77, 20.94],
    ['2023/03/17', 21.31, 20.84, 21.49, 20.3],
    ['2023/03/20', 21.06, 21.13, 21.26, 20.95],
    ['2023/03/21', 21.55, 21.59, 21.88, 21.38],
    ['2023/03/22', 21.45, 21.23, 21.68, 21.17],
    ['2023/03/23', 21.32, 21.1, 21.62, 20.92],
    ['2023/03/24', 20.96, 21.04, 21.06, 20.62],
    ['2023/03/27', 21.41, 21.32, 21.64, 21.06],
    ['2023/03/28', 21.66, 22.06, 22.28, 21.32],
    ['2023/03/29', 22.6, 22.5, 22.71, 22.1],
    ['2023/03/30', 22.89, 22.89, 23.47, 22.67],
    ['2023/03/31', 22.97, 23.1, 23.1, 22.35],
    ['2023/04/03', 23.0, 23.09, 23.11, 22.7],
    ['2023/04/04', 23.25, 22.27, 23.25, 22.1],
    ['2023/04/05', 22.11, 22.14, 22.25, 21.75],
    ['2023/04/06', 22.1, 22.0, 22.22, 21.75],
    ['2023/04/10', 21.93, 22.23, 22.27, 21.87],
    ['2023/04/11', 22.34, 22.45, 22.7, 22.31],
    ['2023/04/12', 23.64, 24.64, 24.71, 23.14],
    ['2023/04/13', 24.68, 25.09, 25.4, 24.4],
    ['2023/04/14', 25.0, 24.7, 25.21, 24.48],
    ['2023/04/17', 24.73, 24.52, 24.96, 24.46],
    ['2023/04/18', 24.71, 25.02, 25.12, 24.54],
    ['2023/04/19', 24.92, 25.2, 25.36, 24.83],
    ['2023/04/20', 25.18, 25.44, 25.55, 25.08],
    ['2023/04/21', 25.55, 25.75, 25.83, 25.25],
    ['2023/04/24', 25.8, 25.67, 26.06, 25.56],
    ['2023/04/25', 25.51, 25.29, 25.77, 25.23],
    ['2023/04/26', 25.2, 25.25, 25.56, 25.16],
    ['2023/04/27', 25.32, 26.06, 26.08, 25.18],
    ['2023/04/28', 26.0, 26.06, 26.34, 25.89],
    ['2023/05/01', 26.1, 26.24, 26.29, 26.01],
    ['2023/05/02', 26.13, 26.48, 26.59, 25.94],
    ['2023/05/03', 26.57, 26.87, 27.26, 26.48],
    ['2023/05/04', 26.71, 26.47, 27.16, 26.23],
    ['2023/05/05', 26.65, 26.84, 27.04, 26.5],
    ['2023/05/08', 26.96, 26.91, 27.1, 26.4],
    ['2023/05/09', 26.79, 26.75, 26.94, 26.66],
    ['2023/05/10', 27.19, 27.1, 27.25, 26.82],
    ['2023/05/11', 26.87, 26.88, 27.11, 26.61],
    ['2023/05/12', 26.85, 26.85, 27.18, 26.6],
    ['2023/05/15', 26.89, 27.17, 27.25, 26.33],
    ['2023/05/16', 27.0, 27.09, 27.14, 26.72],
    ['2023/05/17', 27.09, 27.2, 27.25, 26.94],
    ['2023/05/18', 27.07, 27.42, 27.72, 26.88],
    ['2023/05/19', 27.49, 27.32, 27.6, 27.14],
    ['2023/05/22', 27.31, 27.29, 27.57, 27.13],
    ['2023/05/23', 27.08, 26.91, 27.27, 26.64],
    ['2023/05/24', 26.66, 26.69, 26.72, 26.39],
    ['2023/05/25', 26.78, 26.76, 27.01, 26.57],
    ['2023/05/26', 26.77, 27.09, 27.17, 26.74],
    ['2023/05/30', 27.28, 27.2, 27.37, 26.83],
    ['2023/05/31', 27.12, 26.74, 27.4, 26.59],
    ['2023/06/01', 26.85, 26.5, 26.85, 26.08],
    ['2023/06/02', 26.8, 27.3, 27.44, 26.7],
    ['2023/06/05', 27.33, 27.19, 27.34, 26.65],
    ['2023/06/06', 28.0, 28.11, 28.83, 27.31],
    ['2023/06/07', 28.6, 28.76, 28.87, 28.24],
    ['2023/06/08', 27.17, 27.61, 28.42, 27.06],
    ['2023/06/09', 27.66, 27.99, 28.27, 27.56],
    ['2023/06/12', 28.27, 28.23, 28.54, 27.81],
    ['2023/06/13', 28.81, 28.89, 28.95, 28.49],
    ['2023/06/14', 28.94, 28.78, 29.24, 28.71],
    ['2023/06/15', 28.66, 28.79, 28.9, 28.54],
    ['2023/06/16', 28.84, 28.57, 28.97, 28.31],
    ['2023/06/20', 28.48, 28.84, 29.0, 28.12],
    ['2023/06/21', 29.05, 29.0, 29.22, 28.85],
    ['2023/06/22', 28.97, 28.9, 29.06, 28.67],
    ['2023/06/23', 28.62, 29.14, 29.2, 28.49],
    ['2023/06/26', 29.15, 29.25, 29.67, 29.01],
    ['2023/06/27', 29.31, 30.3, 30.41, 29.17],
    ['2023/06/28', 30.37, 30.56, 30.8, 30.27],
    ['2023/06/29', 30.53, 30.96, 31.03, 30.1],
    ['2023/06/30', 31.17, 31.34, 31.46, 30.86],
    ['2023/07/03', 31.21, 30.86, 31.21, 30.53],
    ['2023/07/05', 30.72, 30.85, 30.98, 30.6],
    ['2023/07/06', 30.62, 30.39, 30.75, 30.17],
    ['2023/07/07', 30.4, 30.48, 30.88, 30.4],
    ['2023/07/10', 30.54, 30.71, 30.85, 30.43],
    ['2023/07/11', 30.96, 31.33, 31.5, 30.88],
    ['2023/07/12', 32.01, 31.79, 32.23, 31.74],
    ['2023/07/13', 32.02, 31.6, 32.23, 31.59],
    ['2023/07/14', 31.66, 31.35, 31.66, 30.94],
    ['2023/07/17', 31.3, 31.33, 31.75, 31.27],
    ['2023/07/18', 31.32, 31.58, 31.63, 31.11],
    ['2023/07/19', 31.5, 31.56, 31.58, 31.19],
    ['2023/07/20', 31.48, 30.93, 31.52, 30.88],
    ['2023/07/21', 31.11, 30.79, 31.19, 30.78],
    ['2023/07/24', 30.72, 30.98, 31.1, 30.51],
    ['2023/07/25', 31.0, 31.29, 31.57, 30.94],
    ['2023/07/26', 31.28, 31.57, 31.58, 31.17],
    ['2023/07/27', 31.7, 31.63, 32.13, 31.54],
    ['2023/07/28', 31.86, 32.33, 32.34, 31.81],
    ['2023/07/31', 32.44, 31.61, 32.63, 31.05],
    ['2023/08/01', 31.4, 31.83, 32.01, 31.27],
    ['2023/08/02', 31.67, 31.72, 31.94, 31.43],
    ['2023/08/03', 31.67, 31.94, 32.23, 31.67],
]);
var volumes = [
    179400.0,
    312500.0,
    244300.0,
    255800.0,
    338700.0,
    144900.0,
    209200.0,
    363300.0,
    222700.0,
    494300.0,
    255200.0,
    325700.0,
    312800.0,
    231700.0,
    332100.0,
    438700.0,
    187400.0,
    239600.0,
    247200.0,
    332300.0,
    179400.0,
    338500.0,
    302700.0,
    237600.0,
    1271200.0,
    1020300.0,
    2598400.0,
    1160200.0,
    1003100.0,
    4335300.0,
    2147100.0,
    2209900.0,
    2019300.0,
    947200.0,
    1802300.0,
    582000.0,
    652800.0,
    695000.0,
    504400.0,
    842700.0,
    845400.0,
    795500.0,
    778600.0,
    1120600.0,
    917500.0,
    758300.0,
    554400.0,
    403800.0,
    561500.0,
    829400.0,
    1058100.0,
    1019000.0,
    677500.0,
    808800.0,
    1848400.0,
    414300.0,
    373800.0,
    497800.0,
    355600.0,
    567400.0,
    488400.0,
    831200.0,
    682400.0,
    1073300.0,
    1108200.0,
    1174900.0,
    677700.0,
    590100.0,
    898200.0,
    722500.0,
    467800.0,
    454400.0,
    736700.0,
    389200.0,
    735200.0,
    728700.0,
    577100.0,
    445900.0,
    367900.0,
    472300.0,
    779800.0,
    904200.0,
    927400.0,
    1189000.0,
    583000.0,
    869500.0,
    653600.0,
    489800.0,
    568500.0,
    1538400.0,
    2318300.0,
    1670400.0,
    1528800.0,
    1199200.0,
    584600.0,
    779300.0,
    660300.0,
    657500.0,
    549500.0,
    524800.0,
    471900.0,
    513100.0,
    423700.0,
    591600.0,
    787500.0,
    501900.0,
    549200.0,
    1497300.0,
    636500.0,
    642100.0,
    376300.0,
    774000.0,
    506200.0,
    460000.0,
    688700.0,
    820900.0,
    344000.0,
    542000.0,
    406300.0,
    420100.0,
    421600.0,
    508700.0,
    776300.0,
    501600.0,
    725600.0,
    835800.0,
    563900.0,
    683000.0,
    323300.0,
    407800.0,
    447300.0,
    347400.0,
    590600.0,
    415300.0,
    386600.0,
    888500.0,
    694800.0,
    556500.0,
    415200.0,
    806300.0,
    1123400.0,
    1041200.0,
    816200.0,
    605000.0,
    1244000.0,
    1362600.0,
    749400.0,
    740700.0,
    609800.0,
    1026700.0,
    866700.0,
    558400.0,
    885000.0,
    1118200.0,
    1778700.0,
    402200.0,
    561300.0,
    688900.0,
    437200.0,
    606800.0,
    1061100.0,
    2752400.0,
    1766400.0,
    2118400.0,
    1242000.0,
    867200.0,
    1284700.0,
    910000.0,
    740400.0,
    583900.0,
    900900.0,
    7413700.0,
    2801400.0,
    1311800.0,
    949600.0,
    1309800.0,
    1023200.0,
    452300.0,
    914200.0,
    926300.0,
    871900.0,
    684200.0,
    793300.0,
    1383000.0,
    713100.0,
    1087200.0,
    1660900.0,
    1036000.0,
    737400.0,
    604900.0,
    412300.0,
    606000.0,
    344100.0,
    739600.0,
    1017500.0,
    385200.0,
    517000.0,
    893200.0,
    634900.0,
    500400.0,
    761500.0,
    599700.0,
    1047600.0,
    712800.0,
    978000.0,
    1345300.0,
    874000.0,
    1000400.0,
    1249000.0,
    2397400.0,
    1480100.0,
    6275300.0,
    2937400.0,
    2557000.0,
    2224000.0,
    1854600.0,
    1494700.0,
    2887200.0,
    1077500.0,
    1177900.0,
    512400.0,
    2470000.0,
    872400.0,
    1928900.0,
    1173000.0,
    1845000.0,
    781400.0,
    450000.0,
    822700.0,
    841300.0,
    908400.0,
    857100.0,
    936900.0,
    1353300.0,
    1085800.0,
    747600.0,
    662100.0,
    486600.0,
    628300.0,
    678300.0,
    946400.0,
    535000.0,
    635800.0,
    635900.0,
    624600.0,
    604500.0,
    1466600.0,
    951900.0,
    570800.0,
    795000.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "CNM",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);