/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_HCCI");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 34.27, 35.26, 35.37, 33.85],
    ['2022/08/04', 35.55, 34.97, 36.14, 34.82],
    ['2022/08/05', 34.76, 35.22, 35.37, 34.3],
    ['2022/08/08', 35.21, 35.03, 35.44, 34.91],
    ['2022/08/09', 34.86, 34.73, 35.01, 34.46],
    ['2022/08/10', 35.1, 35.87, 35.94, 34.74],
    ['2022/08/11', 36.0, 34.97, 36.02, 34.71],
    ['2022/08/12', 35.11, 35.22, 35.25, 34.68],
    ['2022/08/15', 35.05, 35.57, 35.62, 34.77],
    ['2022/08/16', 35.41, 34.13, 35.85, 33.92],
    ['2022/08/17', 34.0, 33.35, 34.0, 33.12],
    ['2022/08/18', 33.32, 33.73, 33.85, 33.03],
    ['2022/08/19', 33.51, 33.05, 33.62, 33.05],
    ['2022/08/22', 32.6, 32.64, 32.77, 32.43],
    ['2022/08/23', 32.64, 32.73, 32.91, 32.42],
    ['2022/08/24', 32.74, 32.84, 32.96, 32.43],
    ['2022/08/25', 32.98, 33.12, 33.47, 32.72],
    ['2022/08/26', 33.05, 32.1, 33.15, 32.09],
    ['2022/08/29', 32.09, 32.75, 32.85, 31.93],
    ['2022/08/30', 32.73, 32.85, 33.01, 32.29],
    ['2022/08/31', 33.0, 32.57, 33.07, 32.54],
    ['2022/09/01', 32.24, 31.49, 32.35, 31.4],
    ['2022/09/02', 31.73, 31.36, 32.17, 31.07],
    ['2022/09/06', 31.59, 31.49, 31.84, 30.99],
    ['2022/09/07', 31.48, 32.0, 32.15, 31.19],
    ['2022/09/08', 31.8, 31.7, 31.9, 31.46],
    ['2022/09/09', 31.9, 32.23, 32.37, 31.48],
    ['2022/09/12', 32.23, 32.15, 32.68, 32.04],
    ['2022/09/13', 31.5, 31.21, 31.64, 30.83],
    ['2022/09/14', 31.13, 31.16, 31.63, 30.81],
    ['2022/09/15', 31.0, 31.11, 31.5, 30.83],
    ['2022/09/16', 30.71, 30.97, 31.15, 30.34],
    ['2022/09/19', 30.66, 31.28, 31.3, 30.61],
    ['2022/09/20', 31.08, 31.01, 31.12, 30.69],
    ['2022/09/21', 31.21, 31.11, 31.67, 31.07],
    ['2022/09/22', 30.96, 30.41, 30.99, 30.24],
    ['2022/09/23', 30.11, 29.79, 30.38, 29.4],
    ['2022/09/26', 29.95, 29.23, 29.95, 29.2],
    ['2022/09/27', 29.41, 29.56, 29.81, 29.19],
    ['2022/09/28', 29.81, 30.11, 30.29, 29.42],
    ['2022/09/29', 29.92, 29.57, 29.96, 29.25],
    ['2022/09/30', 29.52, 29.57, 30.13, 29.44],
    ['2022/10/03', 29.83, 30.29, 30.51, 29.82],
    ['2022/10/04', 30.57, 30.82, 31.1, 30.52],
    ['2022/10/05', 30.48, 30.75, 30.95, 30.17],
    ['2022/10/06', 30.79, 30.62, 30.94, 30.24],
    ['2022/10/07', 30.44, 29.31, 30.44, 29.25],
    ['2022/10/10', 29.25, 29.14, 29.43, 28.92],
    ['2022/10/11', 29.04, 29.02, 29.19, 28.69],
    ['2022/10/12', 29.19, 28.85, 29.5, 28.22],
    ['2022/10/13', 28.62, 29.92, 29.98, 28.16],
    ['2022/10/14', 30.01, 29.31, 30.08, 29.24],
    ['2022/10/17', 29.58, 29.84, 30.03, 29.58],
    ['2022/10/18', 30.14, 31.1, 31.21, 30.12],
    ['2022/10/19', 30.83, 32.31, 32.45, 30.83],
    ['2022/10/20', 33.5, 27.97, 33.5, 27.65],
    ['2022/10/21', 28.15, 27.04, 28.15, 26.88],
    ['2022/10/24', 27.26, 27.03, 28.05, 26.75],
    ['2022/10/25', 27.0, 26.69, 27.27, 26.64],
    ['2022/10/26', 26.92, 26.65, 27.04, 26.25],
    ['2022/10/27', 26.66, 26.06, 27.15, 25.93],
    ['2022/10/28', 25.86, 26.91, 26.97, 25.7],
    ['2022/10/31', 27.04, 27.47, 27.93, 26.66],
    ['2022/11/01', 27.8, 27.7, 27.91, 27.35],
    ['2022/11/02', 27.64, 27.36, 28.08, 27.18],
    ['2022/11/03', 27.06, 27.64, 28.05, 27.06],
    ['2022/11/04', 27.87, 28.02, 28.05, 27.48],
    ['2022/11/07', 28.34, 28.71, 28.81, 28.02],
    ['2022/11/08', 28.81, 28.99, 29.17, 28.55],
    ['2022/11/09', 28.92, 28.3, 29.1, 28.13],
    ['2022/11/10', 29.11, 29.24, 29.5, 28.73],
    ['2022/11/11', 29.26, 28.79, 29.56, 28.69],
    ['2022/11/14', 28.74, 28.88, 28.99, 28.27],
    ['2022/11/15', 29.14, 29.56, 29.84, 28.65],
    ['2022/11/16', 29.26, 29.55, 30.17, 29.11],
    ['2022/11/17', 29.1, 30.31, 30.41, 29.04],
    ['2022/11/18', 30.68, 30.23, 30.68, 29.93],
    ['2022/11/21', 29.99, 29.78, 30.17, 29.68],
    ['2022/11/22', 29.75, 30.47, 30.57, 29.75],
    ['2022/11/23', 30.44, 32.36, 32.42, 30.44],
    ['2022/11/25', 32.53, 32.31, 32.53, 31.9],
    ['2022/11/28', 32.31, 31.89, 32.38, 31.48],
    ['2022/11/29', 31.9, 30.87, 31.94, 30.8],
    ['2022/11/30', 30.7, 31.6, 31.64, 30.4],
    ['2022/12/01', 31.82, 31.91, 32.05, 31.5],
    ['2022/12/02', 31.5, 31.91, 31.95, 31.14],
    ['2022/12/05', 31.83, 31.39, 31.83, 31.16],
    ['2022/12/06', 31.32, 31.04, 31.8, 30.71],
    ['2022/12/07', 31.09, 30.87, 31.29, 30.74],
    ['2022/12/08', 30.88, 31.39, 31.43, 30.85],
    ['2022/12/09', 31.16, 30.71, 31.53, 30.65],
    ['2022/12/12', 30.81, 31.52, 31.95, 30.63],
    ['2022/12/13', 32.36, 32.19, 32.76, 31.6],
    ['2022/12/14', 32.35, 32.95, 33.1, 32.3],
    ['2022/12/15', 32.58, 30.98, 32.65, 30.78],
    ['2022/12/16', 30.93, 30.87, 31.34, 30.85],
    ['2022/12/19', 30.75, 30.3, 30.75, 29.84],
    ['2022/12/20', 30.09, 30.59, 30.81, 30.08],
    ['2022/12/21', 30.79, 31.44, 31.46, 30.64],
    ['2022/12/22', 31.18, 31.65, 31.73, 31.06],
    ['2022/12/23', 31.6, 32.17, 32.17, 31.57],
    ['2022/12/27', 32.29, 32.45, 32.54, 32.05],
    ['2022/12/28', 32.37, 32.55, 32.9, 32.24],
    ['2022/12/29', 32.65, 32.57, 32.88, 30.76],
    ['2022/12/30', 32.49, 32.48, 32.93, 32.41],
    ['2023/01/03', 32.64, 32.7, 33.03, 32.19],
    ['2023/01/04', 32.73, 31.92, 33.03, 31.68],
    ['2023/01/05', 31.57, 31.75, 31.81, 31.02],
    ['2023/01/06', 31.86, 33.19, 33.9, 31.79],
    ['2023/01/09', 33.24, 33.41, 33.69, 32.95],
    ['2023/01/10', 33.21, 33.57, 33.72, 33.08],
    ['2023/01/11', 34.26, 35.41, 35.5, 34.02],
    ['2023/01/12', 35.53, 34.84, 35.53, 34.13],
    ['2023/01/13', 34.46, 35.07, 35.16, 33.92],
    ['2023/01/17', 34.84, 36.11, 36.21, 33.88],
    ['2023/01/18', 36.3, 36.08, 36.67, 35.54],
    ['2023/01/19', 35.83, 35.92, 36.43, 35.68],
    ['2023/01/20', 35.83, 37.06, 37.18, 35.34],
    ['2023/01/23', 36.86, 37.8, 38.46, 36.57],
    ['2023/01/24', 37.69, 37.63, 37.95, 37.34],
    ['2023/01/25', 37.21, 37.74, 37.85, 36.82],
    ['2023/01/26', 37.89, 37.77, 38.0, 37.46],
    ['2023/01/27', 37.52, 37.0, 37.6, 36.82],
    ['2023/01/30', 37.0, 36.9, 37.16, 36.7],
    ['2023/01/31', 37.02, 37.2, 37.48, 36.95],
    ['2023/02/01', 37.2, 37.07, 37.32, 36.41],
    ['2023/02/02', 37.19, 37.54, 37.62, 36.78],
    ['2023/02/03', 37.17, 37.82, 38.0, 37.17],
    ['2023/02/06', 37.82, 37.72, 38.0, 37.31],
    ['2023/02/07', 37.59, 38.5, 38.64, 37.23],
    ['2023/02/08', 38.47, 38.3, 38.58, 38.01],
    ['2023/02/09', 38.45, 38.21, 38.85, 38.16],
    ['2023/02/10', 38.02, 38.59, 38.67, 37.67],
    ['2023/02/13', 38.54, 38.48, 38.78, 38.17],
    ['2023/02/14', 38.44, 38.28, 38.68, 37.93],
    ['2023/02/15', 38.04, 38.25, 38.68, 37.8],
    ['2023/02/16', 38.03, 37.6, 38.16, 37.49],
    ['2023/02/17', 37.76, 38.12, 38.22, 37.42],
    ['2023/02/21', 38.02, 37.26, 38.02, 37.26],
    ['2023/02/22', 37.21, 36.82, 37.43, 36.72],
    ['2023/02/23', 37.03, 35.96, 37.11, 35.43],
    ['2023/02/24', 35.61, 35.93, 36.07, 35.07],
    ['2023/02/27', 36.17, 36.22, 36.77, 35.91],
    ['2023/02/28', 36.07, 35.98, 36.51, 35.94],
    ['2023/03/01', 36.0, 37.16, 37.39, 35.7],
    ['2023/03/02', 36.51, 35.61, 37.43, 33.72],
    ['2023/03/03', 35.84, 36.49, 37.06, 35.73],
    ['2023/03/06', 36.53, 36.21, 36.63, 35.45],
    ['2023/03/07', 36.46, 37.58, 37.9, 36.17],
    ['2023/03/08', 37.71, 36.9, 37.79, 36.75],
    ['2023/03/09', 36.96, 35.98, 37.27, 35.97],
    ['2023/03/10', 35.89, 35.63, 36.45, 35.41],
    ['2023/03/13', 35.13, 34.32, 35.39, 33.96],
    ['2023/03/14', 35.04, 35.53, 35.98, 35.03],
    ['2023/03/15', 34.87, 34.11, 35.24, 33.49],
    ['2023/03/16', 33.77, 34.89, 35.2, 33.77],
    ['2023/03/17', 34.73, 34.68, 35.17, 34.36],
    ['2023/03/20', 34.71, 34.95, 35.3, 34.59],
    ['2023/03/21', 35.37, 35.47, 36.08, 35.24],
    ['2023/03/22', 35.43, 35.18, 36.31, 35.11],
    ['2023/03/23', 35.2, 33.81, 35.66, 33.73],
    ['2023/03/24', 33.66, 33.75, 33.88, 33.27],
    ['2023/03/27', 33.95, 34.52, 34.74, 33.95],
    ['2023/03/28', 34.38, 34.67, 34.73, 34.32],
    ['2023/03/29', 34.89, 34.7, 35.03, 33.87],
    ['2023/03/30', 34.79, 35.34, 35.37, 34.67],
    ['2023/03/31', 35.47, 35.61, 35.97, 35.32],
    ['2023/04/03', 35.44, 35.24, 35.48, 34.38],
    ['2023/04/04', 35.22, 35.07, 35.39, 34.76],
    ['2023/04/05', 34.87, 33.73, 34.87, 33.26],
    ['2023/04/06', 33.78, 34.12, 34.43, 33.67],
    ['2023/04/10', 34.12, 34.55, 34.65, 34.12],
    ['2023/04/11', 34.78, 34.72, 35.15, 34.46],
    ['2023/04/12', 34.89, 35.16, 35.33, 34.83],
    ['2023/04/13', 35.19, 35.22, 35.49, 34.82],
    ['2023/04/14', 35.28, 35.13, 35.62, 34.99],
    ['2023/04/17', 35.1, 35.61, 35.61, 35.1],
    ['2023/04/18', 36.34, 35.06, 36.34, 34.92],
    ['2023/04/19', 34.89, 34.68, 34.89, 34.06],
    ['2023/04/20', 34.55, 34.93, 35.25, 34.55],
    ['2023/04/21', 34.88, 34.81, 35.57, 34.56],
    ['2023/04/24', 34.95, 35.8, 35.88, 34.95],
    ['2023/04/25', 35.74, 35.92, 36.2, 35.61],
    ['2023/04/26', 35.64, 34.74, 35.64, 34.11],
    ['2023/04/27', 34.68, 35.02, 35.24, 34.44],
    ['2023/04/28', 34.76, 34.96, 35.22, 34.76],
    ['2023/05/01', 34.96, 35.62, 35.78, 34.96],
    ['2023/05/02', 35.51, 34.71, 35.51, 34.36],
    ['2023/05/03', 34.79, 33.52, 34.79, 33.17],
    ['2023/05/04', 33.29, 33.07, 33.61, 32.82],
    ['2023/05/05', 33.38, 33.63, 33.81, 33.28],
    ['2023/05/08', 33.64, 33.16, 33.64, 32.96],
    ['2023/05/09', 32.92, 33.76, 34.22, 32.7],
    ['2023/05/10', 34.95, 35.58, 36.1, 34.05],
    ['2023/05/11', 35.43, 33.54, 35.85, 33.1],
    ['2023/05/12', 33.76, 33.15, 34.08, 33.09],
    ['2023/05/15', 33.13, 33.55, 33.77, 33.09],
    ['2023/05/16', 33.24, 33.8, 34.06, 33.24],
    ['2023/05/17', 34.0, 34.25, 34.41, 33.43],
    ['2023/05/18', 34.14, 34.32, 34.33, 33.91],
    ['2023/05/19', 34.64, 34.11, 34.9, 33.87],
    ['2023/05/22', 34.12, 34.32, 34.64, 33.86],
    ['2023/05/23', 34.32, 34.34, 34.76, 34.0],
    ['2023/05/24', 34.33, 33.82, 34.42, 33.82],
    ['2023/05/25', 33.75, 33.54, 33.9, 33.15],
    ['2023/05/26', 33.51, 33.77, 34.05, 33.25],
    ['2023/05/30', 34.04, 33.69, 34.25, 33.62],
    ['2023/05/31', 33.64, 33.16, 33.74, 32.63],
    ['2023/06/01', 33.32, 33.18, 33.37, 33.06],
    ['2023/06/02', 33.58, 34.27, 34.68, 33.42],
    ['2023/06/05', 34.06, 33.16, 34.27, 33.07],
    ['2023/06/06', 33.14, 34.86, 34.86, 33.14],
    ['2023/06/07', 35.0, 36.75, 36.92, 35.0],
    ['2023/06/08', 36.92, 36.82, 36.92, 36.22],
    ['2023/06/09', 36.63, 36.95, 37.03, 36.42],
    ['2023/06/12', 37.09, 36.85, 37.21, 36.84],
    ['2023/06/13', 36.89, 37.03, 37.45, 36.73],
    ['2023/06/14', 37.17, 36.55, 37.17, 36.32],
    ['2023/06/15', 36.37, 36.88, 36.96, 35.99],
    ['2023/06/16', 37.17, 36.79, 37.3, 36.28],
    ['2023/06/20', 36.65, 36.5, 36.67, 35.86],
    ['2023/06/21', 36.33, 36.78, 37.04, 36.33],
    ['2023/06/22', 36.79, 36.73, 36.82, 36.16],
    ['2023/06/23', 36.35, 36.07, 36.85, 35.84],
    ['2023/06/26', 35.97, 35.74, 36.65, 35.7],
    ['2023/06/27', 35.92, 35.86, 36.46, 35.72],
    ['2023/06/28', 35.88, 36.83, 36.83, 35.66],
    ['2023/06/29', 36.78, 37.66, 38.14, 36.43],
    ['2023/06/30', 37.9, 37.79, 38.17, 37.69],
    ['2023/07/03', 37.79, 38.12, 38.16, 37.75],
    ['2023/07/05', 37.8, 38.37, 38.56, 37.33],
    ['2023/07/06', 38.18, 37.67, 38.31, 37.45],
    ['2023/07/07', 37.99, 38.84, 39.1, 37.94],
    ['2023/07/10', 39.0, 40.8, 40.93, 38.85],
    ['2023/07/11', 41.0, 41.03, 41.12, 40.66],
    ['2023/07/12', 41.45, 41.37, 41.49, 41.12],
    ['2023/07/13', 41.38, 40.97, 41.44, 40.62],
    ['2023/07/14', 40.89, 41.32, 41.35, 40.46],
    ['2023/07/17', 41.32, 41.75, 42.32, 41.32],
    ['2023/07/18', 41.86, 42.62, 42.65, 41.63],
    ['2023/07/19', 42.62, 41.94, 42.8, 41.38],
    ['2023/07/20', 45.6, 46.6, 46.63, 45.46],
    ['2023/07/21', 46.72, 46.59, 46.92, 45.94],
    ['2023/07/24', 46.43, 46.76, 46.96, 45.7],
    ['2023/07/25', 46.51, 47.32, 47.49, 46.38],
    ['2023/07/26', 47.1, 47.5, 47.98, 47.05],
    ['2023/07/27', 47.38, 47.12, 47.85, 47.03],
    ['2023/07/28', 47.19, 46.07, 47.5, 46.0],
    ['2023/07/31', 46.06, 46.07, 46.42, 45.96],
    ['2023/08/01', 45.96, 46.76, 46.79, 45.96],
    ['2023/08/02', 46.17, 46.37, 46.49, 46.11],
]);
var volumes = [
    276300.0,
    219300.0,
    117500.0,
    127200.0,
    135900.0,
    148300.0,
    179400.0,
    255700.0,
    264400.0,
    224100.0,
    192900.0,
    204200.0,
    99000.0,
    114300.0,
    223200.0,
    178100.0,
    102200.0,
    89300.0,
    171300.0,
    220700.0,
    102700.0,
    117500.0,
    169800.0,
    105900.0,
    163400.0,
    87900.0,
    133600.0,
    97900.0,
    114400.0,
    117800.0,
    118800.0,
    224900.0,
    92700.0,
    86000.0,
    126400.0,
    124000.0,
    119400.0,
    167700.0,
    90900.0,
    98700.0,
    89500.0,
    68300.0,
    94800.0,
    154100.0,
    84000.0,
    69700.0,
    84100.0,
    72000.0,
    85700.0,
    81200.0,
    126300.0,
    72000.0,
    67800.0,
    124400.0,
    291200.0,
    560400.0,
    455700.0,
    323700.0,
    211000.0,
    184500.0,
    138200.0,
    131700.0,
    168800.0,
    91300.0,
    135100.0,
    127900.0,
    90900.0,
    118900.0,
    119800.0,
    56000.0,
    104900.0,
    122200.0,
    127000.0,
    140000.0,
    134600.0,
    168700.0,
    101900.0,
    60700.0,
    74400.0,
    363400.0,
    66600.0,
    91000.0,
    80800.0,
    101200.0,
    67100.0,
    78100.0,
    63700.0,
    107200.0,
    41300.0,
    59900.0,
    63900.0,
    99400.0,
    125900.0,
    334300.0,
    123400.0,
    185000.0,
    153600.0,
    87800.0,
    98600.0,
    166900.0,
    66300.0,
    63000.0,
    134000.0,
    78900.0,
    89300.0,
    87100.0,
    86500.0,
    60300.0,
    210600.0,
    103000.0,
    93500.0,
    234100.0,
    273400.0,
    123300.0,
    126100.0,
    149800.0,
    197000.0,
    117800.0,
    189700.0,
    148100.0,
    88700.0,
    174100.0,
    123800.0,
    89800.0,
    101700.0,
    102600.0,
    134500.0,
    66900.0,
    67000.0,
    104900.0,
    101900.0,
    69200.0,
    84800.0,
    78400.0,
    55300.0,
    81300.0,
    140300.0,
    105900.0,
    83400.0,
    88000.0,
    119700.0,
    128700.0,
    73700.0,
    124600.0,
    149600.0,
    262800.0,
    109000.0,
    126200.0,
    97200.0,
    103700.0,
    68000.0,
    86200.0,
    99200.0,
    119700.0,
    106100.0,
    74800.0,
    168500.0,
    117100.0,
    120200.0,
    145300.0,
    127500.0,
    60300.0,
    57600.0,
    44900.0,
    134900.0,
    113400.0,
    144100.0,
    91900.0,
    108400.0,
    79300.0,
    55100.0,
    48600.0,
    34400.0,
    47000.0,
    83800.0,
    31600.0,
    43200.0,
    123100.0,
    60700.0,
    73700.0,
    122000.0,
    64200.0,
    84800.0,
    83000.0,
    66000.0,
    66900.0,
    78300.0,
    50000.0,
    129000.0,
    63000.0,
    78400.0,
    80100.0,
    71300.0,
    116800.0,
    107500.0,
    66800.0,
    54300.0,
    80200.0,
    58600.0,
    55800.0,
    56200.0,
    64800.0,
    67900.0,
    53600.0,
    70800.0,
    77000.0,
    69000.0,
    141000.0,
    47300.0,
    99400.0,
    118100.0,
    124700.0,
    88600.0,
    74000.0,
    42500.0,
    42000.0,
    72700.0,
    57700.0,
    56700.0,
    93800.0,
    77700.0,
    45900.0,
    73200.0,
    253500.0,
    51300.0,
    64000.0,
    64600.0,
    80400.0,
    108000.0,
    33000.0,
    139800.0,
    62700.0,
    98500.0,
    138500.0,
    157000.0,
    87900.0,
    75400.0,
    78700.0,
    85100.0,
    164200.0,
    132000.0,
    1471700.0,
    872300.0,
    262700.0,
    304000.0,
    196900.0,
    579700.0,
    265900.0,
    487600.0,
    143600.0,
    600700.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "HCCI",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);