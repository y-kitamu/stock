/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_NEU");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 302.81, 294.58, 303.88, 292.17],
    ['2022/08/04', 296.0, 294.14, 297.01, 292.46],
    ['2022/08/05', 291.39, 292.71, 294.12, 290.75],
    ['2022/08/08', 293.0, 293.2, 296.05, 290.98],
    ['2022/08/09', 291.93, 293.3, 296.37, 291.93],
    ['2022/08/10', 295.42, 296.97, 300.05, 294.29],
    ['2022/08/11', 296.8, 295.39, 298.11, 294.85],
    ['2022/08/12', 293.93, 297.21, 297.66, 293.93],
    ['2022/08/15', 296.19, 298.21, 299.49, 296.19],
    ['2022/08/16', 296.5, 297.99, 298.95, 296.17],
    ['2022/08/17', 297.76, 294.46, 297.76, 290.96],
    ['2022/08/18', 296.16, 296.76, 297.49, 292.94],
    ['2022/08/19', 297.43, 294.35, 297.43, 293.01],
    ['2022/08/22', 293.13, 290.26, 293.26, 288.78],
    ['2022/08/23', 290.71, 285.6, 290.71, 285.29],
    ['2022/08/24', 285.2, 283.06, 286.4, 280.23],
    ['2022/08/25', 285.09, 287.37, 287.93, 283.79],
    ['2022/08/26', 286.17, 280.37, 286.17, 279.71],
    ['2022/08/29', 280.63, 281.28, 281.8, 277.77],
    ['2022/08/30', 281.84, 279.97, 281.84, 279.27],
    ['2022/08/31', 281.12, 279.95, 281.12, 278.4],
    ['2022/09/01', 279.41, 276.85, 279.41, 274.86],
    ['2022/09/02', 278.06, 274.32, 279.31, 273.19],
    ['2022/09/06', 276.55, 283.92, 283.92, 276.55],
    ['2022/09/07', 282.44, 291.63, 292.68, 282.44],
    ['2022/09/08', 291.05, 293.47, 294.9, 289.49],
    ['2022/09/09', 293.26, 295.98, 298.88, 293.26],
    ['2022/09/12', 295.06, 296.49, 298.13, 295.06],
    ['2022/09/13', 293.24, 289.25, 297.0, 288.5],
    ['2022/09/14', 289.69, 289.54, 291.91, 287.29],
    ['2022/09/15', 287.92, 291.76, 294.97, 287.92],
    ['2022/09/16', 289.99, 291.69, 295.36, 286.47],
    ['2022/09/19', 289.12, 294.97, 296.04, 289.12],
    ['2022/09/20', 293.86, 292.58, 294.47, 290.47],
    ['2022/09/21', 292.92, 291.88, 300.18, 291.88],
    ['2022/09/22', 290.7, 292.83, 293.75, 290.21],
    ['2022/09/23', 289.67, 287.58, 290.24, 286.54],
    ['2022/09/26', 285.43, 287.49, 289.48, 285.43],
    ['2022/09/27', 287.77, 287.52, 290.99, 285.73],
    ['2022/09/28', 287.38, 294.99, 295.85, 287.38],
    ['2022/09/29', 290.19, 291.77, 292.33, 288.72],
    ['2022/09/30', 289.83, 295.31, 300.71, 289.83],
    ['2022/10/03', 297.73, 299.2, 301.02, 295.16],
    ['2022/10/04', 302.48, 303.5, 307.08, 301.4],
    ['2022/10/05', 300.31, 296.76, 301.61, 296.4],
    ['2022/10/06', 296.48, 298.0, 301.02, 295.55],
    ['2022/10/07', 297.97, 292.25, 297.97, 290.44],
    ['2022/10/10', 291.66, 300.89, 301.58, 291.66],
    ['2022/10/11', 300.25, 302.74, 304.39, 300.25],
    ['2022/10/12', 304.24, 301.41, 304.51, 298.28],
    ['2022/10/13', 298.55, 305.48, 305.7, 297.6],
    ['2022/10/14', 307.66, 301.6, 307.66, 301.26],
    ['2022/10/17', 303.84, 303.78, 307.52, 302.23],
    ['2022/10/18', 308.09, 306.99, 308.94, 304.39],
    ['2022/10/19', 301.77, 306.76, 307.26, 301.77],
    ['2022/10/20', 307.81, 299.3, 307.81, 298.48],
    ['2022/10/21', 298.85, 304.0, 305.04, 298.85],
    ['2022/10/24', 306.29, 305.51, 307.76, 303.22],
    ['2022/10/25', 306.28, 289.56, 309.22, 288.19],
    ['2022/10/26', 290.18, 289.69, 295.55, 289.69],
    ['2022/10/27', 292.4, 291.01, 296.89, 290.29],
    ['2022/10/28', 293.2, 297.72, 299.24, 293.2],
    ['2022/10/31', 298.1, 298.76, 299.87, 297.32],
    ['2022/11/01', 300.28, 294.76, 300.98, 294.69],
    ['2022/11/02', 293.52, 287.72, 295.31, 287.12],
    ['2022/11/03', 284.39, 283.88, 286.46, 282.78],
    ['2022/11/04', 288.03, 294.54, 295.35, 287.73],
    ['2022/11/07', 295.65, 297.45, 297.85, 293.78],
    ['2022/11/08', 299.7, 299.47, 303.69, 297.27],
    ['2022/11/09', 296.46, 291.73, 296.46, 291.46],
    ['2022/11/10', 294.5, 302.45, 302.58, 293.79],
    ['2022/11/11', 304.72, 299.09, 304.81, 297.48],
    ['2022/11/14', 298.84, 299.24, 301.63, 295.9],
    ['2022/11/15', 299.92, 298.36, 304.26, 297.81],
    ['2022/11/16', 296.76, 299.0, 300.46, 296.76],
    ['2022/11/17', 299.0, 302.89, 302.89, 296.03],
    ['2022/11/18', 305.77, 302.88, 307.05, 302.77],
    ['2022/11/21', 301.14, 307.5, 308.67, 301.14],
    ['2022/11/22', 307.5, 307.64, 310.87, 305.2],
    ['2022/11/23', 305.91, 308.93, 310.64, 305.91],
    ['2022/11/25', 306.46, 311.94, 312.48, 305.95],
    ['2022/11/28', 309.35, 306.95, 311.7, 306.54],
    ['2022/11/29', 306.95, 303.53, 309.47, 303.53],
    ['2022/11/30', 305.06, 310.23, 310.65, 300.39],
    ['2022/12/01', 312.61, 313.02, 313.42, 306.48],
    ['2022/12/02', 312.96, 316.83, 318.6, 312.68],
    ['2022/12/05', 313.69, 313.52, 317.01, 311.49],
    ['2022/12/06', 313.15, 311.07, 314.33, 309.35],
    ['2022/12/07', 311.43, 311.11, 312.68, 310.47],
    ['2022/12/08', 309.72, 311.18, 314.42, 309.09],
    ['2022/12/09', 311.9, 309.71, 312.02, 308.95],
    ['2022/12/12', 309.99, 308.48, 311.62, 307.48],
    ['2022/12/13', 312.27, 309.45, 315.48, 308.89],
    ['2022/12/14', 309.6, 307.0, 312.68, 304.56],
    ['2022/12/15', 303.85, 296.82, 303.85, 296.65],
    ['2022/12/16', 294.12, 299.92, 299.92, 294.12],
    ['2022/12/19', 299.64, 296.32, 299.71, 294.98],
    ['2022/12/20', 295.52, 302.05, 303.41, 294.83],
    ['2022/12/21', 302.73, 305.23, 306.11, 302.64],
    ['2022/12/22', 303.25, 303.37, 304.43, 301.08],
    ['2022/12/23', 302.18, 306.42, 307.87, 301.56],
    ['2022/12/27', 306.03, 308.2, 311.0, 304.94],
    ['2022/12/28', 307.83, 301.49, 311.09, 301.34],
    ['2022/12/29', 301.69, 305.41, 306.23, 301.51],
    ['2022/12/30', 305.33, 307.45, 308.78, 303.89],
    ['2023/01/03', 307.45, 319.28, 320.59, 307.25],
    ['2023/01/04', 321.67, 324.17, 330.93, 321.67],
    ['2023/01/05', 321.55, 321.82, 323.87, 317.71],
    ['2023/01/06', 325.32, 332.3, 332.3, 324.29],
    ['2023/01/09', 332.64, 330.42, 336.82, 329.51],
    ['2023/01/10', 328.57, 339.49, 340.36, 327.48],
    ['2023/01/11', 340.25, 341.0, 346.0, 338.88],
    ['2023/01/12', 340.46, 341.88, 346.42, 339.97],
    ['2023/01/13', 341.03, 340.45, 342.85, 337.42],
    ['2023/01/17', 341.2, 335.8, 343.42, 334.47],
    ['2023/01/18', 338.06, 342.2, 342.35, 335.51],
    ['2023/01/19', 341.3, 340.0, 342.49, 335.86],
    ['2023/01/20', 342.4, 338.78, 342.4, 337.92],
    ['2023/01/23', 337.02, 337.86, 342.77, 336.46],
    ['2023/01/24', 336.12, 337.24, 337.99, 333.04],
    ['2023/01/25', 337.38, 338.39, 340.29, 335.83],
    ['2023/01/26', 337.19, 339.24, 340.54, 335.51],
    ['2023/01/27', 337.83, 336.1, 338.41, 334.83],
    ['2023/01/30', 336.88, 335.16, 340.43, 335.1],
    ['2023/01/31', 334.15, 340.46, 341.57, 334.15],
    ['2023/02/01', 346.15, 363.49, 365.84, 346.15],
    ['2023/02/02', 363.56, 362.16, 366.24, 358.98],
    ['2023/02/03', 357.63, 357.53, 361.3, 355.77],
    ['2023/02/06', 358.71, 353.28, 358.71, 350.06],
    ['2023/02/07', 351.73, 353.26, 354.34, 350.81],
    ['2023/02/08', 349.74, 346.32, 352.21, 344.62],
    ['2023/02/09', 348.46, 342.31, 349.93, 340.82],
    ['2023/02/10', 341.7, 342.16, 343.47, 338.48],
    ['2023/02/13', 345.92, 344.13, 347.57, 344.12],
    ['2023/02/14', 345.4, 341.85, 345.4, 340.71],
    ['2023/02/15', 340.75, 339.51, 341.93, 335.05],
    ['2023/02/16', 336.0, 339.19, 341.89, 336.0],
    ['2023/02/17', 338.9, 340.09, 341.03, 337.58],
    ['2023/02/21', 339.85, 336.72, 339.85, 333.52],
    ['2023/02/22', 337.85, 335.72, 339.01, 334.42],
    ['2023/02/23', 335.13, 334.87, 337.04, 332.62],
    ['2023/02/24', 332.26, 337.64, 337.7, 330.43],
    ['2023/02/27', 340.33, 338.82, 340.89, 336.72],
    ['2023/02/28', 339.54, 339.46, 343.43, 339.06],
    ['2023/03/01', 339.47, 346.13, 346.96, 339.47],
    ['2023/03/02', 344.79, 345.83, 348.66, 343.45],
    ['2023/03/03', 345.49, 348.97, 349.59, 344.34],
    ['2023/03/06', 346.93, 346.24, 350.53, 342.93],
    ['2023/03/07', 344.9, 347.83, 349.56, 344.29],
    ['2023/03/08', 347.91, 345.45, 348.53, 343.18],
    ['2023/03/09', 344.61, 339.78, 344.61, 339.05],
    ['2023/03/10', 339.2, 336.03, 340.29, 333.73],
    ['2023/03/13', 333.47, 333.16, 336.81, 331.36],
    ['2023/03/14', 337.26, 340.28, 343.77, 337.26],
    ['2023/03/15', 335.51, 338.31, 338.91, 333.02],
    ['2023/03/16', 334.97, 346.47, 346.55, 334.97],
    ['2023/03/17', 345.22, 342.84, 345.22, 339.85],
    ['2023/03/20', 345.48, 353.87, 354.01, 344.98],
    ['2023/03/21', 356.17, 352.34, 356.91, 350.45],
    ['2023/03/22', 353.12, 349.47, 354.3, 348.88],
    ['2023/03/23', 349.08, 350.06, 352.67, 349.08],
    ['2023/03/24', 348.01, 352.84, 354.63, 346.18],
    ['2023/03/27', 356.27, 355.01, 356.65, 352.34],
    ['2023/03/28', 354.1, 357.53, 358.76, 354.1],
    ['2023/03/29', 358.12, 359.66, 360.17, 357.6],
    ['2023/03/30', 360.09, 359.15, 360.49, 357.14],
    ['2023/03/31', 359.07, 362.95, 363.43, 357.92],
    ['2023/04/03', 363.92, 363.66, 365.24, 362.51],
    ['2023/04/04', 364.21, 359.39, 364.5, 358.99],
    ['2023/04/05', 357.54, 361.13, 361.46, 357.54],
    ['2023/04/06', 359.5, 360.68, 361.15, 357.83],
    ['2023/04/10', 359.67, 366.29, 366.74, 359.67],
    ['2023/04/11', 367.48, 365.62, 368.47, 365.11],
    ['2023/04/12', 368.3, 364.59, 368.3, 363.44],
    ['2023/04/13', 366.52, 366.65, 367.58, 363.12],
    ['2023/04/14', 365.25, 365.7, 368.74, 364.57],
    ['2023/04/17', 366.09, 365.87, 366.92, 363.36],
    ['2023/04/18', 368.32, 365.91, 368.32, 364.62],
    ['2023/04/19', 365.92, 366.3, 367.59, 364.46],
    ['2023/04/20', 366.1, 367.57, 369.22, 364.96],
    ['2023/04/21', 370.04, 367.19, 370.43, 365.36],
    ['2023/04/24', 366.59, 368.76, 370.43, 366.59],
    ['2023/04/25', 367.58, 363.18, 368.54, 363.18],
    ['2023/04/26', 361.6, 360.19, 363.71, 360.15],
    ['2023/04/27', 371.39, 393.32, 393.87, 369.62],
    ['2023/04/28', 393.7, 397.38, 398.68, 393.7],
    ['2023/05/01', 399.37, 398.19, 402.35, 394.95],
    ['2023/05/02', 396.4, 396.02, 399.28, 393.28],
    ['2023/05/03', 398.58, 394.85, 401.55, 393.9],
    ['2023/05/04', 392.12, 393.65, 394.35, 391.48],
    ['2023/05/05', 394.13, 395.41, 397.16, 392.94],
    ['2023/05/08', 393.75, 390.63, 396.52, 389.33],
    ['2023/05/09', 388.28, 391.08, 395.42, 388.28],
    ['2023/05/10', 391.7, 390.86, 391.7, 386.51],
    ['2023/05/11', 389.12, 388.11, 394.63, 385.01],
    ['2023/05/12', 392.14, 393.16, 393.4, 389.47],
    ['2023/05/15', 392.6, 392.61, 393.92, 391.31],
    ['2023/05/16', 391.82, 390.47, 393.49, 390.0],
    ['2023/05/17', 389.69, 391.26, 394.79, 389.69],
    ['2023/05/18', 394.46, 396.22, 399.87, 394.46],
    ['2023/05/19', 399.83, 396.17, 400.06, 394.92],
    ['2023/05/22', 396.98, 395.69, 400.41, 395.53],
    ['2023/05/23', 393.92, 393.86, 395.71, 391.43],
    ['2023/05/24', 392.91, 394.69, 396.09, 392.82],
    ['2023/05/25', 393.31, 394.44, 396.01, 392.47],
    ['2023/05/26', 394.81, 395.09, 398.41, 394.81],
    ['2023/05/30', 392.92, 392.69, 396.12, 390.97],
    ['2023/05/31', 390.83, 387.65, 390.83, 387.02],
    ['2023/06/01', 391.27, 396.36, 398.56, 391.27],
    ['2023/06/02', 401.61, 407.14, 407.63, 401.61],
    ['2023/06/05', 404.97, 396.68, 409.26, 395.78],
    ['2023/06/06', 399.65, 400.57, 401.61, 397.73],
    ['2023/06/07', 401.67, 403.02, 406.35, 400.62],
    ['2023/06/08', 403.64, 400.03, 403.64, 396.46],
    ['2023/06/09', 395.81, 398.89, 399.65, 394.22],
    ['2023/06/12', 399.52, 398.74, 404.51, 398.74],
    ['2023/06/13', 401.16, 402.72, 405.48, 398.85],
    ['2023/06/14', 403.18, 405.93, 407.66, 401.59],
    ['2023/06/15', 403.52, 407.53, 408.04, 403.15],
    ['2023/06/16', 409.07, 406.31, 409.07, 403.94],
    ['2023/06/20', 403.49, 401.68, 405.81, 401.27],
    ['2023/06/21', 398.56, 399.8, 401.49, 398.5],
    ['2023/06/22', 398.12, 400.95, 401.2, 397.3],
    ['2023/06/23', 397.54, 399.92, 403.94, 397.54],
    ['2023/06/26', 399.47, 397.91, 401.68, 396.84],
    ['2023/06/27', 396.07, 399.2, 399.55, 396.07],
    ['2023/06/28', 399.95, 398.54, 402.13, 396.76],
    ['2023/06/29', 399.37, 404.83, 407.46, 399.37],
    ['2023/06/30', 408.57, 402.12, 408.57, 399.46],
    ['2023/07/03', 402.64, 413.19, 414.57, 402.01],
    ['2023/07/05', 412.26, 412.07, 415.79, 405.35],
    ['2023/07/06', 409.13, 416.76, 418.16, 406.45],
    ['2023/07/07', 419.15, 422.48, 423.76, 418.23],
    ['2023/07/10', 422.49, 430.07, 430.6, 422.49],
    ['2023/07/11', 432.64, 424.3, 434.29, 424.0],
    ['2023/07/12', 427.48, 432.18, 432.36, 425.85],
    ['2023/07/13', 434.71, 434.08, 435.68, 429.87],
    ['2023/07/14', 436.25, 431.47, 436.25, 429.0],
    ['2023/07/17', 429.49, 431.11, 432.87, 427.53],
    ['2023/07/18', 432.83, 437.6, 438.35, 432.68],
    ['2023/07/19', 439.79, 431.65, 439.79, 430.75],
    ['2023/07/20', 434.53, 436.07, 436.54, 431.79],
    ['2023/07/21', 438.55, 437.74, 438.55, 434.39],
    ['2023/07/24', 437.74, 438.61, 439.43, 434.63],
    ['2023/07/25', 439.78, 441.03, 443.69, 438.61],
    ['2023/07/26', 444.17, 438.65, 444.4, 438.57],
    ['2023/07/27', 449.9, 447.13, 449.9, 429.19],
    ['2023/07/28', 451.21, 448.76, 451.21, 442.32],
    ['2023/07/31', 450.35, 451.7, 452.65, 444.37],
    ['2023/08/01', 450.68, 455.76, 457.65, 445.83],
    ['2023/08/02', 454.69, 457.27, 458.88, 454.69],
]);
var volumes = [
    66300.0,
    33900.0,
    61000.0,
    47600.0,
    50600.0,
    47700.0,
    26600.0,
    29800.0,
    30600.0,
    22600.0,
    35900.0,
    42300.0,
    44400.0,
    47500.0,
    39500.0,
    57100.0,
    31200.0,
    48300.0,
    37100.0,
    38700.0,
    43100.0,
    28900.0,
    44800.0,
    51600.0,
    35900.0,
    32400.0,
    27500.0,
    23400.0,
    31400.0,
    34900.0,
    45600.0,
    79000.0,
    38800.0,
    39300.0,
    40200.0,
    28500.0,
    37500.0,
    39100.0,
    40800.0,
    45900.0,
    43900.0,
    45900.0,
    33700.0,
    71100.0,
    85400.0,
    71700.0,
    44400.0,
    31000.0,
    34200.0,
    35000.0,
    40100.0,
    30400.0,
    41900.0,
    41900.0,
    39900.0,
    31800.0,
    40400.0,
    25300.0,
    66800.0,
    56400.0,
    36900.0,
    31800.0,
    41200.0,
    42500.0,
    41800.0,
    37000.0,
    20200.0,
    41100.0,
    41300.0,
    40300.0,
    42500.0,
    43900.0,
    39100.0,
    44500.0,
    30000.0,
    39800.0,
    98600.0,
    47800.0,
    53400.0,
    70100.0,
    17700.0,
    40400.0,
    42700.0,
    50800.0,
    30400.0,
    43200.0,
    45000.0,
    52600.0,
    32700.0,
    43200.0,
    40700.0,
    34700.0,
    75100.0,
    71000.0,
    51100.0,
    136600.0,
    60100.0,
    49100.0,
    67200.0,
    47000.0,
    47900.0,
    40100.0,
    53600.0,
    49800.0,
    47300.0,
    70400.0,
    69500.0,
    108000.0,
    33300.0,
    75900.0,
    79600.0,
    55100.0,
    62800.0,
    49300.0,
    80400.0,
    58900.0,
    56000.0,
    47400.0,
    59100.0,
    44200.0,
    61100.0,
    30600.0,
    40300.0,
    29900.0,
    64600.0,
    89600.0,
    86400.0,
    64400.0,
    48800.0,
    43100.0,
    52000.0,
    71300.0,
    38500.0,
    27500.0,
    29300.0,
    41300.0,
    39700.0,
    36800.0,
    40500.0,
    40900.0,
    72100.0,
    41200.0,
    27200.0,
    34500.0,
    34900.0,
    26500.0,
    30200.0,
    77100.0,
    49000.0,
    26500.0,
    37600.0,
    27500.0,
    27200.0,
    45200.0,
    55500.0,
    54100.0,
    96800.0,
    39700.0,
    55700.0,
    27800.0,
    37300.0,
    31100.0,
    34900.0,
    26700.0,
    59200.0,
    30500.0,
    45700.0,
    35400.0,
    50500.0,
    103900.0,
    45300.0,
    47200.0,
    32800.0,
    14700.0,
    20900.0,
    19200.0,
    18300.0,
    17500.0,
    40500.0,
    38200.0,
    25400.0,
    18000.0,
    23600.0,
    28200.0,
    65500.0,
    39700.0,
    46700.0,
    41200.0,
    22500.0,
    21200.0,
    18100.0,
    16000.0,
    13900.0,
    29200.0,
    40000.0,
    14900.0,
    12300.0,
    14200.0,
    20300.0,
    25100.0,
    24600.0,
    15000.0,
    20100.0,
    40500.0,
    22400.0,
    21700.0,
    29000.0,
    43000.0,
    30100.0,
    20500.0,
    27800.0,
    35600.0,
    40500.0,
    38700.0,
    84700.0,
    35300.0,
    23200.0,
    28400.0,
    29500.0,
    71300.0,
    33400.0,
    36500.0,
    34300.0,
    73100.0,
    27600.0,
    29500.0,
    48500.0,
    20600.0,
    30400.0,
    37800.0,
    51700.0,
    46900.0,
    41100.0,
    31700.0,
    40700.0,
    26400.0,
    39600.0,
    37300.0,
    30100.0,
    22000.0,
    23700.0,
    16900.0,
    25900.0,
    24500.0,
    19300.0,
    49800.0,
    50200.0,
    34500.0,
    32000.0,
    42600.0,
    35900.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "NEU",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);