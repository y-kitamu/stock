/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_VAL");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 51.18, 49.68, 51.75, 48.86],
    ['2022/08/04', 49.69, 47.22, 49.97, 47.07],
    ['2022/08/05', 46.54, 48.1, 49.27, 46.41],
    ['2022/08/08', 48.1, 47.67, 48.95, 47.05],
    ['2022/08/09', 47.97, 48.56, 49.31, 47.97],
    ['2022/08/10', 48.8, 48.69, 49.36, 48.01],
    ['2022/08/11', 49.72, 50.12, 50.99, 49.43],
    ['2022/08/12', 50.03, 50.5, 50.73, 49.58],
    ['2022/08/15', 48.49, 47.53, 48.49, 45.81],
    ['2022/08/16', 47.98, 47.55, 48.15, 46.74],
    ['2022/08/17', 47.28, 47.37, 48.19, 46.81],
    ['2022/08/18', 47.72, 50.98, 51.0, 47.72],
    ['2022/08/19', 50.0, 48.98, 50.33, 48.56],
    ['2022/08/22', 47.99, 48.23, 48.91, 46.58],
    ['2022/08/23', 49.31, 49.19, 50.71, 48.39],
    ['2022/08/24', 49.08, 49.75, 49.97, 48.25],
    ['2022/08/25', 50.5, 50.05, 51.0, 49.68],
    ['2022/08/26', 50.04, 49.33, 50.17, 48.65],
    ['2022/08/29', 49.21, 50.49, 51.22, 48.82],
    ['2022/08/30', 49.78, 48.57, 49.92, 47.54],
    ['2022/08/31', 47.27, 50.98, 51.74, 46.82],
    ['2022/09/01', 50.11, 49.2, 50.47, 48.72],
    ['2022/09/02', 50.54, 52.65, 53.91, 50.17],
    ['2022/09/06', 53.0, 50.55, 53.48, 50.44],
    ['2022/09/07', 49.0, 49.83, 50.36, 48.02],
    ['2022/09/08', 49.74, 51.13, 51.7, 49.72],
    ['2022/09/09', 53.5, 53.97, 54.28, 52.89],
    ['2022/09/12', 54.5, 57.5, 57.53, 54.33],
    ['2022/09/13', 55.77, 57.77, 58.74, 55.53],
    ['2022/09/14', 57.89, 58.43, 59.93, 57.89],
    ['2022/09/15', 57.03, 58.33, 60.12, 56.59],
    ['2022/09/16', 57.57, 53.41, 57.57, 53.36],
    ['2022/09/19', 51.68, 53.68, 54.18, 51.42],
    ['2022/09/20', 53.17, 53.55, 54.42, 52.44],
    ['2022/09/21', 54.96, 50.84, 55.48, 50.7],
    ['2022/09/22', 51.5, 50.0, 52.14, 50.0],
    ['2022/09/23', 47.88, 47.39, 48.2, 46.54],
    ['2022/09/26', 46.72, 46.9, 48.3, 46.62],
    ['2022/09/27', 47.93, 47.79, 48.98, 47.15],
    ['2022/09/28', 48.25, 50.51, 50.87, 47.69],
    ['2022/09/29', 49.9, 49.38, 50.05, 48.01],
    ['2022/09/30', 48.76, 48.94, 50.43, 48.49],
    ['2022/10/03', 51.49, 53.7, 53.99, 51.4],
    ['2022/10/04', 54.81, 54.79, 55.97, 54.13],
    ['2022/10/05', 54.79, 57.3, 57.56, 54.24],
    ['2022/10/06', 56.77, 57.34, 58.02, 56.45],
    ['2022/10/07', 57.06, 56.76, 58.22, 56.66],
    ['2022/10/10', 56.55, 55.73, 57.56, 54.84],
    ['2022/10/11', 54.77, 55.66, 57.01, 54.13],
    ['2022/10/12', 54.88, 55.18, 55.58, 53.32],
    ['2022/10/13', 54.14, 58.06, 58.34, 53.9],
    ['2022/10/14', 57.04, 55.92, 58.0, 55.71],
    ['2022/10/17', 57.45, 57.9, 58.53, 56.85],
    ['2022/10/18', 58.62, 57.61, 59.39, 57.22],
    ['2022/10/19', 57.6, 58.47, 59.17, 56.77],
    ['2022/10/20', 58.85, 58.3, 59.26, 57.97],
    ['2022/10/21', 58.85, 59.83, 59.94, 58.15],
    ['2022/10/24', 59.87, 60.34, 60.89, 59.13],
    ['2022/10/25', 60.08, 62.02, 62.36, 59.23],
    ['2022/10/26', 62.75, 62.04, 63.46, 60.32],
    ['2022/10/27', 63.22, 63.87, 64.96, 62.36],
    ['2022/10/28', 64.72, 64.98, 65.0, 63.28],
    ['2022/10/31', 64.47, 66.93, 67.67, 64.31],
    ['2022/11/01', 67.89, 62.92, 68.87, 62.63],
    ['2022/11/02', 63.19, 61.63, 64.35, 61.0],
    ['2022/11/03', 61.0, 62.83, 63.52, 60.69],
    ['2022/11/04', 63.8, 62.58, 64.97, 61.39],
    ['2022/11/07', 63.13, 66.53, 66.92, 62.99],
    ['2022/11/08', 66.33, 66.83, 67.0, 64.54],
    ['2022/11/09', 65.47, 61.85, 65.47, 61.52],
    ['2022/11/10', 63.5, 63.88, 64.22, 62.18],
    ['2022/11/11', 65.08, 67.75, 67.93, 65.08],
    ['2022/11/14', 67.75, 67.77, 70.17, 67.23],
    ['2022/11/15', 68.79, 69.1, 69.44, 66.42],
    ['2022/11/16', 69.01, 68.29, 69.73, 68.27],
    ['2022/11/17', 67.5, 67.5, 68.25, 65.26],
    ['2022/11/18', 66.48, 66.93, 67.49, 64.25],
    ['2022/11/21', 65.07, 63.57, 65.59, 61.8],
    ['2022/11/22', 64.99, 66.55, 67.05, 64.56],
    ['2022/11/23', 65.38, 65.6, 66.92, 64.27],
    ['2022/11/25', 65.28, 64.1, 65.53, 63.64],
    ['2022/11/28', 61.91, 62.9, 63.91, 61.53],
    ['2022/11/29', 63.82, 64.05, 65.03, 63.75],
    ['2022/11/30', 65.37, 66.01, 66.49, 63.87],
    ['2022/12/01', 66.91, 65.78, 67.97, 64.83],
    ['2022/12/02', 65.44, 66.22, 66.78, 65.21],
    ['2022/12/05', 67.0, 63.52, 67.44, 62.99],
    ['2022/12/06', 63.22, 63.17, 64.89, 62.46],
    ['2022/12/07', 63.03, 60.83, 63.29, 60.69],
    ['2022/12/08', 62.42, 61.39, 63.86, 61.06],
    ['2022/12/09', 61.3, 58.71, 62.04, 58.27],
    ['2022/12/12', 59.0, 59.47, 62.16, 59.0],
    ['2022/12/13', 61.28, 61.54, 61.78, 58.92],
    ['2022/12/14', 62.0, 61.5, 62.57, 60.77],
    ['2022/12/15', 60.82, 60.47, 61.73, 59.24],
    ['2022/12/16', 58.62, 60.26, 60.48, 58.14],
    ['2022/12/19', 60.73, 61.0, 62.32, 60.24],
    ['2022/12/20', 60.63, 63.69, 63.98, 60.63],
    ['2022/12/21', 64.75, 64.78, 65.34, 64.0],
    ['2022/12/22', 64.7, 64.32, 65.5, 62.88],
    ['2022/12/23', 65.17, 66.62, 66.72, 64.69],
    ['2022/12/27', 67.52, 66.49, 67.65, 65.85],
    ['2022/12/28', 66.31, 64.74, 66.31, 63.79],
    ['2022/12/29', 64.69, 66.85, 67.36, 64.52],
    ['2022/12/30', 66.22, 67.62, 68.01, 66.1],
    ['2023/01/03', 66.67, 63.95, 67.05, 62.8],
    ['2023/01/04', 62.11, 63.49, 64.54, 62.06],
    ['2023/01/05', 63.01, 64.24, 64.99, 62.7],
    ['2023/01/06', 65.55, 65.69, 67.41, 64.73],
    ['2023/01/09', 67.66, 66.54, 68.84, 66.25],
    ['2023/01/10', 66.38, 68.16, 68.76, 66.38],
    ['2023/01/11', 68.79, 68.69, 69.29, 66.39],
    ['2023/01/12', 69.22, 70.25, 71.38, 68.8],
    ['2023/01/13', 70.27, 71.82, 72.52, 69.12],
    ['2023/01/17', 72.49, 74.51, 74.54, 72.19],
    ['2023/01/18', 75.27, 72.03, 76.14, 70.19],
    ['2023/01/19', 72.0, 73.97, 74.31, 71.15],
    ['2023/01/20', 75.23, 74.44, 75.32, 73.42],
    ['2023/01/23', 74.82, 74.54, 75.26, 73.72],
    ['2023/01/24', 75.0, 74.64, 75.19, 73.45],
    ['2023/01/25', 74.54, 75.21, 75.46, 72.24],
    ['2023/01/26', 76.0, 75.13, 76.5, 73.93],
    ['2023/01/27', 74.91, 74.25, 75.18, 73.44],
    ['2023/01/30', 72.89, 71.69, 73.37, 70.83],
    ['2023/01/31', 71.59, 72.64, 72.83, 70.62],
    ['2023/02/01', 72.4, 72.34, 72.82, 69.68],
    ['2023/02/02', 72.34, 70.45, 73.09, 68.82],
    ['2023/02/03', 70.62, 73.01, 73.86, 70.41],
    ['2023/02/06', 73.45, 73.92, 74.19, 72.38],
    ['2023/02/07', 74.65, 77.04, 77.09, 74.4],
    ['2023/02/08', 77.31, 79.01, 79.97, 77.01],
    ['2023/02/09', 78.53, 78.0, 79.22, 77.45],
    ['2023/02/10', 78.35, 78.7, 79.32, 78.11],
    ['2023/02/13', 77.95, 78.9, 79.76, 77.1],
    ['2023/02/14', 78.0, 78.9, 80.0, 77.45],
    ['2023/02/15', 77.6, 78.83, 78.83, 77.11],
    ['2023/02/16', 78.15, 78.62, 79.57, 77.98],
    ['2023/02/17', 77.41, 73.84, 77.54, 73.44],
    ['2023/02/21', 71.91, 67.2, 72.62, 67.07],
    ['2023/02/22', 66.05, 64.75, 68.13, 62.75],
    ['2023/02/23', 65.65, 64.94, 66.05, 63.3],
    ['2023/02/24', 63.96, 65.3, 66.09, 63.5],
    ['2023/02/27', 65.34, 66.76, 66.89, 64.76],
    ['2023/02/28', 67.57, 67.25, 67.89, 66.44],
    ['2023/03/01', 67.88, 70.12, 70.92, 67.45],
    ['2023/03/02', 69.58, 70.13, 70.72, 68.88],
    ['2023/03/03', 69.31, 72.21, 72.49, 69.02],
    ['2023/03/06', 74.78, 75.65, 77.71, 73.86],
    ['2023/03/07', 75.09, 73.49, 75.77, 73.43],
    ['2023/03/08', 73.0, 71.28, 73.52, 70.51],
    ['2023/03/09', 71.3, 67.15, 72.09, 67.12],
    ['2023/03/10', 67.34, 64.63, 69.13, 64.18],
    ['2023/03/13', 61.8, 64.02, 65.15, 61.64],
    ['2023/03/14', 65.08, 65.76, 68.38, 64.63],
    ['2023/03/15', 62.0, 61.67, 63.1, 60.08],
    ['2023/03/16', 60.28, 61.86, 62.63, 59.26],
    ['2023/03/17', 61.33, 59.74, 61.7, 58.15],
    ['2023/03/20', 60.24, 62.22, 62.48, 60.24],
    ['2023/03/21', 64.0, 64.67, 65.84, 63.28],
    ['2023/03/22', 65.13, 62.58, 65.8, 62.41],
    ['2023/03/23', 63.15, 62.37, 65.17, 61.08],
    ['2023/03/24', 61.02, 62.41, 63.09, 60.51],
    ['2023/03/27', 63.41, 65.34, 65.96, 62.0],
    ['2023/03/28', 65.1, 65.99, 66.36, 65.1],
    ['2023/03/29', 67.02, 66.34, 67.37, 65.21],
    ['2023/03/30', 66.73, 64.64, 67.51, 64.43],
    ['2023/03/31', 65.07, 65.06, 65.7, 64.61],
    ['2023/04/03', 68.39, 66.75, 68.39, 65.7],
    ['2023/04/04', 66.84, 63.69, 66.84, 62.12],
    ['2023/04/05', 63.73, 61.48, 64.03, 60.53],
    ['2023/04/06', 61.57, 60.78, 61.72, 60.19],
    ['2023/04/10', 60.95, 63.14, 63.39, 60.95],
    ['2023/04/11', 63.98, 65.74, 66.65, 63.19],
    ['2023/04/12', 66.61, 65.59, 66.95, 64.7],
    ['2023/04/13', 65.8, 66.54, 66.71, 65.49],
    ['2023/04/14', 66.9, 65.99, 67.38, 65.27],
    ['2023/04/17', 65.73, 66.73, 66.83, 65.37],
    ['2023/04/18', 66.74, 66.96, 67.35, 65.8],
    ['2023/04/19', 66.0, 63.37, 66.0, 63.0],
    ['2023/04/20', 62.45, 60.51, 62.85, 60.07],
    ['2023/04/21', 60.69, 60.96, 61.59, 60.0],
    ['2023/04/24', 60.82, 63.02, 63.47, 60.82],
    ['2023/04/25', 61.83, 60.28, 62.21, 59.65],
    ['2023/04/26', 59.79, 58.68, 61.51, 58.25],
    ['2023/04/27', 58.68, 58.2, 59.04, 57.29],
    ['2023/04/28', 57.81, 60.0, 60.72, 57.56],
    ['2023/05/01', 58.6, 59.51, 59.99, 58.12],
    ['2023/05/02', 62.24, 56.9, 62.5, 55.68],
    ['2023/05/03', 55.33, 55.4, 57.25, 54.45],
    ['2023/05/04', 55.67, 55.0, 56.83, 54.13],
    ['2023/05/05', 57.35, 57.04, 58.81, 55.87],
    ['2023/05/08', 58.13, 58.7, 58.79, 57.51],
    ['2023/05/09', 57.96, 57.99, 58.65, 57.46],
    ['2023/05/10', 58.78, 59.43, 60.02, 57.23],
    ['2023/05/11', 57.98, 57.92, 58.6, 57.23],
    ['2023/05/12', 58.86, 59.47, 59.87, 58.4],
    ['2023/05/15', 59.79, 59.9, 60.57, 58.43],
    ['2023/05/16', 59.65, 57.81, 59.95, 57.8],
    ['2023/05/17', 58.5, 58.03, 58.5, 56.7],
    ['2023/05/18', 57.37, 58.13, 58.3, 56.22],
    ['2023/05/19', 58.89, 58.04, 59.36, 57.74],
    ['2023/05/22', 58.4, 61.24, 62.37, 58.25],
    ['2023/05/23', 61.98, 61.2, 63.5, 61.15],
    ['2023/05/24', 61.26, 62.61, 63.5, 61.26],
    ['2023/05/25', 61.03, 60.84, 61.62, 59.27],
    ['2023/05/26', 61.38, 60.99, 62.03, 60.62],
    ['2023/05/30', 59.58, 60.59, 60.77, 58.4],
    ['2023/05/31', 58.83, 57.73, 59.87, 57.4],
    ['2023/06/01', 57.46, 60.78, 61.2, 57.45],
    ['2023/06/02', 63.08, 62.21, 63.32, 61.03],
    ['2023/06/05', 62.24, 61.44, 63.4, 60.57],
    ['2023/06/06', 60.31, 61.53, 62.63, 60.21],
    ['2023/06/07', 62.1, 62.01, 63.5, 61.57],
    ['2023/06/08', 62.01, 62.17, 63.28, 61.35],
    ['2023/06/09', 61.15, 60.37, 61.61, 59.48],
    ['2023/06/12', 59.33, 57.18, 60.31, 57.13],
    ['2023/06/13', 58.46, 57.35, 59.75, 57.3],
    ['2023/06/14', 58.09, 58.16, 58.55, 57.02],
    ['2023/06/15', 58.22, 58.22, 58.94, 57.82],
    ['2023/06/16', 59.5, 58.01, 60.0, 57.97],
    ['2023/06/20', 57.07, 56.97, 57.82, 55.53],
    ['2023/06/21', 56.43, 58.15, 58.61, 56.27],
    ['2023/06/22', 57.32, 57.88, 58.33, 56.93],
    ['2023/06/23', 56.37, 56.56, 56.8, 55.53],
    ['2023/06/26', 56.92, 58.11, 58.78, 56.92],
    ['2023/06/27', 58.2, 58.14, 58.72, 57.51],
    ['2023/06/28', 57.54, 56.7, 58.27, 56.07],
    ['2023/06/29', 56.86, 59.37, 59.4, 56.71],
    ['2023/06/30', 60.0, 62.93, 63.52, 59.35],
    ['2023/07/03', 63.0, 63.11, 63.97, 62.42],
    ['2023/07/05', 64.0, 64.39, 64.96, 63.37],
    ['2023/07/06', 63.69, 64.19, 64.6, 62.09],
    ['2023/07/07', 64.2, 66.61, 67.22, 63.51],
    ['2023/07/10', 66.77, 68.48, 68.48, 66.69],
    ['2023/07/11', 68.94, 70.16, 70.53, 68.57],
    ['2023/07/12', 71.27, 70.69, 71.46, 69.54],
    ['2023/07/13', 70.5, 70.75, 71.92, 69.75],
    ['2023/07/14', 70.49, 68.67, 70.65, 68.36],
    ['2023/07/17', 67.72, 69.77, 70.12, 67.44],
    ['2023/07/18', 70.3, 71.63, 72.59, 70.28],
    ['2023/07/19', 71.85, 72.33, 73.02, 71.07],
    ['2023/07/20', 72.62, 73.03, 74.06, 72.42],
    ['2023/07/21', 73.21, 74.0, 74.15, 72.52],
    ['2023/07/24', 74.21, 75.6, 76.24, 74.21],
    ['2023/07/25', 75.0, 75.85, 76.63, 73.66],
    ['2023/07/26', 75.0, 74.98, 76.29, 74.73],
    ['2023/07/27', 75.69, 74.2, 75.99, 73.99],
    ['2023/07/28', 74.52, 75.74, 75.94, 74.31],
    ['2023/07/31', 76.83, 76.8, 77.77, 76.5],
    ['2023/08/01', 75.63, 75.92, 76.54, 74.01],
    ['2023/08/02', 74.64, 74.96, 75.24, 71.66],
]);
var volumes = [
    519800.0,
    643300.0,
    421700.0,
    610200.0,
    669000.0,
    366300.0,
    707400.0,
    530500.0,
    713900.0,
    395900.0,
    623000.0,
    582600.0,
    781600.0,
    427900.0,
    683800.0,
    626000.0,
    486100.0,
    405000.0,
    573700.0,
    475300.0,
    958800.0,
    534700.0,
    911500.0,
    640000.0,
    780000.0,
    603300.0,
    1413600.0,
    1674900.0,
    1208700.0,
    1395200.0,
    1506800.0,
    3939700.0,
    1089800.0,
    1052400.0,
    791500.0,
    876400.0,
    1479000.0,
    896500.0,
    592000.0,
    1187800.0,
    634600.0,
    504400.0,
    1065800.0,
    851500.0,
    904500.0,
    550800.0,
    731500.0,
    401200.0,
    601400.0,
    756700.0,
    724400.0,
    579100.0,
    437000.0,
    647700.0,
    874000.0,
    630300.0,
    802400.0,
    863300.0,
    963100.0,
    947200.0,
    1335600.0,
    783000.0,
    1287100.0,
    1375700.0,
    1011500.0,
    729500.0,
    769200.0,
    913700.0,
    766000.0,
    583000.0,
    614700.0,
    1237100.0,
    837000.0,
    947000.0,
    846100.0,
    531700.0,
    779000.0,
    881900.0,
    612300.0,
    330300.0,
    282000.0,
    623000.0,
    397600.0,
    666700.0,
    426900.0,
    621300.0,
    475000.0,
    514200.0,
    788400.0,
    444100.0,
    810000.0,
    783800.0,
    1151100.0,
    481400.0,
    389300.0,
    742200.0,
    433000.0,
    595000.0,
    597300.0,
    346800.0,
    370300.0,
    270100.0,
    276400.0,
    305000.0,
    391100.0,
    445800.0,
    432600.0,
    551000.0,
    584000.0,
    779900.0,
    457100.0,
    616300.0,
    1032900.0,
    1173600.0,
    1058500.0,
    1222300.0,
    1007400.0,
    931000.0,
    795100.0,
    442700.0,
    545100.0,
    513800.0,
    485200.0,
    947300.0,
    649500.0,
    941000.0,
    1237500.0,
    1000000.0,
    557700.0,
    916200.0,
    1146900.0,
    715900.0,
    553900.0,
    427100.0,
    656000.0,
    659600.0,
    544500.0,
    961500.0,
    2147300.0,
    1857300.0,
    1386400.0,
    717800.0,
    626500.0,
    929500.0,
    1008900.0,
    772200.0,
    825500.0,
    2929500.0,
    1112200.0,
    1324500.0,
    1356200.0,
    1249300.0,
    1211200.0,
    1068500.0,
    1824200.0,
    1220200.0,
    9912500.0,
    848200.0,
    1047600.0,
    1267900.0,
    962100.0,
    1653300.0,
    949300.0,
    899400.0,
    709600.0,
    561800.0,
    532400.0,
    1124200.0,
    945400.0,
    1376100.0,
    853900.0,
    563500.0,
    765200.0,
    597000.0,
    738400.0,
    464900.0,
    386200.0,
    470700.0,
    718100.0,
    738800.0,
    880400.0,
    496400.0,
    486900.0,
    694700.0,
    1235900.0,
    694500.0,
    1451400.0,
    1252100.0,
    1545400.0,
    2210900.0,
    1661200.0,
    642500.0,
    754800.0,
    1236400.0,
    840700.0,
    1050200.0,
    812100.0,
    543800.0,
    546300.0,
    569700.0,
    588200.0,
    862700.0,
    946700.0,
    625000.0,
    640400.0,
    551900.0,
    757200.0,
    2028100.0,
    624300.0,
    962600.0,
    573500.0,
    440200.0,
    865000.0,
    709900.0,
    842700.0,
    1009500.0,
    992900.0,
    952000.0,
    1024700.0,
    1077900.0,
    908000.0,
    697300.0,
    612500.0,
    1477400.0,
    590300.0,
    717800.0,
    901500.0,
    1032800.0,
    1096400.0,
    455900.0,
    1446500.0,
    913400.0,
    1053800.0,
    915700.0,
    843900.0,
    833900.0,
    721400.0,
    481000.0,
    543100.0,
    882600.0,
    1032600.0,
    1191900.0,
    873100.0,
    862700.0,
    811200.0,
    1238100.0,
    694600.0,
    549200.0,
    818000.0,
    1349200.0,
    1315700.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "VAL",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);