/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_TBBK");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/12', 24.68, 25.2, 25.24, 24.34],
    ['2022/08/15', 24.99, 25.77, 25.79, 24.78],
    ['2022/08/16', 25.54, 26.27, 26.59, 25.54],
    ['2022/08/17', 25.93, 25.9, 26.02, 25.36],
    ['2022/08/18', 25.85, 25.53, 25.97, 25.37],
    ['2022/08/19', 25.19, 24.52, 25.19, 24.39],
    ['2022/08/22', 24.02, 23.78, 24.13, 23.72],
    ['2022/08/23', 23.88, 23.76, 24.15, 23.72],
    ['2022/08/24', 23.75, 23.94, 24.39, 23.54],
    ['2022/08/25', 24.07, 24.26, 24.51, 23.74],
    ['2022/08/26', 24.38, 23.77, 24.62, 23.66],
    ['2022/08/29', 23.51, 23.65, 23.88, 23.41],
    ['2022/08/30', 23.83, 23.85, 23.93, 23.45],
    ['2022/08/31', 24.01, 23.72, 24.06, 23.72],
    ['2022/09/01', 23.61, 23.67, 23.71, 23.13],
    ['2022/09/02', 24.07, 23.59, 24.46, 23.44],
    ['2022/09/06', 23.6, 22.94, 24.25, 22.65],
    ['2022/09/07', 22.85, 23.28, 23.3, 22.73],
    ['2022/09/08', 22.98, 23.73, 23.94, 22.89],
    ['2022/09/09', 23.89, 24.37, 24.5, 23.72],
    ['2022/09/12', 24.4, 24.23, 24.7, 24.01],
    ['2022/09/13', 23.47, 23.17, 23.59, 23.04],
    ['2022/09/14', 23.18, 22.88, 23.27, 22.62],
    ['2022/09/15', 22.88, 23.41, 23.69, 22.88],
    ['2022/09/16', 23.01, 23.15, 23.23, 22.44],
    ['2022/09/19', 22.92, 23.48, 23.73, 22.56],
    ['2022/09/20', 23.22, 23.79, 23.91, 23.22],
    ['2022/09/21', 23.92, 23.61, 24.45, 23.57],
    ['2022/09/22', 23.62, 22.9, 23.68, 22.63],
    ['2022/09/23', 22.53, 22.49, 22.73, 22.13],
    ['2022/09/26', 22.28, 22.24, 22.75, 22.09],
    ['2022/09/27', 22.44, 22.06, 22.76, 21.82],
    ['2022/09/28', 22.12, 22.4, 22.67, 21.94],
    ['2022/09/29', 22.07, 22.03, 22.18, 21.59],
    ['2022/09/30', 22.04, 21.98, 22.71, 21.94],
    ['2022/10/03', 22.14, 22.6, 22.97, 21.76],
    ['2022/10/04', 22.81, 23.71, 23.81, 22.81],
    ['2022/10/05', 23.27, 23.57, 23.58, 23.09],
    ['2022/10/06', 23.33, 23.35, 23.69, 23.3],
    ['2022/10/07', 23.14, 22.68, 23.22, 22.58],
    ['2022/10/10', 22.76, 22.85, 23.3, 22.74],
    ['2022/10/11', 22.72, 23.36, 23.56, 22.11],
    ['2022/10/12', 23.39, 23.2, 23.51, 22.8],
    ['2022/10/13', 22.78, 24.3, 24.36, 22.57],
    ['2022/10/14', 24.55, 24.2, 24.89, 24.06],
    ['2022/10/17', 24.58, 25.34, 25.41, 24.48],
    ['2022/10/18', 25.85, 25.22, 26.05, 24.99],
    ['2022/10/19', 24.87, 24.72, 25.2, 24.3],
    ['2022/10/20', 24.6, 23.9, 24.86, 23.37],
    ['2022/10/21', 24.08, 24.16, 24.38, 23.67],
    ['2022/10/24', 24.47, 25.03, 25.27, 24.24],
    ['2022/10/25', 24.91, 25.16, 25.46, 24.74],
    ['2022/10/26', 25.11, 25.2, 25.61, 25.11],
    ['2022/10/27', 25.37, 25.17, 25.7, 25.03],
    ['2022/10/28', 24.5, 28.37, 28.46, 23.3],
    ['2022/10/31', 28.45, 27.58, 29.59, 27.47],
    ['2022/11/01', 27.94, 28.3, 28.31, 27.38],
    ['2022/11/02', 28.77, 28.53, 29.19, 27.96],
    ['2022/11/03', 28.29, 29.0, 29.37, 27.88],
    ['2022/11/04', 29.39, 30.55, 30.58, 29.3],
    ['2022/11/07', 30.61, 30.25, 30.85, 30.15],
    ['2022/11/08', 30.26, 29.28, 30.55, 29.17],
    ['2022/11/09', 29.02, 29.16, 29.71, 28.86],
    ['2022/11/10', 30.0, 29.91, 30.69, 29.84],
    ['2022/11/11', 29.9, 29.46, 30.25, 29.41],
    ['2022/11/14', 29.31, 30.48, 30.61, 29.11],
    ['2022/11/15', 30.75, 30.88, 31.59, 30.51],
    ['2022/11/16', 30.73, 30.26, 30.89, 30.13],
    ['2022/11/17', 29.95, 29.72, 30.23, 29.45],
    ['2022/11/18', 30.44, 29.62, 30.53, 29.48],
    ['2022/11/21', 29.54, 30.25, 30.4, 29.54],
    ['2022/11/22', 30.36, 30.38, 30.78, 30.16],
    ['2022/11/23', 30.32, 30.61, 30.9, 30.31],
    ['2022/11/25', 30.55, 31.1, 31.4, 30.51],
    ['2022/11/28', 30.76, 29.8, 30.78, 29.61],
    ['2022/11/29', 29.81, 29.4, 30.1, 29.36],
    ['2022/11/30', 29.58, 29.97, 30.13, 29.14],
    ['2022/12/01', 30.12, 30.05, 30.55, 29.62],
    ['2022/12/02', 29.51, 29.75, 30.07, 29.51],
    ['2022/12/05', 29.54, 28.98, 29.67, 28.38],
    ['2022/12/06', 28.94, 28.57, 29.15, 28.19],
    ['2022/12/07', 28.45, 28.56, 29.0, 28.16],
    ['2022/12/08', 28.67, 28.73, 29.13, 28.51],
    ['2022/12/09', 28.57, 28.65, 28.94, 28.53],
    ['2022/12/12', 28.69, 28.72, 29.05, 28.34],
    ['2022/12/13', 29.39, 28.66, 29.68, 28.19],
    ['2022/12/14', 28.74, 28.26, 28.75, 28.12],
    ['2022/12/15', 28.11, 27.47, 28.26, 27.35],
    ['2022/12/16', 27.12, 27.99, 28.07, 27.1],
    ['2022/12/19', 27.94, 28.02, 28.11, 27.66],
    ['2022/12/20', 28.05, 28.17, 28.5, 27.95],
    ['2022/12/21', 28.42, 28.92, 29.11, 28.42],
    ['2022/12/22', 28.81, 28.49, 28.81, 28.11],
    ['2022/12/23', 28.52, 28.97, 29.26, 28.46],
    ['2022/12/27', 29.08, 28.81, 29.55, 28.78],
    ['2022/12/28', 28.94, 28.29, 29.15, 28.24],
    ['2022/12/29', 28.47, 28.73, 28.95, 28.43],
    ['2022/12/30', 28.47, 28.38, 28.72, 28.15],
    ['2023/01/03', 28.63, 29.33, 29.59, 28.63],
    ['2023/01/04', 29.62, 29.47, 29.85, 29.23],
    ['2023/01/05', 29.18, 28.67, 29.18, 28.49],
    ['2023/01/06', 28.8, 29.6, 29.74, 28.79],
    ['2023/01/09', 29.75, 28.98, 29.89, 28.92],
    ['2023/01/10', 29.07, 29.69, 29.73, 29.06],
    ['2023/01/11', 29.87, 30.11, 30.14, 29.81],
    ['2023/01/12', 30.19, 30.25, 30.59, 29.95],
    ['2023/01/13', 29.75, 30.27, 30.32, 29.6],
    ['2023/01/17', 30.23, 30.29, 30.49, 29.93],
    ['2023/01/18', 30.24, 29.05, 30.24, 29.03],
    ['2023/01/19', 28.77, 28.3, 28.86, 27.96],
    ['2023/01/20', 28.82, 28.63, 28.87, 28.22],
    ['2023/01/23', 28.62, 28.95, 29.23, 28.53],
    ['2023/01/24', 28.93, 28.71, 29.09, 28.56],
    ['2023/01/25', 28.59, 29.21, 29.23, 28.23],
    ['2023/01/26', 29.39, 29.17, 29.7, 28.7],
    ['2023/01/27', 30.09, 33.83, 34.8, 29.58],
    ['2023/01/30', 34.21, 32.71, 34.49, 32.22],
    ['2023/01/31', 32.76, 33.93, 34.02, 32.42],
    ['2023/02/01', 33.89, 34.11, 34.39, 33.58],
    ['2023/02/02', 34.25, 34.97, 35.53, 34.25],
    ['2023/02/03', 34.67, 35.72, 35.9, 34.67],
    ['2023/02/06', 35.44, 35.7, 35.99, 35.35],
    ['2023/02/07', 35.56, 35.68, 36.07, 35.18],
    ['2023/02/08', 35.21, 35.35, 35.61, 34.96],
    ['2023/02/09', 35.53, 35.17, 35.65, 34.84],
    ['2023/02/10', 34.97, 34.87, 35.12, 34.67],
    ['2023/02/13', 35.1, 35.67, 35.74, 34.66],
    ['2023/02/14', 35.56, 35.81, 36.14, 35.15],
    ['2023/02/15', 35.63, 36.34, 36.41, 35.45],
    ['2023/02/16', 36.07, 36.1, 36.35, 35.59],
    ['2023/02/17', 36.13, 37.16, 37.58, 36.12],
    ['2023/02/21', 36.81, 34.39, 36.81, 34.27],
    ['2023/02/22', 34.48, 34.08, 34.9, 33.43],
    ['2023/02/23', 34.24, 34.12, 34.67, 33.87],
    ['2023/02/24', 33.84, 34.3, 34.3, 33.53],
    ['2023/02/27', 34.67, 34.54, 35.08, 34.32],
    ['2023/02/28', 34.62, 34.59, 35.42, 34.57],
    ['2023/03/01', 34.55, 34.6, 34.98, 34.37],
    ['2023/03/02', 34.27, 34.57, 34.69, 33.76],
    ['2023/03/03', 34.76, 35.27, 35.35, 34.4],
    ['2023/03/06', 35.35, 34.73, 35.41, 34.22],
    ['2023/03/07', 34.63, 33.63, 34.7, 33.46],
    ['2023/03/08', 33.77, 34.03, 34.1, 33.37],
    ['2023/03/09', 33.57, 32.23, 33.9, 32.0],
    ['2023/03/10', 31.4, 30.49, 31.53, 29.7],
    ['2023/03/13', 29.04, 26.0, 29.08, 25.13],
    ['2023/03/14', 29.54, 30.15, 31.55, 27.67],
    ['2023/03/15', 28.55, 29.95, 30.98, 28.08],
    ['2023/03/16', 29.27, 31.99, 32.53, 29.0],
    ['2023/03/17', 31.21, 29.92, 31.49, 29.23],
    ['2023/03/20', 30.67, 29.01, 30.96, 28.95],
    ['2023/03/21', 30.46, 30.25, 31.09, 30.15],
    ['2023/03/22', 30.16, 28.57, 30.24, 28.54],
    ['2023/03/23', 28.97, 27.62, 29.08, 27.48],
    ['2023/03/24', 27.04, 28.21, 28.44, 27.01],
    ['2023/03/27', 29.39, 28.96, 29.39, 28.72],
    ['2023/03/28', 28.74, 28.34, 29.11, 28.15],
    ['2023/03/29', 28.8, 28.25, 28.87, 28.08],
    ['2023/03/30', 28.51, 27.58, 28.63, 27.49],
    ['2023/03/31', 27.91, 27.85, 28.37, 27.41],
    ['2023/04/03', 28.02, 27.85, 28.54, 27.55],
    ['2023/04/04', 28.06, 27.04, 28.06, 26.44],
    ['2023/04/05', 26.56, 26.8, 27.05, 26.42],
    ['2023/04/06', 26.81, 27.35, 27.56, 26.81],
    ['2023/04/10', 27.14, 27.75, 27.9, 26.93],
    ['2023/04/11', 27.86, 27.86, 28.34, 27.54],
    ['2023/04/12', 28.09, 27.67, 28.44, 27.62],
    ['2023/04/13', 27.84, 27.75, 28.31, 27.66],
    ['2023/04/14', 28.17, 27.0, 28.42, 26.92],
    ['2023/04/17', 26.94, 27.35, 27.45, 26.61],
    ['2023/04/18', 27.35, 26.89, 27.68, 26.83],
    ['2023/04/19', 27.01, 27.91, 28.18, 26.93],
    ['2023/04/20', 27.44, 27.44, 27.73, 27.01],
    ['2023/04/21', 27.34, 27.36, 27.58, 27.04],
    ['2023/04/24', 27.25, 27.3, 27.75, 27.1],
    ['2023/04/25', 26.9, 26.08, 27.15, 25.97],
    ['2023/04/26', 26.12, 26.69, 26.92, 26.12],
    ['2023/04/27', 27.07, 27.8, 27.89, 26.97],
    ['2023/04/28', 28.98, 31.91, 32.82, 28.49],
    ['2023/05/01', 32.17, 30.74, 32.17, 30.37],
    ['2023/05/02', 30.59, 29.72, 30.75, 29.29],
    ['2023/05/03', 29.87, 30.04, 31.22, 29.87],
    ['2023/05/04', 28.96, 29.01, 29.53, 28.04],
    ['2023/05/05', 30.48, 30.78, 30.99, 29.85],
    ['2023/05/08', 31.17, 29.74, 31.17, 29.71],
    ['2023/05/09', 29.51, 29.25, 29.76, 29.13],
    ['2023/05/10', 30.06, 29.08, 30.06, 28.91],
    ['2023/05/11', 28.5, 28.49, 29.41, 28.46],
    ['2023/05/12', 28.85, 28.8, 28.99, 28.41],
    ['2023/05/15', 28.77, 29.75, 29.83, 28.77],
    ['2023/05/16', 29.85, 29.11, 30.14, 29.04],
    ['2023/05/17', 29.93, 32.01, 32.15, 29.5],
    ['2023/05/18', 31.99, 31.78, 32.07, 30.75],
    ['2023/05/19', 32.3, 31.25, 32.38, 30.77],
    ['2023/05/22', 31.52, 31.29, 31.69, 31.15],
    ['2023/05/23', 31.25, 31.56, 31.8, 31.0],
    ['2023/05/24', 31.19, 31.92, 31.99, 30.8],
    ['2023/05/25', 31.77, 32.34, 32.46, 31.77],
    ['2023/05/26', 32.0, 33.04, 33.56, 32.0],
    ['2023/05/30', 33.15, 32.68, 33.49, 32.2],
    ['2023/05/31', 32.36, 30.86, 32.55, 30.73],
    ['2023/06/01', 31.09, 31.39, 32.4, 30.91],
    ['2023/06/02', 32.25, 33.32, 33.57, 31.82],
    ['2023/06/05', 33.13, 32.76, 33.3, 32.35],
    ['2023/06/06', 32.76, 34.59, 34.95, 32.76],
    ['2023/06/07', 35.1, 35.75, 36.1, 34.67],
    ['2023/06/08', 35.54, 36.17, 36.28, 33.21],
    ['2023/06/09', 36.2, 35.85, 36.69, 35.77],
    ['2023/06/12', 35.91, 35.19, 36.67, 35.08],
    ['2023/06/13', 35.49, 36.35, 36.49, 35.02],
    ['2023/06/14', 36.56, 35.81, 36.78, 35.49],
    ['2023/06/15', 35.35, 35.79, 36.19, 35.35],
    ['2023/06/16', 36.14, 34.85, 36.14, 34.45],
    ['2023/06/20', 34.68, 34.16, 34.89, 33.92],
    ['2023/06/21', 34.15, 33.69, 34.45, 33.44],
    ['2023/06/22', 33.62, 32.73, 33.67, 32.42],
    ['2023/06/23', 32.05, 31.74, 32.53, 31.37],
    ['2023/06/26', 31.9, 31.79, 32.51, 31.69],
    ['2023/06/27', 31.94, 31.83, 32.47, 31.55],
    ['2023/06/28', 31.82, 31.97, 32.29, 31.24],
    ['2023/06/29', 31.99, 32.64, 33.08, 31.99],
    ['2023/06/30', 33.0, 32.65, 33.0, 32.22],
    ['2023/07/03', 32.55, 33.2, 33.33, 32.44],
    ['2023/07/05', 33.12, 32.62, 33.31, 32.6],
    ['2023/07/06', 32.45, 32.16, 32.45, 31.55],
    ['2023/07/07', 32.15, 32.35, 32.98, 31.72],
    ['2023/07/10', 32.28, 33.36, 33.38, 32.22],
    ['2023/07/11', 33.5, 33.46, 33.92, 33.17],
    ['2023/07/12', 34.03, 35.1, 35.34, 34.03],
    ['2023/07/13', 35.37, 36.1, 36.24, 35.1],
    ['2023/07/14', 36.36, 35.49, 36.36, 35.19],
    ['2023/07/17', 35.49, 36.78, 37.08, 35.49],
    ['2023/07/18', 36.9, 38.55, 38.86, 36.66],
    ['2023/07/19', 38.75, 38.66, 39.16, 38.32],
    ['2023/07/20', 38.66, 38.2, 38.86, 37.56],
    ['2023/07/21', 38.7, 38.54, 38.8, 38.17],
    ['2023/07/24', 38.53, 39.48, 39.9, 38.53],
    ['2023/07/25', 39.48, 39.38, 40.33, 39.09],
    ['2023/07/26', 39.95, 40.59, 40.72, 39.74],
    ['2023/07/27', 41.42, 39.06, 41.52, 38.56],
    ['2023/07/28', 39.45, 38.5, 40.1, 37.77],
    ['2023/07/31', 38.71, 37.9, 38.93, 37.15],
    ['2023/08/01', 37.84, 38.45, 38.63, 37.11],
    ['2023/08/02', 38.35, 38.54, 39.02, 38.03],
    ['2023/08/03', 38.32, 39.62, 39.66, 38.04],
    ['2023/08/04', 39.67, 40.05, 40.89, 39.6],
    ['2023/08/07', 40.34, 40.36, 40.61, 39.95],
    ['2023/08/08', 39.22, 40.2, 40.31, 38.76],
    ['2023/08/09', 40.05, 38.71, 40.06, 38.53],
    ['2023/08/10', 39.09, 38.42, 39.28, 37.95],
]);
var volumes = [
    268800.0,
    264600.0,
    329900.0,
    323300.0,
    453100.0,
    307600.0,
    216900.0,
    211700.0,
    204000.0,
    173200.0,
    225900.0,
    199300.0,
    247400.0,
    245200.0,
    255000.0,
    188500.0,
    308400.0,
    249300.0,
    205100.0,
    185500.0,
    230800.0,
    308200.0,
    214900.0,
    229100.0,
    747700.0,
    262200.0,
    168400.0,
    205600.0,
    190100.0,
    198600.0,
    183500.0,
    173800.0,
    262200.0,
    201400.0,
    229900.0,
    318100.0,
    282500.0,
    207200.0,
    173400.0,
    261300.0,
    141700.0,
    255200.0,
    209200.0,
    219100.0,
    287600.0,
    260900.0,
    304000.0,
    209500.0,
    300000.0,
    351800.0,
    239700.0,
    349100.0,
    218100.0,
    348100.0,
    633700.0,
    637100.0,
    487200.0,
    630400.0,
    348200.0,
    448500.0,
    349000.0,
    297000.0,
    254500.0,
    422600.0,
    333900.0,
    416700.0,
    328800.0,
    287100.0,
    199200.0,
    353600.0,
    202000.0,
    227500.0,
    230200.0,
    114800.0,
    257100.0,
    182200.0,
    394000.0,
    168500.0,
    163900.0,
    319300.0,
    227900.0,
    248100.0,
    188100.0,
    195600.0,
    290500.0,
    369800.0,
    474300.0,
    412500.0,
    1097600.0,
    237500.0,
    275600.0,
    296200.0,
    208800.0,
    207100.0,
    211900.0,
    175300.0,
    176200.0,
    333500.0,
    464800.0,
    374100.0,
    270600.0,
    223100.0,
    155600.0,
    186100.0,
    140500.0,
    161700.0,
    155600.0,
    172700.0,
    252700.0,
    355400.0,
    350700.0,
    280400.0,
    200700.0,
    572600.0,
    234700.0,
    1318000.0,
    532700.0,
    546200.0,
    487800.0,
    409200.0,
    347400.0,
    334100.0,
    202600.0,
    183400.0,
    176500.0,
    263400.0,
    266300.0,
    185200.0,
    203100.0,
    212600.0,
    450600.0,
    443700.0,
    447300.0,
    274600.0,
    266300.0,
    310000.0,
    466400.0,
    232600.0,
    269500.0,
    262400.0,
    297800.0,
    305900.0,
    165600.0,
    388000.0,
    743800.0,
    1861800.0,
    1159700.0,
    623100.0,
    664100.0,
    1040400.0,
    448700.0,
    475600.0,
    418200.0,
    446900.0,
    501400.0,
    375500.0,
    363600.0,
    308900.0,
    791600.0,
    537200.0,
    590200.0,
    315800.0,
    335700.0,
    338000.0,
    284700.0,
    252100.0,
    213900.0,
    264900.0,
    300100.0,
    281800.0,
    193700.0,
    225700.0,
    256900.0,
    175500.0,
    168200.0,
    206500.0,
    367400.0,
    460400.0,
    973800.0,
    401500.0,
    616400.0,
    497400.0,
    568100.0,
    417000.0,
    351100.0,
    188500.0,
    345400.0,
    264700.0,
    190400.0,
    182100.0,
    212500.0,
    605100.0,
    419400.0,
    333100.0,
    372200.0,
    511300.0,
    420200.0,
    304500.0,
    243600.0,
    387100.0,
    553800.0,
    347300.0,
    488300.0,
    330900.0,
    328600.0,
    565500.0,
    404400.0,
    255300.0,
    276200.0,
    300200.0,
    360100.0,
    297800.0,
    835700.0,
    384900.0,
    202500.0,
    246400.0,
    1346600.0,
    332100.0,
    273200.0,
    231300.0,
    278100.0,
    312900.0,
    173400.0,
    224100.0,
    267800.0,
    314600.0,
    238200.0,
    230500.0,
    407400.0,
    364600.0,
    232400.0,
    218500.0,
    435800.0,
    320600.0,
    257200.0,
    346200.0,
    432000.0,
    438100.0,
    619300.0,
    677100.0,
    747400.0,
    570400.0,
    361100.0,
    260100.0,
    350900.0,
    499300.0,
    273700.0,
    242800.0,
    273500.0,
    272800.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "TBBK",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);