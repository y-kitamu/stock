/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_NTES");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/05', 87.41, 88.98, 89.2, 87.3],
    ['2022/08/08', 88.98, 89.46, 90.57, 88.53],
    ['2022/08/09', 89.0, 89.38, 90.13, 88.55],
    ['2022/08/10', 87.89, 89.82, 89.97, 87.89],
    ['2022/08/11', 91.45, 91.52, 93.27, 90.83],
    ['2022/08/12', 89.25, 91.88, 92.03, 89.25],
    ['2022/08/15', 90.53, 92.43, 92.77, 90.24],
    ['2022/08/16', 91.0, 93.18, 93.53, 91.0],
    ['2022/08/17', 92.13, 91.58, 92.98, 91.29],
    ['2022/08/18', 94.81, 86.11, 94.99, 85.01],
    ['2022/08/19', 85.42, 84.7, 85.82, 84.24],
    ['2022/08/22', 85.84, 85.72, 87.5, 85.54],
    ['2022/08/23', 86.6, 87.55, 87.99, 85.82],
    ['2022/08/24', 86.16, 88.19, 89.88, 86.06],
    ['2022/08/25', 90.87, 92.18, 92.92, 89.82],
    ['2022/08/26', 95.81, 90.06, 96.21, 89.82],
    ['2022/08/29', 88.94, 87.55, 90.2, 87.39],
    ['2022/08/30', 87.34, 86.95, 88.31, 86.08],
    ['2022/08/31', 90.52, 88.51, 91.79, 88.32],
    ['2022/09/01', 88.44, 88.13, 89.5, 87.44],
    ['2022/09/02', 89.56, 88.52, 89.95, 88.26],
    ['2022/09/06', 88.19, 86.79, 89.22, 86.69],
    ['2022/09/07', 85.9, 87.22, 87.46, 85.72],
    ['2022/09/08', 84.34, 85.5, 85.62, 83.1],
    ['2022/09/09', 86.9, 87.49, 88.63, 86.57],
    ['2022/09/12', 87.51, 87.46, 88.04, 86.55],
    ['2022/09/13', 87.22, 87.39, 88.83, 86.81],
    ['2022/09/14', 86.62, 85.42, 87.2, 84.69],
    ['2022/09/15', 84.96, 84.2, 85.59, 83.96],
    ['2022/09/16', 83.86, 82.71, 84.11, 82.15],
    ['2022/09/19', 81.39, 82.8, 82.86, 80.87],
    ['2022/09/20', 83.46, 83.98, 85.04, 83.24],
    ['2022/09/21', 80.97, 79.76, 81.86, 79.19],
    ['2022/09/22', 79.88, 78.95, 81.13, 78.95],
    ['2022/09/23', 77.85, 77.55, 78.08, 76.26],
    ['2022/09/26', 77.96, 77.88, 79.11, 77.8],
    ['2022/09/27', 78.51, 77.97, 80.04, 77.48],
    ['2022/09/28', 76.3, 78.05, 78.47, 76.11],
    ['2022/09/29', 75.37, 75.18, 76.05, 74.41],
    ['2022/09/30', 75.31, 75.6, 76.76, 75.15],
    ['2022/10/03', 75.13, 76.46, 77.08, 75.03],
    ['2022/10/04', 78.11, 79.92, 81.15, 77.69],
    ['2022/10/05', 80.15, 80.11, 81.78, 79.29],
    ['2022/10/06', 80.11, 79.8, 81.5, 79.7],
    ['2022/10/07', 78.64, 78.02, 79.2, 77.38],
    ['2022/10/10', 77.27, 75.16, 77.39, 74.99],
    ['2022/10/11', 73.67, 72.88, 74.0, 71.58],
    ['2022/10/12', 72.29, 71.89, 73.58, 71.53],
    ['2022/10/13', 68.3, 71.17, 71.85, 67.78],
    ['2022/10/14', 70.72, 68.6, 71.23, 67.82],
    ['2022/10/17', 69.64, 71.17, 72.69, 69.64],
    ['2022/10/18', 72.68, 70.68, 73.17, 69.84],
    ['2022/10/19', 68.76, 67.04, 69.49, 66.85],
    ['2022/10/20', 64.38, 64.69, 67.26, 63.03],
    ['2022/10/21', 60.71, 62.43, 62.75, 60.48],
    ['2022/10/24', 55.6, 56.28, 57.24, 53.09],
    ['2022/10/25', 57.98, 57.32, 59.45, 57.08],
    ['2022/10/26', 57.36, 58.82, 59.95, 57.23],
    ['2022/10/27', 57.29, 56.72, 58.61, 56.18],
    ['2022/10/28', 54.12, 55.41, 55.54, 53.86],
    ['2022/10/31', 55.01, 55.62, 56.58, 54.72],
    ['2022/11/01', 59.35, 59.57, 60.16, 58.02],
    ['2022/11/02', 59.71, 59.29, 60.97, 58.99],
    ['2022/11/03', 57.34, 59.15, 60.14, 57.3],
    ['2022/11/04', 63.53, 62.52, 64.25, 61.43],
    ['2022/11/07', 63.79, 62.63, 64.65, 61.74],
    ['2022/11/08', 61.03, 62.13, 63.03, 59.63],
    ['2022/11/09', 60.76, 59.22, 61.19, 59.0],
    ['2022/11/10', 62.1, 62.27, 63.3, 61.84],
    ['2022/11/11', 64.59, 64.76, 65.52, 63.91],
    ['2022/11/14', 66.0, 65.24, 66.89, 64.5],
    ['2022/11/15', 69.68, 71.6, 72.69, 69.34],
    ['2022/11/16', 74.76, 71.33, 74.96, 70.77],
    ['2022/11/17', 72.69, 71.0, 74.98, 69.46],
    ['2022/11/18', 69.0, 67.44, 69.02, 66.33],
    ['2022/11/21', 66.06, 66.28, 67.07, 64.92],
    ['2022/11/22', 64.05, 65.5, 65.79, 63.25],
    ['2022/11/23', 67.0, 66.63, 68.02, 66.21],
    ['2022/11/25', 65.51, 65.63, 66.85, 65.5],
    ['2022/11/28', 65.23, 66.96, 68.68, 65.23],
    ['2022/11/29', 69.64, 68.78, 71.33, 68.43],
    ['2022/11/30', 70.6, 71.12, 71.98, 69.12],
    ['2022/12/01', 68.91, 68.25, 69.38, 67.34],
    ['2022/12/02', 67.58, 70.9, 71.8, 67.43],
    ['2022/12/05', 71.3, 69.02, 72.4, 68.37],
    ['2022/12/06', 68.99, 68.21, 69.38, 67.28],
    ['2022/12/07', 66.39, 68.4, 69.51, 66.32],
    ['2022/12/08', 71.57, 71.21, 72.94, 70.83],
    ['2022/12/09', 71.21, 70.17, 72.09, 70.04],
    ['2022/12/12', 70.09, 69.35, 70.44, 67.92],
    ['2022/12/13', 71.62, 69.99, 72.82, 69.49],
    ['2022/12/14', 71.14, 72.98, 73.6, 70.84],
    ['2022/12/15', 73.56, 71.3, 74.92, 71.04],
    ['2022/12/16', 71.3, 71.3, 72.05, 70.27],
    ['2022/12/19', 71.31, 70.96, 71.74, 70.35],
    ['2022/12/20', 68.15, 69.71, 69.79, 67.96],
    ['2022/12/21', 69.95, 72.28, 72.62, 69.71],
    ['2022/12/22', 72.99, 72.18, 74.07, 71.6],
    ['2022/12/23', 72.14, 71.09, 72.75, 70.59],
    ['2022/12/27', 72.18, 73.14, 73.97, 71.97],
    ['2022/12/28', 73.71, 71.67, 74.34, 71.34],
    ['2022/12/29', 71.81, 73.15, 73.46, 71.4],
    ['2022/12/30', 72.59, 72.63, 73.94, 72.08],
    ['2023/01/03', 76.21, 76.45, 77.96, 75.38],
    ['2023/01/04', 80.5, 82.57, 82.94, 79.44],
    ['2023/01/05', 80.58, 82.06, 82.78, 80.23],
    ['2023/01/06', 81.26, 81.51, 83.0, 81.11],
    ['2023/01/09', 83.0, 79.52, 83.21, 79.44],
    ['2023/01/10', 81.1, 82.6, 83.09, 80.93],
    ['2023/01/11', 81.44, 84.1, 84.84, 81.32],
    ['2023/01/12', 84.08, 85.27, 85.46, 83.57],
    ['2023/01/13', 86.22, 88.36, 89.46, 86.0],
    ['2023/01/17', 87.1, 89.06, 89.84, 87.0],
    ['2023/01/18', 91.33, 88.5, 91.96, 88.48],
    ['2023/01/19', 88.6, 89.25, 90.48, 88.6],
    ['2023/01/20', 89.89, 89.09, 90.3, 88.15],
    ['2023/01/23', 89.56, 90.28, 91.63, 89.5],
    ['2023/01/24', 89.86, 89.95, 91.25, 89.64],
    ['2023/01/25', 89.75, 90.3, 90.45, 88.85],
    ['2023/01/26', 92.68, 92.29, 93.19, 91.08],
    ['2023/01/27', 91.84, 91.65, 92.14, 90.96],
    ['2023/01/30', 89.62, 89.58, 90.7, 89.08],
    ['2023/01/31', 89.57, 88.61, 89.8, 88.4],
    ['2023/02/01', 91.28, 91.77, 92.45, 89.96],
    ['2023/02/02', 90.89, 90.73, 91.68, 89.7],
    ['2023/02/03', 91.26, 89.9, 91.55, 89.85],
    ['2023/02/06', 87.42, 88.36, 88.98, 87.28],
    ['2023/02/07', 89.81, 88.32, 90.11, 87.32],
    ['2023/02/08', 90.12, 88.36, 90.34, 87.76],
    ['2023/02/09', 90.7, 89.2, 91.8, 88.9],
    ['2023/02/10', 87.77, 86.7, 88.56, 86.63],
    ['2023/02/13', 88.36, 87.86, 89.08, 87.79],
    ['2023/02/14', 87.39, 86.76, 87.39, 85.97],
    ['2023/02/15', 85.56, 86.37, 86.58, 84.81],
    ['2023/02/16', 87.4, 87.81, 88.9, 87.19],
    ['2023/02/17', 86.3, 85.84, 86.9, 85.32],
    ['2023/02/21', 84.76, 85.21, 86.3, 83.9],
    ['2023/02/22', 85.31, 86.05, 86.43, 84.9],
    ['2023/02/23', 88.0, 82.89, 89.8, 80.16],
    ['2023/02/24', 79.0, 78.64, 80.73, 77.67],
    ['2023/02/27', 79.6, 78.98, 79.95, 78.1],
    ['2023/02/28', 77.15, 77.64, 78.25, 76.85],
    ['2023/03/01', 83.15, 81.52, 83.35, 81.27],
    ['2023/03/02', 83.15, 85.59, 86.57, 82.82],
    ['2023/03/03', 86.13, 85.9, 87.88, 85.78],
    ['2023/03/06', 86.24, 86.46, 87.28, 85.57],
    ['2023/03/07', 85.56, 83.8, 85.6, 83.23],
    ['2023/03/08', 82.09, 83.06, 83.56, 82.08],
    ['2023/03/09', 81.35, 81.41, 83.22, 81.19],
    ['2023/03/10', 81.38, 82.83, 83.59, 81.38],
    ['2023/03/13', 82.54, 83.77, 84.92, 82.54],
    ['2023/03/14', 82.94, 85.31, 85.33, 82.69],
    ['2023/03/15', 83.74, 83.83, 84.84, 82.5],
    ['2023/03/16', 82.87, 85.51, 85.54, 82.87],
    ['2023/03/17', 86.9, 85.87, 87.47, 85.16],
    ['2023/03/20', 84.61, 85.87, 86.58, 84.47],
    ['2023/03/21', 85.58, 86.08, 86.23, 85.06],
    ['2023/03/22', 86.03, 85.17, 86.67, 84.9],
    ['2023/03/23', 88.9, 90.1, 90.89, 88.48],
    ['2023/03/24', 89.04, 89.4, 90.46, 88.84],
    ['2023/03/27', 87.68, 88.35, 88.5, 87.41],
    ['2023/03/28', 90.0, 90.69, 91.19, 89.44],
    ['2023/03/29', 88.75, 88.38, 88.89, 87.42],
    ['2023/03/30', 87.64, 88.59, 89.1, 87.62],
    ['2023/03/31', 88.08, 88.44, 89.49, 88.08],
    ['2023/04/03', 88.44, 89.76, 90.09, 88.44],
    ['2023/04/04', 89.5, 90.29, 90.88, 89.5],
    ['2023/04/05', 90.3, 88.63, 90.54, 88.26],
    ['2023/04/06', 89.2, 89.76, 90.06, 88.72],
    ['2023/04/10', 88.78, 89.02, 89.57, 88.5],
    ['2023/04/11', 89.81, 89.0, 90.07, 88.91],
    ['2023/04/12', 88.94, 88.04, 89.7, 87.71],
    ['2023/04/13', 89.8, 90.06, 90.55, 89.59],
    ['2023/04/14', 92.0, 90.44, 92.39, 90.01],
    ['2023/04/17', 92.51, 94.5, 94.99, 92.31],
    ['2023/04/18', 94.11, 92.55, 94.33, 92.25],
    ['2023/04/19', 90.09, 91.19, 92.56, 89.67],
    ['2023/04/20', 91.3, 91.32, 92.66, 90.75],
    ['2023/04/21', 90.22, 90.2, 91.12, 89.92],
    ['2023/04/24', 91.28, 90.28, 91.75, 90.2],
    ['2023/04/25', 87.86, 84.55, 87.9, 83.75],
    ['2023/04/26', 86.21, 85.88, 86.87, 85.68],
    ['2023/04/27', 85.88, 88.53, 88.98, 85.88],
    ['2023/04/28', 88.6, 89.13, 89.92, 88.4],
    ['2023/05/01', 88.18, 89.03, 89.57, 88.18],
    ['2023/05/02', 88.56, 89.05, 89.27, 87.78],
    ['2023/05/03', 88.89, 87.99, 88.94, 87.21],
    ['2023/05/04', 87.92, 88.81, 89.67, 87.69],
    ['2023/05/05', 88.39, 88.89, 89.36, 87.62],
    ['2023/05/08', 89.77, 91.14, 91.25, 89.68],
    ['2023/05/09', 87.64, 87.33, 88.46, 86.59],
    ['2023/05/10', 88.54, 88.74, 89.84, 87.38],
    ['2023/05/11', 88.12, 88.39, 88.68, 86.58],
    ['2023/05/12', 86.96, 85.18, 87.15, 84.89],
    ['2023/05/15', 87.71, 89.88, 90.06, 87.11],
    ['2023/05/16', 88.24, 89.64, 89.67, 88.2],
    ['2023/05/17', 88.38, 88.17, 88.8, 87.46],
    ['2023/05/18', 89.29, 87.04, 89.35, 86.72],
    ['2023/05/19', 88.11, 87.43, 88.26, 86.88],
    ['2023/05/22', 89.63, 88.53, 89.9, 88.53],
    ['2023/05/23', 86.13, 83.77, 86.27, 83.66],
    ['2023/05/24', 83.22, 83.49, 84.08, 82.35],
    ['2023/05/25', 83.5, 85.73, 87.5, 80.79],
    ['2023/05/26', 87.47, 89.51, 91.02, 87.39],
    ['2023/05/30', 87.75, 84.97, 89.79, 84.13],
    ['2023/05/31', 84.74, 85.08, 85.18, 82.89],
    ['2023/06/01', 83.9, 85.78, 86.29, 83.9],
    ['2023/06/02', 87.66, 86.61, 88.71, 86.42],
    ['2023/06/05', 85.73, 86.73, 87.39, 85.22],
    ['2023/06/06', 87.97, 91.38, 91.64, 87.57],
    ['2023/06/07', 91.21, 91.42, 93.97, 91.21],
    ['2023/06/08', 91.22, 92.2, 92.37, 91.22],
    ['2023/06/09', 93.34, 92.3, 93.62, 92.11],
    ['2023/06/12', 92.23, 93.37, 93.66, 92.23],
    ['2023/06/13', 95.78, 95.42, 96.96, 94.69],
    ['2023/06/14', 97.03, 98.64, 99.09, 96.48],
    ['2023/06/15', 98.39, 98.14, 99.28, 97.64],
    ['2023/06/16', 98.14, 98.45, 99.78, 97.9],
    ['2023/06/20', 96.8, 95.25, 96.96, 95.12],
    ['2023/06/21', 94.88, 94.98, 96.15, 94.88],
    ['2023/06/22', 94.96, 94.48, 95.11, 94.16],
    ['2023/06/23', 93.0, 93.07, 93.21, 92.35],
    ['2023/06/26', 92.79, 92.5, 94.27, 92.26],
    ['2023/06/27', 97.05, 96.84, 97.46, 95.89],
    ['2023/06/28', 96.49, 96.14, 97.79, 95.78],
    ['2023/06/29', 96.46, 97.99, 98.03, 96.36],
    ['2023/06/30', 97.47, 96.69, 98.19, 96.3],
    ['2023/07/03', 99.24, 99.31, 100.66, 98.81],
    ['2023/07/05', 98.14, 98.13, 98.49, 97.59],
    ['2023/07/06', 97.03, 95.78, 97.03, 95.31],
    ['2023/07/07', 95.37, 96.45, 96.91, 95.15],
    ['2023/07/10', 96.26, 97.36, 97.83, 96.09],
    ['2023/07/11', 97.36, 98.65, 100.07, 97.36],
    ['2023/07/12', 101.81, 102.8, 102.82, 101.29],
    ['2023/07/13', 104.82, 104.95, 105.16, 104.09],
    ['2023/07/14', 106.0, 105.34, 106.12, 104.8],
    ['2023/07/17', 104.41, 106.22, 106.32, 103.7],
    ['2023/07/18', 105.32, 103.25, 105.8, 102.05],
    ['2023/07/19', 103.75, 102.91, 104.34, 102.79],
    ['2023/07/20', 101.97, 102.49, 102.63, 101.31],
    ['2023/07/21', 102.32, 102.21, 102.81, 101.78],
    ['2023/07/24', 101.63, 105.58, 105.76, 101.39],
    ['2023/07/25', 107.0, 106.19, 107.43, 105.44],
    ['2023/07/26', 107.0, 108.99, 109.84, 106.68],
    ['2023/07/27', 109.31, 107.0, 109.48, 106.57],
    ['2023/07/28', 108.94, 108.5, 108.94, 107.0],
    ['2023/07/31', 107.99, 108.74, 109.88, 107.58],
    ['2023/08/01', 108.63, 109.67, 110.8, 108.18],
    ['2023/08/02', 107.09, 106.81, 107.44, 105.54],
    ['2023/08/03', 109.41, 108.87, 110.0, 108.86],
]);
var volumes = [
    1259100.0,
    1206700.0,
    950600.0,
    1139100.0,
    946200.0,
    1121900.0,
    1010000.0,
    1534100.0,
    1413400.0,
    3301900.0,
    1540100.0,
    2186300.0,
    1392200.0,
    840600.0,
    1689100.0,
    2063500.0,
    1046000.0,
    1281200.0,
    1755000.0,
    1574500.0,
    1197400.0,
    950000.0,
    1123300.0,
    1594300.0,
    902900.0,
    1202700.0,
    1762600.0,
    1916900.0,
    1308500.0,
    2214000.0,
    938700.0,
    1025200.0,
    1601000.0,
    1045500.0,
    1418000.0,
    1170500.0,
    927000.0,
    1334700.0,
    1602800.0,
    1218600.0,
    1080800.0,
    1270700.0,
    787700.0,
    1133000.0,
    863100.0,
    1107200.0,
    1655100.0,
    1163900.0,
    1187200.0,
    1434900.0,
    1471900.0,
    1231700.0,
    1285300.0,
    3485100.0,
    3790500.0,
    5906400.0,
    2865400.0,
    4070900.0,
    1889000.0,
    2436000.0,
    1865100.0,
    2916100.0,
    2739200.0,
    1504300.0,
    3519700.0,
    1593300.0,
    1349800.0,
    1678400.0,
    1915900.0,
    1555200.0,
    1331200.0,
    3121100.0,
    3585300.0,
    4510300.0,
    2536100.0,
    1491200.0,
    1161400.0,
    1202700.0,
    994800.0,
    1591700.0,
    2446700.0,
    3378500.0,
    1774500.0,
    2102700.0,
    2459200.0,
    1988100.0,
    1808000.0,
    1861900.0,
    1171200.0,
    1559300.0,
    1698200.0,
    2217300.0,
    2230300.0,
    9540900.0,
    1314400.0,
    1737400.0,
    1557300.0,
    1048000.0,
    1110000.0,
    1466300.0,
    1811100.0,
    1332800.0,
    1110900.0,
    2376500.0,
    2095400.0,
    1125000.0,
    2166100.0,
    2473200.0,
    1909800.0,
    3019700.0,
    1135600.0,
    2354400.0,
    3982000.0,
    1512300.0,
    858800.0,
    1358600.0,
    911900.0,
    944400.0,
    873500.0,
    1071500.0,
    815800.0,
    1364700.0,
    1262500.0,
    1156300.0,
    1323500.0,
    1044100.0,
    1959400.0,
    1894000.0,
    2386000.0,
    1583900.0,
    905100.0,
    1150900.0,
    1019100.0,
    1174200.0,
    1786200.0,
    716200.0,
    1882100.0,
    1588300.0,
    3580300.0,
    2801400.0,
    1490400.0,
    1531500.0,
    3741100.0,
    2833800.0,
    1381500.0,
    1012100.0,
    1957800.0,
    954900.0,
    1651600.0,
    1026300.0,
    906700.0,
    807600.0,
    1221500.0,
    967100.0,
    1193700.0,
    987600.0,
    682900.0,
    824300.0,
    1561600.0,
    695700.0,
    848200.0,
    1275200.0,
    1716600.0,
    1107200.0,
    913100.0,
    1393800.0,
    1267900.0,
    888100.0,
    811600.0,
    720200.0,
    708100.0,
    1248800.0,
    1750100.0,
    1737900.0,
    1693500.0,
    1493700.0,
    1755300.0,
    574000.0,
    866200.0,
    1045300.0,
    2185300.0,
    852000.0,
    1467900.0,
    799100.0,
    430900.0,
    1359400.0,
    793200.0,
    1210700.0,
    608700.0,
    746500.0,
    1070300.0,
    1111100.0,
    1347600.0,
    1028000.0,
    2005500.0,
    846500.0,
    802700.0,
    861500.0,
    1478200.0,
    1062300.0,
    1431900.0,
    1956400.0,
    1901400.0,
    1199600.0,
    1958900.0,
    1244900.0,
    1558500.0,
    1144900.0,
    826000.0,
    1317400.0,
    978600.0,
    526100.0,
    998200.0,
    552100.0,
    924900.0,
    1707200.0,
    1787900.0,
    1372400.0,
    946600.0,
    670200.0,
    1004700.0,
    642500.0,
    640500.0,
    2784100.0,
    1514100.0,
    1409000.0,
    1425700.0,
    765700.0,
    733800.0,
    874000.0,
    960100.0,
    763700.0,
    850600.0,
    1547000.0,
    1490200.0,
    1501000.0,
    958200.0,
    1117200.0,
    890700.0,
    848200.0,
    1294100.0,
    1317300.0,
    1330600.0,
    939200.0,
    606200.0,
    1126000.0,
    737800.0,
    644000.0,
    796200.0,
    632200.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "NTES",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);