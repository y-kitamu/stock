/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_TOL");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/08', 48.32, 48.64, 49.57, 48.32],
    ['2022/08/09', 48.57, 47.27, 48.57, 46.81],
    ['2022/08/10', 48.66, 48.96, 49.88, 48.66],
    ['2022/08/11', 49.43, 49.49, 50.43, 49.12],
    ['2022/08/12', 49.77, 50.04, 50.34, 49.21],
    ['2022/08/15', 49.73, 49.71, 50.1, 49.29],
    ['2022/08/16', 49.15, 49.49, 50.16, 48.5],
    ['2022/08/17', 48.85, 48.91, 49.46, 48.19],
    ['2022/08/18', 49.11, 49.0, 49.15, 48.3],
    ['2022/08/19', 48.26, 47.26, 48.4, 47.12],
    ['2022/08/22', 46.34, 45.53, 46.83, 45.35],
    ['2022/08/23', 45.76, 45.63, 46.37, 45.37],
    ['2022/08/24', 44.19, 46.22, 47.37, 44.13],
    ['2022/08/25', 45.7, 48.05, 48.16, 45.49],
    ['2022/08/26', 48.18, 46.12, 48.25, 45.86],
    ['2022/08/29', 45.56, 45.35, 46.24, 45.16],
    ['2022/08/30', 45.74, 44.7, 46.06, 44.55],
    ['2022/08/31', 44.98, 43.79, 45.12, 43.77],
    ['2022/09/01', 43.32, 43.68, 43.73, 42.62],
    ['2022/09/02', 44.26, 43.81, 44.76, 43.54],
    ['2022/09/06', 43.86, 43.39, 43.86, 42.69],
    ['2022/09/07', 43.39, 44.19, 44.19, 43.36],
    ['2022/09/08', 43.75, 44.22, 44.25, 43.14],
    ['2022/09/09', 44.46, 45.34, 45.6, 44.44],
    ['2022/09/12', 45.86, 45.88, 46.34, 45.48],
    ['2022/09/13', 44.27, 43.06, 44.55, 43.0],
    ['2022/09/14', 43.33, 43.04, 43.45, 42.35],
    ['2022/09/15', 43.07, 42.81, 43.73, 42.58],
    ['2022/09/16', 42.59, 43.66, 43.95, 42.59],
    ['2022/09/19', 44.43, 44.58, 45.11, 44.05],
    ['2022/09/20', 43.74, 43.5, 44.21, 43.44],
    ['2022/09/21', 43.81, 42.94, 44.7, 42.92],
    ['2022/09/22', 42.66, 42.09, 43.24, 41.98],
    ['2022/09/23', 41.58, 42.42, 42.59, 41.58],
    ['2022/09/26', 42.02, 41.12, 42.45, 41.1],
    ['2022/09/27', 41.6, 40.83, 41.76, 40.51],
    ['2022/09/28', 41.4, 43.05, 43.21, 41.15],
    ['2022/09/29', 42.1, 42.01, 42.37, 41.73],
    ['2022/09/30', 41.93, 42.0, 42.39, 41.37],
    ['2022/10/03', 42.48, 43.7, 43.85, 42.13],
    ['2022/10/04', 44.67, 45.99, 46.03, 44.67],
    ['2022/10/05', 45.26, 45.36, 45.6, 44.67],
    ['2022/10/06', 44.98, 46.09, 46.36, 44.98],
    ['2022/10/07', 45.34, 44.57, 45.66, 44.33],
    ['2022/10/10', 44.92, 44.32, 44.96, 44.07],
    ['2022/10/11', 44.04, 43.93, 44.96, 43.78],
    ['2022/10/12', 43.85, 42.87, 43.92, 42.77],
    ['2022/10/13', 41.6, 42.87, 43.33, 40.31],
    ['2022/10/14', 43.0, 41.28, 43.45, 40.94],
    ['2022/10/17', 42.38, 42.04, 42.83, 41.71],
    ['2022/10/18', 43.07, 43.08, 43.31, 42.27],
    ['2022/10/19', 42.17, 40.9, 42.35, 40.56],
    ['2022/10/20', 40.9, 40.28, 41.74, 40.15],
    ['2022/10/21', 39.73, 41.76, 41.94, 39.53],
    ['2022/10/24', 42.0, 41.9, 42.36, 41.26],
    ['2022/10/25', 42.15, 43.7, 44.11, 42.09],
    ['2022/10/26', 43.61, 43.28, 44.08, 43.26],
    ['2022/10/27', 43.36, 43.33, 44.46, 43.19],
    ['2022/10/28', 43.19, 44.4, 44.42, 42.88],
    ['2022/10/31', 43.74, 43.08, 43.77, 42.44],
    ['2022/11/01', 43.69, 43.74, 44.23, 43.11],
    ['2022/11/02', 43.51, 42.24, 44.41, 42.22],
    ['2022/11/03', 41.41, 41.48, 42.22, 40.57],
    ['2022/11/04', 42.29, 42.82, 43.03, 41.61],
    ['2022/11/07', 43.13, 42.75, 43.48, 41.68],
    ['2022/11/08', 43.0, 42.4, 43.1, 41.79],
    ['2022/11/09', 42.04, 41.9, 43.39, 41.55],
    ['2022/11/10', 44.51, 46.52, 47.37, 44.51],
    ['2022/11/11', 46.5, 46.99, 47.13, 45.99],
    ['2022/11/14', 46.5, 45.37, 46.52, 45.3],
    ['2022/11/15', 46.75, 46.24, 47.25, 45.28],
    ['2022/11/16', 46.02, 45.94, 46.28, 45.46],
    ['2022/11/17', 44.85, 45.27, 45.28, 43.81],
    ['2022/11/18', 46.03, 45.52, 46.22, 44.85],
    ['2022/11/21', 45.44, 45.04, 45.45, 44.5],
    ['2022/11/22', 46.22, 46.0, 46.4, 45.41],
    ['2022/11/23', 45.74, 47.18, 47.44, 45.39],
    ['2022/11/25', 46.72, 46.82, 47.08, 46.59],
    ['2022/11/28', 46.49, 46.07, 47.0, 45.73],
    ['2022/11/29', 45.8, 47.2, 47.24, 45.8],
    ['2022/11/30', 46.93, 47.91, 47.98, 46.02],
    ['2022/12/01', 48.49, 48.35, 49.77, 48.11],
    ['2022/12/02', 47.19, 47.89, 48.58, 47.02],
    ['2022/12/05', 46.95, 46.86, 47.42, 46.69],
    ['2022/12/06', 47.04, 45.94, 47.13, 45.47],
    ['2022/12/07', 47.36, 49.5, 49.81, 46.72],
    ['2022/12/08', 49.2, 49.46, 50.27, 48.67],
    ['2022/12/09', 48.82, 48.72, 49.63, 48.7],
    ['2022/12/12', 48.87, 49.44, 49.53, 48.56],
    ['2022/12/13', 52.45, 50.59, 53.02, 50.42],
    ['2022/12/14', 50.86, 50.79, 51.56, 50.09],
    ['2022/12/15', 49.53, 51.33, 51.68, 49.18],
    ['2022/12/16', 50.59, 50.55, 51.04, 49.97],
    ['2022/12/19', 50.27, 50.11, 50.67, 49.79],
    ['2022/12/20', 49.54, 50.06, 50.31, 49.45],
    ['2022/12/21', 50.9, 51.38, 51.78, 50.82],
    ['2022/12/22', 50.69, 50.97, 51.0, 49.88],
    ['2022/12/23', 50.64, 50.8, 51.06, 50.3],
    ['2022/12/27', 50.53, 50.58, 51.06, 50.31],
    ['2022/12/28', 50.67, 49.38, 50.82, 49.31],
    ['2022/12/29', 49.4, 50.41, 50.67, 49.02],
    ['2022/12/30', 50.03, 49.92, 50.19, 49.64],
    ['2023/01/03', 50.81, 50.58, 50.87, 49.87],
    ['2023/01/04', 51.41, 51.87, 52.09, 51.1],
    ['2023/01/05', 51.0, 52.14, 52.26, 50.7],
    ['2023/01/06', 52.62, 53.11, 53.7, 52.57],
    ['2023/01/09', 53.51, 53.39, 54.4, 53.18],
    ['2023/01/10', 53.04, 53.91, 54.01, 53.04],
    ['2023/01/11', 55.67, 55.45, 55.8, 55.03],
    ['2023/01/12', 55.7, 56.01, 56.33, 54.36],
    ['2023/01/13', 55.07, 56.13, 56.32, 55.07],
    ['2023/01/17', 55.95, 56.09, 56.41, 55.76],
    ['2023/01/18', 56.48, 56.3, 57.64, 56.14],
    ['2023/01/19', 56.08, 55.09, 56.22, 54.7],
    ['2023/01/20', 55.38, 55.86, 55.91, 54.62],
    ['2023/01/23', 55.56, 56.04, 56.43, 55.37],
    ['2023/01/24', 57.72, 56.36, 57.72, 54.71],
    ['2023/01/25', 55.71, 56.63, 56.98, 55.56],
    ['2023/01/26', 57.0, 57.16, 57.76, 56.35],
    ['2023/01/27', 57.04, 57.39, 57.68, 56.86],
    ['2023/01/30', 56.79, 56.49, 57.64, 56.45],
    ['2023/01/31', 57.63, 59.49, 59.52, 57.55],
    ['2023/02/01', 59.13, 60.26, 60.94, 58.02],
    ['2023/02/02', 61.32, 61.72, 62.61, 60.99],
    ['2023/02/03', 61.18, 60.74, 61.69, 60.3],
    ['2023/02/06', 60.04, 59.53, 60.48, 59.52],
    ['2023/02/07', 59.21, 60.07, 60.4, 58.73],
    ['2023/02/08', 59.75, 58.49, 59.95, 58.13],
    ['2023/02/09', 59.27, 58.31, 59.43, 58.11],
    ['2023/02/10', 58.0, 58.76, 58.87, 57.96],
    ['2023/02/13', 58.64, 59.78, 59.79, 58.48],
    ['2023/02/14', 59.07, 59.49, 60.08, 58.6],
    ['2023/02/15', 58.98, 59.52, 59.81, 58.57],
    ['2023/02/16', 58.35, 58.9, 59.46, 57.97],
    ['2023/02/17', 58.62, 57.2, 58.62, 56.92],
    ['2023/02/21', 55.91, 55.77, 57.0, 55.44],
    ['2023/02/22', 57.18, 57.46, 58.48, 56.85],
    ['2023/02/23', 58.34, 58.88, 59.06, 57.87],
    ['2023/02/24', 58.05, 58.33, 58.81, 57.66],
    ['2023/02/27', 59.1, 59.18, 59.72, 58.66],
    ['2023/02/28', 59.05, 59.94, 60.13, 59.05],
    ['2023/03/01', 59.68, 58.97, 60.66, 58.95],
    ['2023/03/02', 58.35, 59.18, 59.29, 57.98],
    ['2023/03/03', 59.79, 60.12, 60.72, 59.44],
    ['2023/03/06', 59.94, 59.08, 60.23, 58.89],
    ['2023/03/07', 59.42, 59.0, 59.99, 58.94],
    ['2023/03/08', 59.24, 59.53, 59.6, 58.83],
    ['2023/03/09', 59.5, 58.29, 60.1, 58.21],
    ['2023/03/10', 58.7, 57.37, 59.02, 56.54],
    ['2023/03/13', 56.49, 57.4, 58.34, 56.36],
    ['2023/03/14', 58.09, 58.48, 58.91, 57.78],
    ['2023/03/15', 58.01, 57.42, 58.98, 56.77],
    ['2023/03/16', 57.21, 58.78, 59.11, 56.84],
    ['2023/03/17', 59.01, 57.67, 59.01, 57.52],
    ['2023/03/20', 57.94, 57.56, 58.45, 57.33],
    ['2023/03/21', 58.16, 58.26, 58.7, 57.97],
    ['2023/03/22', 58.11, 57.8, 59.08, 57.78],
    ['2023/03/23', 59.0, 58.31, 59.73, 57.86],
    ['2023/03/24', 58.18, 58.42, 58.77, 57.32],
    ['2023/03/27', 58.8, 58.49, 59.15, 58.22],
    ['2023/03/28', 58.59, 58.9, 59.27, 58.49],
    ['2023/03/29', 59.43, 59.42, 59.66, 58.89],
    ['2023/03/30', 59.58, 58.74, 59.63, 58.56],
    ['2023/03/31', 58.83, 60.03, 60.14, 58.83],
    ['2023/04/03', 59.77, 60.32, 60.71, 59.77],
    ['2023/04/04', 60.24, 59.1, 60.32, 58.67],
    ['2023/04/05', 58.7, 58.55, 59.05, 58.08],
    ['2023/04/06', 58.44, 57.8, 58.44, 57.09],
    ['2023/04/10', 57.55, 58.01, 58.53, 57.27],
    ['2023/04/11', 58.45, 59.5, 59.87, 58.44],
    ['2023/04/12', 60.13, 59.47, 60.3, 59.22],
    ['2023/04/13', 59.42, 59.77, 60.28, 58.99],
    ['2023/04/14', 59.66, 60.01, 60.04, 59.27],
    ['2023/04/17', 59.72, 60.48, 60.48, 59.46],
    ['2023/04/18', 60.92, 62.11, 62.27, 60.84],
    ['2023/04/19', 61.86, 61.87, 62.18, 61.39],
    ['2023/04/20', 63.27, 62.49, 64.28, 62.23],
    ['2023/04/21', 62.34, 61.83, 62.49, 61.55],
    ['2023/04/24', 61.65, 62.2, 62.31, 61.55],
    ['2023/04/25', 62.23, 62.15, 62.87, 62.05],
    ['2023/04/26', 62.07, 61.36, 62.26, 61.17],
    ['2023/04/27', 61.95, 63.04, 63.06, 61.77],
    ['2023/04/28', 63.22, 63.91, 64.16, 63.14],
    ['2023/05/01', 63.72, 63.17, 64.25, 62.93],
    ['2023/05/02', 63.11, 62.94, 63.28, 61.7],
    ['2023/05/03', 63.11, 63.77, 64.89, 63.11],
    ['2023/05/04', 63.38, 62.48, 63.73, 62.26],
    ['2023/05/05', 62.88, 63.48, 63.72, 62.33],
    ['2023/05/08', 63.35, 64.24, 64.55, 63.0],
    ['2023/05/09', 64.04, 64.8, 65.52, 64.04],
    ['2023/05/10', 65.26, 64.58, 65.26, 63.79],
    ['2023/05/11', 64.61, 64.96, 65.15, 63.95],
    ['2023/05/12', 65.2, 64.21, 65.51, 63.74],
    ['2023/05/15', 64.2, 64.85, 64.98, 63.75],
    ['2023/05/16', 64.41, 65.33, 65.47, 63.46],
    ['2023/05/17', 65.39, 65.83, 65.83, 65.03],
    ['2023/05/18', 65.83, 67.49, 67.54, 65.35],
    ['2023/05/19', 67.49, 66.36, 67.52, 65.72],
    ['2023/05/22', 66.13, 64.7, 66.91, 64.37],
    ['2023/05/23', 64.01, 63.75, 64.36, 63.34],
    ['2023/05/24', 64.49, 65.09, 66.2, 64.4],
    ['2023/05/25', 68.35, 68.13, 69.22, 67.18],
    ['2023/05/26', 68.39, 68.04, 68.54, 67.51],
    ['2023/05/30', 68.04, 68.5, 68.8, 68.02],
    ['2023/05/31', 68.26, 67.7, 68.44, 66.17],
    ['2023/06/01', 68.19, 68.7, 68.76, 67.72],
    ['2023/06/02', 69.23, 71.35, 71.41, 69.2],
    ['2023/06/05', 70.83, 70.84, 71.15, 70.12],
    ['2023/06/06', 71.18, 74.05, 74.05, 71.04],
    ['2023/06/07', 74.26, 73.94, 75.2, 73.75],
    ['2023/06/08', 73.74, 74.09, 74.81, 73.38],
    ['2023/06/09', 74.01, 74.29, 75.09, 73.62],
    ['2023/06/12', 74.18, 74.94, 75.31, 73.74],
    ['2023/06/13', 75.39, 75.08, 75.97, 74.96],
    ['2023/06/14', 75.12, 73.3, 75.29, 71.6],
    ['2023/06/15', 74.24, 74.05, 74.63, 73.45],
    ['2023/06/16', 74.19, 73.49, 74.57, 73.21],
    ['2023/06/20', 73.92, 75.33, 75.42, 73.84],
    ['2023/06/21', 74.71, 76.21, 76.55, 74.2],
    ['2023/06/22', 75.76, 75.82, 75.93, 75.09],
    ['2023/06/23', 75.7, 76.1, 76.22, 75.49],
    ['2023/06/26', 76.3, 75.87, 77.19, 75.38],
    ['2023/06/27', 76.0, 78.34, 78.41, 76.0],
    ['2023/06/28', 78.1, 78.55, 79.47, 78.1],
    ['2023/06/29', 78.25, 78.32, 78.41, 76.93],
    ['2023/06/30', 78.72, 79.07, 79.27, 78.24],
    ['2023/07/03', 79.5, 78.94, 79.9, 78.42],
    ['2023/07/05', 79.3, 77.66, 79.59, 77.19],
    ['2023/07/06', 77.1, 76.41, 77.1, 75.31],
    ['2023/07/07', 76.13, 76.81, 77.93, 76.13],
    ['2023/07/10', 76.96, 78.9, 78.91, 76.86],
    ['2023/07/11', 79.48, 79.9, 80.39, 79.28],
    ['2023/07/12', 80.82, 82.16, 82.35, 80.29],
    ['2023/07/13', 82.27, 81.98, 82.81, 81.18],
    ['2023/07/14', 83.34, 83.52, 83.67, 82.22],
    ['2023/07/17', 83.0, 82.72, 83.25, 82.17],
    ['2023/07/18', 82.93, 82.62, 83.72, 82.56],
    ['2023/07/19', 82.51, 81.98, 82.51, 81.15],
    ['2023/07/20', 82.24, 78.59, 82.55, 77.15],
    ['2023/07/21', 78.75, 78.72, 79.43, 78.17],
    ['2023/07/24', 78.75, 78.83, 79.2, 78.21],
    ['2023/07/25', 78.78, 80.64, 81.1, 78.78],
    ['2023/07/26', 80.52, 80.1, 81.31, 79.67],
    ['2023/07/27', 80.81, 79.25, 81.39, 79.07],
    ['2023/07/28', 80.36, 80.21, 80.43, 79.38],
    ['2023/07/31', 80.5, 80.33, 80.86, 79.44],
    ['2023/08/01', 80.2, 80.33, 81.0, 80.01],
    ['2023/08/02', 79.51, 79.83, 80.15, 78.96],
    ['2023/08/03', 79.3, 77.7, 79.47, 76.67],
    ['2023/08/04', 78.03, 79.39, 79.92, 77.12],
]);
var volumes = [
    875200.0,
    876100.0,
    1137800.0,
    1305100.0,
    835300.0,
    881800.0,
    1324400.0,
    1495700.0,
    1012400.0,
    1638900.0,
    2358900.0,
    2891600.0,
    5400500.0,
    2806900.0,
    2660500.0,
    1564600.0,
    1724400.0,
    1696800.0,
    1341900.0,
    2415000.0,
    2356200.0,
    1147300.0,
    1021100.0,
    1221400.0,
    1168600.0,
    2377300.0,
    2337600.0,
    2099500.0,
    4107400.0,
    2163300.0,
    1311100.0,
    1433700.0,
    3445400.0,
    2118800.0,
    1767900.0,
    2104600.0,
    1995400.0,
    1828700.0,
    2519800.0,
    2396700.0,
    2568400.0,
    1549000.0,
    2007300.0,
    1863400.0,
    1131500.0,
    2498900.0,
    1999300.0,
    2110400.0,
    1704900.0,
    1469800.0,
    1458500.0,
    1529300.0,
    1155300.0,
    1371300.0,
    1889900.0,
    1953400.0,
    1579600.0,
    1768300.0,
    1240300.0,
    2281300.0,
    1468900.0,
    1311300.0,
    1307800.0,
    1254400.0,
    1065300.0,
    1271000.0,
    1826900.0,
    2402200.0,
    1871800.0,
    1071900.0,
    1540600.0,
    918600.0,
    958500.0,
    634700.0,
    806200.0,
    1766900.0,
    1223000.0,
    546900.0,
    954000.0,
    1498800.0,
    1471400.0,
    1596500.0,
    1359100.0,
    1448600.0,
    2305700.0,
    4476000.0,
    2120800.0,
    1003800.0,
    1342900.0,
    2201500.0,
    1405100.0,
    2340600.0,
    2347600.0,
    1618200.0,
    1166600.0,
    1217300.0,
    1407500.0,
    868700.0,
    860800.0,
    1002800.0,
    996200.0,
    1153200.0,
    1164900.0,
    1585800.0,
    1261400.0,
    1442400.0,
    2321200.0,
    1687800.0,
    1827100.0,
    1479300.0,
    1054500.0,
    1042000.0,
    1475500.0,
    1494500.0,
    1127200.0,
    943000.0,
    1156000.0,
    1003500.0,
    872200.0,
    639800.0,
    1065100.0,
    2297700.0,
    2222400.0,
    1960900.0,
    1140600.0,
    1064900.0,
    1295100.0,
    1600600.0,
    1690300.0,
    1015700.0,
    1057000.0,
    1025200.0,
    1085900.0,
    1424800.0,
    1984900.0,
    2437300.0,
    3502700.0,
    1501600.0,
    1257600.0,
    1477900.0,
    1584000.0,
    1744700.0,
    1688600.0,
    1482300.0,
    1330900.0,
    1252100.0,
    1036500.0,
    3644300.0,
    2086800.0,
    1481800.0,
    1339300.0,
    1997000.0,
    1462800.0,
    3583800.0,
    1117600.0,
    1013100.0,
    1340100.0,
    1480700.0,
    1376400.0,
    1397400.0,
    833300.0,
    1097000.0,
    1091900.0,
    1032600.0,
    955600.0,
    864500.0,
    865300.0,
    1402800.0,
    1218600.0,
    1298000.0,
    720800.0,
    1033500.0,
    1167300.0,
    1267500.0,
    1432500.0,
    1057500.0,
    2011000.0,
    1117500.0,
    1050900.0,
    1894600.0,
    1271100.0,
    1083600.0,
    914800.0,
    1012800.0,
    1119300.0,
    1083300.0,
    1112200.0,
    1045600.0,
    1101800.0,
    1422900.0,
    2356200.0,
    2153600.0,
    955700.0,
    852100.0,
    1229000.0,
    1111200.0,
    1504800.0,
    1414200.0,
    2468600.0,
    2300200.0,
    3364400.0,
    4485300.0,
    1617000.0,
    1259900.0,
    1789100.0,
    1484000.0,
    2309700.0,
    1384600.0,
    2223300.0,
    2155100.0,
    1787900.0,
    1286100.0,
    1171700.0,
    1302400.0,
    3021500.0,
    2021000.0,
    2465100.0,
    1913300.0,
    1888300.0,
    1492700.0,
    2570000.0,
    1423600.0,
    1925600.0,
    1787100.0,
    1688800.0,
    1117800.0,
    1068400.0,
    1589600.0,
    2223300.0,
    1941400.0,
    1213900.0,
    1698200.0,
    1509400.0,
    1554300.0,
    1605300.0,
    1290600.0,
    1439500.0,
    2012000.0,
    2615200.0,
    1655000.0,
    1134300.0,
    1250400.0,
    1315900.0,
    1432300.0,
    1409600.0,
    997700.0,
    861600.0,
    972200.0,
    2028300.0,
    1224200.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "TOL",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);