/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_TOL");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 46.52, 46.67, 46.83, 45.59],
    ['2022/08/04', 46.54, 47.94, 48.46, 46.45],
    ['2022/08/05', 46.86, 47.36, 47.81, 46.56],
    ['2022/08/08', 47.62, 47.94, 48.85, 47.62],
    ['2022/08/09', 47.87, 46.59, 47.87, 46.13],
    ['2022/08/10', 47.96, 48.25, 49.16, 47.96],
    ['2022/08/11', 48.72, 48.78, 49.7, 48.41],
    ['2022/08/12', 49.05, 49.32, 49.61, 48.5],
    ['2022/08/15', 49.01, 48.99, 49.38, 48.58],
    ['2022/08/16', 48.44, 48.78, 49.44, 47.8],
    ['2022/08/17', 48.14, 48.2, 48.75, 47.49],
    ['2022/08/18', 48.4, 48.29, 48.44, 47.6],
    ['2022/08/19', 47.56, 46.58, 47.7, 46.44],
    ['2022/08/22', 45.67, 44.87, 46.15, 44.69],
    ['2022/08/23', 45.1, 44.97, 45.7, 44.71],
    ['2022/08/24', 43.55, 45.55, 46.69, 43.49],
    ['2022/08/25', 45.04, 47.36, 47.46, 44.83],
    ['2022/08/26', 47.48, 45.45, 47.55, 45.2],
    ['2022/08/29', 44.9, 44.69, 45.57, 44.51],
    ['2022/08/30', 45.08, 44.05, 45.39, 43.91],
    ['2022/08/31', 44.33, 43.16, 44.47, 43.14],
    ['2022/09/01', 42.69, 43.05, 43.1, 42.0],
    ['2022/09/02', 43.62, 43.18, 44.11, 42.91],
    ['2022/09/06', 43.23, 42.76, 43.23, 42.07],
    ['2022/09/07', 42.76, 43.55, 43.55, 42.73],
    ['2022/09/08', 43.12, 43.58, 43.61, 42.52],
    ['2022/09/09', 43.82, 44.69, 44.94, 43.8],
    ['2022/09/12', 45.2, 45.22, 45.67, 44.82],
    ['2022/09/13', 43.63, 42.44, 43.91, 42.38],
    ['2022/09/14', 42.7, 42.42, 42.82, 41.74],
    ['2022/09/15', 42.45, 42.19, 43.1, 41.96],
    ['2022/09/16', 41.97, 43.03, 43.32, 41.97],
    ['2022/09/19', 43.79, 43.94, 44.46, 43.41],
    ['2022/09/20', 43.11, 42.87, 43.57, 42.81],
    ['2022/09/21', 43.18, 42.32, 44.05, 42.3],
    ['2022/09/22', 42.04, 41.48, 42.62, 41.37],
    ['2022/09/23', 40.98, 41.81, 41.97, 40.98],
    ['2022/09/26', 41.41, 40.53, 41.84, 40.51],
    ['2022/09/27', 41.0, 40.24, 41.16, 39.92],
    ['2022/09/28', 40.8, 42.43, 42.59, 40.56],
    ['2022/09/29', 41.49, 41.4, 41.76, 41.13],
    ['2022/09/30', 41.32, 41.39, 41.78, 40.77],
    ['2022/10/03', 41.87, 43.07, 43.22, 41.52],
    ['2022/10/04', 44.02, 45.33, 45.37, 44.02],
    ['2022/10/05', 44.61, 44.7, 44.94, 44.02],
    ['2022/10/06', 44.53, 45.63, 45.89, 44.53],
    ['2022/10/07', 44.88, 44.12, 45.2, 43.88],
    ['2022/10/10', 44.47, 43.87, 44.51, 43.63],
    ['2022/10/11', 43.6, 43.49, 44.51, 43.34],
    ['2022/10/12', 43.41, 42.44, 43.48, 42.34],
    ['2022/10/13', 41.18, 42.44, 42.89, 39.9],
    ['2022/10/14', 42.57, 40.86, 43.01, 40.53],
    ['2022/10/17', 41.95, 41.62, 42.4, 41.29],
    ['2022/10/18', 42.64, 42.65, 42.87, 41.84],
    ['2022/10/19', 41.74, 40.49, 41.92, 40.15],
    ['2022/10/20', 40.49, 39.87, 41.32, 39.75],
    ['2022/10/21', 39.33, 41.34, 41.52, 39.13],
    ['2022/10/24', 41.58, 41.48, 41.93, 40.84],
    ['2022/10/25', 41.73, 43.26, 43.67, 41.67],
    ['2022/10/26', 43.17, 42.84, 43.64, 42.82],
    ['2022/10/27', 42.92, 42.89, 44.01, 42.75],
    ['2022/10/28', 42.75, 43.95, 43.97, 42.45],
    ['2022/10/31', 43.3, 42.65, 43.33, 42.01],
    ['2022/11/01', 43.25, 43.3, 43.78, 42.68],
    ['2022/11/02', 43.07, 41.81, 43.96, 41.79],
    ['2022/11/03', 40.99, 41.06, 41.79, 40.16],
    ['2022/11/04', 41.86, 42.39, 42.6, 41.19],
    ['2022/11/07', 42.7, 42.32, 43.04, 41.26],
    ['2022/11/08', 42.57, 41.97, 42.67, 41.37],
    ['2022/11/09', 41.62, 41.48, 42.95, 41.13],
    ['2022/11/10', 44.06, 46.05, 46.89, 44.06],
    ['2022/11/11', 46.03, 46.52, 46.65, 45.53],
    ['2022/11/14', 46.03, 44.91, 46.05, 44.84],
    ['2022/11/15', 46.28, 45.77, 46.77, 44.82],
    ['2022/11/16', 45.56, 45.48, 45.81, 45.0],
    ['2022/11/17', 44.4, 44.81, 44.82, 43.37],
    ['2022/11/18', 45.57, 45.06, 45.75, 44.4],
    ['2022/11/21', 44.98, 44.59, 44.99, 44.05],
    ['2022/11/22', 45.75, 45.54, 45.93, 44.95],
    ['2022/11/23', 45.28, 46.7, 46.96, 44.93],
    ['2022/11/25', 46.25, 46.35, 46.61, 46.12],
    ['2022/11/28', 46.02, 45.61, 46.53, 45.27],
    ['2022/11/29', 45.34, 46.72, 46.76, 45.34],
    ['2022/11/30', 46.46, 47.43, 47.5, 45.56],
    ['2022/12/01', 48.0, 47.86, 49.27, 47.63],
    ['2022/12/02', 46.71, 47.41, 48.09, 46.55],
    ['2022/12/05', 46.48, 46.39, 46.94, 46.22],
    ['2022/12/06', 46.57, 45.48, 46.65, 45.01],
    ['2022/12/07', 46.88, 49.0, 49.31, 46.25],
    ['2022/12/08', 48.7, 48.96, 49.76, 48.18],
    ['2022/12/09', 48.33, 48.23, 49.13, 48.21],
    ['2022/12/12', 48.38, 48.94, 49.03, 48.07],
    ['2022/12/13', 51.92, 50.08, 52.49, 49.91],
    ['2022/12/14', 50.35, 50.28, 51.04, 49.59],
    ['2022/12/15', 49.03, 50.81, 51.16, 48.68],
    ['2022/12/16', 50.08, 50.04, 50.53, 49.47],
    ['2022/12/19', 49.76, 49.6, 50.16, 49.29],
    ['2022/12/20', 49.04, 49.56, 49.8, 48.95],
    ['2022/12/21', 50.39, 50.86, 51.26, 50.31],
    ['2022/12/22', 50.18, 50.46, 50.49, 49.38],
    ['2022/12/23', 50.13, 50.29, 50.55, 49.79],
    ['2022/12/27', 50.02, 50.07, 50.55, 49.8],
    ['2022/12/28', 50.16, 48.88, 50.31, 48.81],
    ['2022/12/29', 48.9, 49.9, 50.16, 48.53],
    ['2022/12/30', 49.53, 49.42, 49.68, 49.14],
    ['2023/01/03', 50.3, 50.07, 50.36, 49.37],
    ['2023/01/04', 50.89, 51.35, 51.56, 50.58],
    ['2023/01/05', 50.68, 51.81, 51.93, 50.38],
    ['2023/01/06', 52.29, 52.78, 53.36, 52.24],
    ['2023/01/09', 53.18, 53.06, 54.06, 52.85],
    ['2023/01/10', 52.71, 53.57, 53.67, 52.71],
    ['2023/01/11', 55.32, 55.1, 55.45, 54.69],
    ['2023/01/12', 55.35, 55.66, 55.98, 54.02],
    ['2023/01/13', 54.73, 55.78, 55.97, 54.73],
    ['2023/01/17', 55.6, 55.74, 56.06, 55.41],
    ['2023/01/18', 56.13, 55.95, 57.28, 55.79],
    ['2023/01/19', 55.73, 54.75, 55.87, 54.36],
    ['2023/01/20', 55.03, 55.51, 55.56, 54.28],
    ['2023/01/23', 55.21, 55.69, 56.08, 55.02],
    ['2023/01/24', 57.36, 56.01, 57.36, 54.37],
    ['2023/01/25', 55.36, 56.28, 56.62, 55.21],
    ['2023/01/26', 56.64, 56.8, 57.4, 56.0],
    ['2023/01/27', 56.68, 57.03, 57.32, 56.5],
    ['2023/01/30', 56.44, 56.14, 57.28, 56.1],
    ['2023/01/31', 57.27, 59.12, 59.15, 57.19],
    ['2023/02/01', 58.76, 59.88, 60.56, 57.66],
    ['2023/02/02', 60.94, 61.33, 62.22, 60.61],
    ['2023/02/03', 60.8, 60.36, 61.3, 59.92],
    ['2023/02/06', 59.66, 59.16, 60.1, 59.15],
    ['2023/02/07', 58.84, 59.69, 60.02, 58.36],
    ['2023/02/08', 59.38, 58.12, 59.58, 57.77],
    ['2023/02/09', 58.9, 57.95, 59.06, 57.75],
    ['2023/02/10', 57.64, 58.39, 58.5, 57.6],
    ['2023/02/13', 58.27, 59.41, 59.42, 58.11],
    ['2023/02/14', 58.7, 59.12, 59.7, 58.23],
    ['2023/02/15', 58.61, 59.15, 59.44, 58.2],
    ['2023/02/16', 57.99, 58.53, 59.09, 57.61],
    ['2023/02/17', 58.25, 56.84, 58.25, 56.56],
    ['2023/02/21', 55.56, 55.42, 56.64, 55.09],
    ['2023/02/22', 56.82, 57.1, 58.11, 56.49],
    ['2023/02/23', 57.98, 58.51, 58.69, 57.51],
    ['2023/02/24', 57.69, 57.97, 58.44, 57.3],
    ['2023/02/27', 58.73, 58.81, 59.35, 58.29],
    ['2023/02/28', 58.68, 59.57, 59.75, 58.68],
    ['2023/03/01', 59.31, 58.6, 60.28, 58.58],
    ['2023/03/02', 57.99, 58.81, 58.92, 57.62],
    ['2023/03/03', 59.42, 59.74, 60.34, 59.07],
    ['2023/03/06', 59.57, 58.71, 59.85, 58.52],
    ['2023/03/07', 59.05, 58.63, 59.62, 58.57],
    ['2023/03/08', 58.87, 59.16, 59.23, 58.46],
    ['2023/03/09', 59.13, 57.93, 59.72, 57.85],
    ['2023/03/10', 58.33, 57.01, 58.65, 56.19],
    ['2023/03/13', 56.14, 57.04, 57.98, 56.01],
    ['2023/03/14', 57.73, 58.11, 58.54, 57.42],
    ['2023/03/15', 57.65, 57.06, 58.61, 56.42],
    ['2023/03/16', 56.85, 58.41, 58.74, 56.48],
    ['2023/03/17', 58.64, 57.31, 58.64, 57.16],
    ['2023/03/20', 57.58, 57.2, 58.08, 56.97],
    ['2023/03/21', 57.8, 57.9, 58.33, 57.61],
    ['2023/03/22', 57.75, 57.44, 58.71, 57.42],
    ['2023/03/23', 58.63, 57.95, 59.36, 57.5],
    ['2023/03/24', 57.82, 58.06, 58.4, 56.96],
    ['2023/03/27', 58.43, 58.12, 58.78, 57.86],
    ['2023/03/28', 58.22, 58.53, 58.9, 58.12],
    ['2023/03/29', 59.06, 59.05, 59.29, 58.52],
    ['2023/03/30', 59.21, 58.37, 59.26, 58.19],
    ['2023/03/31', 58.46, 59.65, 59.76, 58.46],
    ['2023/04/03', 59.4, 59.94, 60.33, 59.4],
    ['2023/04/04', 59.86, 58.73, 59.94, 58.3],
    ['2023/04/05', 58.54, 58.39, 58.89, 57.92],
    ['2023/04/06', 58.28, 57.64, 58.28, 56.94],
    ['2023/04/10', 57.39, 57.85, 58.37, 57.12],
    ['2023/04/11', 58.29, 59.34, 59.71, 58.28],
    ['2023/04/12', 59.97, 59.31, 60.14, 59.06],
    ['2023/04/13', 59.26, 59.61, 60.12, 58.83],
    ['2023/04/14', 59.5, 59.85, 59.88, 59.11],
    ['2023/04/17', 59.56, 60.32, 60.32, 59.3],
    ['2023/04/18', 60.76, 61.94, 62.1, 60.68],
    ['2023/04/19', 61.69, 61.7, 62.01, 61.22],
    ['2023/04/20', 63.1, 62.32, 64.11, 62.06],
    ['2023/04/21', 62.17, 61.66, 62.32, 61.38],
    ['2023/04/24', 61.48, 62.03, 62.14, 61.38],
    ['2023/04/25', 62.06, 61.98, 62.7, 61.88],
    ['2023/04/26', 61.9, 61.19, 62.09, 61.0],
    ['2023/04/27', 61.78, 62.87, 62.89, 61.6],
    ['2023/04/28', 63.05, 63.74, 63.99, 62.97],
    ['2023/05/01', 63.55, 63.0, 64.08, 62.76],
    ['2023/05/02', 62.94, 62.77, 63.11, 61.53],
    ['2023/05/03', 62.94, 63.6, 64.71, 62.94],
    ['2023/05/04', 63.21, 62.31, 63.56, 62.09],
    ['2023/05/05', 62.71, 63.31, 63.55, 62.16],
    ['2023/05/08', 63.18, 64.07, 64.38, 62.83],
    ['2023/05/09', 63.87, 64.62, 65.34, 63.87],
    ['2023/05/10', 65.08, 64.41, 65.08, 63.62],
    ['2023/05/11', 64.44, 64.78, 64.97, 63.78],
    ['2023/05/12', 65.02, 64.04, 65.33, 63.57],
    ['2023/05/15', 64.03, 64.67, 64.8, 63.58],
    ['2023/05/16', 64.24, 65.15, 65.29, 63.29],
    ['2023/05/17', 65.21, 65.65, 65.65, 64.85],
    ['2023/05/18', 65.65, 67.31, 67.36, 65.17],
    ['2023/05/19', 67.31, 66.18, 67.34, 65.54],
    ['2023/05/22', 65.95, 64.53, 66.73, 64.2],
    ['2023/05/23', 63.84, 63.58, 64.19, 63.17],
    ['2023/05/24', 64.32, 64.91, 66.02, 64.23],
    ['2023/05/25', 68.17, 67.95, 69.03, 67.0],
    ['2023/05/26', 68.21, 67.86, 68.35, 67.33],
    ['2023/05/30', 67.86, 68.31, 68.61, 67.84],
    ['2023/05/31', 68.08, 67.52, 68.25, 65.99],
    ['2023/06/01', 68.01, 68.51, 68.57, 67.54],
    ['2023/06/02', 69.04, 71.16, 71.22, 69.01],
    ['2023/06/05', 70.64, 70.65, 70.96, 69.93],
    ['2023/06/06', 70.99, 73.85, 73.85, 70.85],
    ['2023/06/07', 74.06, 73.74, 75.0, 73.55],
    ['2023/06/08', 73.54, 73.89, 74.61, 73.18],
    ['2023/06/09', 73.81, 74.09, 74.89, 73.42],
    ['2023/06/12', 73.98, 74.74, 75.11, 73.54],
    ['2023/06/13', 75.19, 74.88, 75.76, 74.76],
    ['2023/06/14', 74.92, 73.1, 75.09, 71.41],
    ['2023/06/15', 74.04, 73.85, 74.43, 73.25],
    ['2023/06/16', 73.99, 73.29, 74.37, 73.01],
    ['2023/06/20', 73.72, 75.13, 75.22, 73.64],
    ['2023/06/21', 74.51, 76.0, 76.34, 74.0],
    ['2023/06/22', 75.56, 75.61, 75.72, 74.89],
    ['2023/06/23', 75.5, 75.89, 76.01, 75.29],
    ['2023/06/26', 76.09, 75.66, 76.98, 75.18],
    ['2023/06/27', 75.79, 78.13, 78.2, 75.79],
    ['2023/06/28', 77.89, 78.34, 79.26, 77.89],
    ['2023/06/29', 78.04, 78.11, 78.2, 76.72],
    ['2023/06/30', 78.51, 78.86, 79.06, 78.03],
    ['2023/07/03', 79.29, 78.73, 79.68, 78.21],
    ['2023/07/05', 79.09, 77.45, 79.37, 76.98],
    ['2023/07/06', 77.1, 76.41, 77.1, 75.31],
    ['2023/07/07', 76.13, 76.81, 77.93, 76.13],
    ['2023/07/10', 76.96, 78.9, 78.91, 76.86],
    ['2023/07/11', 79.48, 79.9, 80.39, 79.28],
    ['2023/07/12', 80.82, 82.16, 82.35, 80.29],
    ['2023/07/13', 82.27, 81.98, 82.81, 81.18],
    ['2023/07/14', 83.34, 83.52, 83.67, 82.22],
    ['2023/07/17', 83.0, 82.72, 83.25, 82.17],
    ['2023/07/18', 82.93, 82.62, 83.72, 82.56],
    ['2023/07/19', 82.51, 81.98, 82.51, 81.15],
    ['2023/07/20', 82.24, 78.59, 82.55, 77.15],
    ['2023/07/21', 78.75, 78.72, 79.43, 78.17],
    ['2023/07/24', 78.75, 78.83, 79.2, 78.21],
    ['2023/07/25', 78.78, 80.64, 81.1, 78.78],
    ['2023/07/26', 80.52, 80.1, 81.31, 79.67],
    ['2023/07/27', 80.81, 79.25, 81.39, 79.07],
    ['2023/07/28', 80.36, 80.21, 80.43, 79.38],
    ['2023/07/31', 80.5, 80.33, 80.86, 79.44],
    ['2023/08/01', 80.2, 80.33, 81.0, 80.01],
    ['2023/08/02', 79.51, 79.83, 80.15, 78.96],
]);
var volumes = [
    1067200.0,
    905300.0,
    884200.0,
    875200.0,
    876100.0,
    1137800.0,
    1305100.0,
    835300.0,
    881800.0,
    1324400.0,
    1495700.0,
    1012400.0,
    1638900.0,
    2358900.0,
    2891600.0,
    5400500.0,
    2806900.0,
    2660500.0,
    1564600.0,
    1724400.0,
    1696800.0,
    1341900.0,
    2415000.0,
    2356200.0,
    1147300.0,
    1021100.0,
    1221400.0,
    1168600.0,
    2377300.0,
    2337600.0,
    2099500.0,
    4107400.0,
    2163300.0,
    1311100.0,
    1433700.0,
    3445400.0,
    2118800.0,
    1767900.0,
    2104600.0,
    1995400.0,
    1828700.0,
    2519800.0,
    2396700.0,
    2568400.0,
    1549000.0,
    2007300.0,
    1863400.0,
    1131500.0,
    2498900.0,
    1999300.0,
    2110400.0,
    1704900.0,
    1469800.0,
    1458500.0,
    1529300.0,
    1155300.0,
    1371300.0,
    1889900.0,
    1953400.0,
    1579600.0,
    1768300.0,
    1240300.0,
    2281300.0,
    1468900.0,
    1311300.0,
    1307800.0,
    1254400.0,
    1065300.0,
    1271000.0,
    1826900.0,
    2402200.0,
    1871800.0,
    1071900.0,
    1540600.0,
    918600.0,
    958500.0,
    634700.0,
    806200.0,
    1766900.0,
    1223000.0,
    546900.0,
    954000.0,
    1498800.0,
    1471400.0,
    1596500.0,
    1359100.0,
    1448600.0,
    2305700.0,
    4476000.0,
    2120800.0,
    1003800.0,
    1342900.0,
    2201500.0,
    1405100.0,
    2340600.0,
    2347600.0,
    1618200.0,
    1166600.0,
    1217300.0,
    1407500.0,
    868700.0,
    860800.0,
    1002800.0,
    996200.0,
    1153200.0,
    1164900.0,
    1585800.0,
    1261400.0,
    1442400.0,
    2321200.0,
    1687800.0,
    1827100.0,
    1479300.0,
    1054500.0,
    1042000.0,
    1475500.0,
    1494500.0,
    1127200.0,
    943000.0,
    1156000.0,
    1003500.0,
    872200.0,
    639800.0,
    1065100.0,
    2297700.0,
    2222400.0,
    1960900.0,
    1140600.0,
    1064900.0,
    1295100.0,
    1600600.0,
    1690300.0,
    1015700.0,
    1057000.0,
    1025200.0,
    1085900.0,
    1424800.0,
    1984900.0,
    2437300.0,
    3502700.0,
    1501600.0,
    1257600.0,
    1477900.0,
    1584000.0,
    1744700.0,
    1688600.0,
    1482300.0,
    1330900.0,
    1252100.0,
    1036500.0,
    3644300.0,
    2086800.0,
    1481800.0,
    1339300.0,
    1997000.0,
    1462800.0,
    3583800.0,
    1117600.0,
    1013100.0,
    1340100.0,
    1480700.0,
    1376400.0,
    1397400.0,
    833300.0,
    1097000.0,
    1091900.0,
    1032600.0,
    955600.0,
    864500.0,
    865300.0,
    1402800.0,
    1218600.0,
    1298000.0,
    720800.0,
    1033500.0,
    1167300.0,
    1267500.0,
    1432500.0,
    1057500.0,
    2011000.0,
    1117500.0,
    1050900.0,
    1894600.0,
    1271100.0,
    1083600.0,
    914800.0,
    1012800.0,
    1119300.0,
    1083300.0,
    1112200.0,
    1045600.0,
    1101800.0,
    1422900.0,
    2356200.0,
    2153600.0,
    955700.0,
    852100.0,
    1229000.0,
    1111200.0,
    1504800.0,
    1414200.0,
    2468600.0,
    2300200.0,
    3364400.0,
    4485300.0,
    1617000.0,
    1259900.0,
    1789100.0,
    1484000.0,
    2309700.0,
    1384600.0,
    2223300.0,
    2155100.0,
    1787900.0,
    1286100.0,
    1171700.0,
    1302400.0,
    3021500.0,
    2021000.0,
    2465100.0,
    1913300.0,
    1888300.0,
    1492700.0,
    2570000.0,
    1423600.0,
    1925600.0,
    1787100.0,
    1688800.0,
    1117800.0,
    1068400.0,
    1589600.0,
    2223300.0,
    1941400.0,
    1213900.0,
    1698200.0,
    1509400.0,
    1554300.0,
    1605300.0,
    1290600.0,
    1439500.0,
    2012000.0,
    2615200.0,
    1655000.0,
    1134300.0,
    1250400.0,
    1315900.0,
    1432300.0,
    1409600.0,
    997700.0,
    861600.0,
    972200.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "TOL",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);