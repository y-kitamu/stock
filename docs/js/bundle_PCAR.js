/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_PCAR");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/12', 62.5, 62.49, 62.56, 61.98],
    ['2022/08/15', 62.27, 62.83, 63.4, 62.27],
    ['2022/08/16', 62.5, 63.19, 63.42, 62.33],
    ['2022/08/17', 62.43, 62.35, 62.79, 62.29],
    ['2022/08/18', 62.45, 62.81, 62.89, 62.27],
    ['2022/08/19', 62.3, 62.02, 62.43, 61.87],
    ['2022/08/22', 61.46, 60.32, 61.46, 60.21],
    ['2022/08/23', 60.41, 60.42, 61.03, 60.25],
    ['2022/08/24', 60.59, 60.99, 61.07, 59.95],
    ['2022/08/25', 61.17, 61.63, 61.65, 60.96],
    ['2022/08/26', 61.63, 59.98, 61.99, 59.89],
    ['2022/08/29', 59.53, 59.25, 59.79, 59.17],
    ['2022/08/30', 59.09, 58.7, 59.27, 58.13],
    ['2022/08/31', 58.17, 58.34, 58.86, 57.99],
    ['2022/09/01', 57.99, 58.31, 58.36, 57.76],
    ['2022/09/02', 58.79, 57.65, 59.18, 57.47],
    ['2022/09/06', 57.65, 57.89, 58.2, 57.31],
    ['2022/09/07', 57.8, 59.05, 59.26, 57.42],
    ['2022/09/08', 58.43, 57.55, 58.43, 56.49],
    ['2022/09/09', 58.8, 58.99, 59.65, 58.68],
    ['2022/09/12', 59.16, 59.62, 59.82, 58.99],
    ['2022/09/13', 58.76, 57.37, 58.89, 57.09],
    ['2022/09/14', 57.44, 57.59, 57.8, 57.05],
    ['2022/09/15', 57.59, 57.09, 58.13, 56.78],
    ['2022/09/16', 56.57, 56.76, 57.11, 55.93],
    ['2022/09/19', 56.42, 58.19, 58.21, 56.42],
    ['2022/09/20', 57.77, 57.69, 57.93, 57.09],
    ['2022/09/21', 58.01, 56.97, 58.47, 56.97],
    ['2022/09/22', 56.99, 56.6, 57.39, 56.32],
    ['2022/09/23', 56.11, 55.87, 56.21, 55.05],
    ['2022/09/26', 55.63, 55.33, 56.47, 55.32],
    ['2022/09/27', 55.66, 55.31, 55.95, 54.64],
    ['2022/09/28', 55.71, 56.89, 57.12, 55.49],
    ['2022/09/29', 56.58, 56.58, 56.64, 55.58],
    ['2022/09/30', 56.71, 55.79, 57.01, 55.73],
    ['2022/10/03', 56.54, 57.65, 57.99, 56.26],
    ['2022/10/04', 58.41, 59.94, 60.09, 58.35],
    ['2022/10/05', 59.65, 60.61, 61.08, 59.09],
    ['2022/10/06', 60.43, 59.8, 61.37, 59.78],
    ['2022/10/07', 59.17, 58.45, 59.39, 58.31],
    ['2022/10/10', 59.01, 58.59, 59.18, 58.14],
    ['2022/10/11', 58.51, 59.38, 60.17, 58.37],
    ['2022/10/12', 59.83, 59.03, 60.18, 59.01],
    ['2022/10/13', 58.05, 60.16, 60.42, 57.67],
    ['2022/10/14', 60.05, 58.85, 60.23, 58.59],
    ['2022/10/17', 60.04, 59.23, 60.35, 59.03],
    ['2022/10/18', 60.28, 60.47, 60.94, 59.51],
    ['2022/10/19', 60.41, 60.49, 61.06, 60.02],
    ['2022/10/20', 60.67, 58.38, 60.67, 58.21],
    ['2022/10/21', 58.53, 60.11, 60.43, 58.47],
    ['2022/10/24', 60.73, 61.35, 61.5, 60.57],
    ['2022/10/25', 63.27, 61.16, 63.33, 59.8],
    ['2022/10/26', 62.29, 61.87, 62.67, 61.22],
    ['2022/10/27', 62.4, 62.75, 63.33, 61.89],
    ['2022/10/28', 63.02, 64.2, 64.34, 62.75],
    ['2022/10/31', 63.7, 64.55, 64.75, 63.53],
    ['2022/11/01', 64.79, 64.63, 65.03, 63.73],
    ['2022/11/02', 64.31, 63.8, 65.93, 63.65],
    ['2022/11/03', 63.19, 64.65, 65.27, 62.57],
    ['2022/11/04', 65.65, 66.08, 66.43, 65.47],
    ['2022/11/07', 66.38, 66.09, 66.59, 65.67],
    ['2022/11/08', 66.21, 67.03, 67.38, 65.97],
    ['2022/11/09', 66.45, 66.51, 67.67, 66.25],
    ['2022/11/10', 68.47, 67.94, 68.55, 66.89],
    ['2022/11/11', 67.94, 68.41, 68.77, 67.69],
    ['2022/11/14', 68.21, 68.23, 69.25, 67.61],
    ['2022/11/15', 68.64, 68.52, 69.27, 67.94],
    ['2022/11/16', 68.52, 68.93, 69.73, 68.26],
    ['2022/11/17', 67.28, 69.01, 69.05, 67.09],
    ['2022/11/18', 69.74, 69.25, 69.98, 68.89],
    ['2022/11/21', 69.29, 69.57, 69.89, 69.12],
    ['2022/11/22', 69.74, 70.68, 70.83, 69.67],
    ['2022/11/23', 70.82, 70.59, 71.45, 70.1],
    ['2022/11/25', 70.71, 70.02, 70.8, 69.96],
    ['2022/11/28', 69.8, 69.07, 69.96, 68.71],
    ['2022/11/29', 69.18, 69.51, 69.97, 69.05],
    ['2022/11/30', 69.44, 70.61, 70.94, 68.94],
    ['2022/12/01', 70.75, 70.63, 71.19, 70.37],
    ['2022/12/02', 69.61, 70.53, 70.74, 69.38],
    ['2022/12/05', 70.04, 68.91, 70.05, 68.79],
    ['2022/12/06', 69.02, 69.11, 69.4, 68.57],
    ['2022/12/07', 69.3, 69.66, 70.15, 69.27],
    ['2022/12/08', 69.81, 69.07, 70.35, 68.76],
    ['2022/12/09', 69.2, 67.51, 69.35, 67.36],
    ['2022/12/12', 67.84, 68.64, 68.92, 67.24],
    ['2022/12/13', 70.28, 68.15, 70.41, 67.14],
    ['2022/12/14', 69.75, 68.51, 70.31, 68.14],
    ['2022/12/15', 66.65, 65.29, 66.65, 64.97],
    ['2022/12/16', 64.72, 65.49, 65.79, 64.33],
    ['2022/12/19', 65.51, 66.07, 66.65, 65.51],
    ['2022/12/20', 66.23, 66.27, 66.87, 65.97],
    ['2022/12/21', 66.75, 67.36, 67.63, 66.61],
    ['2022/12/22', 67.13, 66.55, 67.32, 65.63],
    ['2022/12/23', 66.51, 67.03, 67.39, 66.2],
    ['2022/12/27', 67.16, 66.88, 67.44, 66.71],
    ['2022/12/28', 67.13, 66.17, 67.22, 66.11],
    ['2022/12/29', 66.57, 65.73, 66.66, 65.57],
    ['2022/12/30', 65.33, 65.98, 66.21, 65.07],
    ['2023/01/03', 65.92, 65.62, 66.15, 65.11],
    ['2023/01/04', 66.05, 65.47, 66.23, 65.18],
    ['2023/01/05', 65.29, 65.19, 65.49, 64.64],
    ['2023/01/06', 65.66, 66.88, 67.07, 65.66],
    ['2023/01/09', 66.84, 66.53, 67.45, 66.35],
    ['2023/01/10', 65.84, 66.99, 67.02, 65.52],
    ['2023/01/11', 67.06, 67.37, 67.43, 66.29],
    ['2023/01/12', 66.98, 67.59, 67.93, 66.85],
    ['2023/01/13', 67.25, 68.45, 68.52, 67.04],
    ['2023/01/17', 68.67, 67.74, 68.85, 67.69],
    ['2023/01/18', 68.03, 66.49, 68.37, 66.41],
    ['2023/01/19', 66.35, 65.34, 66.35, 64.78],
    ['2023/01/20', 65.24, 66.13, 66.31, 64.89],
    ['2023/01/23', 66.54, 68.17, 68.71, 66.04],
    ['2023/01/24', 70.0, 74.05, 74.29, 69.0],
    ['2023/01/25', 73.87, 73.87, 74.21, 72.87],
    ['2023/01/26', 74.6, 74.82, 75.26, 73.72],
    ['2023/01/27', 74.67, 73.75, 74.83, 72.63],
    ['2023/01/30', 73.59, 72.52, 74.04, 72.4],
    ['2023/01/31', 72.85, 72.87, 73.1, 72.13],
    ['2023/02/01', 72.39, 74.24, 74.73, 71.85],
    ['2023/02/02', 74.21, 74.41, 74.66, 73.21],
    ['2023/02/03', 73.9, 73.45, 74.25, 73.32],
    ['2023/02/06', 73.31, 73.63, 73.87, 73.06],
    ['2023/02/07', 73.41, 73.53, 73.88, 72.31],
    ['2023/02/08', 73.5, 71.95, 73.8, 71.91],
    ['2023/02/09', 73.39, 73.01, 74.48, 72.67],
    ['2023/02/10', 73.52, 72.99, 73.69, 72.44],
    ['2023/02/13', 72.62, 73.0, 73.3, 72.19],
    ['2023/02/14', 72.91, 73.2, 74.01, 72.15],
    ['2023/02/15', 73.19, 74.91, 75.01, 73.01],
    ['2023/02/16', 74.34, 74.87, 75.37, 72.32],
    ['2023/02/17', 75.06, 75.69, 76.12, 74.98],
    ['2023/02/21', 75.36, 73.86, 75.63, 73.56],
    ['2023/02/22', 74.23, 73.1, 74.98, 72.86],
    ['2023/02/23', 73.58, 73.44, 73.91, 73.22],
    ['2023/02/24', 72.3, 72.3, 72.73, 71.75],
    ['2023/02/27', 72.79, 72.11, 72.79, 71.29],
    ['2023/02/28', 72.17, 72.2, 72.49, 71.74],
    ['2023/03/01', 71.97, 73.05, 73.12, 71.82],
    ['2023/03/02', 72.89, 74.79, 74.98, 72.63],
    ['2023/03/03', 75.0, 76.19, 76.35, 74.41],
    ['2023/03/06', 76.19, 76.28, 76.63, 76.01],
    ['2023/03/07', 76.24, 75.79, 76.72, 75.67],
    ['2023/03/08', 76.19, 75.96, 76.47, 75.46],
    ['2023/03/09', 76.25, 74.31, 76.5, 74.24],
    ['2023/03/10', 74.6, 72.32, 74.7, 72.13],
    ['2023/03/13', 71.5, 71.42, 72.73, 71.06],
    ['2023/03/14', 71.87, 72.55, 73.33, 71.79],
    ['2023/03/15', 71.67, 70.69, 71.71, 69.59],
    ['2023/03/16', 70.11, 70.85, 71.06, 69.36],
    ['2023/03/17', 70.25, 68.69, 70.35, 68.22],
    ['2023/03/20', 69.68, 70.35, 70.44, 69.24],
    ['2023/03/21', 71.11, 71.44, 71.71, 70.95],
    ['2023/03/22', 71.34, 70.34, 71.85, 70.3],
    ['2023/03/23', 70.23, 69.81, 71.72, 69.42],
    ['2023/03/24', 69.26, 69.9, 69.92, 68.29],
    ['2023/03/27', 70.52, 70.94, 71.15, 69.94],
    ['2023/03/28', 70.94, 71.84, 71.9, 70.89],
    ['2023/03/29', 72.58, 72.35, 72.71, 71.94],
    ['2023/03/30', 72.9, 72.21, 73.04, 71.99],
    ['2023/03/31', 72.16, 73.2, 73.32, 72.02],
    ['2023/04/03', 73.27, 73.04, 73.97, 72.42],
    ['2023/04/04', 73.02, 70.8, 73.16, 70.56],
    ['2023/04/05', 70.35, 68.48, 70.46, 67.48],
    ['2023/04/06', 68.6, 68.49, 69.23, 68.0],
    ['2023/04/10', 68.29, 69.68, 69.7, 68.1],
    ['2023/04/11', 69.94, 71.04, 71.59, 69.86],
    ['2023/04/12', 71.68, 72.11, 72.65, 71.68],
    ['2023/04/13', 72.11, 71.59, 72.49, 70.79],
    ['2023/04/14', 71.66, 72.72, 72.83, 71.65],
    ['2023/04/17', 72.8, 73.26, 73.57, 72.77],
    ['2023/04/18', 73.63, 73.08, 74.05, 72.92],
    ['2023/04/19', 73.05, 72.91, 73.29, 72.13],
    ['2023/04/20', 72.38, 72.58, 73.32, 72.19],
    ['2023/04/21', 72.26, 73.15, 73.33, 71.6],
    ['2023/04/24', 73.39, 73.77, 74.63, 73.39],
    ['2023/04/25', 75.26, 74.8, 75.73, 72.7],
    ['2023/04/26', 74.48, 73.1, 75.26, 72.77],
    ['2023/04/27', 73.28, 73.67, 73.81, 71.76],
    ['2023/04/28', 73.85, 74.69, 75.11, 73.67],
    ['2023/05/01', 74.69, 74.79, 75.7, 74.51],
    ['2023/05/02', 74.07, 72.43, 74.39, 71.72],
    ['2023/05/03', 72.57, 71.63, 73.6, 71.53],
    ['2023/05/04', 71.47, 71.02, 71.61, 69.96],
    ['2023/05/05', 71.87, 72.76, 72.92, 71.81],
    ['2023/05/08', 73.23, 72.78, 73.4, 71.85],
    ['2023/05/09', 72.56, 73.33, 73.43, 71.95],
    ['2023/05/10', 73.58, 72.33, 73.92, 71.26],
    ['2023/05/11', 71.51, 72.44, 72.55, 71.32],
    ['2023/05/12', 73.15, 72.73, 73.37, 72.09],
    ['2023/05/15', 72.95, 72.8, 73.42, 72.12],
    ['2023/05/16', 72.35, 70.52, 72.42, 70.49],
    ['2023/05/17', 71.14, 71.53, 72.05, 70.77],
    ['2023/05/18', 71.18, 71.61, 71.79, 70.5],
    ['2023/05/19', 72.4, 71.75, 72.83, 71.21],
    ['2023/05/22', 71.87, 71.39, 72.29, 71.2],
    ['2023/05/23', 71.3, 71.39, 71.91, 70.6],
    ['2023/05/24', 71.5, 70.44, 71.65, 70.18],
    ['2023/05/25', 70.26, 71.02, 71.1, 69.8],
    ['2023/05/26', 71.45, 71.35, 71.68, 70.88],
    ['2023/05/30', 71.29, 71.16, 71.41, 70.3],
    ['2023/05/31', 70.93, 68.78, 70.93, 68.54],
    ['2023/06/01', 68.99, 70.02, 70.05, 68.4],
    ['2023/06/02', 70.83, 73.3, 73.4, 70.37],
    ['2023/06/05', 73.48, 73.33, 74.62, 72.64],
    ['2023/06/06', 73.5, 74.59, 74.92, 73.05],
    ['2023/06/07', 74.83, 76.19, 76.28, 74.29],
    ['2023/06/08', 76.14, 76.71, 76.91, 75.79],
    ['2023/06/09', 76.53, 76.83, 77.38, 76.44],
    ['2023/06/12', 76.83, 77.76, 77.97, 76.35],
    ['2023/06/13', 78.37, 79.48, 79.85, 78.02],
    ['2023/06/14', 79.97, 78.06, 80.15, 77.63],
    ['2023/06/15', 78.28, 79.08, 79.23, 77.72],
    ['2023/06/16', 79.44, 78.63, 79.44, 78.47],
    ['2023/06/20', 78.25, 77.77, 78.35, 76.88],
    ['2023/06/21', 77.65, 78.52, 78.83, 77.09],
    ['2023/06/22', 78.5, 78.11, 78.55, 77.63],
    ['2023/06/23', 77.66, 78.44, 78.59, 76.93],
    ['2023/06/26', 78.86, 79.21, 79.76, 78.58],
    ['2023/06/27', 79.45, 80.36, 80.41, 78.92],
    ['2023/06/28', 80.36, 80.68, 80.78, 79.95],
    ['2023/06/29', 80.99, 82.61, 83.27, 80.64],
    ['2023/06/30', 83.53, 83.65, 85.18, 83.33],
    ['2023/07/03', 83.47, 83.64, 84.01, 82.94],
    ['2023/07/05', 82.96, 82.28, 83.16, 81.97],
    ['2023/07/06', 81.65, 81.82, 82.12, 80.91],
    ['2023/07/07', 81.81, 82.31, 83.49, 81.81],
    ['2023/07/10', 82.77, 84.61, 85.05, 82.69],
    ['2023/07/11', 85.01, 86.13, 86.34, 84.87],
    ['2023/07/12', 86.9, 86.23, 87.83, 86.15],
    ['2023/07/13', 86.04, 85.77, 86.57, 85.74],
    ['2023/07/14', 85.95, 85.66, 85.95, 84.62],
    ['2023/07/17', 86.57, 87.56, 87.82, 85.9],
    ['2023/07/18', 87.65, 89.42, 89.58, 87.5],
    ['2023/07/19', 88.17, 89.01, 89.17, 87.86],
    ['2023/07/20', 89.94, 88.83, 90.05, 88.4],
    ['2023/07/21', 88.88, 87.91, 89.45, 87.79],
    ['2023/07/24', 88.09, 88.7, 88.97, 88.05],
    ['2023/07/25', 83.32, 86.31, 86.66, 81.18],
    ['2023/07/26', 86.65, 84.61, 86.81, 83.83],
    ['2023/07/27', 85.04, 85.35, 85.54, 83.97],
    ['2023/07/28', 85.14, 85.34, 85.84, 84.56],
    ['2023/07/31', 85.74, 86.13, 86.15, 85.16],
    ['2023/08/01', 85.84, 86.43, 87.22, 85.77],
    ['2023/08/02', 86.31, 86.07, 86.53, 85.43],
    ['2023/08/03', 85.67, 84.89, 85.94, 83.88],
    ['2023/08/04', 85.08, 83.9, 85.51, 83.45],
    ['2023/08/07', 84.45, 84.64, 84.97, 84.34],
    ['2023/08/08', 83.76, 85.42, 85.54, 83.4],
    ['2023/08/09', 85.5, 85.42, 86.38, 85.28],
    ['2023/08/10', 85.93, 85.48, 86.51, 84.94],
]);
var volumes = [
    2262750.0,
    2044500.0,
    1539150.0,
    1864050.0,
    1778100.0,
    1899450.0,
    3846900.0,
    2579400.0,
    2649450.0,
    2509500.0,
    2647950.0,
    2088600.0,
    1792050.0,
    2348700.0,
    1579350.0,
    1575150.0,
    1960800.0,
    2541150.0,
    3990150.0,
    3433050.0,
    2066250.0,
    3097050.0,
    2505750.0,
    3176250.0,
    4471350.0,
    2248500.0,
    2070900.0,
    1970250.0,
    1850700.0,
    2667450.0,
    2839050.0,
    2416200.0,
    2723250.0,
    3164550.0,
    3161700.0,
    2629350.0,
    3919050.0,
    3464400.0,
    2750850.0,
    2817900.0,
    1713900.0,
    2480100.0,
    2016450.0,
    2567700.0,
    2380050.0,
    2944350.0,
    2466150.0,
    2308050.0,
    2749950.0,
    3138750.0,
    3322650.0,
    4812300.0,
    5937450.0,
    3519750.0,
    3140850.0,
    3284700.0,
    2388750.0,
    3021600.0,
    3919050.0,
    3607200.0,
    3338400.0,
    3663000.0,
    4557450.0,
    4568850.0,
    3567900.0,
    2525700.0,
    2712900.0,
    3423750.0,
    3134550.0,
    4672350.0,
    2044650.0,
    2927400.0,
    2769000.0,
    1010100.0,
    2828700.0,
    2485200.0,
    4588650.0,
    2769750.0,
    3060450.0,
    2328300.0,
    3470250.0,
    2991150.0,
    2347350.0,
    4638000.0,
    3148950.0,
    3997350.0,
    3580050.0,
    4172850.0,
    7423200.0,
    2984250.0,
    3250500.0,
    2535450.0,
    3855900.0,
    2305650.0,
    1560150.0,
    1534200.0,
    2061600.0,
    1893450.0,
    2961300.0,
    2649450.0,
    2613450.0,
    2392200.0,
    2710500.0,
    2758200.0,
    3378300.0,
    2907600.0,
    2554200.0,
    3225750.0,
    3540450.0,
    3144150.0,
    3327600.0,
    5964000.0,
    11576700.0,
    4023450.0,
    4010100.0,
    4204650.0,
    3973950.0,
    4150050.0,
    3873600.0,
    2944800.0,
    2422950.0,
    3402300.0,
    3047550.0,
    3029700.0,
    4412600.0,
    2291400.0,
    1885800.0,
    2679600.0,
    2850700.0,
    2142400.0,
    2597100.0,
    2725600.0,
    2383200.0,
    2003000.0,
    2483900.0,
    2717000.0,
    3346400.0,
    3957600.0,
    3231300.0,
    3803800.0,
    5566400.0,
    3719000.0,
    2072600.0,
    2511400.0,
    3040800.0,
    3351000.0,
    2957300.0,
    4642800.0,
    3886900.0,
    5872200.0,
    3082000.0,
    3115700.0,
    2436800.0,
    3138800.0,
    2487800.0,
    2439800.0,
    1797600.0,
    2227100.0,
    1858600.0,
    3008800.0,
    2379200.0,
    2356000.0,
    4036400.0,
    2487600.0,
    1790700.0,
    3161900.0,
    2555900.0,
    2466100.0,
    2347000.0,
    2670700.0,
    2592700.0,
    2182900.0,
    4513900.0,
    10063200.0,
    4446000.0,
    6266400.0,
    4119200.0,
    2942000.0,
    2316900.0,
    2066100.0,
    3991100.0,
    2932700.0,
    2395300.0,
    2402100.0,
    2144300.0,
    2134800.0,
    2289900.0,
    1782900.0,
    1730700.0,
    1992000.0,
    2977800.0,
    2250000.0,
    2735000.0,
    2105300.0,
    1950100.0,
    2553400.0,
    2263000.0,
    2460000.0,
    1880900.0,
    1782100.0,
    5249300.0,
    2205000.0,
    2638500.0,
    2429200.0,
    2104100.0,
    2143900.0,
    1893300.0,
    1743400.0,
    1943400.0,
    2575400.0,
    2266600.0,
    1792200.0,
    3946800.0,
    2463800.0,
    2292600.0,
    1465600.0,
    2588900.0,
    1782900.0,
    1759500.0,
    1817600.0,
    2257000.0,
    2979300.0,
    907100.0,
    2804600.0,
    1802500.0,
    1802600.0,
    3932700.0,
    2490100.0,
    3184000.0,
    2127400.0,
    1821000.0,
    3172300.0,
    2736300.0,
    2694500.0,
    2972500.0,
    9949800.0,
    3490800.0,
    5091300.0,
    3380500.0,
    3058000.0,
    2922200.0,
    2707100.0,
    1967000.0,
    2166700.0,
    2928400.0,
    2693600.0,
    1719600.0,
    1915200.0,
    1763300.0,
    1450500.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "PCAR",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);