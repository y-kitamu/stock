/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_PAM");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/15', 24.06, 24.19, 24.59, 23.8],
    ['2022/08/16', 24.09, 24.06, 24.21, 23.6],
    ['2022/08/17', 23.76, 24.19, 24.51, 23.76],
    ['2022/08/18', 24.17, 25.24, 25.42, 23.98],
    ['2022/08/19', 25.05, 24.22, 25.16, 23.84],
    ['2022/08/22', 24.03, 24.38, 24.6, 23.34],
    ['2022/08/23', 24.6, 24.99, 25.11, 24.25],
    ['2022/08/24', 24.99, 26.2, 26.33, 24.77],
    ['2022/08/25', 26.37, 26.48, 26.61, 25.71],
    ['2022/08/26', 26.65, 26.13, 26.67, 25.74],
    ['2022/08/29', 25.89, 25.95, 26.69, 25.86],
    ['2022/08/30', 25.86, 24.94, 26.32, 24.82],
    ['2022/08/31', 24.73, 24.39, 25.03, 24.1],
    ['2022/09/01', 24.02, 24.41, 24.67, 23.64],
    ['2022/09/02', 24.64, 24.66, 25.17, 24.19],
    ['2022/09/06', 24.71, 25.18, 25.57, 24.46],
    ['2022/09/07', 25.24, 26.07, 26.34, 25.24],
    ['2022/09/08', 26.04, 25.84, 26.5, 25.49],
    ['2022/09/09', 26.17, 26.7, 26.7, 25.77],
    ['2022/09/12', 26.8, 26.76, 27.95, 26.35],
    ['2022/09/13', 26.29, 25.98, 26.76, 25.57],
    ['2022/09/14', 25.79, 26.76, 26.86, 25.78],
    ['2022/09/15', 26.67, 25.34, 26.9, 25.21],
    ['2022/09/16', 24.83, 25.01, 25.41, 24.3],
    ['2022/09/19', 24.83, 25.94, 26.24, 24.69],
    ['2022/09/20', 25.8, 25.41, 25.84, 25.01],
    ['2022/09/21', 25.76, 24.84, 25.76, 24.52],
    ['2022/09/22', 24.91, 24.65, 25.49, 24.31],
    ['2022/09/23', 24.32, 23.72, 24.69, 23.04],
    ['2022/09/26', 23.3, 22.41, 23.49, 22.35],
    ['2022/09/27', 22.41, 22.45, 23.1, 22.4],
    ['2022/09/28', 22.78, 22.97, 23.33, 22.0],
    ['2022/09/29', 22.81, 23.08, 23.3, 22.09],
    ['2022/09/30', 23.02, 22.77, 23.51, 22.77],
    ['2022/10/03', 23.28, 24.11, 24.36, 23.07],
    ['2022/10/04', 24.47, 23.78, 24.69, 23.43],
    ['2022/10/05', 23.65, 23.97, 24.35, 23.08],
    ['2022/10/06', 23.9, 24.24, 24.6, 23.27],
    ['2022/10/07', 24.29, 23.73, 24.59, 23.66],
    ['2022/10/10', 23.75, 23.66, 24.13, 23.07],
    ['2022/10/11', 23.46, 22.79, 23.55, 22.65],
    ['2022/10/12', 22.76, 22.26, 22.83, 22.26],
    ['2022/10/13', 22.0, 22.96, 23.1, 21.93],
    ['2022/10/14', 22.99, 22.38, 22.99, 22.0],
    ['2022/10/17', 22.71, 23.0, 23.34, 22.46],
    ['2022/10/18', 23.51, 23.1, 23.51, 22.6],
    ['2022/10/19', 23.01, 23.28, 23.33, 22.52],
    ['2022/10/20', 23.35, 23.2, 23.68, 23.03],
    ['2022/10/21', 23.21, 23.55, 23.77, 23.02],
    ['2022/10/24', 23.51, 23.36, 23.56, 22.8],
    ['2022/10/25', 23.26, 24.6, 24.65, 23.2],
    ['2022/10/26', 24.88, 24.68, 25.08, 24.21],
    ['2022/10/27', 24.89, 25.34, 25.85, 23.88],
    ['2022/10/28', 25.55, 25.38, 25.58, 24.69],
    ['2022/10/31', 25.38, 25.17, 25.59, 24.76],
    ['2022/11/01', 25.59, 26.35, 26.77, 24.98],
    ['2022/11/02', 26.35, 25.34, 26.56, 25.12],
    ['2022/11/03', 25.11, 25.49, 25.81, 24.61],
    ['2022/11/04', 26.05, 25.91, 26.09, 25.11],
    ['2022/11/07', 26.38, 25.19, 26.38, 25.19],
    ['2022/11/08', 26.0, 26.3, 26.46, 25.09],
    ['2022/11/09', 25.87, 25.24, 26.44, 24.91],
    ['2022/11/10', 26.22, 25.08, 26.22, 24.84],
    ['2022/11/11', 25.1, 25.95, 26.02, 24.87],
    ['2022/11/14', 25.9, 26.86, 27.33, 25.6],
    ['2022/11/15', 27.6, 27.06, 27.6, 26.81],
    ['2022/11/16', 26.87, 26.27, 27.21, 25.95],
    ['2022/11/17', 26.12, 25.87, 26.13, 24.9],
    ['2022/11/18', 25.97, 26.29, 26.35, 25.2],
    ['2022/11/21', 26.3, 26.0, 26.48, 25.44],
    ['2022/11/22', 26.08, 26.14, 26.32, 25.87],
    ['2022/11/23', 26.14, 26.7, 26.72, 25.91],
    ['2022/11/25', 26.48, 27.57, 27.57, 26.48],
    ['2022/11/28', 27.5, 27.99, 27.99, 27.08],
    ['2022/11/29', 27.99, 28.99, 29.15, 27.88],
    ['2022/11/30', 29.0, 28.65, 29.4, 28.21],
    ['2022/12/01', 28.87, 29.11, 29.46, 28.4],
    ['2022/12/02', 28.97, 28.64, 29.44, 28.63],
    ['2022/12/05', 28.62, 27.42, 28.82, 27.26],
    ['2022/12/06', 27.45, 27.04, 27.45, 26.31],
    ['2022/12/07', 27.13, 27.64, 28.0, 27.07],
    ['2022/12/08', 27.64, 26.18, 27.89, 26.07],
    ['2022/12/09', 26.09, 25.98, 26.38, 25.6],
    ['2022/12/12', 25.79, 26.45, 26.93, 25.79],
    ['2022/12/13', 27.3, 26.01, 27.3, 25.97],
    ['2022/12/14', 26.01, 25.7, 26.14, 24.87],
    ['2022/12/15', 25.19, 25.48, 25.67, 25.01],
    ['2022/12/16', 25.22, 26.11, 26.16, 25.22],
    ['2022/12/19', 26.39, 27.77, 27.78, 26.0],
    ['2022/12/20', 27.75, 28.04, 28.94, 27.59],
    ['2022/12/21', 28.45, 28.86, 29.0, 28.21],
    ['2022/12/22', 29.14, 29.59, 29.7, 28.9],
    ['2022/12/23', 29.4, 29.95, 30.3, 29.03],
    ['2022/12/27', 29.99, 30.89, 31.0, 29.74],
    ['2022/12/28', 30.79, 30.81, 31.4, 30.38],
    ['2022/12/29', 31.24, 31.14, 31.75, 31.13],
    ['2022/12/30', 31.34, 31.94, 32.0, 31.34],
    ['2023/01/03', 32.3, 31.13, 32.39, 31.1],
    ['2023/01/04', 30.92, 31.87, 31.97, 30.21],
    ['2023/01/05', 31.93, 32.95, 33.02, 31.65],
    ['2023/01/06', 33.1, 33.42, 34.5, 33.05],
    ['2023/01/09', 33.55, 33.6, 34.19, 32.61],
    ['2023/01/10', 34.0, 33.89, 34.11, 33.26],
    ['2023/01/11', 34.08, 35.93, 36.87, 34.08],
    ['2023/01/12', 35.43, 35.1, 35.75, 33.61],
    ['2023/01/13', 34.74, 34.99, 35.42, 34.19],
    ['2023/01/17', 35.25, 35.12, 35.97, 34.77],
    ['2023/01/18', 35.29, 33.1, 36.75, 33.04],
    ['2023/01/19', 32.93, 32.83, 33.09, 30.78],
    ['2023/01/20', 32.83, 34.2, 34.53, 32.4],
    ['2023/01/23', 34.3, 34.21, 35.45, 33.93],
    ['2023/01/24', 34.06, 34.33, 34.61, 33.29],
    ['2023/01/25', 34.25, 35.34, 35.41, 33.61],
    ['2023/01/26', 35.52, 34.86, 35.86, 34.4],
    ['2023/01/27', 34.7, 33.76, 34.74, 33.67],
    ['2023/01/30', 33.69, 32.49, 33.89, 32.03],
    ['2023/01/31', 32.7, 33.83, 33.98, 32.5],
    ['2023/02/01', 34.0, 33.78, 34.09, 33.1],
    ['2023/02/02', 34.0, 33.79, 34.18, 33.28],
    ['2023/02/03', 33.11, 32.53, 33.54, 32.04],
    ['2023/02/06', 32.53, 32.8, 32.92, 31.38],
    ['2023/02/07', 32.67, 32.66, 33.58, 32.3],
    ['2023/02/08', 32.49, 33.4, 33.71, 32.49],
    ['2023/02/09', 33.78, 32.2, 33.78, 32.0],
    ['2023/02/10', 32.31, 32.9, 33.17, 32.31],
    ['2023/02/13', 32.87, 33.8, 34.19, 32.7],
    ['2023/02/14', 33.6, 33.82, 34.67, 33.43],
    ['2023/02/15', 33.61, 34.21, 34.48, 33.09],
    ['2023/02/16', 33.92, 33.85, 34.75, 33.72],
    ['2023/02/17', 33.44, 33.1, 33.44, 32.55],
    ['2023/02/21', 33.02, 32.4, 33.13, 32.23],
    ['2023/02/22', 32.5, 32.34, 32.88, 32.0],
    ['2023/02/23', 32.69, 32.84, 33.42, 32.63],
    ['2023/02/24', 32.52, 33.01, 33.13, 32.0],
    ['2023/02/27', 33.3, 33.46, 34.0, 33.19],
    ['2023/02/28', 33.52, 32.99, 33.67, 32.56],
    ['2023/03/01', 33.0, 33.52, 33.72, 32.69],
    ['2023/03/02', 33.4, 32.31, 33.4, 32.12],
    ['2023/03/03', 32.24, 32.49, 33.35, 32.24],
    ['2023/03/06', 33.09, 34.01, 34.07, 32.67],
    ['2023/03/07', 34.0, 33.08, 34.45, 32.12],
    ['2023/03/08', 33.08, 33.08, 33.54, 32.3],
    ['2023/03/09', 32.89, 31.92, 33.23, 31.92],
    ['2023/03/10', 32.07, 29.58, 32.25, 29.06],
    ['2023/03/13', 29.27, 28.67, 30.58, 28.5],
    ['2023/03/14', 28.8, 28.83, 30.04, 28.41],
    ['2023/03/15', 28.12, 27.38, 28.18, 26.86],
    ['2023/03/16', 27.02, 28.6, 28.74, 26.95],
    ['2023/03/17', 28.46, 28.4, 28.82, 27.78],
    ['2023/03/20', 28.3, 28.13, 28.81, 27.8],
    ['2023/03/21', 28.64, 29.35, 29.43, 28.36],
    ['2023/03/22', 29.48, 28.3, 29.48, 28.24],
    ['2023/03/23', 28.45, 28.02, 28.96, 27.86],
    ['2023/03/24', 27.84, 29.0, 29.17, 27.43],
    ['2023/03/27', 29.48, 30.8, 30.95, 29.05],
    ['2023/03/28', 30.95, 32.58, 32.65, 30.6],
    ['2023/03/29', 32.87, 32.93, 33.33, 32.4],
    ['2023/03/30', 33.1, 32.72, 33.82, 31.9],
    ['2023/03/31', 32.9, 32.98, 33.49, 32.36],
    ['2023/04/03', 33.28, 34.63, 34.67, 33.2],
    ['2023/04/04', 34.67, 33.3, 34.67, 32.88],
    ['2023/04/05', 32.91, 33.85, 34.0, 32.78],
    ['2023/04/06', 34.04, 33.71, 34.07, 33.37],
    ['2023/04/10', 33.92, 34.42, 34.93, 33.51],
    ['2023/04/11', 35.0, 34.54, 35.48, 34.41],
    ['2023/04/12', 35.12, 36.41, 36.52, 35.12],
    ['2023/04/13', 36.62, 36.95, 37.11, 36.08],
    ['2023/04/14', 37.19, 37.56, 37.98, 36.74],
    ['2023/04/17', 37.37, 37.63, 37.76, 36.31],
    ['2023/04/18', 37.79, 36.64, 38.23, 36.11],
    ['2023/04/19', 36.58, 35.16, 36.68, 34.75],
    ['2023/04/20', 34.83, 35.19, 35.5, 34.73],
    ['2023/04/21', 35.11, 34.3, 35.67, 33.8],
    ['2023/04/24', 34.28, 34.77, 35.39, 33.65],
    ['2023/04/25', 34.55, 34.41, 34.77, 33.96],
    ['2023/04/26', 34.5, 34.43, 35.0, 33.78],
    ['2023/04/27', 34.66, 34.26, 34.66, 33.82],
    ['2023/04/28', 34.18, 34.14, 34.43, 33.01],
    ['2023/05/01', 33.93, 33.42, 34.24, 32.82],
    ['2023/05/02', 33.39, 33.84, 33.96, 32.5],
    ['2023/05/03', 34.0, 33.25, 34.37, 33.05],
    ['2023/05/04', 33.47, 32.53, 33.92, 32.1],
    ['2023/05/05', 33.18, 34.13, 34.51, 32.79],
    ['2023/05/08', 34.49, 33.81, 34.98, 33.8],
    ['2023/05/09', 33.94, 34.47, 35.34, 33.56],
    ['2023/05/10', 34.81, 35.15, 35.35, 34.55],
    ['2023/05/11', 35.35, 36.24, 36.45, 34.24],
    ['2023/05/12', 36.35, 37.36, 37.47, 36.2],
    ['2023/05/15', 36.94, 36.6, 36.94, 35.26],
    ['2023/05/16', 36.43, 35.13, 36.5, 35.09],
    ['2023/05/17', 35.15, 35.7, 36.19, 35.0],
    ['2023/05/18', 35.75, 35.16, 35.75, 34.4],
    ['2023/05/19', 35.22, 36.12, 36.73, 35.22],
    ['2023/05/22', 36.27, 35.77, 36.69, 35.53],
    ['2023/05/23', 36.02, 36.29, 37.59, 35.67],
    ['2023/05/24', 36.33, 36.71, 37.07, 35.7],
    ['2023/05/25', 37.06, 36.73, 37.75, 36.05],
    ['2023/05/26', 37.2, 36.69, 37.68, 36.2],
    ['2023/05/30', 36.64, 37.46, 37.64, 36.5],
    ['2023/05/31', 37.62, 37.0, 37.84, 36.1],
    ['2023/06/01', 37.0, 38.39, 38.43, 37.0],
    ['2023/06/02', 38.7, 38.52, 39.19, 38.21],
    ['2023/06/05', 39.05, 39.14, 39.59, 38.52],
    ['2023/06/06', 39.15, 40.83, 41.0, 39.11],
    ['2023/06/07', 41.73, 40.13, 41.73, 39.86],
    ['2023/06/08', 40.49, 39.47, 40.76, 39.0],
    ['2023/06/09', 39.74, 39.14, 40.11, 38.76],
    ['2023/06/12', 39.0, 38.78, 39.84, 38.66],
    ['2023/06/13', 38.8, 38.55, 39.35, 38.22],
    ['2023/06/14', 38.55, 38.19, 38.9, 37.69],
    ['2023/06/15', 38.41, 38.34, 39.47, 38.32],
    ['2023/06/16', 38.31, 40.91, 41.16, 38.31],
    ['2023/06/20', 41.89, 42.77, 43.0, 41.39],
    ['2023/06/21', 42.6, 43.8, 44.04, 42.35],
    ['2023/06/22', 43.65, 42.09, 43.69, 41.73],
    ['2023/06/23', 42.07, 42.04, 43.42, 40.96],
    ['2023/06/26', 43.33, 42.39, 44.3, 41.96],
    ['2023/06/27', 42.51, 41.8, 43.67, 41.22],
    ['2023/06/28', 41.81, 41.74, 43.22, 41.62],
    ['2023/06/29', 41.75, 42.36, 42.55, 41.35],
    ['2023/06/30', 42.67, 43.32, 43.45, 42.0],
    ['2023/07/03', 43.69, 42.82, 43.88, 42.7],
    ['2023/07/05', 43.09, 43.65, 43.77, 42.21],
    ['2023/07/06', 43.67, 40.97, 43.92, 40.75],
    ['2023/07/07', 40.93, 41.64, 42.08, 40.86],
    ['2023/07/10', 41.73, 41.31, 42.02, 40.87],
    ['2023/07/11', 41.5, 41.5, 41.69, 40.78],
    ['2023/07/12', 42.01, 43.19, 43.44, 41.6],
    ['2023/07/13', 43.52, 43.55, 43.91, 42.96],
    ['2023/07/14', 43.71, 42.78, 43.71, 41.95],
    ['2023/07/17', 42.78, 44.87, 45.27, 42.78],
    ['2023/07/18', 44.85, 44.71, 45.5, 44.4],
    ['2023/07/19', 45.1, 43.9, 45.23, 43.11],
    ['2023/07/20', 44.1, 43.89, 44.62, 43.65],
    ['2023/07/21', 44.21, 44.62, 45.11, 43.91],
    ['2023/07/24', 44.87, 44.25, 45.63, 44.15],
    ['2023/07/25', 44.25, 44.06, 44.51, 43.28],
    ['2023/07/26', 44.06, 43.69, 44.76, 43.5],
    ['2023/07/27', 43.73, 41.24, 43.89, 41.14],
    ['2023/07/28', 41.39, 41.18, 42.4, 41.04],
    ['2023/07/31', 41.18, 42.0, 42.36, 41.18],
    ['2023/08/01', 42.0, 42.87, 43.55, 41.8],
    ['2023/08/02', 42.69, 41.43, 42.69, 41.43],
    ['2023/08/03', 41.42, 40.03, 42.46, 39.88],
    ['2023/08/04', 40.12, 40.32, 41.54, 40.0],
    ['2023/08/07', 40.42, 40.72, 40.88, 39.8],
    ['2023/08/08', 40.68, 41.16, 41.65, 40.09],
    ['2023/08/09', 41.44, 41.75, 42.9, 41.0],
    ['2023/08/10', 41.79, 42.9, 43.38, 40.15],
    ['2023/08/11', 42.76, 44.75, 44.94, 42.26],
]);
var volumes = [
    42500.0,
    98000.0,
    61100.0,
    169600.0,
    104100.0,
    49300.0,
    130900.0,
    277400.0,
    138600.0,
    131700.0,
    144400.0,
    89200.0,
    180700.0,
    104800.0,
    47800.0,
    98500.0,
    227100.0,
    105300.0,
    250100.0,
    292500.0,
    104200.0,
    144100.0,
    83500.0,
    82000.0,
    79100.0,
    55800.0,
    91800.0,
    123300.0,
    168400.0,
    120500.0,
    60500.0,
    83300.0,
    118700.0,
    68300.0,
    124000.0,
    120000.0,
    71800.0,
    77700.0,
    40000.0,
    71700.0,
    95600.0,
    49200.0,
    142200.0,
    84700.0,
    113100.0,
    69900.0,
    61400.0,
    94000.0,
    186200.0,
    88400.0,
    241300.0,
    188800.0,
    159300.0,
    145200.0,
    131300.0,
    213100.0,
    176100.0,
    82800.0,
    109200.0,
    114500.0,
    167500.0,
    116300.0,
    148100.0,
    87100.0,
    147900.0,
    94100.0,
    65100.0,
    81300.0,
    62400.0,
    40700.0,
    95000.0,
    158500.0,
    52600.0,
    160600.0,
    95600.0,
    97400.0,
    169000.0,
    100000.0,
    110100.0,
    151900.0,
    111900.0,
    91700.0,
    103300.0,
    240600.0,
    136300.0,
    191400.0,
    104900.0,
    143200.0,
    182400.0,
    113300.0,
    153100.0,
    173000.0,
    253700.0,
    273500.0,
    227900.0,
    169000.0,
    88400.0,
    256300.0,
    117200.0,
    159900.0,
    312100.0,
    284200.0,
    135200.0,
    497100.0,
    301200.0,
    258100.0,
    282200.0,
    381500.0,
    591400.0,
    245400.0,
    189400.0,
    123400.0,
    163400.0,
    117000.0,
    77500.0,
    252400.0,
    91700.0,
    91000.0,
    110100.0,
    273400.0,
    190900.0,
    122700.0,
    158300.0,
    125900.0,
    57500.0,
    86400.0,
    100000.0,
    101700.0,
    126400.0,
    125000.0,
    77000.0,
    94400.0,
    90600.0,
    71700.0,
    114700.0,
    156300.0,
    161300.0,
    121300.0,
    116500.0,
    177000.0,
    147600.0,
    96800.0,
    96200.0,
    360600.0,
    277300.0,
    161200.0,
    250700.0,
    164500.0,
    107300.0,
    131300.0,
    141600.0,
    84300.0,
    106700.0,
    677100.0,
    216200.0,
    323800.0,
    189600.0,
    104800.0,
    512000.0,
    145800.0,
    79000.0,
    116200.0,
    56600.0,
    212800.0,
    232500.0,
    159700.0,
    103700.0,
    156800.0,
    106800.0,
    238200.0,
    204500.0,
    138000.0,
    199500.0,
    112200.0,
    97600.0,
    130400.0,
    122000.0,
    114100.0,
    72200.0,
    118000.0,
    90300.0,
    65300.0,
    59700.0,
    102500.0,
    142200.0,
    90800.0,
    254800.0,
    137500.0,
    267100.0,
    176100.0,
    90200.0,
    138300.0,
    129000.0,
    61900.0,
    179500.0,
    104800.0,
    52400.0,
    57000.0,
    82000.0,
    178300.0,
    96600.0,
    139300.0,
    237400.0,
    330500.0,
    271900.0,
    200800.0,
    154500.0,
    136700.0,
    157400.0,
    119300.0,
    197700.0,
    372600.0,
    387600.0,
    413100.0,
    279300.0,
    238500.0,
    192900.0,
    129900.0,
    113500.0,
    98800.0,
    245400.0,
    66600.0,
    138700.0,
    157600.0,
    102500.0,
    119900.0,
    80200.0,
    193900.0,
    134800.0,
    176100.0,
    241400.0,
    152600.0,
    141200.0,
    55100.0,
    93600.0,
    141600.0,
    80600.0,
    67900.0,
    140200.0,
    253100.0,
    153400.0,
    217400.0,
    139700.0,
    150500.0,
    115400.0,
    175500.0,
    217800.0,
    200900.0,
    237800.0,
    361900.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "PAM",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);