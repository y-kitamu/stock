/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_FERG");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/08', 125.15, 123.79, 125.73, 123.42],
    ['2022/08/09', 122.13, 120.57, 122.21, 120.14],
    ['2022/08/10', 125.09, 126.73, 127.04, 124.98],
    ['2022/08/11', 126.64, 126.07, 127.72, 125.91],
    ['2022/08/12', 124.8, 126.01, 126.05, 124.27],
    ['2022/08/15', 125.52, 126.03, 126.52, 124.71],
    ['2022/08/16', 124.73, 128.01, 128.07, 124.35],
    ['2022/08/17', 126.28, 127.58, 128.5, 125.82],
    ['2022/08/18', 127.64, 127.22, 128.6, 126.83],
    ['2022/08/19', 125.29, 123.87, 125.29, 123.22],
    ['2022/08/22', 122.5, 122.9, 123.56, 122.39],
    ['2022/08/23', 121.44, 120.33, 122.55, 120.32],
    ['2022/08/24', 120.38, 120.36, 121.58, 119.52],
    ['2022/08/25', 120.91, 121.44, 121.75, 120.05],
    ['2022/08/26', 120.91, 118.0, 121.47, 117.91],
    ['2022/08/29', 117.46, 118.45, 119.55, 116.8],
    ['2022/08/30', 119.31, 117.62, 119.51, 116.47],
    ['2022/08/31', 117.27, 115.49, 117.27, 115.44],
    ['2022/09/01', 114.27, 115.5, 116.09, 112.7],
    ['2022/09/02', 116.78, 113.77, 116.78, 113.56],
    ['2022/09/06', 114.16, 114.08, 114.59, 112.65],
    ['2022/09/07', 112.77, 115.41, 115.46, 112.53],
    ['2022/09/08', 113.71, 115.83, 115.88, 113.58],
    ['2022/09/09', 116.95, 118.53, 118.7, 116.79],
    ['2022/09/12', 120.0, 120.23, 120.56, 119.78],
    ['2022/09/13', 119.13, 116.64, 119.13, 115.76],
    ['2022/09/14', 115.55, 115.94, 115.94, 114.5],
    ['2022/09/15', 113.55, 113.64, 114.95, 113.31],
    ['2022/09/16', 112.71, 111.93, 112.97, 110.67],
    ['2022/09/19', 111.0, 113.22, 113.23, 111.0],
    ['2022/09/20', 111.03, 110.97, 111.32, 110.24],
    ['2022/09/21', 111.07, 109.77, 112.18, 109.75],
    ['2022/09/22', 109.37, 109.2, 109.91, 108.59],
    ['2022/09/23', 106.28, 108.49, 108.54, 105.91],
    ['2022/09/26', 107.04, 108.38, 109.12, 106.9],
    ['2022/09/27', 105.85, 103.22, 107.13, 102.42],
    ['2022/09/28', 103.75, 106.93, 107.64, 103.12],
    ['2022/09/29', 105.04, 104.03, 106.15, 103.72],
    ['2022/09/30', 102.08, 102.93, 105.54, 102.01],
    ['2022/10/03', 105.06, 108.15, 109.05, 104.93],
    ['2022/10/04', 112.01, 114.5, 114.52, 111.65],
    ['2022/10/05', 111.92, 113.83, 114.59, 111.58],
    ['2022/10/06', 112.57, 112.84, 113.62, 112.33],
    ['2022/10/07', 110.72, 109.26, 110.89, 108.89],
    ['2022/10/10', 110.65, 110.5, 111.22, 109.73],
    ['2022/10/11', 109.53, 108.57, 111.0, 108.32],
    ['2022/10/12', 107.69, 106.25, 108.38, 106.2],
    ['2022/10/13', 104.33, 108.07, 109.07, 103.43],
    ['2022/10/14', 108.36, 104.33, 108.52, 104.3],
    ['2022/10/17', 104.68, 107.59, 108.0, 104.36],
    ['2022/10/18', 108.55, 108.29, 108.89, 106.54],
    ['2022/10/19', 106.17, 103.53, 106.73, 102.49],
    ['2022/10/20', 103.08, 102.18, 104.56, 101.02],
    ['2022/10/21', 100.07, 103.69, 104.19, 99.16],
    ['2022/10/24', 105.19, 106.04, 106.45, 104.45],
    ['2022/10/25', 106.35, 109.35, 109.86, 106.33],
    ['2022/10/26', 109.58, 112.56, 112.97, 109.41],
    ['2022/10/27', 109.7, 109.48, 110.72, 108.95],
    ['2022/10/28', 108.1, 111.16, 111.29, 108.01],
    ['2022/10/31', 109.31, 109.26, 110.07, 108.96],
    ['2022/11/01', 110.66, 110.1, 110.82, 108.71],
    ['2022/11/02', 109.99, 108.38, 112.0, 108.36],
    ['2022/11/03', 105.41, 107.39, 108.04, 105.0],
    ['2022/11/04', 109.41, 109.97, 111.98, 108.48],
    ['2022/11/07', 111.07, 110.69, 111.2, 110.09],
    ['2022/11/08', 111.38, 112.1, 112.61, 110.62],
    ['2022/11/09', 110.02, 111.27, 112.15, 110.02],
    ['2022/11/10', 116.52, 123.4, 124.06, 116.35],
    ['2022/11/11', 117.83, 120.97, 122.48, 117.06],
    ['2022/11/14', 121.42, 120.91, 122.13, 120.17],
    ['2022/11/15', 122.61, 120.44, 122.76, 119.8],
    ['2022/11/16', 118.44, 116.54, 118.82, 116.09],
    ['2022/11/17', 114.91, 115.37, 115.84, 113.94],
    ['2022/11/18', 116.95, 116.87, 118.01, 115.62],
    ['2022/11/21', 115.84, 117.9, 118.12, 115.3],
    ['2022/11/22', 118.64, 120.51, 123.31, 118.22],
    ['2022/11/23', 120.36, 120.25, 120.78, 119.61],
    ['2022/11/25', 119.38, 120.46, 120.52, 118.71],
    ['2022/11/28', 118.88, 116.96, 118.91, 115.99],
    ['2022/11/29', 114.51, 114.62, 115.34, 113.21],
    ['2022/11/30', 113.36, 117.23, 117.8, 111.85],
    ['2022/12/01', 118.2, 118.31, 120.5, 117.52],
    ['2022/12/02', 115.54, 116.64, 117.03, 114.75],
    ['2022/12/05', 117.6, 115.65, 117.76, 114.1],
    ['2022/12/06', 117.38, 122.08, 122.09, 117.12],
    ['2022/12/07', 120.72, 123.51, 124.81, 120.0],
    ['2022/12/08', 124.99, 126.08, 126.21, 123.9],
    ['2022/12/09', 125.95, 127.12, 128.63, 125.95],
    ['2022/12/12', 126.83, 128.7, 129.3, 126.5],
    ['2022/12/13', 132.11, 130.75, 132.79, 129.35],
    ['2022/12/14', 131.4, 131.57, 132.67, 130.17],
    ['2022/12/15', 129.31, 126.64, 129.5, 124.98],
    ['2022/12/16', 124.3, 124.33, 125.8, 122.55],
    ['2022/12/19', 124.12, 125.39, 126.04, 123.63],
    ['2022/12/20', 124.99, 124.97, 124.99, 123.22],
    ['2022/12/21', 124.48, 126.09, 126.15, 123.79],
    ['2022/12/22', 124.88, 124.85, 125.03, 122.13],
    ['2022/12/23', 124.78, 124.86, 125.02, 123.88],
    ['2022/12/27', 125.43, 126.51, 126.68, 125.01],
    ['2022/12/28', 127.0, 124.71, 127.47, 124.61],
    ['2022/12/29', 125.9, 127.51, 127.82, 125.58],
    ['2022/12/30', 126.74, 126.97, 127.35, 125.92],
    ['2023/01/03', 127.95, 128.61, 129.05, 127.13],
    ['2023/01/04', 130.86, 132.0, 132.7, 130.53],
    ['2023/01/05', 130.96, 134.38, 134.42, 130.29],
    ['2023/01/06', 136.11, 140.34, 140.34, 135.54],
    ['2023/01/09', 140.57, 139.1, 141.96, 138.86],
    ['2023/01/10', 139.15, 139.45, 140.37, 138.86],
    ['2023/01/11', 135.97, 136.77, 137.15, 134.49],
    ['2023/01/12', 137.89, 138.52, 139.65, 136.43],
    ['2023/01/13', 136.62, 139.08, 139.63, 136.5],
    ['2023/01/17', 138.49, 138.39, 140.32, 137.75],
    ['2023/01/18', 140.02, 137.96, 141.06, 137.66],
    ['2023/01/19', 136.54, 135.21, 136.63, 134.18],
    ['2023/01/20', 134.1, 138.0, 138.0, 134.1],
    ['2023/01/23', 137.0, 138.64, 139.08, 136.76],
    ['2023/01/24', 137.94, 138.53, 139.02, 137.03],
    ['2023/01/25', 136.68, 138.07, 138.81, 136.33],
    ['2023/01/26', 139.41, 139.64, 140.27, 138.09],
    ['2023/01/27', 138.42, 140.32, 141.08, 137.98],
    ['2023/01/30', 140.75, 139.55, 141.12, 139.53],
    ['2023/01/31', 139.23, 142.34, 142.51, 138.5],
    ['2023/02/01', 141.96, 144.41, 145.07, 140.33],
    ['2023/02/02', 146.58, 148.88, 148.88, 145.77],
    ['2023/02/03', 145.86, 147.75, 148.52, 145.83],
    ['2023/02/06', 146.46, 144.38, 146.62, 143.6],
    ['2023/02/07', 143.82, 145.9, 146.16, 143.27],
    ['2023/02/08', 146.02, 144.42, 146.39, 143.47],
    ['2023/02/09', 145.23, 144.13, 146.9, 144.13],
    ['2023/02/10', 143.25, 144.36, 144.73, 142.47],
    ['2023/02/13', 145.22, 147.04, 147.75, 145.06],
    ['2023/02/14', 146.51, 147.43, 147.75, 145.35],
    ['2023/02/15', 145.41, 149.61, 149.81, 145.33],
    ['2023/02/16', 147.91, 148.37, 149.56, 146.84],
    ['2023/02/17', 147.61, 148.04, 148.42, 146.6],
    ['2023/02/21', 145.31, 143.63, 145.56, 142.94],
    ['2023/02/22', 143.06, 143.03, 143.47, 141.81],
    ['2023/02/23', 143.98, 144.65, 144.69, 142.32],
    ['2023/02/24', 141.45, 142.27, 142.98, 140.89],
    ['2023/02/27', 143.13, 144.27, 144.98, 143.13],
    ['2023/02/28', 143.77, 144.1, 145.5, 143.64],
    ['2023/03/01', 144.33, 144.65, 144.84, 143.1],
    ['2023/03/02', 143.68, 144.59, 145.27, 142.82],
    ['2023/03/03', 145.41, 144.96, 145.7, 144.13],
    ['2023/03/06', 143.2, 143.58, 145.19, 142.47],
    ['2023/03/07', 138.96, 138.33, 141.13, 137.28],
    ['2023/03/08', 138.98, 140.03, 140.48, 138.9],
    ['2023/03/09', 139.48, 137.16, 140.15, 136.98],
    ['2023/03/10', 137.79, 135.0, 137.94, 133.83],
    ['2023/03/13', 132.75, 134.27, 137.04, 132.5],
    ['2023/03/14', 133.25, 134.2, 136.09, 132.43],
    ['2023/03/15', 131.3, 129.01, 131.85, 127.25],
    ['2023/03/16', 127.43, 129.33, 130.32, 127.09],
    ['2023/03/17', 129.13, 128.37, 130.01, 127.64],
    ['2023/03/20', 129.48, 131.13, 132.15, 129.4],
    ['2023/03/21', 133.5, 133.58, 134.12, 132.37],
    ['2023/03/22', 132.37, 130.29, 133.88, 130.16],
    ['2023/03/23', 130.57, 130.98, 132.51, 129.82],
    ['2023/03/24', 129.32, 129.47, 129.74, 127.49],
    ['2023/03/27', 129.57, 129.93, 130.41, 129.03],
    ['2023/03/28', 130.65, 130.45, 132.63, 130.29],
    ['2023/03/29', 132.12, 131.62, 132.34, 130.78],
    ['2023/03/30', 132.61, 131.52, 132.88, 131.37],
    ['2023/03/31', 132.43, 133.75, 133.84, 131.73],
    ['2023/04/03', 133.56, 132.8, 134.34, 132.25],
    ['2023/04/04', 133.11, 128.24, 133.26, 127.68],
    ['2023/04/05', 126.32, 124.52, 126.54, 123.71],
    ['2023/04/06', 123.7, 124.73, 124.86, 123.17],
    ['2023/04/10', 124.16, 125.18, 125.52, 123.71],
    ['2023/04/11', 125.92, 125.99, 126.79, 125.76],
    ['2023/04/12', 128.57, 127.48, 128.63, 126.65],
    ['2023/04/13', 126.79, 128.47, 128.91, 126.18],
    ['2023/04/14', 128.65, 129.62, 130.28, 128.65],
    ['2023/04/17', 130.09, 131.35, 131.35, 130.09],
    ['2023/04/18', 131.48, 132.61, 132.66, 131.06],
    ['2023/04/19', 130.83, 133.44, 134.13, 130.75],
    ['2023/04/20', 133.12, 136.17, 137.28, 133.1],
    ['2023/04/21', 136.34, 136.92, 137.18, 135.69],
    ['2023/04/24', 137.31, 137.94, 139.05, 137.11],
    ['2023/04/25', 136.37, 135.2, 136.77, 134.77],
    ['2023/04/26', 134.6, 133.83, 135.57, 133.79],
    ['2023/04/27', 134.74, 138.19, 138.28, 134.56],
    ['2023/04/28', 139.88, 140.82, 141.59, 139.51],
    ['2023/05/01', 141.57, 142.03, 142.82, 140.95],
    ['2023/05/02', 139.48, 138.41, 139.82, 137.59],
    ['2023/05/03', 139.13, 139.5, 140.82, 139.11],
    ['2023/05/04', 140.69, 137.68, 140.94, 137.12],
    ['2023/05/05', 138.59, 139.51, 139.77, 138.54],
    ['2023/05/08', 139.64, 140.82, 141.5, 139.32],
    ['2023/05/09', 142.0, 144.39, 144.52, 141.47],
    ['2023/05/10', 145.59, 144.89, 145.81, 143.16],
    ['2023/05/11', 143.61, 145.23, 145.59, 143.49],
    ['2023/05/12', 144.87, 144.4, 145.54, 143.38],
    ['2023/05/15', 146.26, 147.44, 148.0, 145.74],
    ['2023/05/16', 146.76, 145.49, 147.49, 145.22],
    ['2023/05/17', 145.22, 146.72, 147.02, 144.62],
    ['2023/05/18', 147.17, 149.85, 149.89, 146.5],
    ['2023/05/19', 148.95, 148.55, 149.67, 147.8],
    ['2023/05/22', 148.56, 150.5, 151.0, 148.22],
    ['2023/05/23', 147.66, 144.67, 147.88, 144.44],
    ['2023/05/24', 143.67, 143.81, 144.65, 142.27],
    ['2023/05/25', 144.41, 143.88, 145.36, 143.39],
    ['2023/05/26', 145.18, 147.66, 147.95, 144.68],
    ['2023/05/30', 149.51, 146.55, 149.82, 146.48],
    ['2023/05/31', 147.91, 144.91, 148.05, 143.62],
    ['2023/06/01', 146.08, 145.59, 146.28, 143.93],
    ['2023/06/02', 146.89, 147.76, 147.92, 146.29],
    ['2023/06/05', 146.88, 146.95, 147.82, 144.54],
    ['2023/06/06', 143.94, 147.14, 149.84, 143.89],
    ['2023/06/07', 148.88, 146.63, 149.54, 146.34],
    ['2023/06/08', 147.03, 144.87, 147.34, 144.75],
    ['2023/06/09', 144.99, 144.57, 145.65, 144.08],
    ['2023/06/12', 145.29, 146.23, 146.29, 144.59],
    ['2023/06/13', 147.5, 148.45, 148.73, 146.43],
    ['2023/06/14', 148.94, 150.03, 150.72, 148.41],
    ['2023/06/15', 149.6, 151.88, 152.19, 148.98],
    ['2023/06/16', 150.3, 151.07, 152.1, 149.64],
    ['2023/06/20', 148.56, 150.2, 150.44, 148.23],
    ['2023/06/21', 150.61, 152.8, 153.46, 150.16],
    ['2023/06/22', 152.34, 152.87, 153.73, 151.24],
    ['2023/06/23', 151.53, 150.62, 153.06, 148.53],
    ['2023/06/26', 149.33, 150.69, 152.01, 149.31],
    ['2023/06/27', 152.33, 154.0, 154.44, 152.24],
    ['2023/06/28', 154.75, 154.05, 155.59, 153.37],
    ['2023/06/29', 153.76, 156.14, 156.35, 153.57],
    ['2023/06/30', 157.95, 157.31, 158.54, 157.17],
    ['2023/07/03', 156.6, 157.24, 157.58, 155.39],
    ['2023/07/05', 156.24, 156.28, 156.98, 155.73],
    ['2023/07/06', 154.78, 151.5, 154.99, 150.64],
    ['2023/07/07', 151.53, 154.79, 155.2, 151.26],
    ['2023/07/10', 154.71, 155.21, 156.09, 154.35],
    ['2023/07/11', 156.08, 158.54, 158.99, 156.02],
    ['2023/07/12', 161.04, 160.72, 161.61, 159.85],
    ['2023/07/13', 162.2, 162.03, 162.44, 160.6],
    ['2023/07/14', 162.66, 160.88, 162.79, 160.39],
    ['2023/07/17', 159.93, 159.57, 160.84, 159.49],
    ['2023/07/18', 159.56, 158.88, 160.05, 158.46],
    ['2023/07/19', 158.54, 157.92, 158.79, 156.85],
    ['2023/07/20', 157.85, 157.27, 158.22, 156.53],
    ['2023/07/21', 158.17, 157.9, 158.24, 156.5],
    ['2023/07/24', 157.9, 159.58, 160.0, 157.76],
    ['2023/07/25', 159.41, 160.98, 161.08, 159.11],
    ['2023/07/26', 160.0, 160.69, 161.2, 159.36],
    ['2023/07/27', 161.99, 162.04, 163.91, 161.02],
    ['2023/07/28', 161.8, 160.94, 162.19, 159.98],
    ['2023/07/31', 160.13, 161.62, 161.62, 159.78],
    ['2023/08/01', 159.65, 162.21, 162.57, 159.58],
    ['2023/08/02', 160.11, 159.75, 160.87, 159.31],
    ['2023/08/03', 158.14, 158.7, 159.63, 157.4],
    ['2023/08/04', 159.59, 158.75, 160.63, 158.44],
]);
var volumes = [
    346200.0,
    1276100.0,
    525900.0,
    417100.0,
    387600.0,
    531700.0,
    758900.0,
    477300.0,
    435600.0,
    466700.0,
    590900.0,
    782500.0,
    376000.0,
    305400.0,
    411500.0,
    296400.0,
    349100.0,
    419900.0,
    490800.0,
    664600.0,
    340300.0,
    390600.0,
    476000.0,
    389900.0,
    364700.0,
    738000.0,
    484600.0,
    513300.0,
    628700.0,
    506200.0,
    901100.0,
    426000.0,
    801100.0,
    1470500.0,
    1220500.0,
    1516100.0,
    811100.0,
    1078800.0,
    796800.0,
    879600.0,
    879100.0,
    760400.0,
    804400.0,
    803700.0,
    500000.0,
    727700.0,
    1164500.0,
    1148200.0,
    633800.0,
    989200.0,
    980400.0,
    805700.0,
    795400.0,
    1093700.0,
    604600.0,
    853900.0,
    1401600.0,
    990800.0,
    566400.0,
    1189300.0,
    495900.0,
    894400.0,
    1243300.0,
    1255300.0,
    1128900.0,
    488200.0,
    1080100.0,
    1684100.0,
    2806900.0,
    1069700.0,
    1081900.0,
    829600.0,
    839700.0,
    845400.0,
    1006800.0,
    2486200.0,
    1572300.0,
    868800.0,
    1687200.0,
    2975000.0,
    22950300.0,
    3218100.0,
    3294900.0,
    4825200.0,
    9789100.0,
    8090600.0,
    3982600.0,
    3028700.0,
    3231600.0,
    3781500.0,
    6886200.0,
    7972200.0,
    20326700.0,
    6309000.0,
    5867200.0,
    2119200.0,
    1154500.0,
    1712500.0,
    858700.0,
    1199800.0,
    879100.0,
    1054800.0,
    1499500.0,
    1843300.0,
    2371400.0,
    2187900.0,
    2611400.0,
    1220900.0,
    2372700.0,
    1073200.0,
    1123300.0,
    1480500.0,
    1303400.0,
    1103800.0,
    1187300.0,
    993700.0,
    756200.0,
    594300.0,
    689600.0,
    627800.0,
    746000.0,
    1202000.0,
    1466600.0,
    1924400.0,
    1309600.0,
    954500.0,
    1067900.0,
    810800.0,
    1270400.0,
    1061600.0,
    933100.0,
    1011300.0,
    1190100.0,
    1272800.0,
    921900.0,
    1211800.0,
    947500.0,
    822800.0,
    1189500.0,
    1307800.0,
    2083800.0,
    1802100.0,
    1328600.0,
    1655800.0,
    2134700.0,
    2642900.0,
    1179700.0,
    963800.0,
    1467000.0,
    2647900.0,
    1547700.0,
    2084000.0,
    1418100.0,
    1945600.0,
    998500.0,
    1065200.0,
    859800.0,
    1485300.0,
    979200.0,
    1041900.0,
    888300.0,
    906900.0,
    1022100.0,
    1507900.0,
    1063200.0,
    1197500.0,
    1762400.0,
    1138200.0,
    637500.0,
    1020500.0,
    1026900.0,
    1008600.0,
    1116200.0,
    1178500.0,
    1081500.0,
    1108500.0,
    2057200.0,
    1273000.0,
    1138800.0,
    1310200.0,
    1254100.0,
    1272300.0,
    1279500.0,
    1271300.0,
    1412300.0,
    1086900.0,
    844500.0,
    803800.0,
    804600.0,
    1783700.0,
    951000.0,
    851000.0,
    1080000.0,
    1365500.0,
    1481500.0,
    1394900.0,
    1135700.0,
    1177000.0,
    1392200.0,
    1767900.0,
    1658700.0,
    1095500.0,
    1271700.0,
    1270200.0,
    4142900.0,
    1104900.0,
    1491900.0,
    1384200.0,
    1606300.0,
    1620600.0,
    1491200.0,
    1242400.0,
    1091400.0,
    1333300.0,
    1337500.0,
    1193200.0,
    2121900.0,
    1544900.0,
    1701400.0,
    1998700.0,
    13312400.0,
    1089200.0,
    1045600.0,
    1339700.0,
    1256000.0,
    1178100.0,
    577900.0,
    1112800.0,
    1483900.0,
    1657400.0,
    951300.0,
    1317800.0,
    1259600.0,
    900400.0,
    795600.0,
    1293000.0,
    869300.0,
    1075100.0,
    1031300.0,
    770300.0,
    920300.0,
    1055500.0,
    1136500.0,
    1020100.0,
    1023000.0,
    899100.0,
    782300.0,
    967000.0,
    816300.0,
    678400.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "FERG",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);