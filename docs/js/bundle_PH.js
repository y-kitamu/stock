/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_PH");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 281.66, 285.03, 286.12, 279.16],
    ['2022/08/04', 289.53, 288.38, 291.84, 281.56],
    ['2022/08/05', 285.25, 287.74, 288.74, 283.92],
    ['2022/08/08', 290.44, 287.48, 291.41, 286.07],
    ['2022/08/09', 286.33, 284.73, 287.43, 283.3],
    ['2022/08/10', 290.67, 294.49, 294.67, 289.33],
    ['2022/08/11', 297.43, 297.02, 298.85, 295.93],
    ['2022/08/12', 298.26, 302.66, 302.86, 297.59],
    ['2022/08/15', 299.78, 301.11, 301.69, 297.84],
    ['2022/08/16', 299.99, 300.8, 302.42, 298.38],
    ['2022/08/17', 295.95, 294.0, 296.87, 292.76],
    ['2022/08/18', 295.11, 295.53, 295.92, 292.13],
    ['2022/08/19', 293.54, 290.63, 293.54, 289.25],
    ['2022/08/22', 285.51, 280.12, 286.27, 279.65],
    ['2022/08/23', 280.26, 280.61, 284.28, 279.71],
    ['2022/08/24', 279.78, 280.45, 283.27, 278.16],
    ['2022/08/25', 281.8, 287.31, 287.45, 281.75],
    ['2022/08/26', 287.97, 272.65, 287.97, 272.52],
    ['2022/08/29', 270.32, 269.81, 274.13, 268.26],
    ['2022/08/30', 271.24, 266.15, 271.59, 264.2],
    ['2022/08/31', 266.3, 261.59, 267.54, 260.71],
    ['2022/09/01', 259.21, 264.21, 264.49, 258.86],
    ['2022/09/02', 268.2, 261.47, 268.5, 259.69],
    ['2022/09/06', 262.35, 263.11, 263.51, 259.23],
    ['2022/09/07', 263.16, 269.5, 270.4, 261.99],
    ['2022/09/08', 266.77, 271.23, 271.33, 264.95],
    ['2022/09/09', 272.86, 275.41, 276.56, 272.31],
    ['2022/09/12', 276.94, 278.92, 281.5, 276.84],
    ['2022/09/13', 271.2, 266.81, 273.21, 265.83],
    ['2022/09/14', 268.18, 267.29, 269.29, 263.91],
    ['2022/09/15', 267.66, 264.1, 270.05, 263.3],
    ['2022/09/16', 260.07, 256.76, 261.19, 255.32],
    ['2022/09/19', 255.28, 261.75, 262.35, 254.72],
    ['2022/09/20', 257.98, 255.63, 258.5, 254.01],
    ['2022/09/21', 258.13, 255.31, 262.67, 254.37],
    ['2022/09/22', 255.32, 247.21, 256.81, 246.78],
    ['2022/09/23', 244.42, 241.48, 245.32, 238.18],
    ['2022/09/26', 239.16, 236.9, 242.04, 234.49],
    ['2022/09/27', 240.02, 235.23, 241.39, 232.66],
    ['2022/09/28', 238.03, 244.67, 245.83, 235.91],
    ['2022/09/29', 241.85, 242.4, 243.1, 238.32],
    ['2022/09/30', 242.96, 239.2, 246.72, 238.92],
    ['2022/10/03', 243.17, 249.02, 251.06, 241.14],
    ['2022/10/04', 254.46, 259.65, 259.95, 254.46],
    ['2022/10/05', 255.17, 259.81, 261.47, 253.18],
    ['2022/10/06', 260.05, 257.58, 262.08, 257.37],
    ['2022/10/07', 254.56, 250.92, 255.44, 249.16],
    ['2022/10/10', 253.48, 249.62, 253.56, 247.62],
    ['2022/10/11', 247.38, 251.72, 255.54, 246.89],
    ['2022/10/12', 252.66, 249.92, 253.11, 249.21],
    ['2022/10/13', 244.64, 255.83, 257.32, 241.71],
    ['2022/10/14', 256.82, 250.97, 258.61, 249.3],
    ['2022/10/17', 261.32, 258.61, 263.87, 256.21],
    ['2022/10/18', 265.81, 263.4, 267.04, 259.87],
    ['2022/10/19', 262.91, 262.17, 264.73, 258.85],
    ['2022/10/20', 263.17, 256.57, 265.37, 255.6],
    ['2022/10/21', 257.67, 265.93, 267.77, 255.56],
    ['2022/10/24', 268.11, 273.53, 274.89, 267.52],
    ['2022/10/25', 272.97, 278.24, 278.98, 271.95],
    ['2022/10/26', 280.45, 275.32, 280.64, 273.15],
    ['2022/10/27', 278.04, 279.94, 283.54, 277.05],
    ['2022/10/28', 281.49, 287.9, 288.57, 279.29],
    ['2022/10/31', 285.05, 286.89, 289.19, 284.2],
    ['2022/11/01', 289.46, 285.23, 289.88, 284.01],
    ['2022/11/02', 282.61, 279.91, 291.33, 279.61],
    ['2022/11/03', 279.91, 282.49, 289.95, 275.18],
    ['2022/11/04', 288.65, 295.04, 296.2, 283.62],
    ['2022/11/07', 296.26, 296.78, 297.42, 294.3],
    ['2022/11/08', 298.87, 295.4, 299.53, 291.85],
    ['2022/11/09', 292.13, 285.51, 292.61, 284.52],
    ['2022/11/10', 298.18, 300.81, 302.1, 295.46],
    ['2022/11/11', 302.79, 306.01, 307.24, 299.7],
    ['2022/11/14', 304.09, 304.42, 310.22, 303.14],
    ['2022/11/15', 309.27, 308.48, 310.64, 304.95],
    ['2022/11/16', 307.47, 306.81, 308.11, 303.86],
    ['2022/11/17', 301.73, 301.62, 302.61, 293.03],
    ['2022/11/18', 305.23, 303.1, 305.23, 300.01],
    ['2022/11/21', 301.5, 304.86, 306.14, 301.5],
    ['2022/11/22', 306.94, 306.83, 309.0, 304.28],
    ['2022/11/23', 307.58, 303.81, 308.04, 302.82],
    ['2022/11/25', 305.18, 303.49, 305.79, 303.23],
    ['2022/11/28', 300.49, 292.62, 301.91, 291.35],
    ['2022/11/29', 292.72, 291.85, 296.59, 290.23],
    ['2022/11/30', 291.69, 296.46, 296.56, 286.3],
    ['2022/12/01', 298.59, 295.05, 299.55, 293.79],
    ['2022/12/02', 290.71, 294.92, 295.08, 289.83],
    ['2022/12/05', 290.67, 290.44, 291.77, 287.8],
    ['2022/12/06', 290.21, 287.69, 292.33, 284.72],
    ['2022/12/07', 286.59, 289.64, 289.83, 286.59],
    ['2022/12/08', 291.56, 289.69, 292.78, 288.53],
    ['2022/12/09', 289.49, 287.04, 291.87, 286.7],
    ['2022/12/12', 287.82, 293.39, 293.8, 286.03],
    ['2022/12/13', 302.07, 295.82, 302.07, 293.74],
    ['2022/12/14', 296.03, 294.53, 301.76, 292.5],
    ['2022/12/15', 290.33, 287.23, 290.47, 286.42],
    ['2022/12/16', 283.89, 283.38, 287.12, 282.18],
    ['2022/12/19', 283.4, 280.36, 286.2, 279.55],
    ['2022/12/20', 280.09, 284.24, 285.76, 278.86],
    ['2022/12/21', 287.19, 289.82, 290.38, 286.07],
    ['2022/12/22', 286.82, 288.11, 288.49, 281.79],
    ['2022/12/23', 287.47, 288.55, 288.78, 286.08],
    ['2022/12/27', 289.59, 290.14, 292.75, 287.21],
    ['2022/12/28', 290.57, 284.49, 291.81, 284.41],
    ['2022/12/29', 287.16, 289.58, 291.06, 285.21],
    ['2022/12/30', 288.38, 288.59, 289.37, 285.11],
    ['2023/01/03', 290.57, 289.34, 291.44, 286.22],
    ['2023/01/04', 292.24, 294.43, 294.44, 289.2],
    ['2023/01/05', 293.72, 295.63, 296.34, 291.23],
    ['2023/01/06', 300.33, 305.99, 307.93, 300.33],
    ['2023/01/09', 306.98, 306.95, 310.05, 306.28],
    ['2023/01/10', 306.88, 307.93, 308.6, 304.93],
    ['2023/01/11', 311.35, 308.74, 311.35, 305.2],
    ['2023/01/12', 310.96, 312.57, 314.37, 308.58],
    ['2023/01/13', 310.91, 314.86, 316.19, 309.44],
    ['2023/01/17', 314.91, 312.1, 316.36, 312.03],
    ['2023/01/18', 313.08, 305.26, 314.91, 304.9],
    ['2023/01/19', 302.95, 295.34, 303.08, 294.66],
    ['2023/01/20', 296.82, 302.79, 303.7, 295.02],
    ['2023/01/23', 303.11, 309.13, 309.56, 302.41],
    ['2023/01/24', 309.42, 310.1, 313.83, 304.18],
    ['2023/01/25', 305.11, 307.63, 307.74, 301.96],
    ['2023/01/26', 309.11, 311.8, 312.06, 305.28],
    ['2023/01/27', 310.55, 317.15, 318.97, 309.47],
    ['2023/01/30', 315.04, 314.67, 319.02, 314.2],
    ['2023/01/31', 316.86, 323.3, 323.55, 312.73],
    ['2023/02/01', 321.06, 325.97, 330.05, 320.18],
    ['2023/02/02', 337.18, 334.75, 342.06, 332.43],
    ['2023/02/03', 333.98, 347.1, 347.46, 333.38],
    ['2023/02/06', 345.36, 346.1, 349.82, 343.15],
    ['2023/02/07', 345.16, 346.13, 347.34, 337.01],
    ['2023/02/08', 343.54, 349.07, 349.83, 343.45],
    ['2023/02/09', 351.71, 350.03, 355.8, 347.48],
    ['2023/02/10', 348.67, 347.3, 349.89, 346.17],
    ['2023/02/13', 348.48, 350.45, 353.81, 345.24],
    ['2023/02/14', 348.21, 350.75, 353.04, 346.45],
    ['2023/02/15', 349.84, 359.52, 359.7, 349.42],
    ['2023/02/16', 355.05, 352.93, 359.53, 351.9],
    ['2023/02/17', 352.36, 353.87, 355.36, 348.14],
    ['2023/02/21', 350.95, 341.98, 352.74, 340.73],
    ['2023/02/22', 342.92, 343.76, 347.35, 341.62],
    ['2023/02/23', 346.28, 347.43, 347.99, 341.9],
    ['2023/02/24', 344.29, 346.45, 346.55, 338.24],
    ['2023/02/27', 351.16, 348.89, 352.4, 347.9],
    ['2023/02/28', 349.06, 350.26, 352.84, 347.39],
    ['2023/03/01', 349.49, 351.75, 354.19, 348.38],
    ['2023/03/02', 350.21, 353.89, 355.44, 348.73],
    ['2023/03/03', 355.25, 358.22, 358.67, 352.71],
    ['2023/03/06', 357.76, 358.87, 362.61, 357.54],
    ['2023/03/07', 359.64, 357.91, 361.45, 356.93],
    ['2023/03/08', 358.02, 361.03, 361.39, 356.66],
    ['2023/03/09', 362.77, 349.34, 362.92, 349.16],
    ['2023/03/10', 349.4, 336.94, 349.77, 335.89],
    ['2023/03/13', 332.4, 330.59, 334.26, 325.28],
    ['2023/03/14', 336.79, 332.71, 337.43, 326.5],
    ['2023/03/15', 324.63, 312.12, 328.35, 307.89],
    ['2023/03/16', 308.4, 312.58, 316.2, 303.37],
    ['2023/03/17', 309.23, 303.54, 309.23, 299.5],
    ['2023/03/20', 306.09, 314.4, 315.09, 306.09],
    ['2023/03/21', 321.12, 324.73, 327.26, 320.86],
    ['2023/03/22', 324.73, 320.66, 331.96, 320.43],
    ['2023/03/23', 320.05, 318.97, 326.21, 314.8],
    ['2023/03/24', 314.19, 319.42, 319.58, 309.37],
    ['2023/03/27', 324.15, 323.19, 324.46, 320.06],
    ['2023/03/28', 323.08, 326.26, 327.77, 323.08],
    ['2023/03/29', 329.5, 332.66, 332.91, 327.71],
    ['2023/03/30', 335.34, 335.05, 337.11, 333.68],
    ['2023/03/31', 336.97, 334.59, 337.97, 333.3],
    ['2023/04/03', 334.84, 337.63, 338.33, 330.19],
    ['2023/04/04', 337.98, 319.19, 337.98, 317.23],
    ['2023/04/05', 318.21, 311.16, 318.98, 307.38],
    ['2023/04/06', 310.08, 311.06, 313.07, 306.86],
    ['2023/04/10', 310.44, 313.74, 316.49, 309.07],
    ['2023/04/11', 315.19, 316.54, 320.44, 314.9],
    ['2023/04/12', 319.52, 323.05, 325.42, 318.45],
    ['2023/04/13', 322.24, 318.1, 322.24, 308.66],
    ['2023/04/14', 318.65, 317.67, 322.84, 315.66],
    ['2023/04/17', 319.12, 323.94, 324.26, 318.08],
    ['2023/04/18', 326.63, 323.23, 328.4, 321.63],
    ['2023/04/19', 321.37, 321.97, 323.05, 318.74],
    ['2023/04/20', 319.11, 317.88, 322.42, 317.32],
    ['2023/04/21', 319.23, 319.35, 320.19, 315.69],
    ['2023/04/24', 319.75, 321.5, 322.36, 319.0],
    ['2023/04/25', 319.16, 315.67, 321.87, 314.51],
    ['2023/04/26', 312.84, 310.24, 314.83, 308.49],
    ['2023/04/27', 312.89, 321.84, 322.62, 310.95],
    ['2023/04/28', 322.6, 323.41, 325.94, 320.46],
    ['2023/05/01', 323.4, 325.89, 328.72, 323.4],
    ['2023/05/02', 324.3, 323.55, 325.76, 316.88],
    ['2023/05/03', 324.92, 321.76, 328.81, 321.76],
    ['2023/05/04', 336.4, 320.83, 336.4, 320.73],
    ['2023/05/05', 327.38, 331.79, 333.71, 326.33],
    ['2023/05/08', 335.93, 333.32, 336.15, 329.08],
    ['2023/05/09', 332.62, 337.57, 338.57, 331.05],
    ['2023/05/10', 336.76, 325.4, 337.96, 321.41],
    ['2023/05/11', 323.19, 324.59, 326.74, 321.49],
    ['2023/05/12', 327.65, 323.99, 327.65, 320.64],
    ['2023/05/15', 325.16, 327.7, 328.17, 323.99],
    ['2023/05/16', 325.4, 321.54, 327.0, 321.51],
    ['2023/05/17', 324.29, 330.92, 332.98, 323.3],
    ['2023/05/18', 330.19, 335.15, 338.73, 329.47],
    ['2023/05/19', 339.57, 332.84, 341.27, 330.94],
    ['2023/05/22', 333.6, 334.14, 336.33, 329.11],
    ['2023/05/23', 331.84, 328.78, 333.48, 327.88],
    ['2023/05/24', 327.06, 322.01, 328.76, 321.15],
    ['2023/05/25', 323.94, 327.13, 328.58, 323.21],
    ['2023/05/26', 328.58, 332.88, 333.8, 328.4],
    ['2023/05/30', 334.81, 330.25, 335.78, 329.92],
    ['2023/05/31', 328.32, 320.44, 331.69, 319.14],
    ['2023/06/01', 322.33, 325.99, 326.76, 319.37],
    ['2023/06/02', 330.74, 340.73, 341.73, 329.42],
    ['2023/06/05', 341.38, 337.38, 341.38, 334.99],
    ['2023/06/06', 335.44, 346.58, 346.97, 334.09],
    ['2023/06/07', 348.33, 358.94, 359.24, 345.95],
    ['2023/06/08', 356.08, 355.83, 358.04, 352.31],
    ['2023/06/09', 357.14, 356.13, 357.4, 350.01],
    ['2023/06/12', 356.31, 358.59, 360.05, 353.63],
    ['2023/06/13', 359.67, 368.23, 369.72, 359.67],
    ['2023/06/14', 370.6, 367.55, 371.2, 363.13],
    ['2023/06/15', 369.34, 374.04, 374.64, 366.47],
    ['2023/06/16', 375.72, 369.1, 377.48, 368.75],
    ['2023/06/20', 366.08, 371.85, 373.08, 363.84],
    ['2023/06/21', 370.02, 374.25, 377.12, 366.77],
    ['2023/06/22', 374.07, 371.01, 374.46, 368.81],
    ['2023/06/23', 366.8, 370.12, 370.67, 364.7],
    ['2023/06/26', 370.36, 375.47, 377.95, 370.36],
    ['2023/06/27', 374.32, 380.19, 382.13, 374.32],
    ['2023/06/28', 380.57, 382.45, 382.98, 378.22],
    ['2023/06/29', 380.9, 386.75, 387.3, 378.49],
    ['2023/06/30', 389.77, 390.04, 392.81, 387.44],
    ['2023/07/03', 387.98, 391.01, 391.68, 385.48],
    ['2023/07/05', 385.0, 382.85, 385.68, 381.67],
    ['2023/07/06', 378.84, 378.96, 379.59, 373.69],
    ['2023/07/07', 378.38, 384.17, 388.59, 378.18],
    ['2023/07/10', 386.15, 392.64, 393.16, 384.68],
    ['2023/07/11', 394.18, 398.7, 400.09, 392.31],
    ['2023/07/12', 402.33, 397.09, 402.99, 395.36],
    ['2023/07/13', 398.52, 398.66, 401.97, 394.93],
    ['2023/07/14', 397.37, 396.2, 397.9, 393.23],
    ['2023/07/17', 394.81, 400.95, 401.37, 394.39],
    ['2023/07/18', 400.71, 408.56, 409.62, 395.06],
    ['2023/07/19', 402.61, 403.68, 407.99, 399.89],
    ['2023/07/20', 405.04, 402.81, 407.04, 401.36],
    ['2023/07/21', 403.08, 397.65, 403.08, 397.58],
    ['2023/07/24', 399.12, 397.87, 401.35, 397.0],
    ['2023/07/25', 394.74, 398.09, 399.31, 394.19],
    ['2023/07/26', 396.49, 393.76, 398.53, 391.35],
    ['2023/07/27', 396.26, 397.31, 399.0, 392.91],
    ['2023/07/28', 400.57, 399.57, 400.57, 396.04],
    ['2023/07/31', 401.47, 410.01, 410.15, 399.77],
    ['2023/08/01', 406.76, 414.17, 419.25, 406.09],
    ['2023/08/02', 410.81, 405.87, 417.47, 405.02],
]);
var volumes = [
    820700.0,
    1176500.0,
    618200.0,
    595800.0,
    453300.0,
    620400.0,
    721100.0,
    420600.0,
    486200.0,
    806200.0,
    924700.0,
    698300.0,
    516300.0,
    774800.0,
    439200.0,
    480000.0,
    472300.0,
    964300.0,
    798200.0,
    757600.0,
    972100.0,
    644200.0,
    491500.0,
    649700.0,
    432600.0,
    462600.0,
    662300.0,
    636800.0,
    719600.0,
    584600.0,
    501300.0,
    1041400.0,
    605100.0,
    830300.0,
    1346000.0,
    900400.0,
    845200.0,
    1351000.0,
    1334800.0,
    1562600.0,
    1312300.0,
    902100.0,
    871200.0,
    1262700.0,
    983300.0,
    774700.0,
    613000.0,
    711200.0,
    822200.0,
    697000.0,
    1357500.0,
    746000.0,
    906000.0,
    904300.0,
    662500.0,
    861400.0,
    1914000.0,
    916900.0,
    1028400.0,
    1088700.0,
    817800.0,
    939800.0,
    991500.0,
    856200.0,
    1124200.0,
    1807900.0,
    1580100.0,
    1019900.0,
    604900.0,
    1037400.0,
    1142100.0,
    819200.0,
    828200.0,
    1160800.0,
    668200.0,
    866700.0,
    732400.0,
    508900.0,
    677700.0,
    801500.0,
    344400.0,
    1345500.0,
    1115900.0,
    1660500.0,
    1028000.0,
    893700.0,
    659700.0,
    701500.0,
    685700.0,
    537700.0,
    504800.0,
    754800.0,
    1047300.0,
    697000.0,
    740800.0,
    1201300.0,
    676200.0,
    554400.0,
    569400.0,
    623700.0,
    325200.0,
    378200.0,
    314300.0,
    542500.0,
    324100.0,
    638800.0,
    757800.0,
    722300.0,
    1135000.0,
    878100.0,
    983000.0,
    866100.0,
    711500.0,
    567500.0,
    691600.0,
    863200.0,
    824700.0,
    864700.0,
    994000.0,
    680700.0,
    447400.0,
    569000.0,
    835300.0,
    786700.0,
    1056700.0,
    1188100.0,
    1711900.0,
    2096600.0,
    1053900.0,
    1154800.0,
    1500300.0,
    1446000.0,
    991400.0,
    946700.0,
    650500.0,
    1001600.0,
    1061400.0,
    822700.0,
    926200.0,
    497000.0,
    636300.0,
    587900.0,
    687400.0,
    712800.0,
    862800.0,
    649100.0,
    596300.0,
    699700.0,
    1077100.0,
    770900.0,
    1011600.0,
    1480000.0,
    1054200.0,
    1612300.0,
    2064800.0,
    1513500.0,
    1809500.0,
    1231600.0,
    1385300.0,
    1241800.0,
    841900.0,
    800500.0,
    693200.0,
    510400.0,
    631700.0,
    528400.0,
    1032900.0,
    1102200.0,
    1121500.0,
    1690200.0,
    714700.0,
    988700.0,
    869300.0,
    955200.0,
    1048000.0,
    947000.0,
    877300.0,
    682300.0,
    531600.0,
    716800.0,
    584700.0,
    478000.0,
    533700.0,
    583000.0,
    1021500.0,
    698800.0,
    852400.0,
    877100.0,
    1078900.0,
    1467900.0,
    1030800.0,
    759200.0,
    1195900.0,
    1452900.0,
    843100.0,
    753100.0,
    495400.0,
    470700.0,
    631100.0,
    736400.0,
    629100.0,
    762800.0,
    893000.0,
    748500.0,
    780300.0,
    558200.0,
    791800.0,
    1143800.0,
    678100.0,
    847900.0,
    533000.0,
    1268300.0,
    1643100.0,
    997700.0,
    590400.0,
    651500.0,
    934600.0,
    1251500.0,
    1015600.0,
    1037800.0,
    787500.0,
    671700.0,
    719900.0,
    1183800.0,
    778300.0,
    760200.0,
    669600.0,
    534100.0,
    607900.0,
    288200.0,
    831000.0,
    873600.0,
    546000.0,
    555600.0,
    743100.0,
    1184600.0,
    840900.0,
    522100.0,
    614400.0,
    634500.0,
    699900.0,
    627100.0,
    731000.0,
    744400.0,
    636800.0,
    725000.0,
    610700.0,
    465600.0,
    812700.0,
    989700.0,
    1174200.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "PH",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 40,
            end: 70,
            top: 30,
            height: 20,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);