/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_ABNB");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/12', 122.8, 124.51, 125.0, 121.12],
    ['2022/08/15', 123.55, 126.04, 126.43, 123.2],
    ['2022/08/16', 124.23, 124.18, 125.42, 122.62],
    ['2022/08/17', 121.63, 121.87, 123.27, 120.64],
    ['2022/08/18', 121.5, 121.27, 122.2, 120.28],
    ['2022/08/19', 118.18, 114.76, 119.22, 114.1],
    ['2022/08/22', 110.36, 111.39, 114.23, 109.97],
    ['2022/08/23', 112.41, 111.6, 114.02, 111.41],
    ['2022/08/24', 110.93, 114.51, 115.57, 110.84],
    ['2022/08/25', 115.89, 117.03, 117.95, 115.42],
    ['2022/08/26', 117.06, 112.82, 118.27, 112.78],
    ['2022/08/29', 111.77, 113.54, 115.8, 111.53],
    ['2022/08/30', 114.5, 112.56, 116.02, 110.44],
    ['2022/08/31', 113.49, 113.12, 115.58, 112.4],
    ['2022/09/01', 111.1, 113.4, 114.08, 108.17],
    ['2022/09/02', 114.32, 113.64, 116.46, 112.33],
    ['2022/09/06', 114.09, 113.7, 114.52, 110.5],
    ['2022/09/07', 112.85, 116.07, 116.44, 112.71],
    ['2022/09/08', 114.0, 118.58, 119.35, 114.0],
    ['2022/09/09', 120.02, 123.48, 123.71, 119.9],
    ['2022/09/12', 124.25, 124.79, 127.24, 123.79],
    ['2022/09/13', 119.7, 121.54, 123.86, 119.05],
    ['2022/09/14', 121.63, 126.8, 127.0, 119.51],
    ['2022/09/15', 125.29, 125.04, 129.38, 124.28],
    ['2022/09/16', 121.11, 118.75, 122.26, 117.59],
    ['2022/09/19', 116.87, 118.78, 119.78, 116.47],
    ['2022/09/20', 117.93, 116.71, 121.66, 116.62],
    ['2022/09/21', 116.37, 114.01, 119.33, 112.36],
    ['2022/09/22', 112.67, 103.72, 113.72, 103.26],
    ['2022/09/23', 102.2, 101.75, 103.18, 99.71],
    ['2022/09/26', 101.78, 103.23, 105.36, 101.56],
    ['2022/09/27', 106.04, 106.37, 108.17, 104.14],
    ['2022/09/28', 106.7, 110.69, 111.13, 105.78],
    ['2022/09/29', 109.19, 106.66, 109.47, 105.17],
    ['2022/09/30', 104.76, 105.04, 109.08, 104.73],
    ['2022/10/03', 105.49, 105.0, 106.35, 102.18],
    ['2022/10/04', 109.14, 110.81, 111.61, 108.68],
    ['2022/10/05', 110.52, 111.76, 112.34, 107.84],
    ['2022/10/06', 112.0, 111.58, 114.41, 110.2],
    ['2022/10/07', 108.87, 108.54, 109.53, 107.1],
    ['2022/10/10', 108.55, 110.99, 111.62, 107.41],
    ['2022/10/11', 110.99, 106.82, 111.0, 103.6],
    ['2022/10/12', 107.47, 112.35, 112.98, 106.11],
    ['2022/10/13', 107.3, 112.65, 113.13, 105.3],
    ['2022/10/14', 115.0, 109.16, 116.45, 109.01],
    ['2022/10/17', 112.33, 116.5, 116.76, 111.03],
    ['2022/10/18', 120.03, 117.94, 120.71, 115.7],
    ['2022/10/19', 116.24, 116.87, 118.84, 115.3],
    ['2022/10/20', 116.35, 117.0, 120.56, 116.0],
    ['2022/10/21', 116.76, 119.95, 120.34, 114.64],
    ['2022/10/24', 118.33, 116.39, 119.07, 112.82],
    ['2022/10/25', 115.37, 118.45, 119.38, 112.63],
    ['2022/10/26', 117.0, 115.31, 119.91, 114.97],
    ['2022/10/27', 116.05, 112.06, 116.37, 111.93],
    ['2022/10/28', 111.19, 115.21, 115.25, 110.39],
    ['2022/10/31', 113.06, 106.91, 113.8, 106.67],
    ['2022/11/01', 110.96, 109.05, 113.1, 108.0],
    ['2022/11/02', 102.64, 94.41, 104.98, 94.25],
    ['2022/11/03', 94.08, 92.02, 95.31, 91.27],
    ['2022/11/04', 95.0, 96.09, 96.16, 92.01],
    ['2022/11/07', 96.76, 95.46, 97.25, 93.28],
    ['2022/11/08', 95.53, 98.9, 101.92, 94.27],
    ['2022/11/09', 97.75, 95.79, 99.09, 95.15],
    ['2022/11/10', 100.91, 102.4, 102.5, 99.04],
    ['2022/11/11', 103.45, 109.57, 109.77, 102.16],
    ['2022/11/14', 107.74, 105.16, 108.69, 105.04],
    ['2022/11/15', 109.27, 107.01, 111.24, 106.6],
    ['2022/11/16', 107.7, 104.43, 107.7, 104.38],
    ['2022/11/17', 101.83, 99.3, 101.98, 98.85],
    ['2022/11/18', 100.84, 97.77, 100.84, 96.6],
    ['2022/11/21', 97.01, 95.71, 97.85, 93.92],
    ['2022/11/22', 93.53, 95.28, 95.37, 92.98],
    ['2022/11/23', 95.56, 96.63, 97.05, 94.34],
    ['2022/11/25', 96.97, 97.67, 98.83, 96.76],
    ['2022/11/28', 97.0, 95.3, 98.32, 94.81],
    ['2022/11/29', 96.1, 95.38, 97.26, 95.3],
    ['2022/11/30', 95.86, 102.14, 102.25, 95.72],
    ['2022/12/01', 101.49, 101.27, 102.76, 99.55],
    ['2022/12/02', 99.25, 101.0, 101.74, 98.97],
    ['2022/12/05', 100.0, 98.51, 101.17, 98.04],
    ['2022/12/06', 98.25, 93.12, 98.5, 91.9],
    ['2022/12/07', 88.81, 91.5, 91.67, 86.88],
    ['2022/12/08', 92.97, 94.83, 95.61, 91.75],
    ['2022/12/09', 93.84, 94.7, 96.67, 93.24],
    ['2022/12/12', 93.76, 95.58, 95.96, 93.49],
    ['2022/12/13', 100.37, 93.34, 100.65, 93.12],
    ['2022/12/14', 93.54, 93.93, 95.26, 91.21],
    ['2022/12/15', 91.52, 90.61, 92.71, 89.52],
    ['2022/12/16', 89.86, 89.57, 91.29, 88.56],
    ['2022/12/19', 89.51, 85.93, 89.76, 85.4],
    ['2022/12/20', 86.71, 87.62, 90.86, 86.52],
    ['2022/12/21', 87.49, 87.07, 88.79, 86.59],
    ['2022/12/22', 85.54, 84.87, 86.09, 82.58],
    ['2022/12/23', 84.7, 85.25, 85.51, 83.5],
    ['2022/12/27', 84.78, 83.49, 84.93, 82.83],
    ['2022/12/28', 83.25, 82.49, 84.25, 81.91],
    ['2022/12/29', 82.97, 85.23, 85.56, 82.29],
    ['2022/12/30', 83.61, 85.5, 86.06, 83.6],
    ['2023/01/03', 87.39, 84.9, 88.14, 84.3],
    ['2023/01/04', 85.89, 88.72, 88.84, 84.79],
    ['2023/01/05', 88.48, 87.71, 88.5, 86.75],
    ['2023/01/06', 88.52, 88.52, 88.74, 85.71],
    ['2023/01/09', 90.25, 89.24, 92.05, 88.88],
    ['2023/01/10', 88.86, 88.54, 89.62, 86.75],
    ['2023/01/11', 89.0, 94.44, 94.83, 88.86],
    ['2023/01/12', 95.31, 98.49, 98.95, 94.02],
    ['2023/01/13', 97.5, 100.37, 100.7, 97.42],
    ['2023/01/17', 99.92, 101.27, 102.74, 99.1],
    ['2023/01/18', 101.41, 101.11, 103.8, 100.32],
    ['2023/01/19', 99.84, 99.1, 100.52, 97.57],
    ['2023/01/20', 99.01, 101.28, 101.37, 98.11],
    ['2023/01/23', 101.99, 105.22, 105.38, 101.35],
    ['2023/01/24', 104.7, 104.13, 106.39, 103.82],
    ['2023/01/25', 100.36, 104.44, 104.68, 99.84],
    ['2023/01/26', 106.3, 109.42, 109.49, 105.68],
    ['2023/01/27', 108.86, 115.94, 117.12, 108.74],
    ['2023/01/30', 114.13, 109.48, 115.08, 109.28],
    ['2023/01/31', 109.48, 111.11, 111.23, 108.82],
    ['2023/02/01', 111.11, 113.99, 114.89, 109.83],
    ['2023/02/02', 116.25, 118.52, 119.85, 116.24],
    ['2023/02/03', 116.04, 118.7, 121.4, 115.85],
    ['2023/02/06', 117.41, 118.35, 119.33, 116.81],
    ['2023/02/07', 117.91, 119.69, 120.21, 115.14],
    ['2023/02/08', 119.39, 116.36, 119.81, 115.57],
    ['2023/02/09', 118.0, 114.94, 119.28, 114.52],
    ['2023/02/10', 112.25, 108.87, 113.36, 106.54],
    ['2023/02/13', 110.0, 116.42, 116.9, 109.81],
    ['2023/02/14', 116.29, 120.87, 121.32, 115.2],
    ['2023/02/15', 130.0, 137.01, 138.75, 129.85],
    ['2023/02/16', 135.65, 139.42, 144.63, 134.73],
    ['2023/02/17', 137.43, 131.6, 138.4, 130.73],
    ['2023/02/21', 129.77, 128.78, 132.85, 128.15],
    ['2023/02/22', 128.14, 127.21, 128.88, 124.55],
    ['2023/02/23', 128.21, 125.52, 128.85, 121.92],
    ['2023/02/24', 123.04, 122.78, 124.85, 120.19],
    ['2023/02/27', 123.95, 123.53, 125.06, 122.73],
    ['2023/02/28', 125.11, 123.28, 126.38, 123.03],
    ['2023/03/01', 122.38, 120.83, 123.3, 120.39],
    ['2023/03/02', 119.67, 122.38, 123.26, 119.36],
    ['2023/03/03', 123.18, 125.73, 125.87, 122.7],
    ['2023/03/06', 126.36, 126.33, 129.44, 125.28],
    ['2023/03/07', 125.74, 126.94, 130.85, 125.5],
    ['2023/03/08', 126.9, 125.0, 127.66, 124.74],
    ['2023/03/09', 125.06, 119.84, 125.2, 119.71],
    ['2023/03/10', 119.74, 118.3, 121.44, 115.85],
    ['2023/03/13', 115.72, 115.96, 117.9, 113.66],
    ['2023/03/14', 118.94, 116.36, 119.1, 114.91],
    ['2023/03/15', 113.86, 113.58, 114.32, 111.51],
    ['2023/03/16', 113.95, 119.99, 120.06, 113.51],
    ['2023/03/17', 119.71, 118.15, 119.96, 116.55],
    ['2023/03/20', 118.06, 118.4, 119.02, 116.62],
    ['2023/03/21', 120.0, 123.69, 124.43, 119.85],
    ['2023/03/22', 123.89, 121.17, 125.43, 121.0],
    ['2023/03/23', 122.51, 120.3, 124.66, 118.33],
    ['2023/03/24', 119.5, 116.92, 119.7, 115.39],
    ['2023/03/27', 117.99, 117.91, 119.27, 116.74],
    ['2023/03/28', 117.97, 116.61, 118.31, 116.01],
    ['2023/03/29', 118.34, 118.8, 119.19, 117.15],
    ['2023/03/30', 120.8, 122.28, 122.65, 120.11],
    ['2023/03/31', 123.3, 124.4, 125.94, 122.8],
    ['2023/04/03', 123.0, 121.46, 123.09, 119.71],
    ['2023/04/04', 121.68, 118.46, 122.06, 118.21],
    ['2023/04/05', 117.87, 115.34, 117.87, 111.49],
    ['2023/04/06', 113.34, 109.69, 113.42, 107.66],
    ['2023/04/10', 108.69, 112.6, 112.63, 108.4],
    ['2023/04/11', 113.56, 114.25, 114.8, 112.59],
    ['2023/04/12', 114.8, 112.42, 115.84, 111.4],
    ['2023/04/13', 113.18, 113.95, 114.4, 112.81],
    ['2023/04/14', 113.89, 114.65, 115.12, 113.02],
    ['2023/04/17', 115.42, 116.17, 116.18, 114.59],
    ['2023/04/18', 119.83, 119.19, 121.32, 118.1],
    ['2023/04/19', 118.14, 120.1, 120.37, 117.64],
    ['2023/04/20', 118.37, 118.4, 119.7, 117.82],
    ['2023/04/21', 114.96, 115.5, 115.75, 112.02],
    ['2023/04/24', 115.53, 116.12, 116.4, 114.51],
    ['2023/04/25', 115.31, 112.5, 115.43, 112.47],
    ['2023/04/26', 113.5, 113.68, 114.6, 113.2],
    ['2023/04/27', 114.44, 115.25, 115.85, 112.29],
    ['2023/04/28', 114.6, 119.67, 120.47, 113.0],
    ['2023/05/01', 119.26, 121.42, 122.65, 118.98],
    ['2023/05/02', 120.24, 120.58, 121.7, 117.94],
    ['2023/05/03', 120.85, 118.86, 121.19, 117.97],
    ['2023/05/04', 118.94, 117.63, 119.17, 116.18],
    ['2023/05/05', 120.01, 119.9, 120.3, 116.93],
    ['2023/05/08', 123.16, 125.65, 127.56, 122.98],
    ['2023/05/09', 126.6, 127.07, 128.96, 125.01],
    ['2023/05/10', 109.85, 113.19, 115.51, 109.37],
    ['2023/05/11', 113.14, 111.2, 114.46, 111.04],
    ['2023/05/12', 111.36, 105.28, 111.56, 104.21],
    ['2023/05/15', 105.06, 105.78, 106.15, 103.55],
    ['2023/05/16', 105.72, 105.41, 107.58, 104.3],
    ['2023/05/17', 106.07, 108.33, 109.93, 104.94],
    ['2023/05/18', 108.34, 111.87, 112.34, 108.34],
    ['2023/05/19', 110.82, 107.38, 110.82, 106.64],
    ['2023/05/22', 106.26, 109.93, 110.73, 106.2],
    ['2023/05/23', 109.0, 106.25, 109.71, 105.67],
    ['2023/05/24', 105.46, 105.71, 106.59, 103.82],
    ['2023/05/25', 106.1, 104.42, 106.52, 103.74],
    ['2023/05/26', 105.18, 106.81, 107.61, 104.99],
    ['2023/05/30', 107.72, 107.19, 108.79, 106.02],
    ['2023/05/31', 105.6, 109.77, 110.1, 103.74],
    ['2023/06/01', 109.84, 112.16, 113.54, 109.11],
    ['2023/06/02', 112.93, 118.06, 118.45, 112.93],
    ['2023/06/05', 115.12, 115.69, 116.6, 112.32],
    ['2023/06/06', 115.92, 117.3, 119.09, 115.41],
    ['2023/06/07', 118.14, 116.55, 120.16, 115.92],
    ['2023/06/08', 114.97, 115.5, 116.33, 113.58],
    ['2023/06/09', 120.25, 117.86, 122.74, 117.45],
    ['2023/06/12', 119.36, 124.59, 125.0, 118.88],
    ['2023/06/13', 124.61, 124.9, 125.74, 123.22],
    ['2023/06/14', 125.39, 125.14, 126.39, 122.76],
    ['2023/06/15', 122.96, 127.85, 128.38, 122.75],
    ['2023/06/16', 128.68, 128.68, 129.2, 126.79],
    ['2023/06/20', 126.37, 126.45, 127.63, 124.39],
    ['2023/06/21', 125.09, 127.46, 129.26, 125.09],
    ['2023/06/22', 126.58, 127.96, 128.62, 125.35],
    ['2023/06/23', 125.99, 124.73, 126.8, 124.0],
    ['2023/06/26', 122.9, 123.13, 126.7, 122.8],
    ['2023/06/27', 124.41, 127.89, 128.17, 123.32],
    ['2023/06/28', 127.39, 127.63, 131.88, 126.17],
    ['2023/06/29', 127.64, 125.1, 128.0, 123.42],
    ['2023/06/30', 127.25, 128.16, 131.14, 127.02],
    ['2023/07/03', 129.28, 132.35, 134.27, 129.23],
    ['2023/07/05', 131.85, 131.69, 132.95, 130.54],
    ['2023/07/06', 129.17, 128.16, 129.32, 126.06],
    ['2023/07/07', 128.16, 130.32, 131.62, 128.06],
    ['2023/07/10', 130.18, 131.71, 133.34, 129.61],
    ['2023/07/11', 129.45, 137.54, 138.09, 128.77],
    ['2023/07/12', 139.35, 137.02, 140.32, 135.52],
    ['2023/07/13', 138.96, 140.09, 140.6, 137.3],
    ['2023/07/14', 140.25, 143.34, 143.57, 139.69],
    ['2023/07/17', 142.29, 145.36, 147.4, 142.29],
    ['2023/07/18', 144.0, 146.53, 147.54, 143.75],
    ['2023/07/19', 145.75, 145.54, 147.68, 144.19],
    ['2023/07/20', 143.59, 145.28, 146.27, 143.5],
    ['2023/07/21', 147.0, 148.77, 149.99, 146.91],
    ['2023/07/24', 147.06, 147.62, 148.29, 144.18],
    ['2023/07/25', 147.61, 148.65, 150.78, 147.46],
    ['2023/07/26', 147.83, 150.17, 150.27, 147.09],
    ['2023/07/27', 151.89, 148.5, 153.18, 147.55],
    ['2023/07/28', 150.23, 153.33, 154.49, 150.21],
    ['2023/07/31', 153.86, 152.19, 154.95, 151.55],
    ['2023/08/01', 149.62, 148.91, 150.42, 148.03],
    ['2023/08/02', 146.45, 144.56, 147.12, 143.19],
    ['2023/08/03', 140.94, 140.88, 143.1, 139.75],
    ['2023/08/04', 140.47, 140.17, 145.32, 137.62],
    ['2023/08/07', 142.0, 143.2, 144.0, 138.79],
    ['2023/08/08', 140.52, 139.55, 140.52, 137.03],
    ['2023/08/09', 140.14, 137.87, 140.55, 137.33],
    ['2023/08/10', 139.87, 135.97, 140.97, 135.65],
]);
var volumes = [
    5012500.0,
    4884700.0,
    4370700.0,
    4336200.0,
    3373900.0,
    5288800.0,
    6057400.0,
    5447200.0,
    3634000.0,
    4021600.0,
    3778700.0,
    4620600.0,
    4507200.0,
    6191600.0,
    5661500.0,
    4121700.0,
    4067100.0,
    4619300.0,
    4064000.0,
    5413300.0,
    6993300.0,
    7126500.0,
    5690100.0,
    6606100.0,
    13704400.0,
    4715400.0,
    5610900.0,
    6898700.0,
    8399400.0,
    6245600.0,
    5278800.0,
    5081000.0,
    4518200.0,
    4259500.0,
    4750600.0,
    6208900.0,
    4835000.0,
    4008700.0,
    3446500.0,
    3352700.0,
    3945200.0,
    5696700.0,
    5547500.0,
    6172500.0,
    5001700.0,
    5423900.0,
    5580000.0,
    3408900.0,
    3962200.0,
    4146100.0,
    4452800.0,
    6278900.0,
    4263100.0,
    4594000.0,
    4757300.0,
    10733800.0,
    15979800.0,
    29191400.0,
    10099300.0,
    9717400.0,
    7972700.0,
    7829400.0,
    4650900.0,
    7343000.0,
    6864400.0,
    4951400.0,
    5357400.0,
    3681800.0,
    5181200.0,
    5913100.0,
    5145700.0,
    5951600.0,
    4337600.0,
    2245100.0,
    5133900.0,
    3694000.0,
    8387500.0,
    5040300.0,
    4128600.0,
    3601500.0,
    8380900.0,
    12640500.0,
    6115700.0,
    4405800.0,
    4664100.0,
    7378900.0,
    6737800.0,
    5332000.0,
    6830200.0,
    4717100.0,
    7325800.0,
    5594800.0,
    5643100.0,
    3057700.0,
    3982400.0,
    4931700.0,
    4031300.0,
    3372500.0,
    3901200.0,
    4817100.0,
    3419000.0,
    4348400.0,
    4319400.0,
    4165600.0,
    7718900.0,
    7695200.0,
    6529000.0,
    5496200.0,
    6062200.0,
    4996700.0,
    5104000.0,
    4442700.0,
    3514700.0,
    5169300.0,
    5196600.0,
    9548500.0,
    5469900.0,
    3867200.0,
    4053600.0,
    7166900.0,
    6130700.0,
    3204100.0,
    4397700.0,
    3605400.0,
    4508700.0,
    6463500.0,
    7657200.0,
    17145000.0,
    32481900.0,
    18705800.0,
    11386700.0,
    6618700.0,
    5759000.0,
    7013500.0,
    5119800.0,
    5011400.0,
    7317100.0,
    4645000.0,
    4087300.0,
    5499400.0,
    5292500.0,
    5590800.0,
    3290800.0,
    6147700.0,
    5254800.0,
    5282000.0,
    5416400.0,
    6305100.0,
    7691900.0,
    5513600.0,
    3997700.0,
    5374400.0,
    3971100.0,
    4028500.0,
    4290900.0,
    2819600.0,
    2941000.0,
    2711500.0,
    5437900.0,
    5533800.0,
    4230600.0,
    3349300.0,
    6737000.0,
    14400100.0,
    5406400.0,
    4845400.0,
    6068700.0,
    3878100.0,
    3415200.0,
    3287100.0,
    7162200.0,
    3309700.0,
    4369700.0,
    7357800.0,
    3239500.0,
    3659700.0,
    3615500.0,
    3870500.0,
    4974300.0,
    4830600.0,
    4861800.0,
    3687700.0,
    4939900.0,
    6618800.0,
    10142900.0,
    15410300.0,
    34191000.0,
    9579400.0,
    14740400.0,
    5422500.0,
    5585300.0,
    6887400.0,
    6945900.0,
    9124200.0,
    7350600.0,
    6498200.0,
    5371700.0,
    4834500.0,
    4677600.0,
    5460100.0,
    10263100.0,
    6644100.0,
    10122000.0,
    8324400.0,
    5025700.0,
    4637600.0,
    4432700.0,
    7427200.0,
    7876600.0,
    5276800.0,
    5696700.0,
    5599400.0,
    6892400.0,
    5383600.0,
    4711900.0,
    3935600.0,
    5794100.0,
    3645800.0,
    4507700.0,
    6130400.0,
    4242000.0,
    4600100.0,
    5001800.0,
    3429900.0,
    3733600.0,
    3148100.0,
    4052000.0,
    10045600.0,
    5583600.0,
    5532300.0,
    6496600.0,
    5755800.0,
    4124900.0,
    4968600.0,
    4246300.0,
    11794500.0,
    4370800.0,
    4121300.0,
    4055500.0,
    5426000.0,
    4162300.0,
    4457300.0,
    4519600.0,
    7026100.0,
    11441200.0,
    8621800.0,
    4079100.0,
    4685800.0,
    3389700.0,
    3436500.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "ABNB",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);