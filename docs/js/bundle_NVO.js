/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_NVO");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/15', 106.7, 106.37, 107.14, 105.86],
    ['2022/08/16', 105.9, 105.32, 106.23, 104.75],
    ['2022/08/17', 105.65, 104.81, 106.37, 104.76],
    ['2022/08/18', 104.15, 102.76, 104.22, 102.08],
    ['2022/08/19', 104.4, 104.55, 105.25, 103.71],
    ['2022/08/22', 108.5, 107.55, 109.03, 106.64],
    ['2022/08/23', 106.62, 106.57, 107.05, 105.91],
    ['2022/08/24', 107.65, 110.02, 110.37, 107.52],
    ['2022/08/25', 109.82, 111.4, 111.41, 109.5],
    ['2022/08/26', 111.39, 108.69, 111.81, 108.58],
    ['2022/08/29', 108.02, 107.44, 108.37, 107.27],
    ['2022/08/30', 107.26, 106.04, 107.51, 105.75],
    ['2022/08/31', 107.06, 106.1, 107.41, 106.07],
    ['2022/09/01', 105.04, 104.53, 105.47, 103.24],
    ['2022/09/02', 103.74, 102.24, 104.74, 101.6],
    ['2022/09/06', 103.2, 103.59, 104.39, 102.5],
    ['2022/09/07', 103.11, 104.83, 105.03, 102.82],
    ['2022/09/08', 104.08, 105.69, 105.76, 103.86],
    ['2022/09/09', 107.64, 108.53, 108.95, 107.22],
    ['2022/09/12', 109.03, 109.33, 110.28, 109.02],
    ['2022/09/13', 108.09, 106.04, 108.3, 105.86],
    ['2022/09/14', 105.73, 105.04, 106.49, 104.05],
    ['2022/09/15', 104.12, 103.21, 104.59, 102.86],
    ['2022/09/16', 101.39, 101.42, 101.95, 100.0],
    ['2022/09/19', 100.33, 101.24, 101.3, 99.64],
    ['2022/09/20', 98.8, 99.46, 99.72, 98.64],
    ['2022/09/21', 100.92, 99.22, 101.17, 99.1],
    ['2022/09/22', 98.78, 98.31, 99.16, 97.87],
    ['2022/09/23', 97.79, 97.93, 98.58, 97.28],
    ['2022/09/26', 95.51, 95.28, 96.71, 95.02],
    ['2022/09/27', 96.39, 95.9, 97.0, 95.25],
    ['2022/09/28', 97.31, 99.36, 99.6, 97.17],
    ['2022/09/29', 100.4, 100.39, 100.92, 99.61],
    ['2022/09/30', 100.2, 99.63, 100.72, 99.57],
    ['2022/10/03', 101.6, 102.55, 102.91, 101.24],
    ['2022/10/04', 104.16, 105.38, 105.63, 103.91],
    ['2022/10/05', 105.18, 106.03, 106.43, 104.81],
    ['2022/10/06', 104.8, 105.82, 106.12, 104.78],
    ['2022/10/07', 105.06, 104.06, 105.4, 103.32],
    ['2022/10/10', 104.07, 103.85, 104.16, 103.21],
    ['2022/10/11', 103.59, 104.39, 105.62, 102.95],
    ['2022/10/12', 104.64, 103.98, 105.2, 103.86],
    ['2022/10/13', 101.53, 104.83, 105.33, 101.46],
    ['2022/10/14', 104.86, 103.8, 105.23, 103.64],
    ['2022/10/17', 105.02, 106.0, 106.34, 104.97],
    ['2022/10/18', 107.26, 106.7, 107.26, 106.15],
    ['2022/10/19', 106.29, 104.61, 106.33, 104.22],
    ['2022/10/20', 104.24, 104.06, 105.57, 103.72],
    ['2022/10/21', 101.53, 104.22, 104.8, 100.89],
    ['2022/10/24', 105.47, 106.54, 107.39, 105.2],
    ['2022/10/25', 107.86, 108.17, 108.24, 107.04],
    ['2022/10/26', 108.01, 107.81, 109.28, 107.59],
    ['2022/10/27', 107.71, 106.61, 108.32, 106.61],
    ['2022/10/28', 108.15, 108.96, 109.08, 107.73],
    ['2022/10/31', 108.05, 108.84, 109.19, 108.04],
    ['2022/11/01', 108.43, 106.43, 109.12, 105.94],
    ['2022/11/02', 111.58, 113.23, 116.24, 111.38],
    ['2022/11/03', 111.63, 113.87, 114.81, 111.43],
    ['2022/11/04', 113.58, 112.41, 113.71, 110.83],
    ['2022/11/07', 113.43, 115.05, 115.5, 113.1],
    ['2022/11/08', 114.47, 114.85, 115.8, 114.06],
    ['2022/11/09', 114.55, 114.17, 115.58, 113.66],
    ['2022/11/10', 116.5, 115.54, 116.7, 114.25],
    ['2022/11/11', 112.75, 111.47, 112.79, 109.7],
    ['2022/11/14', 114.96, 114.43, 115.6, 113.72],
    ['2022/11/15', 113.75, 113.64, 114.18, 111.9],
    ['2022/11/16', 113.3, 113.37, 114.19, 112.56],
    ['2022/11/17', 112.03, 112.91, 113.11, 111.96],
    ['2022/11/18', 112.15, 113.44, 113.87, 112.14],
    ['2022/11/21', 113.22, 113.41, 114.09, 112.93],
    ['2022/11/22', 113.74, 115.38, 115.49, 113.74],
    ['2022/11/23', 117.28, 117.83, 117.88, 116.61],
    ['2022/11/25', 118.38, 118.79, 119.09, 118.19],
    ['2022/11/28', 120.0, 121.23, 121.88, 119.54],
    ['2022/11/29', 121.19, 121.35, 122.51, 121.14],
    ['2022/11/30', 123.9, 124.6, 124.6, 122.32],
    ['2022/12/01', 126.16, 126.13, 126.41, 125.16],
    ['2022/12/02', 125.43, 126.9, 127.08, 125.37],
    ['2022/12/05', 127.18, 127.08, 127.79, 126.62],
    ['2022/12/06', 126.0, 125.79, 126.58, 124.87],
    ['2022/12/07', 125.84, 125.24, 126.58, 124.82],
    ['2022/12/08', 126.5, 127.79, 127.93, 126.3],
    ['2022/12/09', 130.31, 128.91, 130.85, 128.89],
    ['2022/12/12', 129.54, 129.81, 129.94, 128.91],
    ['2022/12/13', 132.18, 132.84, 133.46, 131.98],
    ['2022/12/14', 133.67, 134.72, 135.19, 132.81],
    ['2022/12/15', 134.46, 133.68, 134.48, 132.55],
    ['2022/12/16', 132.22, 133.18, 133.66, 131.9],
    ['2022/12/19', 130.75, 130.61, 131.06, 129.79],
    ['2022/12/20', 131.88, 132.19, 132.58, 131.2],
    ['2022/12/21', 131.99, 132.49, 132.99, 131.53],
    ['2022/12/22', 132.58, 133.62, 133.63, 132.2],
    ['2022/12/23', 133.56, 134.0, 134.0, 132.92],
    ['2022/12/27', 133.89, 133.25, 133.99, 132.9],
    ['2022/12/28', 132.95, 133.55, 134.12, 132.78],
    ['2022/12/29', 134.34, 135.2, 135.39, 134.07],
    ['2022/12/30', 135.27, 135.34, 135.86, 134.1],
    ['2023/01/03', 137.27, 136.96, 138.42, 136.13],
    ['2023/01/04', 138.66, 136.77, 138.67, 136.06],
    ['2023/01/05', 135.55, 136.25, 137.15, 135.38],
    ['2023/01/06', 137.01, 138.64, 139.05, 136.51],
    ['2023/01/09', 138.74, 137.23, 139.05, 136.95],
    ['2023/01/10', 133.95, 133.66, 134.98, 133.04],
    ['2023/01/11', 130.99, 132.58, 132.62, 130.72],
    ['2023/01/12', 131.34, 133.62, 133.67, 130.1],
    ['2023/01/13', 135.64, 136.32, 136.84, 135.43],
    ['2023/01/17', 139.63, 138.98, 139.99, 138.13],
    ['2023/01/18', 139.77, 139.76, 140.95, 139.69],
    ['2023/01/19', 139.94, 140.66, 140.85, 138.89],
    ['2023/01/20', 140.33, 141.1, 141.11, 139.76],
    ['2023/01/23', 141.28, 141.08, 141.5, 140.56],
    ['2023/01/24', 144.78, 139.9, 144.78, 139.12],
    ['2023/01/25', 137.14, 138.89, 139.53, 137.09],
    ['2023/01/26', 138.58, 137.54, 138.82, 136.28],
    ['2023/01/27', 137.95, 138.09, 138.81, 137.57],
    ['2023/01/30', 140.7, 139.06, 140.77, 138.83],
    ['2023/01/31', 137.69, 138.78, 138.91, 136.39],
    ['2023/02/01', 139.8, 139.08, 140.17, 137.17],
    ['2023/02/02', 134.93, 132.34, 135.05, 131.17],
    ['2023/02/03', 135.75, 136.79, 137.43, 135.26],
    ['2023/02/06', 137.62, 138.07, 138.83, 136.96],
    ['2023/02/07', 138.33, 139.59, 139.73, 138.14],
    ['2023/02/08', 140.77, 139.58, 140.9, 138.79],
    ['2023/02/09', 139.6, 139.53, 140.16, 138.9],
    ['2023/02/10', 138.88, 139.54, 139.99, 138.36],
    ['2023/02/13', 140.68, 142.99, 143.47, 140.62],
    ['2023/02/14', 142.8, 142.95, 143.58, 142.25],
    ['2023/02/15', 141.05, 140.96, 141.97, 140.7],
    ['2023/02/16', 139.69, 138.69, 140.11, 138.46],
    ['2023/02/17', 140.07, 141.63, 142.15, 139.76],
    ['2023/02/21', 142.41, 142.61, 143.5, 141.78],
    ['2023/02/22', 142.58, 142.25, 143.2, 142.1],
    ['2023/02/23', 143.14, 142.89, 143.82, 141.81],
    ['2023/02/24', 141.46, 141.6, 141.77, 140.62],
    ['2023/02/27', 143.25, 143.36, 143.91, 142.8],
    ['2023/02/28', 142.97, 140.99, 142.97, 140.65],
    ['2023/03/01', 142.61, 142.86, 143.84, 142.21],
    ['2023/03/02', 142.1, 143.6, 143.91, 141.79],
    ['2023/03/03', 143.44, 144.9, 145.07, 143.27],
    ['2023/03/06', 145.63, 144.76, 145.94, 143.91],
    ['2023/03/07', 145.34, 143.92, 145.6, 143.73],
    ['2023/03/08', 141.07, 141.46, 141.77, 140.04],
    ['2023/03/09', 142.53, 142.03, 143.7, 141.76],
    ['2023/03/10', 143.05, 141.29, 144.13, 140.99],
    ['2023/03/13', 141.26, 140.54, 143.29, 140.42],
    ['2023/03/14', 142.15, 142.95, 143.07, 141.06],
    ['2023/03/15', 140.35, 140.98, 141.66, 139.76],
    ['2023/03/16', 139.0, 138.89, 139.04, 135.32],
    ['2023/03/17', 139.74, 139.44, 140.28, 139.1],
    ['2023/03/20', 142.14, 143.59, 143.77, 141.79],
    ['2023/03/21', 145.16, 147.29, 147.43, 144.78],
    ['2023/03/22', 147.28, 146.69, 148.32, 146.63],
    ['2023/03/23', 149.71, 149.58, 151.5, 149.15],
    ['2023/03/24', 149.97, 152.75, 153.64, 149.16],
    ['2023/03/27', 153.54, 154.7, 155.44, 153.1],
    ['2023/03/28', 155.66, 155.32, 155.86, 154.53],
    ['2023/03/29', 156.24, 156.58, 157.19, 155.94],
    ['2023/03/30', 157.23, 158.09, 158.11, 157.06],
    ['2023/03/31', 158.56, 159.14, 159.74, 158.05],
    ['2023/04/03', 158.35, 159.6, 159.65, 157.65],
    ['2023/04/04', 158.91, 158.58, 160.1, 157.85],
    ['2023/04/05', 158.65, 157.9, 159.06, 156.3],
    ['2023/04/06', 159.4, 159.36, 160.91, 159.2],
    ['2023/04/10', 159.6, 158.91, 159.66, 157.81],
    ['2023/04/11', 157.65, 158.37, 159.0, 156.95],
    ['2023/04/12', 161.26, 163.52, 164.93, 161.1],
    ['2023/04/13', 166.49, 167.64, 167.65, 164.43],
    ['2023/04/14', 168.71, 168.6, 169.88, 167.79],
    ['2023/04/17', 171.05, 171.07, 171.7, 170.07],
    ['2023/04/18', 169.94, 169.78, 171.15, 169.32],
    ['2023/04/19', 163.82, 165.03, 165.91, 163.73],
    ['2023/04/20', 165.58, 165.37, 166.18, 164.39],
    ['2023/04/21', 168.74, 172.65, 172.97, 168.67],
    ['2023/04/24', 170.89, 170.48, 171.42, 169.73],
    ['2023/04/25', 170.54, 168.58, 170.87, 168.2],
    ['2023/04/26', 165.66, 164.99, 165.77, 163.47],
    ['2023/04/27', 165.63, 166.02, 166.24, 164.45],
    ['2023/04/28', 166.39, 167.09, 168.09, 165.57],
    ['2023/05/01', 166.71, 167.42, 167.49, 165.79],
    ['2023/05/02', 165.86, 167.2, 167.36, 165.76],
    ['2023/05/03', 166.76, 167.77, 168.76, 165.73],
    ['2023/05/04', 161.54, 160.43, 162.23, 158.51],
    ['2023/05/05', 162.21, 163.24, 163.75, 160.87],
    ['2023/05/08', 169.15, 168.44, 169.75, 167.74],
    ['2023/05/09', 165.91, 168.53, 169.39, 165.91],
    ['2023/05/10', 167.17, 169.41, 169.77, 166.97],
    ['2023/05/11', 169.73, 168.99, 170.15, 168.26],
    ['2023/05/12', 170.25, 171.27, 172.33, 170.25],
    ['2023/05/15', 170.07, 169.43, 170.47, 168.84],
    ['2023/05/16', 166.92, 167.66, 168.7, 166.56],
    ['2023/05/17', 168.48, 167.1, 168.52, 166.55],
    ['2023/05/18', 167.83, 168.55, 168.69, 167.15],
    ['2023/05/19', 169.99, 170.54, 171.65, 169.32],
    ['2023/05/22', 170.48, 170.52, 171.95, 167.52],
    ['2023/05/23', 168.15, 163.48, 168.25, 162.11],
    ['2023/05/24', 162.51, 161.78, 162.92, 161.47],
    ['2023/05/25', 162.44, 162.44, 162.75, 160.95],
    ['2023/05/26', 163.64, 162.97, 164.68, 162.75],
    ['2023/05/30', 161.8, 159.81, 161.83, 159.43],
    ['2023/05/31', 159.92, 160.46, 161.11, 159.26],
    ['2023/06/01', 157.66, 157.98, 159.1, 157.13],
    ['2023/06/02', 155.08, 157.14, 157.6, 154.35],
    ['2023/06/05', 158.55, 157.85, 158.69, 157.2],
    ['2023/06/06', 161.64, 160.76, 162.04, 160.1],
    ['2023/06/07', 159.09, 157.53, 159.42, 156.66],
    ['2023/06/08', 158.11, 159.45, 159.86, 157.66],
    ['2023/06/09', 157.54, 158.05, 158.24, 156.98],
    ['2023/06/12', 160.18, 158.75, 160.54, 155.67],
    ['2023/06/13', 159.14, 157.63, 160.04, 157.3],
    ['2023/06/14', 158.53, 159.07, 159.71, 158.24],
    ['2023/06/15', 160.49, 162.53, 162.85, 160.06],
    ['2023/06/16', 162.54, 161.29, 162.7, 161.22],
    ['2023/06/20', 159.67, 161.67, 162.7, 159.43],
    ['2023/06/21', 161.44, 160.54, 162.24, 159.82],
    ['2023/06/22', 159.81, 160.02, 161.24, 159.75],
    ['2023/06/23', 158.48, 159.07, 159.8, 158.18],
    ['2023/06/26', 159.47, 157.22, 159.93, 156.98],
    ['2023/06/27', 155.55, 155.98, 156.4, 154.45],
    ['2023/06/28', 158.28, 156.79, 158.28, 155.64],
    ['2023/06/29', 154.92, 157.03, 157.1, 154.62],
    ['2023/06/30', 160.53, 161.83, 162.08, 160.51],
    ['2023/07/03', 160.13, 159.43, 160.13, 158.19],
    ['2023/07/05', 159.26, 160.0, 160.44, 159.05],
    ['2023/07/06', 158.16, 158.32, 158.84, 156.94],
    ['2023/07/07', 158.19, 156.98, 158.55, 156.93],
    ['2023/07/10', 156.37, 157.07, 157.4, 156.13],
    ['2023/07/11', 153.7, 152.25, 154.16, 151.12],
    ['2023/07/12', 152.17, 154.75, 155.43, 151.93],
    ['2023/07/13', 157.38, 156.88, 157.4, 156.01],
    ['2023/07/14', 160.1, 160.14, 160.83, 158.2],
    ['2023/07/17', 161.6, 160.95, 161.85, 160.56],
    ['2023/07/18', 160.18, 160.25, 160.82, 159.43],
    ['2023/07/19', 160.38, 160.23, 160.97, 159.54],
    ['2023/07/20', 163.67, 164.48, 166.54, 163.67],
    ['2023/07/21', 164.22, 165.66, 166.15, 164.13],
    ['2023/07/24', 163.77, 162.07, 163.94, 162.06],
    ['2023/07/25', 160.58, 162.31, 162.98, 160.48],
    ['2023/07/26', 159.11, 158.28, 159.14, 156.75],
    ['2023/07/27', 158.56, 156.66, 158.75, 156.63],
    ['2023/07/28', 156.64, 157.82, 158.1, 155.91],
    ['2023/07/31', 160.77, 161.1, 161.71, 159.88],
    ['2023/08/01', 161.37, 161.73, 162.07, 160.77],
    ['2023/08/02', 159.58, 158.34, 160.47, 158.14],
    ['2023/08/03', 157.26, 157.53, 158.6, 156.6],
    ['2023/08/04', 157.04, 156.6, 158.13, 156.39],
    ['2023/08/07', 160.19, 161.36, 161.89, 159.3],
    ['2023/08/08', 186.12, 189.17, 192.18, 183.58],
    ['2023/08/09', 185.15, 187.59, 190.45, 184.9],
    ['2023/08/10', 184.88, 182.09, 186.71, 181.76],
    ['2023/08/11', 182.47, 181.6, 183.65, 180.19],
]);
var volumes = [
    1347300.0,
    1866100.0,
    1787800.0,
    1878400.0,
    1651400.0,
    2369200.0,
    1550100.0,
    2554000.0,
    1536200.0,
    1336800.0,
    1278500.0,
    3587700.0,
    6629900.0,
    1869000.0,
    3460300.0,
    952400.0,
    918700.0,
    1089000.0,
    1537100.0,
    1077300.0,
    931300.0,
    1177000.0,
    1049300.0,
    1434900.0,
    1204300.0,
    1014400.0,
    1470900.0,
    1324100.0,
    1639300.0,
    1764700.0,
    1644300.0,
    1378900.0,
    1606500.0,
    1099200.0,
    1368500.0,
    1148800.0,
    756300.0,
    1084500.0,
    1031100.0,
    798600.0,
    1110300.0,
    766800.0,
    913500.0,
    981000.0,
    949400.0,
    832700.0,
    649700.0,
    988200.0,
    1856000.0,
    1763900.0,
    1440800.0,
    2311400.0,
    1104200.0,
    1389400.0,
    1484600.0,
    1327800.0,
    2195700.0,
    2289400.0,
    1517300.0,
    1232500.0,
    2055700.0,
    1186300.0,
    1284300.0,
    1601200.0,
    1403500.0,
    1430900.0,
    902200.0,
    801900.0,
    1003600.0,
    1028000.0,
    714300.0,
    1047400.0,
    510500.0,
    1855500.0,
    2444000.0,
    1291900.0,
    988200.0,
    837300.0,
    994500.0,
    1225000.0,
    900100.0,
    895000.0,
    1843000.0,
    963500.0,
    1541100.0,
    2061200.0,
    1610800.0,
    2085200.0,
    1844100.0,
    1425800.0,
    1763600.0,
    1278700.0,
    1225300.0,
    1148700.0,
    1105000.0,
    1333400.0,
    984300.0,
    1770700.0,
    1388700.0,
    1524700.0,
    1154000.0,
    1209400.0,
    1453400.0,
    1689000.0,
    1193600.0,
    1089700.0,
    1770500.0,
    2428900.0,
    1761500.0,
    1349300.0,
    1303300.0,
    1946100.0,
    1610000.0,
    1299200.0,
    1108700.0,
    1444600.0,
    1520400.0,
    2293500.0,
    4063000.0,
    1779500.0,
    1682700.0,
    1066000.0,
    1230100.0,
    1282300.0,
    1241400.0,
    1606300.0,
    884100.0,
    860800.0,
    882600.0,
    1189400.0,
    864800.0,
    691000.0,
    805500.0,
    853900.0,
    841200.0,
    1163200.0,
    1283800.0,
    811300.0,
    1005600.0,
    1166700.0,
    1094800.0,
    4419700.0,
    1261300.0,
    1359100.0,
    1252200.0,
    1200200.0,
    1594800.0,
    2987000.0,
    1727200.0,
    1242400.0,
    1372300.0,
    1049000.0,
    1286600.0,
    1602300.0,
    1164500.0,
    916300.0,
    822400.0,
    1033200.0,
    1142800.0,
    1043200.0,
    1578000.0,
    1338200.0,
    1025100.0,
    738600.0,
    965700.0,
    1760400.0,
    3522600.0,
    1657000.0,
    1594600.0,
    1610600.0,
    1990100.0,
    1193400.0,
    1726700.0,
    1188200.0,
    1117300.0,
    1121400.0,
    1153800.0,
    1118800.0,
    1007100.0,
    1116900.0,
    1666900.0,
    2729500.0,
    1284100.0,
    1834300.0,
    1580100.0,
    1225800.0,
    1022400.0,
    1092800.0,
    762700.0,
    991400.0,
    769000.0,
    700000.0,
    1364300.0,
    3139300.0,
    2389400.0,
    1766700.0,
    1557300.0,
    963100.0,
    1257000.0,
    841800.0,
    1414500.0,
    1599700.0,
    967000.0,
    1625200.0,
    1214600.0,
    954500.0,
    1180200.0,
    1912500.0,
    918100.0,
    992500.0,
    1110600.0,
    1051700.0,
    1902200.0,
    1913400.0,
    902400.0,
    716700.0,
    1205200.0,
    1375500.0,
    1151700.0,
    1159800.0,
    1089000.0,
    839500.0,
    972000.0,
    1276200.0,
    1090000.0,
    766500.0,
    2223800.0,
    1703800.0,
    1180700.0,
    1173800.0,
    1117000.0,
    872900.0,
    704000.0,
    1785400.0,
    1209600.0,
    1109000.0,
    1187300.0,
    1529500.0,
    1140200.0,
    1096600.0,
    1082300.0,
    1430400.0,
    836100.0,
    802000.0,
    1518400.0,
    1235900.0,
    8911300.0,
    3724000.0,
    3257900.0,
    2119400.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "NVO",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);