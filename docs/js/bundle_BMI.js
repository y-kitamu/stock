/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_BMI");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 95.51, 96.73, 97.07, 95.27],
    ['2022/08/04', 96.9, 95.98, 97.43, 95.19],
    ['2022/08/05', 94.92, 95.4, 95.46, 94.16],
    ['2022/08/08', 95.6, 96.37, 96.74, 95.42],
    ['2022/08/09', 96.15, 96.22, 96.49, 95.19],
    ['2022/08/10', 98.04, 98.51, 98.89, 96.71],
    ['2022/08/11', 99.23, 98.01, 99.23, 97.67],
    ['2022/08/12', 98.67, 99.64, 99.98, 97.46],
    ['2022/08/15', 100.48, 100.86, 101.66, 100.48],
    ['2022/08/16', 99.92, 101.63, 101.94, 99.51],
    ['2022/08/17', 100.68, 101.82, 102.12, 100.02],
    ['2022/08/18', 101.52, 101.66, 102.5, 100.46],
    ['2022/08/19', 100.81, 100.4, 101.27, 99.93],
    ['2022/08/22', 99.4, 98.62, 100.18, 98.34],
    ['2022/08/23', 98.41, 97.08, 99.53, 96.69],
    ['2022/08/24', 97.08, 97.41, 98.11, 96.34],
    ['2022/08/25', 97.75, 99.28, 99.38, 97.49],
    ['2022/08/26', 99.28, 96.54, 99.7, 96.35],
    ['2022/08/29', 95.72, 96.28, 96.7, 95.21],
    ['2022/08/30', 96.66, 94.1, 96.72, 93.6],
    ['2022/08/31', 94.46, 94.17, 95.2, 93.66],
    ['2022/09/01', 93.73, 94.31, 94.41, 92.47],
    ['2022/09/02', 95.41, 93.5, 95.81, 93.13],
    ['2022/09/06', 93.49, 92.66, 93.49, 91.66],
    ['2022/09/07', 93.05, 96.0, 96.32, 93.05],
    ['2022/09/08', 95.49, 95.96, 97.1, 94.99],
    ['2022/09/09', 96.54, 96.56, 97.9, 96.48],
    ['2022/09/12', 97.53, 97.79, 98.34, 96.99],
    ['2022/09/13', 95.85, 94.18, 96.1, 93.75],
    ['2022/09/14', 94.36, 93.74, 94.36, 92.56],
    ['2022/09/15', 93.23, 91.76, 93.78, 91.17],
    ['2022/09/16', 91.62, 92.7, 92.74, 89.6],
    ['2022/09/19', 92.06, 94.69, 94.87, 92.06],
    ['2022/09/20', 94.27, 93.57, 94.87, 92.21],
    ['2022/09/21', 94.42, 93.25, 95.89, 93.03],
    ['2022/09/22', 92.67, 92.28, 92.79, 91.41],
    ['2022/09/23', 91.5, 91.88, 92.77, 90.36],
    ['2022/09/26', 91.67, 91.72, 93.79, 91.18],
    ['2022/09/27', 92.49, 92.4, 93.53, 91.49],
    ['2022/09/28', 92.71, 94.19, 94.71, 91.77],
    ['2022/09/29', 93.5, 93.6, 93.7, 91.95],
    ['2022/09/30', 93.6, 91.89, 95.14, 91.85],
    ['2022/10/03', 92.49, 94.63, 94.85, 92.36],
    ['2022/10/04', 96.26, 95.61, 97.51, 95.01],
    ['2022/10/05', 94.46, 96.08, 96.6, 94.46],
    ['2022/10/06', 95.72, 95.99, 96.96, 95.44],
    ['2022/10/07', 94.72, 92.89, 94.72, 91.66],
    ['2022/10/10', 93.59, 92.96, 93.59, 91.54],
    ['2022/10/11', 92.4, 91.79, 93.09, 90.79],
    ['2022/10/12', 91.94, 90.11, 91.94, 90.11],
    ['2022/10/13', 88.63, 91.47, 91.77, 87.68],
    ['2022/10/14', 92.55, 90.55, 92.55, 89.93],
    ['2022/10/17', 92.05, 96.02, 96.61, 92.05],
    ['2022/10/18', 97.09, 96.44, 97.94, 95.48],
    ['2022/10/19', 95.69, 99.81, 100.91, 95.28],
    ['2022/10/20', 99.94, 97.15, 101.0, 95.82],
    ['2022/10/21', 98.4, 100.97, 101.03, 97.18],
    ['2022/10/24', 101.18, 103.36, 104.16, 100.99],
    ['2022/10/25', 103.77, 111.3, 111.46, 103.77],
    ['2022/10/26', 111.27, 107.41, 112.39, 107.27],
    ['2022/10/27', 108.55, 110.46, 110.8, 107.42],
    ['2022/10/28', 110.84, 111.12, 111.28, 109.28],
    ['2022/10/31', 114.55, 111.87, 114.55, 111.02],
    ['2022/11/01', 112.78, 114.47, 115.07, 112.24],
    ['2022/11/02', 113.67, 110.08, 114.36, 109.56],
    ['2022/11/03', 108.77, 108.7, 109.45, 107.81],
    ['2022/11/04', 110.11, 108.32, 110.85, 107.61],
    ['2022/11/07', 108.1, 112.0, 112.38, 108.02],
    ['2022/11/08', 112.36, 109.03, 112.36, 108.82],
    ['2022/11/09', 107.85, 107.69, 109.43, 107.36],
    ['2022/11/10', 111.82, 113.24, 113.28, 110.59],
    ['2022/11/11', 114.13, 110.65, 114.13, 110.5],
    ['2022/11/14', 109.59, 110.08, 112.09, 109.59],
    ['2022/11/15', 111.35, 115.38, 115.6, 111.03],
    ['2022/11/16', 115.37, 115.01, 116.69, 114.24],
    ['2022/11/17', 113.29, 115.15, 115.24, 112.8],
    ['2022/11/18', 117.33, 115.55, 117.33, 114.49],
    ['2022/11/21', 115.47, 115.23, 115.9, 114.64],
    ['2022/11/22', 116.03, 116.48, 116.66, 115.21],
    ['2022/11/23', 116.85, 116.38, 117.32, 115.63],
    ['2022/11/25', 116.49, 116.33, 117.06, 116.01],
    ['2022/11/28', 115.81, 113.14, 115.81, 112.2],
    ['2022/11/29', 113.01, 112.07, 116.0, 111.91],
    ['2022/11/30', 112.01, 115.41, 115.48, 110.68],
    ['2022/12/01', 115.65, 114.54, 115.89, 114.13],
    ['2022/12/02', 112.87, 114.86, 115.82, 112.52],
    ['2022/12/05', 113.62, 113.68, 114.33, 111.49],
    ['2022/12/06', 114.19, 112.22, 114.24, 111.89],
    ['2022/12/07', 111.53, 113.63, 113.77, 111.23],
    ['2022/12/08', 114.49, 116.65, 116.84, 114.13],
    ['2022/12/09', 116.36, 116.12, 117.96, 115.85],
    ['2022/12/12', 115.58, 116.91, 117.61, 115.58],
    ['2022/12/13', 119.18, 117.31, 120.11, 117.07],
    ['2022/12/14', 116.93, 116.02, 117.94, 114.47],
    ['2022/12/15', 115.06, 112.32, 115.06, 111.05],
    ['2022/12/16', 111.14, 109.74, 111.87, 108.26],
    ['2022/12/19', 110.07, 109.04, 111.03, 108.45],
    ['2022/12/20', 108.6, 110.98, 111.54, 108.53],
    ['2022/12/21', 111.48, 112.48, 112.91, 110.65],
    ['2022/12/22', 111.24, 109.75, 111.24, 108.38],
    ['2022/12/23', 109.96, 109.23, 110.26, 109.2],
    ['2022/12/27', 109.38, 109.94, 110.2, 108.44],
    ['2022/12/28', 110.01, 107.91, 110.89, 107.8],
    ['2022/12/29', 109.09, 110.29, 110.66, 109.09],
    ['2022/12/30', 109.45, 108.65, 109.45, 107.97],
    ['2023/01/03', 108.51, 109.28, 110.85, 107.72],
    ['2023/01/04', 110.29, 108.66, 110.67, 108.06],
    ['2023/01/05', 108.09, 106.99, 108.45, 106.8],
    ['2023/01/06', 108.31, 107.62, 109.04, 107.36],
    ['2023/01/09', 108.0, 105.36, 109.51, 105.06],
    ['2023/01/10', 105.47, 109.79, 109.88, 105.47],
    ['2023/01/11', 109.87, 112.86, 114.57, 109.13],
    ['2023/01/12', 112.87, 113.89, 114.36, 111.51],
    ['2023/01/13', 113.99, 115.66, 116.14, 113.27],
    ['2023/01/17', 115.66, 116.01, 117.52, 115.15],
    ['2023/01/18', 116.67, 115.54, 117.86, 114.7],
    ['2023/01/19', 115.35, 111.57, 115.35, 111.52],
    ['2023/01/20', 112.69, 114.61, 114.78, 111.81],
    ['2023/01/23', 114.38, 114.23, 115.53, 113.39],
    ['2023/01/24', 113.74, 113.74, 116.03, 113.28],
    ['2023/01/25', 112.44, 115.01, 115.02, 111.79],
    ['2023/01/26', 115.73, 115.74, 115.87, 114.22],
    ['2023/01/27', 104.64, 111.54, 115.58, 103.56],
    ['2023/01/30', 112.11, 112.02, 113.88, 111.03],
    ['2023/01/31', 112.35, 115.49, 116.58, 111.72],
    ['2023/02/01', 115.51, 118.61, 119.69, 115.17],
    ['2023/02/02', 119.89, 117.68, 119.89, 116.25],
    ['2023/02/03', 116.94, 120.62, 121.09, 116.94],
    ['2023/02/06', 119.61, 120.46, 121.28, 118.65],
    ['2023/02/07', 120.69, 122.43, 122.97, 118.97],
    ['2023/02/08', 121.85, 119.99, 122.85, 119.0],
    ['2023/02/09', 121.22, 119.47, 121.97, 118.46],
    ['2023/02/10', 119.01, 118.33, 120.36, 117.28],
    ['2023/02/13', 118.48, 120.83, 120.93, 118.48],
    ['2023/02/14', 120.79, 120.65, 121.84, 119.35],
    ['2023/02/15', 120.28, 120.78, 123.15, 120.28],
    ['2023/02/16', 119.49, 119.68, 121.57, 119.25],
    ['2023/02/17', 120.08, 119.87, 121.05, 119.02],
    ['2023/02/21', 118.4, 117.61, 118.7, 117.16],
    ['2023/02/22', 117.75, 117.68, 118.51, 116.28],
    ['2023/02/23', 118.41, 118.29, 119.18, 116.71],
    ['2023/02/24', 117.14, 117.2, 117.49, 115.27],
    ['2023/02/27', 118.55, 118.75, 119.87, 118.25],
    ['2023/02/28', 118.94, 121.42, 123.48, 118.71],
    ['2023/03/01', 120.8, 119.84, 121.39, 118.85],
    ['2023/03/02', 119.4, 121.26, 121.58, 119.24],
    ['2023/03/03', 121.86, 123.57, 124.15, 121.12],
    ['2023/03/06', 123.77, 119.57, 123.77, 118.65],
    ['2023/03/07', 119.78, 118.16, 120.05, 117.2],
    ['2023/03/08', 118.37, 118.89, 119.75, 116.99],
    ['2023/03/09', 119.31, 118.31, 119.71, 117.37],
    ['2023/03/10', 117.74, 115.32, 117.74, 114.79],
    ['2023/03/13', 113.81, 114.76, 116.39, 113.0],
    ['2023/03/14', 117.3, 118.91, 119.02, 116.08],
    ['2023/03/15', 116.3, 114.07, 116.6, 112.28],
    ['2023/03/16', 112.69, 116.01, 116.21, 112.69],
    ['2023/03/17', 115.38, 114.29, 118.21, 113.72],
    ['2023/03/20', 114.93, 117.39, 117.81, 114.84],
    ['2023/03/21', 119.2, 116.94, 120.49, 115.89],
    ['2023/03/22', 116.6, 116.0, 118.4, 115.85],
    ['2023/03/23', 116.67, 115.7, 117.95, 114.55],
    ['2023/03/24', 115.17, 116.78, 117.31, 114.56],
    ['2023/03/27', 117.86, 117.89, 118.43, 117.04],
    ['2023/03/28', 117.1, 118.54, 118.67, 116.88],
    ['2023/03/29', 119.92, 119.69, 120.57, 118.22],
    ['2023/03/30', 120.45, 119.56, 120.74, 118.79],
    ['2023/03/31', 120.3, 121.62, 122.28, 120.1],
    ['2023/04/03', 121.32, 123.4, 123.78, 120.01],
    ['2023/04/04', 123.43, 120.77, 123.93, 119.64],
    ['2023/04/05', 119.89, 118.89, 119.89, 117.95],
    ['2023/04/06', 118.37, 118.75, 119.31, 117.34],
    ['2023/04/10', 117.99, 120.48, 120.99, 117.99],
    ['2023/04/11', 120.9, 120.48, 121.77, 119.37],
    ['2023/04/12', 121.3, 121.97, 122.59, 120.4],
    ['2023/04/13', 122.47, 122.24, 122.52, 119.33],
    ['2023/04/14', 121.88, 121.12, 123.47, 120.51],
    ['2023/04/17', 120.95, 120.72, 121.52, 119.06],
    ['2023/04/18', 121.57, 120.65, 121.6, 119.35],
    ['2023/04/19', 120.07, 120.3, 122.11, 118.83],
    ['2023/04/20', 126.84, 133.12, 137.9, 126.45],
    ['2023/04/21', 133.71, 135.42, 137.15, 133.21],
    ['2023/04/24', 135.94, 134.08, 139.1, 133.82],
    ['2023/04/25', 133.65, 132.54, 134.27, 131.82],
    ['2023/04/26', 132.01, 129.96, 132.38, 128.73],
    ['2023/04/27', 130.54, 132.61, 133.21, 130.54],
    ['2023/04/28', 132.31, 132.11, 133.43, 131.28],
    ['2023/05/01', 132.77, 136.33, 137.54, 132.77],
    ['2023/05/02', 135.98, 137.44, 138.46, 135.11],
    ['2023/05/03', 137.88, 135.5, 138.36, 133.74],
    ['2023/05/04', 134.94, 137.16, 137.89, 134.88],
    ['2023/05/05', 137.94, 139.03, 139.64, 136.75],
    ['2023/05/08', 138.72, 137.55, 139.31, 136.57],
    ['2023/05/09', 137.21, 137.84, 139.17, 136.99],
    ['2023/05/10', 138.85, 138.85, 139.6, 136.52],
    ['2023/05/11', 138.51, 137.42, 138.51, 136.52],
    ['2023/05/12', 137.65, 137.46, 139.27, 135.89],
    ['2023/05/15', 137.46, 137.37, 137.68, 135.88],
    ['2023/05/16', 136.59, 137.1, 138.03, 135.66],
    ['2023/05/17', 137.34, 138.7, 139.57, 136.74],
    ['2023/05/18', 138.96, 140.42, 140.65, 138.59],
    ['2023/05/19', 141.86, 142.14, 143.14, 141.52],
    ['2023/05/22', 141.61, 140.68, 142.72, 140.42],
    ['2023/05/23', 140.16, 139.71, 142.34, 139.51],
    ['2023/05/24', 138.73, 138.17, 139.14, 136.46],
    ['2023/05/25', 139.06, 136.86, 139.08, 136.32],
    ['2023/05/26', 137.02, 139.19, 139.37, 137.02],
    ['2023/05/30', 139.3, 139.69, 141.91, 139.19],
    ['2023/05/31', 139.03, 137.87, 139.9, 136.73],
    ['2023/06/01', 138.4, 142.07, 142.19, 137.29],
    ['2023/06/02', 142.07, 145.0, 145.3, 140.19],
    ['2023/06/05', 143.45, 143.76, 144.78, 140.65],
    ['2023/06/06', 143.3, 146.33, 146.99, 142.05],
    ['2023/06/07', 146.77, 150.77, 151.09, 146.77],
    ['2023/06/08', 150.06, 151.03, 152.49, 148.66],
    ['2023/06/09', 151.69, 152.51, 153.31, 150.14],
    ['2023/06/12', 152.97, 153.6, 155.25, 151.44],
    ['2023/06/13', 153.6, 152.03, 156.15, 151.15],
    ['2023/06/14', 152.0, 150.24, 152.45, 149.81],
    ['2023/06/15', 149.64, 149.53, 150.73, 148.11],
    ['2023/06/16', 150.87, 149.5, 150.87, 147.83],
    ['2023/06/20', 149.5, 149.35, 151.92, 148.88],
    ['2023/06/21', 148.66, 150.95, 152.72, 148.12],
    ['2023/06/22', 150.52, 147.05, 150.8, 146.32],
    ['2023/06/23', 145.64, 143.66, 147.14, 143.55],
    ['2023/06/26', 144.19, 144.19, 145.77, 143.15],
    ['2023/06/27', 144.9, 144.71, 145.54, 143.88],
    ['2023/06/28', 144.41, 144.32, 145.56, 143.25],
    ['2023/06/29', 143.89, 147.31, 148.66, 143.43],
    ['2023/06/30', 148.12, 147.56, 149.24, 146.8],
    ['2023/07/03', 146.92, 146.98, 147.61, 145.8],
    ['2023/07/05', 145.94, 141.62, 146.45, 140.55],
    ['2023/07/06', 140.12, 140.3, 141.34, 138.71],
    ['2023/07/07', 140.32, 140.08, 142.6, 139.93],
    ['2023/07/10', 139.39, 143.7, 144.04, 139.39],
    ['2023/07/11', 144.26, 146.5, 146.71, 143.99],
    ['2023/07/12', 148.21, 143.9, 148.21, 143.84],
    ['2023/07/13', 143.74, 143.02, 144.67, 142.55],
    ['2023/07/14', 142.49, 142.38, 144.12, 142.13],
    ['2023/07/17', 142.88, 146.4, 148.6, 142.88],
    ['2023/07/18', 146.0, 147.07, 147.19, 144.93],
    ['2023/07/19', 147.51, 145.65, 147.51, 144.05],
    ['2023/07/20', 158.0, 157.04, 158.0, 149.18],
    ['2023/07/21', 158.99, 164.0, 164.6, 158.36],
    ['2023/07/24', 165.0, 163.51, 167.0, 162.26],
    ['2023/07/25', 163.62, 164.81, 166.96, 163.62],
    ['2023/07/26', 165.0, 163.2, 166.1, 162.28],
    ['2023/07/27', 163.08, 162.52, 164.07, 160.76],
    ['2023/07/28', 164.21, 162.26, 165.16, 161.52],
    ['2023/07/31', 162.99, 164.64, 165.51, 162.15],
    ['2023/08/01', 163.96, 162.63, 166.36, 161.43],
    ['2023/08/02', 162.33, 163.48, 165.16, 161.59],
]);
var volumes = [
    107700.0,
    97700.0,
    85300.0,
    97400.0,
    101700.0,
    108500.0,
    62600.0,
    72400.0,
    102600.0,
    78000.0,
    68900.0,
    79900.0,
    90200.0,
    97200.0,
    89600.0,
    117300.0,
    64500.0,
    55600.0,
    80300.0,
    108700.0,
    217900.0,
    92000.0,
    83000.0,
    100600.0,
    106000.0,
    64100.0,
    70300.0,
    79000.0,
    95000.0,
    217300.0,
    90700.0,
    313700.0,
    94900.0,
    118900.0,
    90400.0,
    91400.0,
    157200.0,
    136200.0,
    131300.0,
    112600.0,
    109200.0,
    150400.0,
    114100.0,
    212800.0,
    91500.0,
    70300.0,
    100600.0,
    72900.0,
    150100.0,
    91700.0,
    119400.0,
    102400.0,
    237700.0,
    179600.0,
    247800.0,
    165100.0,
    402600.0,
    151200.0,
    396000.0,
    356900.0,
    219800.0,
    183200.0,
    482300.0,
    277600.0,
    208800.0,
    131200.0,
    159300.0,
    203900.0,
    120900.0,
    111100.0,
    147300.0,
    118100.0,
    86900.0,
    199800.0,
    111600.0,
    68000.0,
    114700.0,
    90000.0,
    67200.0,
    50800.0,
    32600.0,
    98400.0,
    87200.0,
    155100.0,
    92200.0,
    85400.0,
    126300.0,
    111700.0,
    91200.0,
    110300.0,
    282300.0,
    120600.0,
    131800.0,
    104600.0,
    160000.0,
    613000.0,
    130700.0,
    114000.0,
    96400.0,
    76700.0,
    67600.0,
    84600.0,
    79400.0,
    57300.0,
    70500.0,
    134100.0,
    87000.0,
    71100.0,
    142800.0,
    133100.0,
    261000.0,
    210200.0,
    97200.0,
    78500.0,
    109500.0,
    174400.0,
    160200.0,
    182900.0,
    188400.0,
    85200.0,
    124400.0,
    128700.0,
    293100.0,
    135700.0,
    329000.0,
    132300.0,
    178400.0,
    176000.0,
    98600.0,
    116500.0,
    89400.0,
    90000.0,
    90000.0,
    102200.0,
    76200.0,
    97100.0,
    101300.0,
    200200.0,
    87700.0,
    116100.0,
    87200.0,
    100000.0,
    93800.0,
    286400.0,
    177500.0,
    78900.0,
    97500.0,
    169100.0,
    93200.0,
    88500.0,
    81300.0,
    86400.0,
    99100.0,
    122000.0,
    157200.0,
    118300.0,
    478500.0,
    121100.0,
    124200.0,
    111300.0,
    109000.0,
    79000.0,
    49900.0,
    63400.0,
    88800.0,
    58100.0,
    110000.0,
    137700.0,
    107400.0,
    82500.0,
    92600.0,
    184900.0,
    121600.0,
    85600.0,
    96400.0,
    107100.0,
    125300.0,
    130600.0,
    193700.0,
    480800.0,
    614900.0,
    250400.0,
    186200.0,
    201600.0,
    137900.0,
    380600.0,
    163400.0,
    152400.0,
    259500.0,
    178600.0,
    135500.0,
    132100.0,
    174000.0,
    131000.0,
    106600.0,
    154900.0,
    122300.0,
    76500.0,
    104700.0,
    94000.0,
    183500.0,
    75800.0,
    104300.0,
    134600.0,
    194700.0,
    117000.0,
    123400.0,
    381100.0,
    188800.0,
    139900.0,
    149600.0,
    138200.0,
    270200.0,
    202600.0,
    163800.0,
    162900.0,
    197700.0,
    157500.0,
    178200.0,
    447700.0,
    144800.0,
    130800.0,
    163700.0,
    212300.0,
    167100.0,
    124000.0,
    195900.0,
    152200.0,
    151500.0,
    64700.0,
    200500.0,
    149600.0,
    179600.0,
    155200.0,
    232900.0,
    161000.0,
    174400.0,
    96900.0,
    193100.0,
    177600.0,
    203200.0,
    291700.0,
    580100.0,
    389300.0,
    188200.0,
    170800.0,
    145300.0,
    107100.0,
    267800.0,
    114300.0,
    117700.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "BMI",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);