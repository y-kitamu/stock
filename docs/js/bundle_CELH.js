/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_CELH");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/15', 104.07, 101.25, 109.03, 100.83],
    ['2022/08/16', 100.55, 99.6, 100.55, 94.25],
    ['2022/08/17', 99.45, 98.98, 101.62, 96.8],
    ['2022/08/18', 100.54, 102.92, 104.42, 99.11],
    ['2022/08/19', 100.3, 98.28, 100.79, 96.23],
    ['2022/08/22', 96.21, 103.59, 104.65, 95.1],
    ['2022/08/23', 102.95, 113.04, 114.79, 102.03],
    ['2022/08/24', 114.3, 113.54, 117.13, 112.05],
    ['2022/08/25', 115.99, 116.1, 118.19, 113.11],
    ['2022/08/26', 114.74, 110.71, 114.99, 107.25],
    ['2022/08/29', 107.81, 104.98, 109.99, 104.54],
    ['2022/08/30', 106.24, 104.43, 106.28, 101.83],
    ['2022/08/31', 106.87, 103.49, 107.49, 101.59],
    ['2022/09/01', 102.0, 99.19, 102.5, 94.62],
    ['2022/09/02', 101.0, 96.36, 102.27, 95.9],
    ['2022/09/06', 96.88, 93.82, 97.62, 93.3],
    ['2022/09/07', 94.0, 98.93, 99.28, 93.7],
    ['2022/09/08', 97.04, 104.98, 105.62, 95.6],
    ['2022/09/09', 106.21, 105.93, 107.67, 103.54],
    ['2022/09/12', 106.93, 107.36, 108.2, 104.08],
    ['2022/09/13', 102.43, 99.8, 103.92, 99.13],
    ['2022/09/14', 100.27, 103.97, 104.19, 96.4],
    ['2022/09/15', 103.41, 101.6, 108.37, 100.86],
    ['2022/09/16', 99.35, 100.7, 101.43, 97.2],
    ['2022/09/19', 99.71, 106.05, 106.62, 99.08],
    ['2022/09/20', 105.71, 102.23, 105.96, 101.43],
    ['2022/09/21', 103.67, 98.23, 104.0, 98.17],
    ['2022/09/22', 96.83, 89.9, 98.0, 89.74],
    ['2022/09/23', 87.1, 88.52, 88.81, 85.46],
    ['2022/09/26', 88.37, 88.26, 92.25, 87.86],
    ['2022/09/27', 91.2, 89.83, 92.67, 88.29],
    ['2022/09/28', 90.11, 92.77, 93.82, 88.88],
    ['2022/09/29', 91.1, 90.85, 91.77, 87.33],
    ['2022/09/30', 90.1, 90.68, 94.95, 89.2],
    ['2022/10/03', 92.84, 91.22, 93.79, 89.35],
    ['2022/10/04', 94.53, 94.35, 95.85, 92.65],
    ['2022/10/05', 93.78, 89.09, 93.99, 84.84],
    ['2022/10/06', 89.1, 89.65, 93.04, 88.98],
    ['2022/10/07', 87.14, 85.57, 89.27, 84.4],
    ['2022/10/10', 85.49, 89.24, 90.45, 84.04],
    ['2022/10/11', 88.03, 86.31, 88.53, 82.89],
    ['2022/10/12', 87.78, 90.34, 90.78, 86.35],
    ['2022/10/13', 86.35, 90.55, 91.68, 83.7],
    ['2022/10/14', 92.28, 82.68, 93.0, 82.38],
    ['2022/10/17', 85.12, 88.82, 89.38, 84.78],
    ['2022/10/18', 92.89, 89.33, 95.78, 87.76],
    ['2022/10/19', 87.8, 84.79, 89.26, 83.6],
    ['2022/10/20', 84.0, 83.54, 86.73, 83.23],
    ['2022/10/21', 83.61, 85.66, 86.45, 80.7],
    ['2022/10/24', 86.04, 84.21, 87.53, 80.88],
    ['2022/10/25', 85.67, 88.35, 88.8, 84.61],
    ['2022/10/26', 87.61, 90.45, 94.23, 87.13],
    ['2022/10/27', 91.07, 89.37, 92.4, 88.75],
    ['2022/10/28', 89.3, 91.72, 92.11, 86.21],
    ['2022/10/31', 91.77, 91.08, 93.35, 88.8],
    ['2022/11/01', 93.0, 90.56, 96.53, 89.49],
    ['2022/11/02', 90.54, 86.65, 92.92, 86.35],
    ['2022/11/03', 84.55, 88.88, 90.11, 84.03],
    ['2022/11/04', 90.16, 86.24, 92.74, 83.05],
    ['2022/11/07', 87.18, 87.0, 90.39, 86.61],
    ['2022/11/08', 87.32, 82.36, 87.46, 80.52],
    ['2022/11/09', 81.35, 78.65, 82.69, 78.25],
    ['2022/11/10', 92.0, 89.21, 100.51, 86.16],
    ['2022/11/11', 89.2, 93.35, 95.5, 87.35],
    ['2022/11/14', 93.01, 91.16, 97.37, 90.69],
    ['2022/11/15', 93.68, 98.37, 98.54, 93.05],
    ['2022/11/16', 98.16, 100.67, 100.94, 95.03],
    ['2022/11/17', 98.14, 99.71, 102.7, 96.04],
    ['2022/11/18', 102.39, 96.99, 102.7, 94.11],
    ['2022/11/21', 96.31, 96.09, 96.99, 94.44],
    ['2022/11/22', 96.25, 93.17, 96.41, 87.38],
    ['2022/11/23', 93.25, 103.92, 105.85, 93.19],
    ['2022/11/25', 103.75, 109.24, 110.54, 103.53],
    ['2022/11/28', 108.79, 107.82, 112.25, 107.25],
    ['2022/11/29', 108.03, 102.78, 108.44, 101.82],
    ['2022/11/30', 102.38, 111.34, 111.93, 102.25],
    ['2022/12/01', 112.39, 113.38, 115.48, 110.03],
    ['2022/12/02', 110.21, 117.58, 119.73, 108.27],
    ['2022/12/05', 117.0, 113.42, 119.09, 112.27],
    ['2022/12/06', 115.27, 113.96, 117.3, 111.6],
    ['2022/12/07', 114.66, 111.36, 115.42, 107.44],
    ['2022/12/08', 113.58, 118.23, 121.63, 111.74],
    ['2022/12/09', 117.54, 113.74, 118.9, 113.52],
    ['2022/12/12', 114.21, 115.28, 116.4, 112.35],
    ['2022/12/13', 121.18, 115.7, 122.24, 113.8],
    ['2022/12/14', 116.2, 116.04, 118.89, 113.73],
    ['2022/12/15', 113.54, 107.14, 113.81, 105.68],
    ['2022/12/16', 104.56, 108.8, 109.94, 103.1],
    ['2022/12/19', 107.87, 105.84, 108.61, 104.21],
    ['2022/12/20', 105.0, 106.28, 108.28, 103.55],
    ['2022/12/21', 106.98, 107.88, 111.3, 105.52],
    ['2022/12/22', 107.31, 105.7, 108.19, 101.87],
    ['2022/12/23', 106.31, 106.79, 106.92, 103.24],
    ['2022/12/27', 106.79, 105.03, 109.31, 104.21],
    ['2022/12/28', 104.66, 103.51, 104.89, 101.88],
    ['2022/12/29', 104.62, 103.39, 106.76, 102.61],
    ['2022/12/30', 101.9, 104.04, 105.29, 98.63],
    ['2023/01/03', 105.52, 100.47, 106.51, 97.13],
    ['2023/01/04', 103.34, 100.91, 103.38, 98.21],
    ['2023/01/05', 99.97, 101.23, 103.56, 99.0],
    ['2023/01/06', 101.32, 97.26, 103.9, 96.76],
    ['2023/01/09', 99.0, 97.67, 102.25, 97.58],
    ['2023/01/10', 97.05, 101.24, 101.71, 96.0],
    ['2023/01/11', 102.27, 106.57, 108.8, 101.25],
    ['2023/01/12', 106.98, 106.4, 109.94, 104.04],
    ['2023/01/13', 105.12, 110.18, 110.52, 104.59],
    ['2023/01/17', 111.36, 112.68, 116.01, 109.39],
    ['2023/01/18', 113.53, 101.83, 114.49, 101.57],
    ['2023/01/19', 99.74, 97.81, 102.0, 97.38],
    ['2023/01/20', 99.1, 99.88, 100.18, 95.65],
    ['2023/01/23', 99.71, 103.4, 104.01, 98.31],
    ['2023/01/24', 102.86, 104.02, 108.02, 102.13],
    ['2023/01/25', 101.81, 101.43, 101.81, 98.3],
    ['2023/01/26', 102.86, 102.16, 103.99, 100.3],
    ['2023/01/27', 101.76, 99.03, 101.89, 97.97],
    ['2023/01/30', 98.1, 97.73, 100.49, 97.01],
    ['2023/01/31', 98.3, 100.32, 100.58, 97.78],
    ['2023/02/01', 100.16, 100.45, 101.82, 96.1],
    ['2023/02/02', 101.88, 94.13, 103.75, 93.35],
    ['2023/02/03', 92.5, 92.13, 95.87, 90.85],
    ['2023/02/06', 95.57, 99.45, 101.97, 94.59],
    ['2023/02/07', 99.19, 98.13, 100.11, 95.32],
    ['2023/02/08', 98.27, 97.41, 99.87, 96.89],
    ['2023/02/09', 98.92, 96.41, 100.58, 95.67],
    ['2023/02/10', 95.48, 97.13, 98.23, 93.52],
    ['2023/02/13', 97.87, 97.86, 99.3, 95.17],
    ['2023/02/14', 96.53, 96.18, 99.09, 95.61],
    ['2023/02/15', 96.62, 96.66, 97.5, 94.7],
    ['2023/02/16', 95.98, 93.81, 98.87, 93.73],
    ['2023/02/17', 93.8, 94.84, 95.47, 92.52],
    ['2023/02/21', 93.48, 86.91, 94.12, 86.34],
    ['2023/02/22', 88.0, 89.04, 89.41, 85.29],
    ['2023/02/23', 90.33, 91.78, 92.38, 86.98],
    ['2023/02/24', 89.92, 92.07, 93.19, 89.31],
    ['2023/02/27', 92.79, 90.02, 92.79, 89.31],
    ['2023/02/28', 93.56, 90.8, 95.01, 89.55],
    ['2023/03/01', 89.62, 88.78, 90.75, 86.63],
    ['2023/03/02', 84.84, 94.41, 96.89, 84.02],
    ['2023/03/03', 93.88, 94.78, 95.0, 89.97],
    ['2023/03/06', 92.0, 88.39, 92.49, 87.62],
    ['2023/03/07', 88.71, 89.19, 91.0, 88.27],
    ['2023/03/08', 89.19, 88.21, 91.03, 87.74],
    ['2023/03/09', 88.0, 87.0, 88.95, 86.49],
    ['2023/03/10', 86.92, 83.01, 87.65, 82.84],
    ['2023/03/13', 81.52, 81.64, 84.16, 80.25],
    ['2023/03/14', 83.8, 84.52, 84.91, 82.45],
    ['2023/03/15', 82.62, 83.48, 84.12, 82.15],
    ['2023/03/16', 83.53, 85.17, 86.65, 81.9],
    ['2023/03/17', 84.64, 83.78, 85.45, 83.14],
    ['2023/03/20', 84.02, 83.8, 85.21, 82.78],
    ['2023/03/21', 85.04, 89.2, 90.04, 84.67],
    ['2023/03/22', 89.54, 88.53, 90.73, 88.17],
    ['2023/03/23', 89.4, 88.88, 91.04, 87.62],
    ['2023/03/24', 90.35, 90.46, 91.57, 89.27],
    ['2023/03/27', 91.29, 92.52, 92.95, 90.35],
    ['2023/03/28', 92.05, 89.45, 92.3, 89.04],
    ['2023/03/29', 90.63, 90.62, 92.48, 89.6],
    ['2023/03/30', 91.94, 91.44, 93.0, 90.85],
    ['2023/03/31', 91.85, 92.94, 94.3, 91.3],
    ['2023/04/03', 92.44, 92.14, 93.28, 90.59],
    ['2023/04/04', 92.15, 89.91, 92.99, 89.28],
    ['2023/04/05', 89.09, 88.36, 89.5, 86.68],
    ['2023/04/06', 87.86, 86.71, 88.47, 86.38],
    ['2023/04/10', 85.77, 87.0, 87.46, 84.25],
    ['2023/04/11', 87.28, 86.89, 88.0, 86.55],
    ['2023/04/12', 87.54, 86.07, 87.75, 85.5],
    ['2023/04/13', 87.04, 87.36, 88.65, 86.76],
    ['2023/04/14', 86.83, 86.92, 88.28, 85.78],
    ['2023/04/17', 87.09, 87.43, 89.04, 86.83],
    ['2023/04/18', 87.65, 87.69, 88.12, 84.9],
    ['2023/04/19', 87.03, 89.49, 89.6, 84.29],
    ['2023/04/20', 88.27, 90.02, 91.44, 88.27],
    ['2023/04/21', 90.54, 90.58, 92.3, 89.25],
    ['2023/04/24', 90.62, 92.48, 92.57, 90.62],
    ['2023/04/25', 91.65, 89.98, 92.83, 89.72],
    ['2023/04/26', 91.67, 91.86, 94.96, 91.0],
    ['2023/04/27', 92.0, 93.05, 93.85, 91.35],
    ['2023/04/28', 92.24, 95.57, 95.7, 89.76],
    ['2023/05/01', 96.17, 103.35, 103.71, 96.17],
    ['2023/05/02', 100.57, 99.51, 101.79, 96.86],
    ['2023/05/03', 100.26, 99.83, 101.69, 99.59],
    ['2023/05/04', 100.45, 100.04, 102.33, 98.97],
    ['2023/05/05', 100.82, 104.26, 105.83, 100.82],
    ['2023/05/08', 103.9, 106.89, 107.32, 103.01],
    ['2023/05/09', 105.71, 107.12, 107.44, 104.23],
    ['2023/05/10', 118.5, 128.29, 134.5, 118.5],
    ['2023/05/11', 129.95, 130.21, 130.99, 126.1],
    ['2023/05/12', 131.12, 129.83, 135.19, 128.76],
    ['2023/05/15', 129.73, 131.56, 132.33, 127.64],
    ['2023/05/16', 132.13, 132.26, 133.38, 129.82],
    ['2023/05/17', 132.3, 133.13, 133.74, 130.31],
    ['2023/05/18', 132.32, 133.38, 138.8, 131.5],
    ['2023/05/19', 135.53, 131.67, 135.53, 131.14],
    ['2023/05/22', 132.35, 131.22, 135.2, 130.98],
    ['2023/05/23', 131.7, 129.61, 133.15, 128.4],
    ['2023/05/24', 128.21, 131.43, 132.15, 126.51],
    ['2023/05/25', 131.5, 129.11, 132.73, 127.89],
    ['2023/05/26', 129.36, 126.44, 129.86, 125.25],
    ['2023/05/30', 127.89, 124.56, 128.8, 124.31],
    ['2023/05/31', 124.3, 125.53, 126.43, 122.62],
    ['2023/06/01', 126.01, 133.29, 136.71, 125.61],
    ['2023/06/02', 136.26, 138.17, 140.39, 135.25],
    ['2023/06/05', 138.52, 143.94, 147.9, 138.44],
    ['2023/06/06', 143.22, 142.21, 146.8, 141.81],
    ['2023/06/07', 143.87, 138.03, 145.93, 137.79],
    ['2023/06/08', 137.61, 141.0, 141.42, 136.18],
    ['2023/06/09', 141.57, 139.19, 143.25, 138.93],
    ['2023/06/12', 140.56, 144.11, 145.41, 139.9],
    ['2023/06/13', 145.37, 149.49, 150.35, 143.52],
    ['2023/06/14', 147.0, 143.06, 148.31, 140.17],
    ['2023/06/15', 142.72, 144.75, 145.49, 140.85],
    ['2023/06/16', 146.53, 144.44, 148.0, 143.4],
    ['2023/06/20', 144.43, 141.36, 147.18, 140.65],
    ['2023/06/21', 141.0, 140.47, 143.24, 139.54],
    ['2023/06/22', 141.41, 147.87, 149.97, 141.41],
    ['2023/06/23', 148.0, 150.1, 153.46, 147.23],
    ['2023/06/26', 149.86, 147.16, 151.99, 145.44],
    ['2023/06/27', 146.43, 150.71, 151.39, 146.43],
    ['2023/06/28', 149.95, 150.35, 153.94, 149.84],
    ['2023/06/29', 150.35, 148.83, 152.18, 148.52],
    ['2023/06/30', 149.25, 149.19, 152.75, 148.89],
    ['2023/07/03', 149.2, 148.27, 150.23, 146.32],
    ['2023/07/05', 148.77, 147.84, 149.74, 146.81],
    ['2023/07/06', 146.1, 146.05, 148.58, 143.43],
    ['2023/07/07', 146.97, 146.01, 149.16, 145.77],
    ['2023/07/10', 146.65, 149.52, 151.0, 146.65],
    ['2023/07/11', 149.07, 145.79, 150.43, 141.09],
    ['2023/07/12', 147.02, 149.84, 152.2, 145.52],
    ['2023/07/13', 150.69, 148.71, 155.0, 148.31],
    ['2023/07/14', 148.85, 153.11, 154.6, 148.12],
    ['2023/07/17', 153.11, 151.91, 157.28, 151.68],
    ['2023/07/18', 151.91, 144.54, 151.91, 143.52],
    ['2023/07/19', 143.44, 145.3, 146.3, 141.68],
    ['2023/07/20', 144.9, 143.51, 145.37, 141.66],
    ['2023/07/21', 144.97, 143.38, 145.31, 142.8],
    ['2023/07/24', 143.3, 143.4, 147.34, 141.46],
    ['2023/07/25', 143.42, 146.64, 147.43, 143.11],
    ['2023/07/26', 146.06, 147.35, 150.88, 145.35],
    ['2023/07/27', 149.54, 144.43, 149.54, 143.48],
    ['2023/07/28', 147.53, 147.48, 149.06, 145.78],
    ['2023/07/31', 148.77, 144.7, 151.84, 141.6],
    ['2023/08/01', 143.52, 142.43, 145.98, 141.94],
    ['2023/08/02', 140.26, 139.34, 141.25, 135.09],
    ['2023/08/03', 139.5, 143.36, 145.82, 139.5],
    ['2023/08/04', 143.37, 142.61, 146.17, 141.16],
    ['2023/08/07', 142.5, 143.22, 145.45, 137.18],
    ['2023/08/08', 143.11, 143.36, 146.59, 140.18],
    ['2023/08/09', 171.5, 172.67, 175.85, 160.55],
    ['2023/08/10', 175.19, 172.98, 178.76, 168.84],
    ['2023/08/11', 172.72, 175.06, 176.49, 170.01],
]);
var volumes = [
    2967200.0,
    2520700.0,
    1281900.0,
    1593000.0,
    1365100.0,
    1762000.0,
    3324100.0,
    2185900.0,
    1373100.0,
    2300600.0,
    1799500.0,
    1322600.0,
    1071600.0,
    2135000.0,
    1160900.0,
    1140200.0,
    1334500.0,
    1716600.0,
    1205000.0,
    1239200.0,
    1339400.0,
    1242300.0,
    1115200.0,
    1576700.0,
    1069200.0,
    909700.0,
    1235100.0,
    2028500.0,
    1838200.0,
    827300.0,
    985900.0,
    683900.0,
    954300.0,
    1234200.0,
    995000.0,
    857900.0,
    2083700.0,
    944000.0,
    1039700.0,
    877300.0,
    998900.0,
    799700.0,
    1014100.0,
    926500.0,
    811900.0,
    1014200.0,
    680000.0,
    694400.0,
    775500.0,
    751400.0,
    1100600.0,
    901200.0,
    851700.0,
    599200.0,
    655100.0,
    928700.0,
    878800.0,
    633900.0,
    1025900.0,
    1044100.0,
    1495000.0,
    1725300.0,
    3490800.0,
    1528000.0,
    1191300.0,
    1364400.0,
    996300.0,
    1188300.0,
    972600.0,
    734300.0,
    2036700.0,
    1802000.0,
    1144600.0,
    1251200.0,
    858600.0,
    1063500.0,
    1278700.0,
    1252500.0,
    816500.0,
    900700.0,
    1044200.0,
    1372300.0,
    655500.0,
    509200.0,
    1062100.0,
    804800.0,
    1110900.0,
    1082300.0,
    629700.0,
    405500.0,
    548800.0,
    632500.0,
    319800.0,
    456900.0,
    418500.0,
    495100.0,
    862900.0,
    1216500.0,
    822600.0,
    601300.0,
    1055400.0,
    640100.0,
    835000.0,
    1301100.0,
    801400.0,
    951000.0,
    1177400.0,
    1534300.0,
    979800.0,
    1089800.0,
    688700.0,
    850200.0,
    702800.0,
    450700.0,
    703700.0,
    478100.0,
    482400.0,
    736600.0,
    1657700.0,
    1397400.0,
    2051300.0,
    1074800.0,
    450300.0,
    797300.0,
    538800.0,
    890800.0,
    517600.0,
    488800.0,
    719300.0,
    681200.0,
    1353300.0,
    1190500.0,
    1072500.0,
    884400.0,
    1230000.0,
    1918800.0,
    2058200.0,
    2349900.0,
    1620000.0,
    2500000.0,
    1184400.0,
    764800.0,
    847700.0,
    1134700.0,
    985700.0,
    880700.0,
    860200.0,
    669100.0,
    867000.0,
    522400.0,
    1070800.0,
    749300.0,
    655500.0,
    696700.0,
    682900.0,
    503100.0,
    417000.0,
    382700.0,
    682700.0,
    547600.0,
    499700.0,
    521800.0,
    511900.0,
    521800.0,
    513000.0,
    486600.0,
    619400.0,
    438800.0,
    758500.0,
    737500.0,
    1058300.0,
    1078200.0,
    979400.0,
    736700.0,
    489700.0,
    961500.0,
    717400.0,
    930100.0,
    1581700.0,
    1647100.0,
    817200.0,
    719900.0,
    1072000.0,
    1047100.0,
    1501800.0,
    6958100.0,
    1939600.0,
    1747500.0,
    1061200.0,
    1149800.0,
    819600.0,
    1574900.0,
    964900.0,
    1023000.0,
    1513300.0,
    1412500.0,
    754100.0,
    945700.0,
    823400.0,
    1360800.0,
    2242700.0,
    1600800.0,
    1863500.0,
    1324600.0,
    1242100.0,
    1064400.0,
    727100.0,
    865200.0,
    1596900.0,
    1760300.0,
    950700.0,
    861500.0,
    952000.0,
    750600.0,
    1579500.0,
    7894000.0,
    1246800.0,
    1152600.0,
    852900.0,
    643300.0,
    843700.0,
    429700.0,
    627300.0,
    1096100.0,
    720000.0,
    862800.0,
    1312800.0,
    1095000.0,
    1023400.0,
    1705300.0,
    1058500.0,
    1713000.0,
    1038400.0,
    622400.0,
    566200.0,
    853500.0,
    933900.0,
    910000.0,
    689000.0,
    583400.0,
    1618400.0,
    733600.0,
    1267600.0,
    877500.0,
    975400.0,
    1458300.0,
    2701300.0,
    5459200.0,
    2308500.0,
    1340200.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "CELH",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);