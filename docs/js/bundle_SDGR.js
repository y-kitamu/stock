/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_SDGR");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 32.0, 33.07, 33.19, 31.61],
    ['2022/08/04', 33.27, 34.71, 34.72, 33.2],
    ['2022/08/05', 33.41, 33.58, 33.79, 29.9],
    ['2022/08/08', 34.34, 32.81, 34.43, 32.72],
    ['2022/08/09', 32.68, 31.44, 32.68, 31.03],
    ['2022/08/10', 32.49, 33.07, 33.24, 31.84],
    ['2022/08/11', 33.45, 31.19, 35.24, 31.05],
    ['2022/08/12', 31.28, 31.55, 31.77, 30.91],
    ['2022/08/15', 31.34, 31.58, 31.85, 30.58],
    ['2022/08/16', 31.33, 30.04, 31.33, 29.51],
    ['2022/08/17', 29.64, 28.6, 29.65, 28.33],
    ['2022/08/18', 28.61, 28.55, 28.7, 27.5],
    ['2022/08/19', 28.08, 27.88, 28.35, 27.53],
    ['2022/08/22', 27.61, 27.85, 28.24, 27.41],
    ['2022/08/23', 27.95, 28.19, 28.83, 27.78],
    ['2022/08/24', 28.06, 28.48, 28.82, 27.83],
    ['2022/08/25', 28.97, 28.88, 29.03, 28.33],
    ['2022/08/26', 28.96, 27.69, 29.05, 27.63],
    ['2022/08/29', 27.21, 27.1, 27.74, 26.97],
    ['2022/08/30', 27.5, 26.95, 27.87, 26.73],
    ['2022/08/31', 27.47, 27.44, 27.66, 27.04],
    ['2022/09/01', 27.04, 27.58, 27.6, 26.48],
    ['2022/09/02', 28.06, 26.77, 28.06, 26.1],
    ['2022/09/06', 26.88, 25.91, 26.88, 25.88],
    ['2022/09/07', 25.83, 27.12, 27.34, 25.83],
    ['2022/09/08', 26.72, 28.39, 28.41, 26.72],
    ['2022/09/09', 28.93, 28.05, 28.93, 27.92],
    ['2022/09/12', 28.3, 28.79, 28.81, 28.03],
    ['2022/09/13', 27.65, 28.18, 28.25, 27.28],
    ['2022/09/14', 28.28, 28.96, 29.04, 28.02],
    ['2022/09/15', 28.59, 28.94, 30.09, 28.45],
    ['2022/09/16', 28.26, 27.7, 28.36, 27.33],
    ['2022/09/19', 27.24, 27.39, 27.61, 26.64],
    ['2022/09/20', 27.09, 26.81, 27.39, 26.69],
    ['2022/09/21', 26.96, 26.14, 27.02, 25.98],
    ['2022/09/22', 25.91, 24.98, 25.91, 24.56],
    ['2022/09/23', 24.6, 24.12, 24.93, 23.71],
    ['2022/09/26', 24.02, 23.95, 24.74, 23.7],
    ['2022/09/27', 24.31, 24.12, 24.83, 23.94],
    ['2022/09/28', 24.3, 25.69, 25.78, 24.26],
    ['2022/09/29', 25.23, 25.22, 25.29, 24.56],
    ['2022/09/30', 25.19, 24.98, 25.86, 24.91],
    ['2022/10/03', 25.03, 25.18, 25.6, 24.76],
    ['2022/10/04', 25.78, 26.38, 27.0, 25.78],
    ['2022/10/05', 25.87, 26.27, 26.36, 24.88],
    ['2022/10/06', 26.38, 25.46, 27.0, 25.08],
    ['2022/10/07', 25.18, 24.53, 25.83, 24.41],
    ['2022/10/10', 24.49, 23.83, 24.49, 23.32],
    ['2022/10/11', 23.75, 23.45, 23.86, 22.93],
    ['2022/10/12', 23.48, 23.17, 23.57, 22.47],
    ['2022/10/13', 22.26, 23.0, 23.45, 22.15],
    ['2022/10/14', 23.31, 21.91, 23.59, 21.86],
    ['2022/10/17', 22.54, 22.4, 23.2, 22.15],
    ['2022/10/18', 23.21, 22.91, 23.81, 22.72],
    ['2022/10/19', 22.51, 21.43, 22.51, 21.26],
    ['2022/10/20', 21.41, 21.33, 22.22, 21.19],
    ['2022/10/21', 21.46, 21.71, 21.81, 21.01],
    ['2022/10/24', 21.9, 21.86, 22.05, 21.11],
    ['2022/10/25', 22.0, 22.68, 23.42, 22.0],
    ['2022/10/26', 22.63, 23.22, 24.06, 22.5],
    ['2022/10/27', 23.5, 23.4, 23.79, 22.81],
    ['2022/10/28', 23.36, 24.38, 24.44, 23.26],
    ['2022/10/31', 24.26, 23.97, 24.37, 23.72],
    ['2022/11/01', 24.49, 24.69, 24.98, 24.27],
    ['2022/11/02', 24.47, 24.5, 26.53, 24.0],
    ['2022/11/03', 24.11, 24.66, 25.61, 23.9],
    ['2022/11/04', 24.08, 20.92, 24.62, 20.04],
    ['2022/11/07', 21.06, 20.61, 21.18, 20.05],
    ['2022/11/08', 20.82, 20.67, 21.65, 20.52],
    ['2022/11/09', 20.31, 20.03, 20.73, 19.9],
    ['2022/11/10', 21.25, 21.7, 22.01, 21.11],
    ['2022/11/11', 21.68, 21.97, 24.3, 21.68],
    ['2022/11/14', 21.99, 21.59, 22.16, 21.04],
    ['2022/11/15', 22.35, 22.27, 22.74, 21.99],
    ['2022/11/16', 22.3, 21.05, 22.3, 20.87],
    ['2022/11/17', 20.58, 19.09, 20.65, 19.05],
    ['2022/11/18', 19.73, 18.66, 19.73, 18.62],
    ['2022/11/21', 18.65, 18.41, 18.69, 18.23],
    ['2022/11/22', 18.48, 18.04, 18.51, 17.73],
    ['2022/11/23', 18.11, 18.46, 18.67, 18.11],
    ['2022/11/25', 18.32, 18.23, 18.59, 18.15],
    ['2022/11/28', 18.1, 17.49, 18.38, 17.31],
    ['2022/11/29', 17.46, 17.42, 17.76, 17.15],
    ['2022/11/30', 17.56, 18.0, 18.07, 16.9],
    ['2022/12/01', 18.1, 17.63, 18.62, 17.25],
    ['2022/12/02', 17.45, 17.35, 17.55, 16.72],
    ['2022/12/05', 17.29, 16.48, 17.67, 16.23],
    ['2022/12/06', 16.48, 16.24, 16.51, 15.85],
    ['2022/12/07', 16.29, 16.63, 16.79, 15.95],
    ['2022/12/08', 16.74, 16.43, 16.87, 16.07],
    ['2022/12/09', 16.33, 16.49, 16.6, 16.07],
    ['2022/12/12', 16.6, 17.03, 17.07, 16.41],
    ['2022/12/13', 20.23, 20.54, 21.3, 19.38],
    ['2022/12/14', 20.55, 20.52, 21.59, 19.96],
    ['2022/12/15', 20.03, 19.89, 20.49, 19.75],
    ['2022/12/16', 19.51, 20.54, 20.71, 19.51],
    ['2022/12/19', 20.65, 19.02, 20.65, 18.89],
    ['2022/12/20', 18.89, 19.61, 19.61, 18.52],
    ['2022/12/21', 19.77, 19.28, 20.03, 19.23],
    ['2022/12/22', 18.99, 19.52, 19.54, 18.82],
    ['2022/12/23', 19.45, 18.86, 19.46, 18.4],
    ['2022/12/27', 18.69, 17.64, 18.69, 17.41],
    ['2022/12/28', 17.6, 17.71, 18.3, 17.33],
    ['2022/12/29', 17.95, 18.87, 19.02, 17.76],
    ['2022/12/30', 18.61, 18.69, 18.85, 18.26],
    ['2023/01/03', 19.12, 18.31, 19.49, 18.3],
    ['2023/01/04', 18.64, 18.22, 18.64, 18.01],
    ['2023/01/05', 18.07, 18.44, 18.58, 17.74],
    ['2023/01/06', 18.42, 18.09, 18.42, 17.37],
    ['2023/01/09', 18.47, 18.66, 18.77, 18.02],
    ['2023/01/10', 18.56, 20.24, 20.38, 18.56],
    ['2023/01/11', 20.39, 21.78, 22.1, 20.22],
    ['2023/01/12', 21.88, 23.33, 23.47, 20.99],
    ['2023/01/13', 23.11, 23.83, 24.0, 22.86],
    ['2023/01/17', 23.76, 23.61, 24.02, 23.38],
    ['2023/01/18', 23.99, 23.81, 24.74, 23.57],
    ['2023/01/19', 23.12, 23.77, 23.83, 22.42],
    ['2023/01/20', 24.27, 23.1, 24.27, 22.81],
    ['2023/01/23', 23.21, 23.8, 23.88, 23.03],
    ['2023/01/24', 23.7, 22.68, 23.91, 22.19],
    ['2023/01/25', 22.33, 22.98, 23.01, 21.67],
    ['2023/01/26', 23.42, 22.89, 23.55, 22.31],
    ['2023/01/27', 22.63, 22.97, 23.28, 22.63],
    ['2023/01/30', 22.71, 22.05, 22.71, 21.97],
    ['2023/01/31', 22.48, 24.18, 24.38, 22.48],
    ['2023/02/01', 24.37, 25.14, 25.27, 23.7],
    ['2023/02/02', 25.58, 27.61, 28.05, 25.58],
    ['2023/02/03', 26.83, 26.13, 27.51, 25.87],
    ['2023/02/06', 25.86, 25.44, 26.21, 25.19],
    ['2023/02/07', 25.46, 26.61, 26.61, 25.05],
    ['2023/02/08', 26.38, 24.27, 26.4, 24.07],
    ['2023/02/09', 24.54, 23.29, 25.19, 23.19],
    ['2023/02/10', 22.98, 23.28, 23.43, 22.71],
    ['2023/02/13', 23.41, 22.92, 23.41, 22.75],
    ['2023/02/14', 22.54, 24.18, 24.37, 22.31],
    ['2023/02/15', 23.96, 24.39, 24.7, 23.94],
    ['2023/02/16', 23.85, 23.94, 24.47, 23.53],
    ['2023/02/17', 23.97, 23.8, 23.97, 23.27],
    ['2023/02/21', 23.31, 22.97, 23.7, 22.93],
    ['2023/02/22', 23.03, 22.56, 23.27, 22.25],
    ['2023/02/23', 22.83, 22.43, 22.87, 21.98],
    ['2023/02/24', 21.75, 21.64, 22.15, 21.3],
    ['2023/02/27', 21.96, 21.49, 22.0, 21.25],
    ['2023/02/28', 21.44, 21.73, 22.24, 21.26],
    ['2023/03/01', 26.67, 24.6, 28.26, 24.52],
    ['2023/03/02', 24.5, 24.37, 25.74, 23.82],
    ['2023/03/03', 24.5, 26.16, 26.25, 24.13],
    ['2023/03/06', 26.43, 25.12, 26.51, 25.03],
    ['2023/03/07', 25.04, 25.3, 25.94, 24.86],
    ['2023/03/08', 25.29, 25.41, 25.7, 24.9],
    ['2023/03/09', 25.58, 24.81, 25.75, 24.6],
    ['2023/03/10', 24.68, 23.47, 24.94, 22.69],
    ['2023/03/13', 22.91, 24.32, 24.48, 22.87],
    ['2023/03/14', 24.86, 25.61, 25.7, 24.72],
    ['2023/03/15', 25.12, 25.74, 25.8, 24.76],
    ['2023/03/16', 25.63, 26.63, 26.77, 25.44],
    ['2023/03/17', 26.6, 25.62, 26.65, 25.58],
    ['2023/03/20', 25.71, 25.39, 25.76, 24.8],
    ['2023/03/21', 25.71, 26.76, 27.09, 25.58],
    ['2023/03/22', 26.73, 26.03, 27.3, 25.99],
    ['2023/03/23', 26.37, 25.63, 26.88, 25.26],
    ['2023/03/24', 25.55, 25.57, 25.8, 25.13],
    ['2023/03/27', 25.8, 25.62, 26.02, 25.31],
    ['2023/03/28', 25.58, 24.28, 25.63, 24.21],
    ['2023/03/29', 24.59, 24.63, 25.17, 24.38],
    ['2023/03/30', 24.91, 25.11, 25.29, 24.42],
    ['2023/03/31', 25.43, 26.33, 26.85, 25.27],
    ['2023/04/03', 26.33, 26.41, 26.62, 25.62],
    ['2023/04/04', 26.51, 26.88, 26.96, 25.69],
    ['2023/04/05', 26.75, 26.78, 26.87, 26.25],
    ['2023/04/06', 26.7, 27.3, 27.54, 26.48],
    ['2023/04/10', 27.0, 27.35, 27.39, 26.66],
    ['2023/04/11', 27.48, 27.72, 27.81, 26.88],
    ['2023/04/12', 28.24, 26.59, 28.53, 26.51],
    ['2023/04/13', 26.91, 28.18, 28.6, 26.7],
    ['2023/04/14', 28.08, 27.49, 28.52, 27.47],
    ['2023/04/17', 27.54, 29.09, 29.5, 27.5],
    ['2023/04/18', 29.28, 29.6, 29.62, 28.74],
    ['2023/04/19', 29.25, 29.71, 30.02, 29.25],
    ['2023/04/20', 29.31, 28.3, 29.47, 28.02],
    ['2023/04/21', 28.39, 29.6, 29.64, 28.39],
    ['2023/04/24', 29.94, 29.38, 30.01, 28.85],
    ['2023/04/25', 29.19, 28.97, 29.44, 28.88],
    ['2023/04/26', 28.97, 28.43, 29.0, 28.22],
    ['2023/04/27', 28.54, 28.29, 28.55, 27.76],
    ['2023/04/28', 28.12, 29.52, 29.91, 28.12],
    ['2023/05/01', 29.36, 30.88, 31.0, 29.14],
    ['2023/05/02', 30.71, 28.38, 30.76, 28.36],
    ['2023/05/03', 28.48, 29.15, 30.08, 28.31],
    ['2023/05/04', 29.15, 30.12, 30.75, 28.38],
    ['2023/05/05', 29.29, 27.67, 29.29, 25.16],
    ['2023/05/08', 27.54, 27.74, 27.9, 26.15],
    ['2023/05/09', 27.41, 27.28, 27.66, 26.76],
    ['2023/05/10', 27.74, 27.93, 28.26, 27.2],
    ['2023/05/11', 27.73, 26.53, 27.82, 26.39],
    ['2023/05/12', 26.5, 26.1, 26.7, 26.03],
    ['2023/05/15', 26.11, 27.68, 27.69, 25.77],
    ['2023/05/16', 27.52, 27.01, 27.52, 26.91],
    ['2023/05/17', 27.07, 28.36, 28.52, 26.48],
    ['2023/05/18', 28.41, 30.81, 30.98, 28.2],
    ['2023/05/19', 31.0, 33.11, 33.5, 30.85],
    ['2023/05/22', 33.26, 38.95, 39.31, 33.11],
    ['2023/05/23', 38.67, 38.52, 40.69, 37.12],
    ['2023/05/24', 38.13, 37.13, 38.13, 36.52],
    ['2023/05/25', 37.77, 35.62, 38.22, 33.06],
    ['2023/05/26', 36.0, 36.0, 36.23, 34.95],
    ['2023/05/30', 36.94, 34.47, 37.12, 34.04],
    ['2023/05/31', 34.46, 33.45, 35.05, 33.15],
    ['2023/06/01', 33.5, 35.09, 35.35, 33.35],
    ['2023/06/02', 35.57, 35.65, 36.17, 34.12],
    ['2023/06/05', 36.71, 38.14, 38.78, 36.24],
    ['2023/06/06', 38.1, 38.14, 38.58, 36.77],
    ['2023/06/07', 38.62, 36.99, 39.98, 36.74],
    ['2023/06/08', 36.8, 38.28, 38.87, 36.02],
    ['2023/06/09', 38.43, 36.64, 39.28, 36.6],
    ['2023/06/12', 36.75, 38.22, 39.02, 36.75],
    ['2023/06/13', 38.53, 40.74, 40.83, 38.53],
    ['2023/06/14', 40.74, 39.87, 42.24, 39.16],
    ['2023/06/15', 39.87, 45.26, 45.62, 39.54],
    ['2023/06/16', 47.0, 45.98, 47.92, 45.01],
    ['2023/06/20', 45.26, 47.99, 48.76, 45.25],
    ['2023/06/21', 47.99, 47.08, 48.03, 45.29],
    ['2023/06/22', 46.51, 43.68, 46.86, 43.44],
    ['2023/06/23', 43.0, 42.37, 43.5, 41.64],
    ['2023/06/26', 42.18, 41.79, 42.63, 41.65],
    ['2023/06/27', 42.05, 42.08, 43.39, 40.42],
    ['2023/06/28', 42.0, 44.79, 44.81, 41.81],
    ['2023/06/29', 45.5, 47.6, 48.73, 45.33],
    ['2023/06/30', 48.15, 49.92, 51.45, 47.2],
    ['2023/07/03', 50.94, 48.65, 50.94, 48.64],
    ['2023/07/05', 48.5, 49.31, 50.33, 47.61],
    ['2023/07/06', 48.21, 47.12, 48.29, 46.61],
    ['2023/07/07', 47.46, 48.97, 49.4, 46.98],
    ['2023/07/10', 49.0, 51.58, 52.0, 49.0],
    ['2023/07/11', 51.7, 52.64, 52.98, 50.67],
    ['2023/07/12', 56.55, 54.55, 59.24, 54.38],
    ['2023/07/13', 54.58, 54.01, 55.14, 52.65],
    ['2023/07/14', 54.05, 53.35, 55.61, 53.29],
    ['2023/07/17', 53.08, 54.53, 55.34, 52.26],
    ['2023/07/18', 54.95, 55.01, 55.85, 53.99],
    ['2023/07/19', 55.89, 55.37, 56.47, 53.84],
    ['2023/07/20', 55.04, 52.0, 55.88, 51.65],
    ['2023/07/21', 53.15, 53.79, 54.94, 52.64],
    ['2023/07/24', 53.55, 49.59, 53.75, 49.14],
    ['2023/07/25', 49.69, 48.99, 50.53, 48.78],
    ['2023/07/26', 48.37, 48.55, 49.85, 48.01],
    ['2023/07/27', 49.77, 47.76, 49.89, 47.34],
    ['2023/07/28', 48.61, 49.12, 49.4, 48.35],
    ['2023/07/31', 49.42, 52.31, 52.45, 49.18],
    ['2023/08/01', 51.85, 52.33, 52.81, 51.37],
    ['2023/08/02', 50.97, 50.24, 51.18, 49.0],
]);
var volumes = [
    510400.0,
    668900.0,
    1612300.0,
    1175200.0,
    637200.0,
    687500.0,
    927300.0,
    553600.0,
    532100.0,
    773300.0,
    538500.0,
    713200.0,
    1169400.0,
    706100.0,
    341000.0,
    375400.0,
    299200.0,
    474500.0,
    479100.0,
    397800.0,
    325900.0,
    514400.0,
    729100.0,
    343400.0,
    330000.0,
    480400.0,
    563100.0,
    295900.0,
    562500.0,
    646400.0,
    461400.0,
    910500.0,
    461900.0,
    360000.0,
    451700.0,
    488600.0,
    664300.0,
    570600.0,
    423300.0,
    392200.0,
    358200.0,
    740600.0,
    323700.0,
    480200.0,
    451800.0,
    470400.0,
    594500.0,
    435600.0,
    337900.0,
    289600.0,
    393500.0,
    362500.0,
    418500.0,
    326900.0,
    302800.0,
    320000.0,
    290600.0,
    357200.0,
    392400.0,
    424800.0,
    459800.0,
    427600.0,
    762200.0,
    327500.0,
    942900.0,
    483600.0,
    1772800.0,
    679300.0,
    561500.0,
    540800.0,
    597200.0,
    1022500.0,
    705000.0,
    595900.0,
    407200.0,
    889300.0,
    565200.0,
    351200.0,
    464500.0,
    281600.0,
    156900.0,
    586700.0,
    434900.0,
    752700.0,
    587800.0,
    787100.0,
    697900.0,
    705800.0,
    897400.0,
    658000.0,
    632900.0,
    891300.0,
    2945900.0,
    991700.0,
    757700.0,
    925600.0,
    1095900.0,
    692000.0,
    662900.0,
    696000.0,
    596900.0,
    471800.0,
    598700.0,
    604600.0,
    453500.0,
    446600.0,
    667100.0,
    460900.0,
    573600.0,
    589600.0,
    867500.0,
    1031000.0,
    1189300.0,
    856600.0,
    469800.0,
    704000.0,
    579900.0,
    638000.0,
    653700.0,
    427000.0,
    347100.0,
    259300.0,
    292800.0,
    416600.0,
    685000.0,
    764800.0,
    1129100.0,
    801900.0,
    503100.0,
    568200.0,
    538100.0,
    447500.0,
    343700.0,
    453500.0,
    550100.0,
    364100.0,
    391800.0,
    431800.0,
    601200.0,
    328400.0,
    313600.0,
    343200.0,
    412100.0,
    593300.0,
    2096900.0,
    734700.0,
    703300.0,
    496100.0,
    475300.0,
    337600.0,
    336500.0,
    1052200.0,
    856100.0,
    446700.0,
    476000.0,
    473700.0,
    680200.0,
    509700.0,
    437300.0,
    609300.0,
    525100.0,
    336700.0,
    490100.0,
    292600.0,
    338900.0,
    413500.0,
    555300.0,
    601900.0,
    411000.0,
    297000.0,
    372100.0,
    513500.0,
    375300.0,
    403000.0,
    521600.0,
    374900.0,
    612900.0,
    733500.0,
    574600.0,
    364400.0,
    341100.0,
    363500.0,
    339700.0,
    294800.0,
    607800.0,
    411300.0,
    628900.0,
    574200.0,
    740700.0,
    2640400.0,
    2173700.0,
    927900.0,
    595700.0,
    667300.0,
    495900.0,
    320800.0,
    436000.0,
    306500.0,
    509700.0,
    830400.0,
    1308600.0,
    3609300.0,
    2356200.0,
    1281200.0,
    1475600.0,
    795400.0,
    1455500.0,
    1102700.0,
    861500.0,
    775800.0,
    2086900.0,
    1074900.0,
    1115200.0,
    1047200.0,
    1026900.0,
    1395000.0,
    2428200.0,
    2227200.0,
    3071400.0,
    13268000.0,
    2707300.0,
    1767100.0,
    1836900.0,
    1487600.0,
    1011500.0,
    1108200.0,
    936800.0,
    1690600.0,
    1820200.0,
    585800.0,
    1222400.0,
    1498300.0,
    880500.0,
    1244600.0,
    993700.0,
    3993000.0,
    1811500.0,
    974000.0,
    864900.0,
    664100.0,
    928200.0,
    1047000.0,
    1371200.0,
    1321500.0,
    830700.0,
    874100.0,
    710600.0,
    698800.0,
    1048000.0,
    1111600.0,
    1620900.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "SDGR",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 40,
            end: 70,
            top: 30,
            height: 20,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);