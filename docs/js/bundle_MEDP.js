/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_MEDP");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/11', 178.38, 178.6, 183.51, 177.13],
    ['2022/08/12', 179.86, 182.3, 182.35, 178.96],
    ['2022/08/15', 182.0, 182.49, 184.16, 180.0],
    ['2022/08/16', 180.68, 181.32, 182.47, 178.86],
    ['2022/08/17', 180.5, 176.83, 181.67, 176.75],
    ['2022/08/18', 177.24, 174.44, 177.24, 173.19],
    ['2022/08/19', 173.78, 171.39, 174.07, 170.57],
    ['2022/08/22', 168.73, 166.75, 170.68, 165.96],
    ['2022/08/23', 165.58, 163.62, 165.96, 162.72],
    ['2022/08/24', 164.36, 167.59, 168.6, 162.6],
    ['2022/08/25', 168.99, 169.19, 169.58, 166.92],
    ['2022/08/26', 168.14, 158.96, 168.14, 158.52],
    ['2022/08/29', 156.48, 155.06, 157.46, 154.56],
    ['2022/08/30', 155.33, 150.93, 155.33, 150.56],
    ['2022/08/31', 153.27, 147.61, 154.62, 146.86],
    ['2022/09/01', 145.55, 147.53, 147.8, 143.2],
    ['2022/09/02', 149.28, 145.55, 149.28, 144.7],
    ['2022/09/06', 145.3, 145.13, 149.6, 144.65],
    ['2022/09/07', 145.78, 153.34, 154.6, 145.24],
    ['2022/09/08', 151.37, 157.9, 159.71, 150.35],
    ['2022/09/09', 159.84, 163.09, 166.21, 159.84],
    ['2022/09/12', 164.51, 168.13, 168.93, 163.95],
    ['2022/09/13', 163.33, 152.9, 163.68, 152.05],
    ['2022/09/14', 154.45, 149.52, 155.38, 147.31],
    ['2022/09/15', 151.22, 151.47, 155.56, 150.5],
    ['2022/09/16', 149.75, 150.87, 151.75, 147.35],
    ['2022/09/19', 150.46, 155.12, 155.65, 148.93],
    ['2022/09/20', 153.12, 155.67, 157.04, 151.73],
    ['2022/09/21', 157.29, 155.78, 163.71, 155.42],
    ['2022/09/22', 154.22, 154.83, 156.1, 152.49],
    ['2022/09/23', 155.96, 145.38, 155.96, 141.3],
    ['2022/09/26', 145.6, 147.71, 151.06, 145.51],
    ['2022/09/27', 149.46, 148.53, 151.01, 146.05],
    ['2022/09/28', 150.42, 156.41, 157.57, 150.37],
    ['2022/09/29', 153.98, 156.14, 156.36, 152.67],
    ['2022/09/30', 155.7, 157.17, 165.55, 155.7],
    ['2022/10/03', 157.79, 160.8, 162.18, 156.25],
    ['2022/10/04', 164.66, 165.35, 168.2, 162.93],
    ['2022/10/05', 163.88, 167.4, 168.45, 162.46],
    ['2022/10/06', 167.4, 168.26, 168.98, 165.04],
    ['2022/10/07', 165.58, 160.33, 166.08, 160.19],
    ['2022/10/10', 160.1, 158.6, 161.43, 157.85],
    ['2022/10/11', 157.42, 158.94, 163.09, 155.5],
    ['2022/10/12', 158.94, 156.13, 160.21, 155.49],
    ['2022/10/13', 151.72, 157.31, 159.38, 149.07],
    ['2022/10/14', 157.98, 153.06, 159.25, 152.21],
    ['2022/10/17', 155.77, 159.97, 160.88, 155.49],
    ['2022/10/18', 164.71, 161.42, 166.46, 160.08],
    ['2022/10/19', 159.08, 157.09, 159.42, 153.83],
    ['2022/10/20', 157.63, 156.63, 159.91, 154.02],
    ['2022/10/21', 158.06, 157.14, 158.06, 153.7],
    ['2022/10/24', 157.74, 158.64, 161.88, 155.84],
    ['2022/10/25', 202.45, 218.46, 224.42, 202.38],
    ['2022/10/26', 218.0, 221.5, 235.72, 217.03],
    ['2022/10/27', 220.53, 216.2, 221.1, 209.34],
    ['2022/10/28', 215.41, 222.32, 223.24, 214.26],
    ['2022/10/31', 220.86, 221.98, 224.93, 218.39],
    ['2022/11/01', 218.25, 222.31, 224.34, 216.67],
    ['2022/11/02', 221.38, 210.12, 222.1, 209.75],
    ['2022/11/03', 209.43, 219.44, 221.15, 203.69],
    ['2022/11/04', 219.45, 206.9, 219.45, 204.78],
    ['2022/11/07', 208.85, 210.37, 212.71, 203.02],
    ['2022/11/08', 210.37, 209.35, 214.12, 206.54],
    ['2022/11/09', 208.24, 205.48, 211.8, 205.36],
    ['2022/11/10', 216.71, 216.64, 221.13, 213.84],
    ['2022/11/11', 216.64, 221.11, 224.78, 216.64],
    ['2022/11/14', 220.0, 221.13, 226.42, 218.98],
    ['2022/11/15', 226.31, 226.57, 234.9, 225.47],
    ['2022/11/16', 226.57, 225.27, 229.98, 222.01],
    ['2022/11/17', 222.24, 217.68, 222.24, 213.15],
    ['2022/11/18', 222.63, 220.7, 223.23, 216.75],
    ['2022/11/21', 221.42, 218.9, 224.32, 218.06],
    ['2022/11/22', 220.98, 221.74, 223.57, 217.55],
    ['2022/11/23', 220.82, 218.81, 224.9, 218.35],
    ['2022/11/25', 216.55, 217.81, 220.3, 216.08],
    ['2022/11/28', 216.42, 212.65, 221.7, 211.46],
    ['2022/11/29', 212.41, 207.24, 217.48, 205.45],
    ['2022/11/30', 206.74, 209.89, 210.39, 196.85],
    ['2022/12/01', 210.79, 215.54, 217.86, 205.96],
    ['2022/12/02', 213.0, 209.0, 213.2, 206.36],
    ['2022/12/05', 207.57, 205.5, 207.9, 202.42],
    ['2022/12/06', 205.81, 203.72, 208.24, 200.51],
    ['2022/12/07', 203.72, 206.67, 209.4, 201.25],
    ['2022/12/08', 207.25, 209.86, 210.51, 203.47],
    ['2022/12/09', 208.01, 205.77, 211.49, 205.74],
    ['2022/12/12', 207.32, 211.3, 212.18, 204.72],
    ['2022/12/13', 219.99, 214.69, 219.99, 210.65],
    ['2022/12/14', 214.06, 210.6, 216.25, 207.54],
    ['2022/12/15', 207.98, 205.81, 210.28, 204.78],
    ['2022/12/16', 202.27, 206.0, 207.72, 201.04],
    ['2022/12/19', 205.15, 201.14, 205.15, 200.31],
    ['2022/12/20', 201.41, 203.73, 205.35, 199.17],
    ['2022/12/21', 205.72, 210.59, 212.82, 204.51],
    ['2022/12/22', 207.82, 211.34, 211.62, 206.01],
    ['2022/12/23', 210.63, 212.73, 212.94, 208.89],
    ['2022/12/27', 212.07, 208.48, 212.87, 207.38],
    ['2022/12/28', 208.61, 208.47, 211.45, 208.4],
    ['2022/12/29', 211.49, 215.62, 217.32, 211.0],
    ['2022/12/30', 213.04, 212.41, 213.92, 209.05],
    ['2023/01/03', 212.32, 208.28, 214.98, 206.2],
    ['2023/01/04', 211.05, 209.15, 212.13, 207.26],
    ['2023/01/05', 207.92, 208.32, 211.2, 205.93],
    ['2023/01/06', 210.29, 210.29, 214.04, 206.65],
    ['2023/01/09', 211.87, 210.82, 214.36, 208.95],
    ['2023/01/10', 210.44, 223.29, 226.67, 209.93],
    ['2023/01/11', 224.21, 226.68, 232.94, 224.0],
    ['2023/01/12', 227.18, 225.92, 228.13, 223.6],
    ['2023/01/13', 223.91, 228.56, 230.21, 222.37],
    ['2023/01/17', 228.61, 228.62, 233.98, 227.6],
    ['2023/01/18', 229.42, 232.26, 234.96, 228.01],
    ['2023/01/19', 231.01, 228.84, 231.73, 226.36],
    ['2023/01/20', 230.45, 229.14, 232.16, 224.12],
    ['2023/01/23', 230.0, 239.52, 241.48, 229.05],
    ['2023/01/24', 237.05, 233.14, 239.56, 231.29],
    ['2023/01/25', 230.05, 228.32, 230.18, 224.54],
    ['2023/01/26', 227.75, 227.74, 233.73, 224.87],
    ['2023/01/27', 227.42, 223.68, 228.91, 223.47],
    ['2023/01/30', 221.37, 214.84, 221.37, 213.96],
    ['2023/01/31', 215.59, 221.07, 221.45, 215.59],
    ['2023/02/01', 222.3, 227.57, 229.66, 218.5],
    ['2023/02/02', 232.0, 238.45, 238.5, 229.4],
    ['2023/02/03', 236.62, 236.08, 241.27, 235.26],
    ['2023/02/06', 234.96, 231.67, 238.39, 231.38],
    ['2023/02/07', 230.56, 234.73, 236.04, 226.51],
    ['2023/02/08', 234.92, 233.6, 237.4, 232.83],
    ['2023/02/09', 233.81, 225.56, 235.59, 224.24],
    ['2023/02/10', 223.76, 223.53, 226.53, 219.18],
    ['2023/02/13', 225.65, 228.85, 230.0, 223.19],
    ['2023/02/14', 216.0, 217.13, 223.0, 205.52],
    ['2023/02/15', 214.78, 208.0, 214.78, 198.94],
    ['2023/02/16', 203.09, 205.96, 210.99, 202.55],
    ['2023/02/17', 206.02, 206.46, 207.8, 201.75],
    ['2023/02/21', 203.82, 198.9, 204.75, 198.24],
    ['2023/02/22', 199.31, 195.92, 199.31, 193.01],
    ['2023/02/23', 196.89, 195.4, 198.77, 191.56],
    ['2023/02/24', 192.39, 192.91, 195.66, 188.14],
    ['2023/02/27', 195.34, 195.0, 195.98, 192.71],
    ['2023/02/28', 194.35, 193.88, 198.1, 193.71],
    ['2023/03/01', 194.66, 196.26, 196.87, 193.5],
    ['2023/03/02', 194.18, 200.64, 201.77, 194.18],
    ['2023/03/03', 201.92, 199.79, 202.29, 198.44],
    ['2023/03/06', 199.79, 200.57, 203.7, 198.89],
    ['2023/03/07', 201.32, 199.31, 202.93, 198.21],
    ['2023/03/08', 199.54, 197.8, 200.55, 196.48],
    ['2023/03/09', 198.1, 187.99, 199.07, 187.24],
    ['2023/03/10', 187.99, 175.43, 188.34, 170.78],
    ['2023/03/13', 174.46, 174.31, 176.66, 167.0],
    ['2023/03/14', 179.25, 181.45, 183.0, 176.95],
    ['2023/03/15', 175.76, 177.94, 178.43, 170.57],
    ['2023/03/16', 176.09, 182.26, 187.04, 175.3],
    ['2023/03/17', 181.88, 175.65, 182.15, 175.38],
    ['2023/03/20', 177.31, 179.73, 180.38, 175.06],
    ['2023/03/21', 182.47, 184.55, 186.62, 181.96],
    ['2023/03/22', 183.69, 178.78, 184.63, 178.63],
    ['2023/03/23', 180.89, 180.52, 183.09, 179.16],
    ['2023/03/24', 178.84, 181.94, 182.08, 175.38],
    ['2023/03/27', 184.47, 183.26, 184.93, 182.19],
    ['2023/03/28', 182.11, 181.52, 182.92, 179.49],
    ['2023/03/29', 184.74, 184.13, 185.06, 182.49],
    ['2023/03/30', 186.44, 182.98, 186.55, 181.5],
    ['2023/03/31', 184.86, 188.05, 188.91, 183.78],
    ['2023/04/03', 187.26, 190.14, 190.43, 185.53],
    ['2023/04/04', 191.74, 191.72, 195.13, 188.33],
    ['2023/04/05', 190.22, 189.26, 193.33, 188.3],
    ['2023/04/06', 189.64, 190.93, 191.14, 187.29],
    ['2023/04/10', 189.2, 190.75, 192.64, 189.2],
    ['2023/04/11', 192.79, 191.55, 196.09, 190.97],
    ['2023/04/12', 194.68, 189.58, 194.84, 189.3],
    ['2023/04/13', 191.17, 194.87, 195.06, 190.36],
    ['2023/04/14', 194.81, 192.14, 195.29, 189.9],
    ['2023/04/17', 193.54, 195.52, 195.71, 191.26],
    ['2023/04/18', 199.0, 191.68, 199.0, 189.8],
    ['2023/04/19', 190.79, 193.28, 193.46, 189.44],
    ['2023/04/20', 191.1, 188.27, 191.1, 185.43],
    ['2023/04/21', 188.71, 189.01, 191.71, 186.73],
    ['2023/04/24', 189.2, 187.26, 190.96, 187.03],
    ['2023/04/25', 225.0, 208.27, 231.63, 206.88],
    ['2023/04/26', 205.13, 203.93, 206.68, 193.22],
    ['2023/04/27', 205.83, 197.54, 205.99, 189.3],
    ['2023/04/28', 196.53, 200.14, 202.86, 195.03],
    ['2023/05/01', 201.29, 206.49, 207.22, 200.96],
    ['2023/05/02', 205.86, 200.28, 207.85, 200.13],
    ['2023/05/03', 200.98, 205.48, 210.0, 200.98],
    ['2023/05/04', 204.86, 205.19, 207.04, 202.79],
    ['2023/05/05', 207.72, 206.79, 208.65, 202.75],
    ['2023/05/08', 212.94, 209.52, 214.7, 205.62],
    ['2023/05/09', 207.35, 204.93, 207.35, 201.15],
    ['2023/05/10', 208.0, 210.16, 210.98, 205.9],
    ['2023/05/11', 209.0, 209.51, 211.75, 207.1],
    ['2023/05/12', 210.1, 208.95, 213.21, 207.61],
    ['2023/05/15', 208.96, 210.88, 212.15, 208.0],
    ['2023/05/16', 209.0, 206.86, 209.04, 205.43],
    ['2023/05/17', 207.12, 209.2, 209.36, 203.4],
    ['2023/05/18', 208.8, 209.14, 210.16, 205.94],
    ['2023/05/19', 211.29, 210.88, 212.04, 207.73],
    ['2023/05/22', 210.93, 209.56, 213.34, 209.42],
    ['2023/05/23', 208.92, 205.69, 210.58, 205.38],
    ['2023/05/24', 203.6, 202.64, 203.6, 197.39],
    ['2023/05/25', 203.13, 202.16, 204.88, 199.2],
    ['2023/05/26', 202.22, 203.55, 205.95, 201.21],
    ['2023/05/30', 204.45, 207.19, 208.57, 204.16],
    ['2023/05/31', 206.82, 206.97, 208.18, 203.58],
    ['2023/06/01', 206.89, 206.89, 209.51, 202.02],
    ['2023/06/02', 209.41, 212.06, 212.29, 207.98],
    ['2023/06/05', 210.59, 216.53, 217.28, 210.59],
    ['2023/06/06', 218.04, 219.66, 221.84, 217.43],
    ['2023/06/07', 219.66, 222.25, 226.55, 218.3],
    ['2023/06/08', 221.74, 221.69, 222.7, 217.62],
    ['2023/06/09', 221.48, 207.86, 221.48, 207.47],
    ['2023/06/12', 208.13, 218.02, 218.1, 207.83],
    ['2023/06/13', 217.65, 218.99, 220.48, 217.26],
    ['2023/06/14', 219.0, 218.3, 221.6, 216.77],
    ['2023/06/15', 217.95, 220.61, 222.07, 214.32],
    ['2023/06/16', 223.74, 221.82, 224.15, 218.73],
    ['2023/06/20', 220.44, 225.29, 226.11, 219.19],
    ['2023/06/21', 224.6, 220.44, 225.33, 220.16],
    ['2023/06/22', 218.97, 224.6, 224.73, 216.87],
    ['2023/06/23', 222.1, 223.39, 227.85, 221.49],
    ['2023/06/26', 223.3, 225.11, 226.96, 223.05],
    ['2023/06/27', 225.25, 223.01, 225.25, 221.33],
    ['2023/06/28', 223.21, 229.09, 229.48, 223.12],
    ['2023/06/29', 229.0, 234.94, 237.83, 229.0],
    ['2023/06/30', 236.58, 240.17, 241.2, 235.12],
    ['2023/07/03', 241.97, 239.04, 243.03, 238.2],
    ['2023/07/05', 239.29, 236.9, 241.29, 235.0],
    ['2023/07/06', 234.36, 233.98, 235.51, 231.16],
    ['2023/07/07', 233.92, 235.53, 237.9, 233.92],
    ['2023/07/10', 235.5, 241.79, 242.16, 235.5],
    ['2023/07/11', 241.75, 238.57, 241.75, 235.65],
    ['2023/07/12', 241.95, 241.82, 244.04, 238.85],
    ['2023/07/13', 242.65, 240.42, 242.65, 238.63],
    ['2023/07/14', 240.93, 243.21, 244.61, 240.61],
    ['2023/07/17', 242.32, 247.36, 247.75, 241.64],
    ['2023/07/18', 248.32, 249.47, 250.23, 247.05],
    ['2023/07/19', 250.9, 248.43, 252.4, 247.87],
    ['2023/07/20', 248.88, 246.9, 250.34, 245.38],
    ['2023/07/21', 247.83, 245.28, 249.07, 241.37],
    ['2023/07/24', 244.05, 246.94, 247.91, 242.02],
    ['2023/07/25', 230.0, 256.6, 264.18, 230.0],
    ['2023/07/26', 256.86, 256.52, 259.8, 253.99],
    ['2023/07/27', 254.39, 248.88, 256.84, 248.19],
    ['2023/07/28', 251.27, 254.81, 256.4, 248.48],
    ['2023/07/31', 255.48, 253.17, 257.25, 251.74],
    ['2023/08/01', 252.04, 255.64, 255.99, 250.94],
    ['2023/08/02', 252.64, 255.29, 255.99, 251.94],
    ['2023/08/03', 255.29, 258.04, 258.64, 252.05],
    ['2023/08/04', 257.55, 258.75, 261.68, 256.4],
    ['2023/08/07', 260.63, 260.39, 264.15, 259.0],
    ['2023/08/08', 260.09, 263.16, 264.14, 254.39],
    ['2023/08/09', 263.77, 265.47, 267.12, 261.85],
]);
var volumes = [
    363300.0,
    213000.0,
    182000.0,
    251600.0,
    186300.0,
    147200.0,
    164500.0,
    193400.0,
    171300.0,
    202300.0,
    138700.0,
    173400.0,
    178200.0,
    217600.0,
    258100.0,
    305400.0,
    342800.0,
    464000.0,
    445100.0,
    353300.0,
    375800.0,
    345600.0,
    664400.0,
    560000.0,
    620000.0,
    1143400.0,
    451800.0,
    429600.0,
    498100.0,
    393600.0,
    624000.0,
    444200.0,
    281800.0,
    427500.0,
    295600.0,
    561700.0,
    360700.0,
    266500.0,
    261000.0,
    307900.0,
    297300.0,
    193400.0,
    350700.0,
    360800.0,
    389300.0,
    295500.0,
    342800.0,
    343600.0,
    298200.0,
    328600.0,
    404500.0,
    541500.0,
    3375400.0,
    1468300.0,
    1116000.0,
    673500.0,
    297800.0,
    405900.0,
    749200.0,
    526200.0,
    493000.0,
    282000.0,
    241000.0,
    222100.0,
    278600.0,
    259300.0,
    300300.0,
    397600.0,
    212800.0,
    302400.0,
    221900.0,
    218200.0,
    201700.0,
    167200.0,
    113700.0,
    269600.0,
    377600.0,
    574800.0,
    348300.0,
    262500.0,
    182700.0,
    325100.0,
    304100.0,
    226800.0,
    280600.0,
    291100.0,
    235900.0,
    245300.0,
    376200.0,
    567500.0,
    270300.0,
    201700.0,
    278300.0,
    188700.0,
    130000.0,
    162600.0,
    157700.0,
    232900.0,
    232200.0,
    237800.0,
    176900.0,
    202600.0,
    225000.0,
    165000.0,
    480900.0,
    319700.0,
    149900.0,
    175800.0,
    179000.0,
    267600.0,
    199000.0,
    170500.0,
    459400.0,
    317900.0,
    299200.0,
    162500.0,
    218600.0,
    349800.0,
    234200.0,
    227200.0,
    228500.0,
    225900.0,
    220700.0,
    196600.0,
    282800.0,
    274300.0,
    273800.0,
    409700.0,
    766500.0,
    920900.0,
    410100.0,
    317100.0,
    358100.0,
    420000.0,
    416800.0,
    345600.0,
    352400.0,
    290000.0,
    222100.0,
    289900.0,
    284300.0,
    202500.0,
    264400.0,
    185100.0,
    394700.0,
    1024100.0,
    637600.0,
    576300.0,
    474000.0,
    481500.0,
    574000.0,
    253700.0,
    314400.0,
    236400.0,
    352700.0,
    392500.0,
    160000.0,
    264500.0,
    175700.0,
    224500.0,
    463500.0,
    329100.0,
    772800.0,
    295500.0,
    239300.0,
    189100.0,
    327800.0,
    328600.0,
    248700.0,
    252800.0,
    267300.0,
    268400.0,
    188900.0,
    387000.0,
    350500.0,
    596800.0,
    1326500.0,
    836100.0,
    614800.0,
    461800.0,
    307500.0,
    294200.0,
    380100.0,
    215200.0,
    229700.0,
    304400.0,
    257100.0,
    252700.0,
    232800.0,
    171400.0,
    210600.0,
    231500.0,
    271700.0,
    220100.0,
    243000.0,
    193800.0,
    280700.0,
    290600.0,
    217300.0,
    193300.0,
    245800.0,
    316400.0,
    252100.0,
    315500.0,
    292100.0,
    388500.0,
    508000.0,
    393800.0,
    383700.0,
    397500.0,
    338800.0,
    446400.0,
    353900.0,
    508600.0,
    413000.0,
    311200.0,
    325100.0,
    3162800.0,
    248500.0,
    302700.0,
    275000.0,
    341300.0,
    405600.0,
    157900.0,
    215300.0,
    446300.0,
    260800.0,
    388100.0,
    291300.0,
    244600.0,
    260600.0,
    175100.0,
    224000.0,
    365100.0,
    251900.0,
    246100.0,
    352400.0,
    721300.0,
    988500.0,
    388100.0,
    426100.0,
    351300.0,
    240900.0,
    223800.0,
    167800.0,
    216300.0,
    181600.0,
    224100.0,
    203000.0,
    194800.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "MEDP",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);