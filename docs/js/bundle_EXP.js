/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_EXP");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/10', 129.99, 130.81, 131.89, 129.77],
    ['2022/08/11', 132.54, 132.9, 134.57, 131.49],
    ['2022/08/12', 133.86, 135.69, 135.7, 133.0],
    ['2022/08/15', 134.77, 135.28, 136.22, 133.99],
    ['2022/08/16', 134.09, 135.75, 136.44, 134.05],
    ['2022/08/17', 134.01, 133.96, 135.13, 133.11],
    ['2022/08/18', 134.47, 134.5, 134.75, 133.5],
    ['2022/08/19', 133.87, 131.2, 134.32, 130.75],
    ['2022/08/22', 129.09, 126.37, 129.47, 126.19],
    ['2022/08/23', 127.03, 127.11, 129.15, 126.06],
    ['2022/08/24', 127.23, 126.59, 127.3, 125.75],
    ['2022/08/25', 127.58, 128.14, 128.95, 126.95],
    ['2022/08/26', 127.44, 122.42, 128.15, 122.12],
    ['2022/08/29', 121.19, 122.29, 123.73, 121.01],
    ['2022/08/30', 123.3, 120.55, 124.21, 119.34],
    ['2022/08/31', 120.77, 119.62, 120.82, 118.91],
    ['2022/09/01', 119.13, 116.85, 119.13, 115.64],
    ['2022/09/02', 118.81, 116.3, 119.4, 115.67],
    ['2022/09/06', 116.55, 115.28, 116.55, 114.61],
    ['2022/09/07', 115.25, 118.52, 118.6, 115.07],
    ['2022/09/08', 117.06, 118.97, 119.14, 115.82],
    ['2022/09/09', 120.4, 121.06, 121.63, 120.19],
    ['2022/09/12', 122.29, 121.45, 122.99, 120.98],
    ['2022/09/13', 118.18, 116.79, 119.35, 116.21],
    ['2022/09/14', 116.9, 114.74, 117.18, 112.62],
    ['2022/09/15', 114.09, 114.03, 116.15, 113.48],
    ['2022/09/16', 112.64, 111.43, 113.12, 110.04],
    ['2022/09/19', 110.89, 115.16, 115.63, 110.89],
    ['2022/09/20', 113.06, 112.0, 113.35, 110.27],
    ['2022/09/21', 112.97, 110.2, 113.94, 110.08],
    ['2022/09/22', 111.02, 108.51, 111.02, 108.14],
    ['2022/09/23', 106.86, 105.66, 107.64, 103.6],
    ['2022/09/26', 105.12, 104.36, 106.61, 103.58],
    ['2022/09/27', 106.06, 103.28, 106.06, 101.98],
    ['2022/09/28', 104.55, 106.69, 107.2, 103.89],
    ['2022/09/29', 104.62, 106.45, 106.75, 103.41],
    ['2022/09/30', 106.84, 107.18, 109.24, 106.41],
    ['2022/10/03', 109.31, 110.59, 111.29, 108.03],
    ['2022/10/04', 113.09, 116.25, 116.43, 113.09],
    ['2022/10/05', 114.1, 116.64, 117.58, 114.1],
    ['2022/10/06', 115.15, 114.05, 116.65, 114.01],
    ['2022/10/07', 112.39, 110.66, 112.75, 110.04],
    ['2022/10/10', 111.86, 111.69, 112.15, 110.35],
    ['2022/10/11', 111.07, 113.19, 114.7, 110.82],
    ['2022/10/12', 113.44, 113.58, 114.86, 112.07],
    ['2022/10/13', 111.29, 115.46, 116.67, 109.57],
    ['2022/10/14', 116.23, 111.02, 116.77, 110.26],
    ['2022/10/17', 113.23, 114.47, 114.86, 113.01],
    ['2022/10/18', 117.09, 118.05, 118.38, 116.72],
    ['2022/10/19', 116.59, 113.24, 116.96, 112.54],
    ['2022/10/20', 113.51, 111.26, 115.71, 111.25],
    ['2022/10/21', 111.26, 113.67, 114.52, 111.09],
    ['2022/10/24', 114.72, 116.37, 117.28, 113.06],
    ['2022/10/25', 115.05, 122.61, 122.78, 115.05],
    ['2022/10/26', 121.31, 120.11, 122.86, 119.47],
    ['2022/10/27', 121.37, 121.34, 122.9, 120.02],
    ['2022/10/28', 121.54, 123.34, 123.47, 120.67],
    ['2022/10/31', 122.5, 122.31, 124.0, 121.36],
    ['2022/11/01', 123.67, 122.07, 123.67, 121.23],
    ['2022/11/02', 121.79, 117.92, 123.6, 117.87],
    ['2022/11/03', 116.37, 119.7, 121.36, 116.37],
    ['2022/11/04', 121.76, 122.45, 123.54, 119.96],
    ['2022/11/07', 123.94, 123.71, 124.0, 121.29],
    ['2022/11/08', 124.27, 125.03, 126.34, 123.67],
    ['2022/11/09', 123.13, 121.53, 124.7, 121.1],
    ['2022/11/10', 128.26, 130.8, 131.41, 127.12],
    ['2022/11/11', 131.92, 133.76, 135.24, 131.44],
    ['2022/11/14', 132.31, 128.5, 133.76, 128.14],
    ['2022/11/15', 130.73, 129.0, 132.88, 128.66],
    ['2022/11/16', 128.21, 128.77, 129.87, 128.21],
    ['2022/11/17', 126.71, 127.71, 127.86, 125.57],
    ['2022/11/18', 129.67, 130.81, 131.16, 128.54],
    ['2022/11/21', 130.41, 131.59, 131.88, 130.19],
    ['2022/11/22', 132.81, 134.55, 134.67, 132.21],
    ['2022/11/23', 134.42, 134.34, 135.53, 134.01],
    ['2022/11/25', 133.57, 134.62, 135.44, 133.57],
    ['2022/11/28', 133.0, 132.67, 134.43, 132.0],
    ['2022/11/29', 132.24, 132.9, 133.83, 132.18],
    ['2022/11/30', 132.77, 136.34, 136.42, 131.14],
    ['2022/12/01', 137.44, 137.03, 137.88, 136.02],
    ['2022/12/02', 135.81, 136.63, 137.05, 135.39],
    ['2022/12/05', 134.68, 133.09, 134.9, 131.53],
    ['2022/12/06', 133.35, 133.95, 135.25, 131.62],
    ['2022/12/07', 133.24, 133.8, 135.4, 133.1],
    ['2022/12/08', 134.91, 135.91, 136.19, 134.28],
    ['2022/12/09', 135.49, 137.12, 137.83, 135.49],
    ['2022/12/12', 137.41, 137.06, 138.0, 134.43],
    ['2022/12/13', 141.88, 140.89, 142.23, 138.62],
    ['2022/12/14', 140.52, 139.58, 141.44, 138.07],
    ['2022/12/15', 136.84, 135.11, 137.36, 135.05],
    ['2022/12/16', 133.67, 135.1, 135.42, 132.42],
    ['2022/12/19', 135.32, 131.37, 135.93, 130.35],
    ['2022/12/20', 131.27, 131.98, 132.87, 130.88],
    ['2022/12/21', 133.65, 133.7, 134.73, 133.45],
    ['2022/12/22', 132.31, 131.4, 132.96, 129.25],
    ['2022/12/23', 131.53, 133.46, 133.73, 130.7],
    ['2022/12/27', 133.71, 134.13, 134.75, 133.35],
    ['2022/12/28', 134.56, 131.94, 134.95, 131.9],
    ['2022/12/29', 132.47, 133.97, 134.48, 132.36],
    ['2022/12/30', 132.47, 132.85, 133.29, 131.61],
    ['2023/01/03', 134.93, 134.87, 136.15, 133.58],
    ['2023/01/04', 136.85, 138.23, 138.57, 136.01],
    ['2023/01/05', 137.0, 137.51, 138.17, 136.24],
    ['2023/01/06', 139.05, 143.05, 143.12, 138.65],
    ['2023/01/09', 143.73, 139.94, 143.89, 139.79],
    ['2023/01/10', 140.24, 139.69, 140.44, 136.67],
    ['2023/01/11', 140.88, 143.39, 143.6, 139.49],
    ['2023/01/12', 143.86, 142.35, 143.86, 140.95],
    ['2023/01/13', 141.47, 144.19, 144.85, 141.3],
    ['2023/01/17', 143.65, 142.34, 144.07, 141.21],
    ['2023/01/18', 142.49, 141.44, 144.9, 141.32],
    ['2023/01/19', 140.37, 137.49, 140.62, 137.04],
    ['2023/01/20', 137.9, 140.43, 140.73, 136.46],
    ['2023/01/23', 140.34, 142.18, 143.91, 140.08],
    ['2023/01/24', 140.02, 143.19, 144.4, 140.02],
    ['2023/01/25', 141.96, 144.73, 145.15, 141.59],
    ['2023/01/26', 143.63, 139.04, 144.5, 133.58],
    ['2023/01/27', 138.97, 141.11, 142.26, 137.82],
    ['2023/01/30', 140.93, 141.53, 143.26, 139.87],
    ['2023/01/31', 143.01, 146.08, 146.17, 142.73],
    ['2023/02/01', 145.1, 148.08, 149.53, 145.01],
    ['2023/02/02', 148.49, 151.16, 152.15, 148.28],
    ['2023/02/03', 149.62, 148.64, 151.82, 147.81],
    ['2023/02/06', 147.4, 147.28, 148.01, 145.65],
    ['2023/02/07', 146.79, 149.9, 150.67, 145.12],
    ['2023/02/08', 149.3, 146.97, 149.44, 146.05],
    ['2023/02/09', 148.12, 144.31, 148.84, 144.27],
    ['2023/02/10', 143.46, 143.79, 144.94, 142.48],
    ['2023/02/13', 143.52, 145.05, 145.14, 142.36],
    ['2023/02/14', 144.57, 144.25, 146.22, 142.7],
    ['2023/02/15', 143.61, 146.33, 147.77, 143.61],
    ['2023/02/16', 143.92, 143.51, 146.65, 142.63],
    ['2023/02/17', 143.06, 143.81, 145.12, 142.32],
    ['2023/02/21', 141.57, 137.64, 142.63, 137.64],
    ['2023/02/22', 138.48, 139.55, 139.84, 138.22],
    ['2023/02/23', 140.16, 139.85, 141.09, 137.43],
    ['2023/02/24', 137.93, 138.76, 139.06, 136.88],
    ['2023/02/27', 140.44, 139.85, 141.9, 139.7],
    ['2023/02/28', 139.68, 140.32, 141.29, 139.68],
    ['2023/03/01', 140.02, 143.29, 143.35, 140.0],
    ['2023/03/02', 142.32, 145.6, 146.03, 141.01],
    ['2023/03/03', 146.29, 147.53, 147.89, 144.8],
    ['2023/03/06', 147.43, 145.25, 147.43, 144.42],
    ['2023/03/07', 145.55, 144.37, 146.2, 143.55],
    ['2023/03/08', 144.53, 144.7, 146.15, 142.73],
    ['2023/03/09', 144.49, 140.5, 145.68, 140.43],
    ['2023/03/10', 139.98, 136.0, 140.8, 134.02],
    ['2023/03/13', 133.28, 133.9, 136.85, 132.55],
    ['2023/03/14', 137.25, 136.8, 138.82, 135.41],
    ['2023/03/15', 133.69, 131.62, 134.13, 129.76],
    ['2023/03/16', 130.51, 135.57, 135.66, 129.79],
    ['2023/03/17', 134.82, 131.92, 135.45, 131.59],
    ['2023/03/20', 133.91, 135.37, 136.07, 133.11],
    ['2023/03/21', 137.96, 140.18, 141.01, 137.96],
    ['2023/03/22', 139.91, 138.51, 142.05, 138.49],
    ['2023/03/23', 138.69, 139.06, 141.45, 137.73],
    ['2023/03/24', 137.03, 138.89, 139.04, 135.49],
    ['2023/03/27', 140.27, 140.5, 141.55, 139.32],
    ['2023/03/28', 140.95, 142.99, 143.4, 140.22],
    ['2023/03/29', 144.13, 144.15, 144.57, 143.29],
    ['2023/03/30', 145.41, 144.73, 147.5, 144.14],
    ['2023/03/31', 145.66, 146.75, 147.81, 145.15],
    ['2023/04/03', 146.5, 147.38, 147.69, 145.03],
    ['2023/04/04', 147.7, 143.17, 147.7, 142.37],
    ['2023/04/05', 141.3, 137.43, 141.92, 136.89],
    ['2023/04/06', 137.07, 136.29, 138.24, 135.17],
    ['2023/04/10', 135.31, 139.91, 140.02, 135.31],
    ['2023/04/11', 140.5, 141.75, 142.58, 140.37],
    ['2023/04/12', 143.34, 142.98, 144.01, 142.45],
    ['2023/04/13', 142.87, 144.78, 144.86, 142.1],
    ['2023/04/14', 144.28, 143.74, 146.0, 143.3],
    ['2023/04/17', 143.02, 143.67, 143.88, 142.12],
    ['2023/04/18', 144.72, 143.71, 145.48, 143.23],
    ['2023/04/19', 143.81, 146.14, 146.25, 143.39],
    ['2023/04/20', 145.05, 148.27, 149.85, 145.0],
    ['2023/04/21', 148.6, 145.88, 148.82, 145.24],
    ['2023/04/24', 145.71, 147.23, 147.83, 145.71],
    ['2023/04/25', 146.14, 145.47, 146.71, 145.1],
    ['2023/04/26', 144.56, 143.52, 146.28, 143.44],
    ['2023/04/27', 143.95, 146.88, 147.34, 143.95],
    ['2023/04/28', 146.88, 148.21, 149.67, 146.45],
    ['2023/05/01', 147.73, 148.95, 150.19, 147.73],
    ['2023/05/02', 148.7, 149.79, 150.18, 146.24],
    ['2023/05/03', 150.55, 150.74, 153.5, 150.55],
    ['2023/05/04', 151.2, 156.4, 158.29, 151.2],
    ['2023/05/05', 158.43, 160.08, 161.49, 157.3],
    ['2023/05/08', 160.12, 159.98, 161.69, 159.0],
    ['2023/05/09', 159.2, 158.76, 159.84, 158.2],
    ['2023/05/10', 160.44, 158.89, 161.03, 157.95],
    ['2023/05/11', 157.83, 157.82, 158.98, 156.89],
    ['2023/05/12', 157.86, 158.31, 158.85, 156.7],
    ['2023/05/15', 158.34, 159.64, 159.75, 156.95],
    ['2023/05/16', 158.8, 158.35, 159.14, 156.57],
    ['2023/05/17', 159.14, 160.62, 160.96, 157.82],
    ['2023/05/18', 162.33, 166.03, 166.72, 160.72],
    ['2023/05/19', 168.25, 167.21, 169.19, 165.69],
    ['2023/05/22', 167.78, 167.11, 168.34, 165.56],
    ['2023/05/23', 166.14, 166.75, 167.43, 165.19],
    ['2023/05/24', 165.24, 164.89, 166.09, 164.14],
    ['2023/05/25', 165.27, 166.56, 167.1, 165.27],
    ['2023/05/26', 166.75, 166.18, 167.51, 164.95],
    ['2023/05/30', 166.19, 164.62, 166.77, 163.93],
    ['2023/05/31', 164.11, 162.93, 165.54, 162.54],
    ['2023/06/01', 163.15, 163.09, 164.18, 162.08],
    ['2023/06/02', 164.99, 169.07, 169.18, 164.99],
    ['2023/06/05', 168.2, 166.37, 168.2, 164.13],
    ['2023/06/06', 166.33, 166.41, 168.84, 164.82],
    ['2023/06/07', 165.86, 166.66, 169.67, 165.86],
    ['2023/06/08', 166.28, 168.42, 168.51, 165.23],
    ['2023/06/09', 167.7, 166.42, 168.08, 165.67],
    ['2023/06/12', 166.25, 165.52, 167.31, 165.45],
    ['2023/06/13', 165.99, 166.79, 168.24, 165.99],
    ['2023/06/14', 167.34, 166.76, 167.79, 164.59],
    ['2023/06/15', 165.38, 169.47, 169.99, 165.38],
    ['2023/06/16', 170.0, 170.42, 172.98, 169.41],
    ['2023/06/20', 169.48, 172.05, 172.37, 168.41],
    ['2023/06/21', 171.72, 174.57, 176.31, 171.53],
    ['2023/06/22', 174.01, 173.95, 175.1, 171.35],
    ['2023/06/23', 172.26, 174.37, 176.28, 172.26],
    ['2023/06/26', 173.98, 174.82, 175.91, 173.98],
    ['2023/06/27', 175.22, 180.03, 180.38, 174.93],
    ['2023/06/28', 180.1, 181.96, 182.01, 179.64],
    ['2023/06/29', 181.61, 184.92, 184.99, 181.61],
    ['2023/06/30', 186.33, 186.42, 186.96, 184.76],
    ['2023/07/03', 185.44, 185.64, 186.85, 184.99],
    ['2023/07/05', 184.31, 184.03, 185.37, 182.81],
    ['2023/07/06', 179.32, 178.66, 181.05, 177.19],
    ['2023/07/07', 178.96, 179.6, 181.43, 178.96],
    ['2023/07/10', 179.6, 182.18, 182.97, 178.66],
    ['2023/07/11', 183.25, 183.54, 184.89, 181.79],
    ['2023/07/12', 185.0, 183.48, 185.83, 182.05],
    ['2023/07/13', 185.77, 187.71, 187.77, 183.96],
    ['2023/07/14', 188.55, 187.79, 188.93, 185.74],
    ['2023/07/17', 188.0, 191.67, 191.99, 187.92],
    ['2023/07/18', 190.89, 192.94, 193.47, 190.89],
    ['2023/07/19', 192.45, 192.54, 193.37, 190.44],
    ['2023/07/20', 194.05, 192.54, 194.05, 190.87],
    ['2023/07/21', 192.52, 190.91, 193.21, 189.76],
    ['2023/07/24', 190.65, 189.45, 192.34, 188.7],
    ['2023/07/25', 188.5, 190.32, 191.42, 188.5],
    ['2023/07/26', 190.24, 189.8, 191.82, 189.52],
    ['2023/07/27', 186.2, 183.28, 188.81, 181.52],
    ['2023/07/28', 184.0, 182.34, 184.12, 181.03],
    ['2023/07/31', 183.58, 184.37, 184.75, 182.3],
    ['2023/08/01', 184.89, 187.31, 188.15, 184.55],
    ['2023/08/02', 185.86, 187.57, 189.45, 185.86],
    ['2023/08/03', 186.03, 187.05, 187.26, 183.17],
    ['2023/08/04', 188.38, 188.07, 191.1, 186.13],
    ['2023/08/07', 188.57, 190.97, 191.66, 187.36],
    ['2023/08/08', 189.29, 189.52, 189.99, 187.72],
]);
var volumes = [
    178700.0,
    217700.0,
    148200.0,
    163900.0,
    159900.0,
    244300.0,
    110400.0,
    252900.0,
    283500.0,
    263100.0,
    212300.0,
    251600.0,
    229000.0,
    186900.0,
    232400.0,
    223800.0,
    375300.0,
    253200.0,
    207100.0,
    197800.0,
    186300.0,
    189700.0,
    238500.0,
    479700.0,
    473200.0,
    324400.0,
    890600.0,
    382900.0,
    569000.0,
    446500.0,
    476100.0,
    705700.0,
    267600.0,
    265200.0,
    414800.0,
    266700.0,
    301400.0,
    254500.0,
    300200.0,
    303600.0,
    240400.0,
    257600.0,
    203200.0,
    301500.0,
    315900.0,
    406400.0,
    353600.0,
    228700.0,
    178200.0,
    249200.0,
    255400.0,
    745100.0,
    394500.0,
    485900.0,
    320700.0,
    317800.0,
    242100.0,
    282600.0,
    287600.0,
    308700.0,
    305200.0,
    248400.0,
    217600.0,
    269700.0,
    238200.0,
    297000.0,
    246400.0,
    228400.0,
    251800.0,
    278100.0,
    207500.0,
    205200.0,
    180000.0,
    351800.0,
    142500.0,
    70200.0,
    164100.0,
    155900.0,
    216800.0,
    211700.0,
    158500.0,
    457200.0,
    250200.0,
    169200.0,
    161900.0,
    246300.0,
    422300.0,
    290000.0,
    269500.0,
    244000.0,
    494500.0,
    294200.0,
    232300.0,
    166400.0,
    586600.0,
    139200.0,
    157100.0,
    118600.0,
    165500.0,
    125000.0,
    201600.0,
    304300.0,
    394100.0,
    160800.0,
    332900.0,
    253200.0,
    265600.0,
    192800.0,
    186100.0,
    184200.0,
    143100.0,
    200200.0,
    326100.0,
    258200.0,
    203400.0,
    245000.0,
    604500.0,
    352700.0,
    358700.0,
    345700.0,
    292200.0,
    286700.0,
    292600.0,
    238500.0,
    299300.0,
    265600.0,
    154200.0,
    265800.0,
    207300.0,
    164000.0,
    247100.0,
    244000.0,
    237800.0,
    240400.0,
    230600.0,
    155100.0,
    295200.0,
    247800.0,
    196200.0,
    332000.0,
    314300.0,
    257300.0,
    592400.0,
    264300.0,
    231800.0,
    171900.0,
    300500.0,
    260700.0,
    296100.0,
    318500.0,
    259100.0,
    724800.0,
    194400.0,
    360400.0,
    409000.0,
    361400.0,
    204400.0,
    145400.0,
    164100.0,
    159000.0,
    184000.0,
    202300.0,
    244200.0,
    240700.0,
    275800.0,
    273200.0,
    263200.0,
    201100.0,
    237100.0,
    214800.0,
    230600.0,
    190400.0,
    203300.0,
    275900.0,
    352500.0,
    274900.0,
    204300.0,
    186300.0,
    296700.0,
    255900.0,
    306400.0,
    236600.0,
    251600.0,
    333300.0,
    675500.0,
    546400.0,
    335200.0,
    264000.0,
    265300.0,
    320300.0,
    306800.0,
    353200.0,
    197700.0,
    392300.0,
    642000.0,
    513500.0,
    419100.0,
    446400.0,
    486600.0,
    262400.0,
    236700.0,
    229000.0,
    294700.0,
    407300.0,
    364100.0,
    358900.0,
    356700.0,
    545800.0,
    253700.0,
    234100.0,
    208300.0,
    321400.0,
    429700.0,
    337800.0,
    936300.0,
    503100.0,
    410700.0,
    411400.0,
    631600.0,
    309500.0,
    409500.0,
    351900.0,
    244100.0,
    251100.0,
    157600.0,
    328700.0,
    342300.0,
    324600.0,
    236000.0,
    243300.0,
    285800.0,
    315800.0,
    379600.0,
    346800.0,
    363200.0,
    335100.0,
    318000.0,
    337800.0,
    294400.0,
    291400.0,
    388200.0,
    493700.0,
    366800.0,
    383900.0,
    236600.0,
    388500.0,
    339800.0,
    265800.0,
    223700.0,
    250100.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "EXP",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);