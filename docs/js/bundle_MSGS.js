/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_MSGS");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/05', 156.0, 154.2, 156.0, 152.9],
    ['2022/08/08', 154.45, 156.22, 157.46, 154.45],
    ['2022/08/09', 156.22, 155.73, 156.22, 154.08],
    ['2022/08/10', 156.83, 156.99, 157.27, 155.61],
    ['2022/08/11', 158.47, 156.81, 159.17, 156.81],
    ['2022/08/12', 158.05, 159.61, 159.67, 157.48],
    ['2022/08/15', 159.59, 159.94, 160.73, 158.84],
    ['2022/08/16', 159.58, 162.46, 162.91, 159.11],
    ['2022/08/17', 161.5, 161.16, 161.51, 159.84],
    ['2022/08/18', 165.0, 170.73, 171.0, 164.05],
    ['2022/08/19', 170.84, 173.86, 174.48, 170.84],
    ['2022/08/22', 171.48, 167.45, 172.99, 166.92],
    ['2022/08/23', 168.49, 166.9, 168.81, 166.32],
    ['2022/08/24', 165.55, 166.06, 167.67, 164.83],
    ['2022/08/25', 167.01, 165.32, 167.01, 164.75],
    ['2022/08/26', 165.17, 160.52, 165.68, 160.39],
    ['2022/08/29', 159.42, 159.82, 160.51, 158.37],
    ['2022/08/30', 160.54, 160.37, 160.6, 157.76],
    ['2022/08/31', 161.74, 160.27, 163.36, 160.27],
    ['2022/09/01', 159.38, 158.58, 159.38, 157.6],
    ['2022/09/02', 158.39, 158.07, 160.96, 157.86],
    ['2022/09/06', 159.07, 157.75, 159.55, 157.01],
    ['2022/09/07', 156.91, 159.19, 159.19, 156.81],
    ['2022/09/08', 157.79, 157.83, 159.44, 156.9],
    ['2022/09/09', 158.4, 160.17, 161.18, 158.39],
    ['2022/09/12', 160.21, 159.0, 161.54, 158.24],
    ['2022/09/13', 157.01, 155.34, 157.65, 154.95],
    ['2022/09/14', 155.02, 156.31, 157.01, 154.16],
    ['2022/09/15', 156.36, 154.84, 159.13, 154.57],
    ['2022/09/16', 153.53, 150.22, 153.6, 150.09],
    ['2022/09/19', 150.0, 149.7, 152.34, 149.41],
    ['2022/09/20', 148.86, 147.94, 148.86, 147.1],
    ['2022/09/21', 147.52, 148.75, 151.27, 146.26],
    ['2022/09/22', 147.42, 145.59, 147.88, 144.29],
    ['2022/09/23', 144.5, 143.19, 144.5, 141.75],
    ['2022/09/26', 142.62, 139.12, 144.49, 138.86],
    ['2022/09/27', 140.32, 140.07, 144.04, 139.07],
    ['2022/09/28', 140.9, 140.91, 142.0, 140.18],
    ['2022/09/29', 139.98, 137.84, 140.9, 137.09],
    ['2022/09/30', 137.01, 136.66, 139.72, 136.61],
    ['2022/10/03', 138.0, 141.86, 142.26, 137.12],
    ['2022/10/04', 143.98, 143.66, 144.98, 143.16],
    ['2022/10/05', 142.15, 142.81, 143.12, 140.0],
    ['2022/10/06', 142.91, 140.36, 142.91, 140.04],
    ['2022/10/07', 145.43, 151.88, 152.43, 145.03],
    ['2022/10/10', 152.77, 152.75, 153.96, 152.04],
    ['2022/10/11', 152.65, 154.06, 156.25, 152.0],
    ['2022/10/12', 154.06, 153.91, 156.02, 152.49],
    ['2022/10/13', 152.23, 156.31, 156.97, 151.69],
    ['2022/10/14', 150.2, 148.11, 150.52, 147.5],
    ['2022/10/17', 149.03, 151.69, 152.9, 148.4],
    ['2022/10/18', 153.09, 153.62, 154.35, 152.35],
    ['2022/10/19', 153.47, 153.4, 155.32, 152.31],
    ['2022/10/20', 153.91, 151.91, 154.5, 150.91],
    ['2022/10/21', 151.73, 151.03, 152.26, 149.49],
    ['2022/10/24', 152.12, 152.03, 152.62, 150.51],
    ['2022/10/25', 152.2, 153.71, 155.07, 152.2],
    ['2022/10/26', 154.41, 152.52, 157.38, 152.4],
    ['2022/10/27', 154.78, 150.74, 156.11, 150.32],
    ['2022/10/28', 150.36, 154.33, 154.36, 150.26],
    ['2022/10/31', 154.69, 156.61, 157.62, 153.28],
    ['2022/11/01', 157.97, 155.08, 158.0, 154.94],
    ['2022/11/02', 153.94, 151.83, 155.11, 151.57],
    ['2022/11/03', 150.01, 149.75, 150.87, 148.52],
    ['2022/11/04', 150.58, 148.55, 151.86, 148.33],
    ['2022/11/07', 149.25, 150.93, 151.11, 147.54],
    ['2022/11/08', 150.81, 148.83, 151.75, 148.07],
    ['2022/11/09', 147.62, 147.39, 148.0, 145.54],
    ['2022/11/10', 150.53, 150.1, 151.87, 149.37],
    ['2022/11/11', 150.5, 149.91, 152.23, 148.48],
    ['2022/11/14', 149.54, 149.11, 151.74, 149.05],
    ['2022/11/15', 150.09, 147.92, 151.02, 147.35],
    ['2022/11/16', 146.98, 149.37, 149.6, 145.97],
    ['2022/11/17', 147.67, 150.03, 150.71, 147.19],
    ['2022/11/18', 150.6, 148.57, 151.55, 148.35],
    ['2022/11/21', 148.15, 148.45, 149.73, 148.01],
    ['2022/11/22', 149.73, 153.0, 153.07, 147.77],
    ['2022/11/23', 153.57, 153.75, 154.02, 152.18],
    ['2022/11/25', 153.99, 160.51, 160.75, 153.68],
    ['2022/11/28', 159.14, 160.73, 161.19, 158.69],
    ['2022/11/29', 160.73, 160.0, 161.75, 159.76],
    ['2022/11/30', 159.41, 162.84, 162.84, 158.66],
    ['2022/12/01', 162.89, 162.39, 163.17, 161.71],
    ['2022/12/02', 161.61, 164.99, 165.72, 161.27],
    ['2022/12/05', 164.0, 164.74, 165.41, 163.77],
    ['2022/12/06', 164.31, 162.06, 165.39, 161.6],
    ['2022/12/07', 161.8, 159.33, 161.8, 157.4],
    ['2022/12/08', 160.15, 160.71, 161.51, 158.31],
    ['2022/12/09', 160.7, 160.14, 162.61, 159.94],
    ['2022/12/12', 160.93, 160.88, 160.93, 159.7],
    ['2022/12/13', 163.92, 160.98, 163.92, 160.63],
    ['2022/12/14', 160.98, 160.42, 161.49, 159.26],
    ['2022/12/15', 159.59, 160.0, 161.12, 159.54],
    ['2022/12/16', 159.14, 160.22, 160.43, 158.55],
    ['2022/12/19', 160.0, 159.81, 161.02, 158.88],
    ['2022/12/20', 159.16, 162.99, 163.75, 159.16],
    ['2022/12/21', 165.0, 172.84, 172.84, 163.68],
    ['2022/12/22', 171.5, 177.57, 177.94, 171.5],
    ['2022/12/23', 177.22, 181.54, 181.84, 176.79],
    ['2022/12/27', 181.37, 183.05, 183.79, 180.0],
    ['2022/12/28', 183.01, 179.1, 184.59, 179.04],
    ['2022/12/29', 180.58, 181.48, 182.51, 179.28],
    ['2022/12/30', 181.04, 183.33, 183.8, 180.36],
    ['2023/01/03', 184.24, 181.27, 184.59, 180.5],
    ['2023/01/04', 181.06, 186.49, 186.49, 181.06],
    ['2023/01/05', 185.49, 184.0, 186.47, 183.81],
    ['2023/01/06', 184.11, 183.67, 185.0, 183.48],
    ['2023/01/09', 184.95, 183.49, 185.0, 183.27],
    ['2023/01/10', 182.52, 183.24, 184.18, 182.52],
    ['2023/01/11', 183.73, 181.01, 184.26, 180.99],
    ['2023/01/12', 181.0, 178.1, 181.8, 178.1],
    ['2023/01/13', 178.58, 179.62, 180.83, 177.58],
    ['2023/01/17', 180.99, 178.05, 180.99, 178.03],
    ['2023/01/18', 178.39, 177.42, 178.51, 176.13],
    ['2023/01/19', 178.03, 177.83, 179.59, 177.15],
    ['2023/01/20', 179.05, 181.78, 181.81, 178.71],
    ['2023/01/23', 182.0, 181.03, 182.44, 179.06],
    ['2023/01/24', 179.77, 180.74, 182.93, 179.77],
    ['2023/01/25', 180.78, 181.84, 183.7, 180.78],
    ['2023/01/26', 181.64, 183.51, 183.52, 181.15],
    ['2023/01/27', 183.24, 180.45, 183.52, 180.01],
    ['2023/01/30', 180.41, 180.18, 183.5, 180.0],
    ['2023/01/31', 180.06, 181.84, 181.84, 179.47],
    ['2023/02/01', 180.21, 183.6, 183.69, 180.21],
    ['2023/02/02', 184.0, 182.31, 184.0, 181.05],
    ['2023/02/03', 182.62, 180.09, 183.19, 179.76],
    ['2023/02/06', 179.72, 179.73, 180.6, 178.5],
    ['2023/02/07', 177.51, 181.08, 181.42, 172.92],
    ['2023/02/08', 184.7, 188.0, 188.88, 184.19],
    ['2023/02/09', 188.18, 187.9, 189.4, 186.21],
    ['2023/02/10', 187.4, 186.88, 188.38, 186.17],
    ['2023/02/13', 186.3, 188.3, 189.2, 186.09],
    ['2023/02/14', 188.0, 187.66, 189.55, 186.62],
    ['2023/02/15', 187.84, 189.03, 190.61, 187.1],
    ['2023/02/16', 188.52, 190.01, 191.4, 188.08],
    ['2023/02/17', 190.93, 190.43, 191.85, 189.74],
    ['2023/02/21', 189.39, 190.45, 191.63, 188.32],
    ['2023/02/22', 190.84, 191.51, 192.88, 190.49],
    ['2023/02/23', 191.96, 192.41, 193.32, 191.12],
    ['2023/02/24', 191.12, 190.09, 192.12, 189.56],
    ['2023/02/27', 190.37, 191.22, 191.8, 189.6],
    ['2023/02/28', 191.24, 191.14, 192.78, 190.48],
    ['2023/03/01', 190.78, 192.71, 193.49, 190.25],
    ['2023/03/02', 192.46, 195.26, 196.47, 191.26],
    ['2023/03/03', 195.56, 195.26, 195.56, 193.85],
    ['2023/03/06', 194.9, 194.15, 196.1, 193.9],
    ['2023/03/07', 194.13, 192.51, 195.36, 191.55],
    ['2023/03/08', 193.13, 191.35, 193.49, 189.92],
    ['2023/03/09', 191.62, 189.86, 192.08, 189.07],
    ['2023/03/10', 189.6, 187.11, 189.6, 186.46],
    ['2023/03/13', 185.71, 184.65, 186.39, 182.51],
    ['2023/03/14', 186.75, 184.52, 187.8, 183.85],
    ['2023/03/15', 183.5, 182.15, 184.1, 178.46],
    ['2023/03/16', 181.1, 183.95, 183.95, 179.54],
    ['2023/03/17', 182.94, 183.48, 183.49, 181.35],
    ['2023/03/20', 184.13, 187.73, 188.68, 184.07],
    ['2023/03/21', 189.1, 188.31, 190.14, 186.95],
    ['2023/03/22', 188.53, 186.74, 189.1, 186.13],
    ['2023/03/23', 186.74, 187.34, 189.43, 184.71],
    ['2023/03/24', 186.58, 188.36, 189.32, 185.22],
    ['2023/03/27', 189.23, 190.26, 190.41, 188.41],
    ['2023/03/28', 189.48, 192.38, 192.62, 189.0],
    ['2023/03/29', 192.53, 192.5, 193.38, 191.44],
    ['2023/03/30', 192.45, 193.25, 194.1, 192.45],
    ['2023/03/31', 193.96, 194.85, 195.68, 193.0],
    ['2023/04/03', 194.58, 194.96, 195.54, 194.06],
    ['2023/04/04', 194.6, 194.54, 194.75, 192.22],
    ['2023/04/05', 193.52, 194.6, 194.6, 192.14],
    ['2023/04/06', 194.2, 194.24, 195.46, 193.75],
    ['2023/04/10', 193.41, 193.95, 194.38, 192.23],
    ['2023/04/11', 194.76, 198.22, 198.52, 194.76],
    ['2023/04/12', 199.56, 196.11, 199.56, 196.05],
    ['2023/04/13', 197.25, 198.88, 199.3, 196.56],
    ['2023/04/14', 198.52, 196.99, 200.02, 196.4],
    ['2023/04/17', 197.49, 194.51, 198.59, 193.33],
    ['2023/04/18', 195.5, 199.9, 200.16, 195.31],
    ['2023/04/19', 199.63, 200.16, 201.72, 197.94],
    ['2023/04/20', 198.71, 198.91, 199.88, 197.71],
    ['2023/04/21', 199.54, 198.67, 199.54, 197.68],
    ['2023/04/24', 198.27, 199.11, 200.7, 197.88],
    ['2023/04/25', 198.61, 198.55, 198.61, 196.21],
    ['2023/04/26', 197.42, 197.73, 198.57, 196.66],
    ['2023/04/27', 197.54, 201.39, 201.44, 197.31],
    ['2023/04/28', 200.85, 200.5, 204.66, 200.3],
    ['2023/05/01', 199.97, 204.97, 205.23, 199.97],
    ['2023/05/02', 204.26, 203.84, 205.27, 201.78],
    ['2023/05/03', 204.25, 201.96, 205.34, 201.8],
    ['2023/05/04', 200.21, 208.51, 208.75, 200.21],
    ['2023/05/05', 209.06, 206.33, 209.82, 203.53],
    ['2023/05/08', 205.73, 204.23, 206.24, 204.22],
    ['2023/05/09', 204.21, 199.75, 204.21, 198.86],
    ['2023/05/10', 199.17, 193.93, 199.59, 193.75],
    ['2023/05/11', 192.42, 190.23, 193.04, 190.11],
    ['2023/05/12', 190.01, 189.97, 190.55, 189.02],
    ['2023/05/15', 189.93, 189.22, 192.2, 188.86],
    ['2023/05/16', 188.69, 188.28, 189.62, 186.83],
    ['2023/05/17', 188.7, 186.49, 189.25, 186.09],
    ['2023/05/18', 186.59, 188.74, 190.52, 186.59],
    ['2023/05/19', 189.3, 185.92, 189.3, 185.63],
    ['2023/05/22', 185.87, 181.66, 186.29, 181.52],
    ['2023/05/23', 181.7, 180.13, 182.0, 178.8],
    ['2023/05/24', 180.08, 177.93, 180.08, 177.79],
    ['2023/05/25', 178.26, 177.44, 179.4, 177.23],
    ['2023/05/26', 178.65, 177.41, 178.9, 176.53],
    ['2023/05/30', 177.45, 175.76, 177.45, 174.82],
    ['2023/05/31', 175.95, 176.65, 177.01, 174.58],
    ['2023/06/01', 176.67, 177.8, 177.98, 175.95],
    ['2023/06/02', 178.87, 178.41, 180.22, 177.6],
    ['2023/06/05', 178.07, 178.49, 179.12, 176.21],
    ['2023/06/06', 178.31, 178.09, 179.93, 177.57],
    ['2023/06/07', 178.17, 176.5, 179.23, 176.17],
    ['2023/06/08', 176.68, 178.38, 179.02, 176.58],
    ['2023/06/09', 178.47, 177.82, 178.59, 176.4],
    ['2023/06/12', 177.71, 176.72, 178.41, 176.0],
    ['2023/06/13', 177.63, 179.34, 180.41, 177.63],
    ['2023/06/14', 178.75, 178.65, 179.4, 177.73],
    ['2023/06/15', 178.59, 178.92, 179.34, 177.56],
    ['2023/06/16', 179.26, 180.09, 181.64, 178.54],
    ['2023/06/20', 179.7, 175.5, 179.84, 175.48],
    ['2023/06/21', 175.23, 176.68, 177.43, 175.02],
    ['2023/06/22', 177.01, 180.45, 180.45, 176.94],
    ['2023/06/23', 179.5, 179.29, 181.16, 178.48],
    ['2023/06/26', 178.62, 179.41, 180.43, 178.26],
    ['2023/06/27', 179.82, 181.87, 182.43, 179.78],
    ['2023/06/28', 182.0, 185.1, 185.18, 181.43],
    ['2023/06/29', 185.47, 186.9, 189.12, 184.73],
    ['2023/06/30', 187.45, 188.05, 188.38, 185.69],
    ['2023/07/03', 187.9, 187.07, 188.99, 186.87],
    ['2023/07/05', 186.69, 188.42, 188.48, 185.41],
    ['2023/07/06', 188.33, 189.95, 192.03, 187.15],
    ['2023/07/07', 190.1, 192.36, 194.58, 190.1],
    ['2023/07/10', 192.36, 194.42, 196.85, 192.36],
    ['2023/07/11', 194.59, 192.35, 195.28, 189.15],
    ['2023/07/12', 193.12, 193.22, 194.26, 192.4],
    ['2023/07/13', 192.96, 192.62, 193.95, 191.54],
    ['2023/07/14', 192.96, 192.78, 193.46, 191.28],
    ['2023/07/17', 191.79, 192.99, 193.19, 191.32],
    ['2023/07/18', 192.75, 194.1, 195.3, 192.75],
    ['2023/07/19', 192.83, 189.8, 194.18, 188.9],
    ['2023/07/20', 188.86, 191.9, 191.9, 188.76],
    ['2023/07/21', 192.77, 192.85, 193.18, 191.61],
    ['2023/07/24', 191.99, 190.83, 192.45, 189.74],
    ['2023/07/25', 189.94, 192.21, 192.6, 189.47],
    ['2023/07/26', 191.58, 191.42, 192.88, 190.65],
    ['2023/07/27', 191.18, 190.1, 193.55, 189.4],
    ['2023/07/28', 203.0, 212.24, 213.54, 200.28],
    ['2023/07/31', 212.25, 212.75, 215.79, 210.6],
    ['2023/08/01', 211.57, 208.94, 213.42, 208.64],
    ['2023/08/02', 207.32, 209.47, 210.7, 205.74],
    ['2023/08/03', 208.91, 211.94, 212.48, 208.74],
]);
var volumes = [
    125900.0,
    92500.0,
    72700.0,
    77200.0,
    62300.0,
    117200.0,
    150400.0,
    175200.0,
    134300.0,
    226400.0,
    221900.0,
    165200.0,
    118800.0,
    137400.0,
    110000.0,
    119300.0,
    130800.0,
    298100.0,
    143700.0,
    109400.0,
    96500.0,
    90300.0,
    79600.0,
    65500.0,
    124000.0,
    96400.0,
    94700.0,
    97900.0,
    139800.0,
    186500.0,
    92500.0,
    101700.0,
    201200.0,
    217500.0,
    181600.0,
    242300.0,
    136100.0,
    103600.0,
    120300.0,
    92200.0,
    165600.0,
    214500.0,
    110200.0,
    108400.0,
    477700.0,
    317800.0,
    353000.0,
    244000.0,
    350900.0,
    205500.0,
    279800.0,
    268500.0,
    157300.0,
    221900.0,
    111700.0,
    127900.0,
    241200.0,
    218800.0,
    161400.0,
    184600.0,
    225400.0,
    157100.0,
    289400.0,
    178200.0,
    145000.0,
    138700.0,
    154200.0,
    165200.0,
    215500.0,
    226100.0,
    142000.0,
    158300.0,
    156000.0,
    112400.0,
    106900.0,
    117800.0,
    170000.0,
    132300.0,
    271900.0,
    211100.0,
    332500.0,
    192500.0,
    106400.0,
    114400.0,
    151900.0,
    133300.0,
    296400.0,
    144200.0,
    190400.0,
    136800.0,
    111100.0,
    186400.0,
    152000.0,
    208900.0,
    173500.0,
    243400.0,
    337000.0,
    253900.0,
    241500.0,
    179600.0,
    195400.0,
    158700.0,
    177100.0,
    181100.0,
    170100.0,
    232900.0,
    198300.0,
    156700.0,
    142400.0,
    210800.0,
    199800.0,
    241500.0,
    141700.0,
    169500.0,
    292200.0,
    147900.0,
    107300.0,
    116100.0,
    84600.0,
    96000.0,
    143900.0,
    112600.0,
    100900.0,
    125900.0,
    106300.0,
    119500.0,
    139100.0,
    231700.0,
    300600.0,
    265000.0,
    201800.0,
    137600.0,
    137200.0,
    135100.0,
    205300.0,
    165500.0,
    205700.0,
    104500.0,
    99100.0,
    172600.0,
    114000.0,
    134500.0,
    111700.0,
    90000.0,
    123600.0,
    78900.0,
    99800.0,
    66100.0,
    69300.0,
    96300.0,
    114400.0,
    220800.0,
    260400.0,
    270300.0,
    185500.0,
    117700.0,
    125200.0,
    105500.0,
    97800.0,
    139000.0,
    82800.0,
    82400.0,
    76500.0,
    49700.0,
    86800.0,
    86500.0,
    73000.0,
    96200.0,
    71900.0,
    126600.0,
    111900.0,
    126700.0,
    197500.0,
    113000.0,
    135500.0,
    121600.0,
    72300.0,
    64400.0,
    82400.0,
    108300.0,
    113600.0,
    95400.0,
    145900.0,
    116300.0,
    185700.0,
    277000.0,
    142500.0,
    255600.0,
    182200.0,
    114700.0,
    157000.0,
    152600.0,
    130900.0,
    126000.0,
    108000.0,
    113000.0,
    132200.0,
    161200.0,
    130900.0,
    175400.0,
    168000.0,
    95700.0,
    93500.0,
    108300.0,
    111700.0,
    161300.0,
    103400.0,
    108100.0,
    97900.0,
    104900.0,
    118500.0,
    82800.0,
    87700.0,
    108300.0,
    85900.0,
    90200.0,
    67900.0,
    149100.0,
    116500.0,
    91200.0,
    138700.0,
    385000.0,
    121500.0,
    96100.0,
    160000.0,
    102300.0,
    119800.0,
    64800.0,
    94400.0,
    260800.0,
    109100.0,
    218000.0,
    153300.0,
    53500.0,
    79600.0,
    73200.0,
    68000.0,
    140300.0,
    140900.0,
    101900.0,
    98500.0,
    100100.0,
    123700.0,
    106100.0,
    148000.0,
    1340800.0,
    4346300.0,
    490400.0,
    267600.0,
    183200.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "MSGS",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);