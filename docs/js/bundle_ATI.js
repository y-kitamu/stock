/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_ATI");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/15', 30.73, 32.05, 32.08, 29.69],
    ['2022/08/16', 32.79, 32.46, 32.99, 32.23],
    ['2022/08/17', 31.75, 32.52, 32.54, 31.52],
    ['2022/08/18', 32.56, 32.85, 32.88, 32.44],
    ['2022/08/19', 32.54, 32.56, 32.57, 32.06],
    ['2022/08/22', 31.87, 31.41, 32.24, 30.96],
    ['2022/08/23', 31.65, 31.53, 32.41, 31.52],
    ['2022/08/24', 31.42, 32.43, 32.6, 31.13],
    ['2022/08/25', 32.53, 33.09, 33.19, 32.25],
    ['2022/08/26', 33.19, 32.34, 33.31, 32.19],
    ['2022/08/29', 31.69, 32.11, 32.59, 31.4],
    ['2022/08/30', 32.1, 31.51, 32.1, 30.92],
    ['2022/08/31', 31.51, 29.93, 31.8, 29.81],
    ['2022/09/01', 29.09, 29.79, 29.8, 28.45],
    ['2022/09/02', 30.36, 29.73, 30.7, 29.5],
    ['2022/09/06', 30.0, 29.7, 30.5, 29.22],
    ['2022/09/07', 29.33, 30.16, 30.25, 29.09],
    ['2022/09/08', 29.9, 29.94, 30.71, 29.68],
    ['2022/09/09', 30.29, 31.12, 31.25, 30.18],
    ['2022/09/12', 31.32, 31.67, 32.0, 31.16],
    ['2022/09/13', 30.75, 30.99, 31.46, 30.59],
    ['2022/09/14', 30.48, 30.32, 30.62, 29.73],
    ['2022/09/15', 30.03, 30.59, 31.08, 30.0],
    ['2022/09/16', 29.89, 30.1, 30.39, 29.43],
    ['2022/09/19', 29.66, 31.29, 31.35, 29.66],
    ['2022/09/20', 30.91, 30.29, 31.16, 29.88],
    ['2022/09/21', 30.75, 29.67, 31.02, 29.67],
    ['2022/09/22', 29.92, 29.04, 29.96, 28.63],
    ['2022/09/23', 28.13, 27.86, 28.15, 27.37],
    ['2022/09/26', 27.51, 28.0, 28.84, 27.32],
    ['2022/09/27', 28.54, 28.23, 28.91, 27.68],
    ['2022/09/28', 28.23, 28.6, 28.9, 27.86],
    ['2022/09/29', 28.6, 27.58, 28.81, 27.18],
    ['2022/09/30', 27.31, 26.61, 27.68, 26.46],
    ['2022/10/03', 27.13, 28.31, 28.71, 26.85],
    ['2022/10/04', 29.09, 29.44, 29.58, 28.93],
    ['2022/10/05', 28.93, 28.9, 29.48, 28.57],
    ['2022/10/06', 28.47, 28.35, 29.07, 28.27],
    ['2022/10/07', 28.26, 27.96, 28.45, 27.65],
    ['2022/10/10', 28.27, 28.2, 28.79, 28.09],
    ['2022/10/11', 27.77, 27.77, 28.13, 27.2],
    ['2022/10/12', 27.7, 27.27, 27.77, 27.1],
    ['2022/10/13', 26.36, 27.75, 27.95, 25.99],
    ['2022/10/14', 28.05, 27.0, 28.69, 26.74],
    ['2022/10/17', 27.81, 27.77, 28.29, 27.62],
    ['2022/10/18', 28.37, 28.48, 28.92, 28.1],
    ['2022/10/19', 28.19, 28.49, 28.62, 27.91],
    ['2022/10/20', 28.39, 28.08, 28.86, 27.81],
    ['2022/10/21', 28.35, 29.26, 29.54, 28.25],
    ['2022/10/24', 29.17, 29.23, 29.28, 28.55],
    ['2022/10/25', 28.97, 30.08, 30.14, 28.79],
    ['2022/10/26', 30.59, 29.86, 30.66, 29.72],
    ['2022/10/27', 30.06, 30.03, 30.55, 29.72],
    ['2022/10/28', 29.83, 29.87, 30.38, 29.29],
    ['2022/10/31', 29.66, 29.76, 30.05, 29.07],
    ['2022/11/01', 30.23, 31.09, 31.19, 30.1],
    ['2022/11/02', 28.6, 26.33, 29.14, 26.18],
    ['2022/11/03', 25.85, 27.33, 27.85, 25.39],
    ['2022/11/04', 28.25, 28.88, 29.32, 27.91],
    ['2022/11/07', 29.15, 29.07, 29.43, 28.39],
    ['2022/11/08', 29.28, 29.59, 29.71, 28.89],
    ['2022/11/09', 29.5, 29.54, 30.26, 29.38],
    ['2022/11/10', 30.32, 29.97, 30.32, 29.32],
    ['2022/11/11', 30.41, 29.17, 30.91, 28.99],
    ['2022/11/14', 28.72, 28.87, 29.54, 28.56],
    ['2022/11/15', 29.0, 29.02, 29.58, 28.76],
    ['2022/11/16', 28.8, 28.53, 29.09, 28.24],
    ['2022/11/17', 27.95, 28.76, 28.76, 27.76],
    ['2022/11/18', 29.18, 28.91, 29.37, 28.34],
    ['2022/11/21', 28.64, 28.67, 29.03, 28.28],
    ['2022/11/22', 29.01, 29.45, 29.63, 28.92],
    ['2022/11/23', 29.09, 29.24, 29.35, 28.49],
    ['2022/11/25', 29.31, 29.51, 29.82, 29.17],
    ['2022/11/28', 28.93, 27.98, 29.2, 27.97],
    ['2022/11/29', 28.47, 28.63, 29.1, 28.14],
    ['2022/11/30', 28.72, 30.51, 30.54, 28.65],
    ['2022/12/01', 30.38, 30.02, 30.9, 29.4],
    ['2022/12/02', 29.67, 31.12, 31.44, 29.58],
    ['2022/12/05', 31.2, 30.39, 31.74, 30.35],
    ['2022/12/06', 30.42, 31.15, 31.18, 30.33],
    ['2022/12/07', 30.89, 30.2, 31.42, 30.09],
    ['2022/12/08', 31.01, 30.27, 31.61, 30.25],
    ['2022/12/09', 30.12, 29.52, 30.68, 29.43],
    ['2022/12/12', 29.65, 29.98, 30.29, 29.35],
    ['2022/12/13', 30.67, 30.07, 30.92, 30.06],
    ['2022/12/14', 29.72, 30.27, 30.61, 29.67],
    ['2022/12/15', 29.65, 29.12, 29.78, 28.91],
    ['2022/12/16', 28.75, 29.34, 29.37, 28.6],
    ['2022/12/19', 29.46, 28.72, 29.52, 28.45],
    ['2022/12/20', 28.94, 29.42, 29.81, 28.87],
    ['2022/12/21', 29.85, 30.97, 30.98, 29.68],
    ['2022/12/22', 31.04, 29.99, 31.07, 29.41],
    ['2022/12/23', 30.15, 30.29, 30.38, 29.84],
    ['2022/12/27', 30.54, 31.45, 31.58, 30.41],
    ['2022/12/28', 31.67, 30.55, 31.69, 30.14],
    ['2022/12/29', 30.67, 30.5, 30.83, 29.9],
    ['2022/12/30', 30.37, 29.86, 30.6, 29.63],
    ['2023/01/03', 30.11, 29.56, 30.67, 29.37],
    ['2023/01/04', 29.56, 31.03, 31.23, 29.54],
    ['2023/01/05', 30.9, 31.95, 32.35, 30.45],
    ['2023/01/06', 32.49, 32.52, 33.08, 32.21],
    ['2023/01/09', 32.94, 32.46, 33.74, 32.37],
    ['2023/01/10', 32.44, 33.24, 33.32, 31.6],
    ['2023/01/11', 33.58, 33.99, 34.34, 33.2],
    ['2023/01/12', 34.09, 33.89, 34.37, 33.26],
    ['2023/01/13', 33.67, 35.44, 35.46, 33.26],
    ['2023/01/17', 35.2, 34.79, 35.44, 34.6],
    ['2023/01/18', 35.21, 34.9, 35.63, 34.48],
    ['2023/01/19', 34.66, 34.37, 34.79, 33.64],
    ['2023/01/20', 34.54, 35.2, 35.23, 33.91],
    ['2023/01/23', 35.63, 35.51, 35.92, 35.13],
    ['2023/01/24', 35.13, 35.56, 36.25, 34.93],
    ['2023/01/25', 35.12, 34.83, 35.28, 34.55],
    ['2023/01/26', 35.26, 36.3, 36.64, 34.58],
    ['2023/01/27', 36.0, 36.2, 36.45, 35.73],
    ['2023/01/30', 35.78, 36.14, 36.47, 35.78],
    ['2023/01/31', 36.14, 36.39, 36.42, 35.59],
    ['2023/02/01', 36.27, 36.74, 37.11, 35.79],
    ['2023/02/02', 37.0, 38.82, 39.43, 36.24],
    ['2023/02/03', 39.02, 40.1, 40.93, 38.5],
    ['2023/02/06', 40.27, 39.25, 40.44, 38.77],
    ['2023/02/07', 39.05, 39.81, 39.9, 38.24],
    ['2023/02/08', 39.44, 39.18, 39.72, 38.97],
    ['2023/02/09', 39.47, 38.54, 39.86, 38.46],
    ['2023/02/10', 38.0, 38.61, 38.91, 37.9],
    ['2023/02/13', 38.5, 39.33, 39.44, 37.92],
    ['2023/02/14', 39.0, 39.97, 40.25, 38.59],
    ['2023/02/15', 39.53, 40.26, 40.35, 39.2],
    ['2023/02/16', 40.27, 40.34, 40.79, 40.07],
    ['2023/02/17', 40.54, 41.24, 41.4, 40.07],
    ['2023/02/21', 40.94, 40.6, 41.24, 40.53],
    ['2023/02/22', 40.3, 40.36, 40.78, 39.9],
    ['2023/02/23', 40.39, 40.44, 41.06, 39.96],
    ['2023/02/24', 39.69, 39.51, 39.89, 39.01],
    ['2023/02/27', 39.87, 40.29, 40.4, 39.5],
    ['2023/02/28', 40.59, 40.65, 41.34, 40.35],
    ['2023/03/01', 41.22, 41.77, 41.81, 40.84],
    ['2023/03/02', 41.41, 41.7, 42.2, 41.17],
    ['2023/03/03', 41.8, 42.77, 43.0, 41.23],
    ['2023/03/06', 42.4, 42.51, 43.32, 42.22],
    ['2023/03/07', 42.38, 42.1, 42.73, 41.88],
    ['2023/03/08', 42.21, 41.97, 42.35, 41.4],
    ['2023/03/09', 41.95, 40.41, 42.31, 40.16],
    ['2023/03/10', 40.37, 39.08, 40.53, 38.71],
    ['2023/03/13', 38.08, 38.3, 39.16, 37.66],
    ['2023/03/14', 39.54, 39.08, 40.13, 38.59],
    ['2023/03/15', 37.46, 36.36, 37.7, 35.57],
    ['2023/03/16', 35.78, 37.58, 37.71, 35.67],
    ['2023/03/17', 37.57, 36.16, 37.57, 35.93],
    ['2023/03/20', 36.81, 37.5, 37.76, 36.66],
    ['2023/03/21', 38.7, 38.8, 39.1, 38.43],
    ['2023/03/22', 38.78, 37.95, 39.07, 37.93],
    ['2023/03/23', 38.15, 37.76, 39.07, 37.29],
    ['2023/03/24', 37.07, 37.73, 37.93, 36.46],
    ['2023/03/27', 38.35, 38.12, 38.66, 37.84],
    ['2023/03/28', 38.07, 38.08, 38.66, 37.87],
    ['2023/03/29', 38.71, 38.57, 39.34, 38.24],
    ['2023/03/30', 39.1, 38.96, 39.49, 38.68],
    ['2023/03/31', 39.27, 39.46, 39.47, 38.83],
    ['2023/04/03', 39.43, 39.33, 39.7, 38.56],
    ['2023/04/04', 39.09, 38.44, 39.6, 37.4],
    ['2023/04/05', 37.85, 37.64, 38.14, 36.58],
    ['2023/04/06', 37.54, 37.63, 37.86, 37.18],
    ['2023/04/10', 37.76, 38.21, 38.57, 37.7],
    ['2023/04/11', 38.87, 38.57, 39.2, 38.46],
    ['2023/04/12', 38.9, 38.71, 39.17, 38.44],
    ['2023/04/13', 38.97, 39.05, 39.23, 38.67],
    ['2023/04/14', 38.11, 37.74, 38.25, 37.0],
    ['2023/04/17', 37.97, 38.56, 38.67, 37.67],
    ['2023/04/18', 38.89, 39.69, 39.83, 38.56],
    ['2023/04/19', 39.14, 39.2, 39.42, 38.76],
    ['2023/04/20', 38.45, 38.83, 39.22, 38.45],
    ['2023/04/21', 38.47, 38.48, 38.64, 37.85],
    ['2023/04/24', 38.45, 38.43, 38.79, 38.09],
    ['2023/04/25', 37.48, 37.99, 38.01, 37.15],
    ['2023/04/26', 37.93, 37.59, 38.16, 37.46],
    ['2023/04/27', 37.93, 38.36, 38.6, 37.56],
    ['2023/04/28', 38.08, 38.62, 38.67, 37.7],
    ['2023/05/01', 38.76, 37.92, 38.98, 37.3],
    ['2023/05/02', 37.53, 38.31, 38.42, 37.08],
    ['2023/05/03', 38.28, 38.0, 38.73, 37.73],
    ['2023/05/04', 36.92, 35.36, 37.1, 35.08],
    ['2023/05/05', 36.0, 36.84, 37.1, 35.85],
    ['2023/05/08', 37.89, 37.73, 38.72, 37.06],
    ['2023/05/09', 37.59, 37.75, 38.21, 37.2],
    ['2023/05/10', 38.46, 37.71, 38.64, 37.03],
    ['2023/05/11', 36.99, 36.27, 37.1, 36.13],
    ['2023/05/12', 36.3, 35.13, 36.44, 34.92],
    ['2023/05/15', 35.6, 36.38, 36.65, 35.14],
    ['2023/05/16', 36.02, 34.97, 36.19, 34.9],
    ['2023/05/17', 35.5, 36.34, 36.69, 35.29],
    ['2023/05/18', 36.16, 36.52, 36.83, 35.66],
    ['2023/05/19', 36.93, 36.61, 36.93, 36.27],
    ['2023/05/22', 36.93, 37.42, 37.53, 36.73],
    ['2023/05/23', 37.08, 37.04, 37.32, 36.62],
    ['2023/05/24', 36.61, 35.79, 36.61, 35.42],
    ['2023/05/25', 35.68, 35.31, 35.96, 35.02],
    ['2023/05/26', 35.68, 35.0, 35.77, 34.77],
    ['2023/05/30', 34.9, 34.6, 34.94, 34.35],
    ['2023/05/31', 34.48, 34.58, 34.67, 34.1],
    ['2023/06/01', 34.7, 36.29, 36.33, 34.51],
    ['2023/06/02', 37.62, 38.78, 38.97, 37.1],
    ['2023/06/05', 38.88, 37.49, 38.88, 37.24],
    ['2023/06/06', 37.12, 38.48, 38.81, 37.12],
    ['2023/06/07', 38.87, 39.2, 39.71, 38.42],
    ['2023/06/08', 39.19, 39.5, 39.93, 38.78],
    ['2023/06/09', 39.59, 39.38, 39.65, 39.01],
    ['2023/06/12', 39.21, 39.62, 40.14, 39.12],
    ['2023/06/13', 40.0, 40.74, 40.99, 39.62],
    ['2023/06/14', 41.0, 39.67, 41.0, 39.22],
    ['2023/06/15', 39.04, 39.54, 39.65, 38.82],
    ['2023/06/16', 39.65, 39.29, 39.65, 38.57],
    ['2023/06/20', 38.96, 40.36, 40.82, 38.73],
    ['2023/06/21', 40.13, 41.29, 41.51, 40.02],
    ['2023/06/22', 41.0, 40.34, 41.0, 39.82],
    ['2023/06/23', 39.41, 39.25, 39.91, 39.1],
    ['2023/06/26', 39.47, 40.01, 40.37, 38.93],
    ['2023/06/27', 40.0, 40.83, 40.93, 39.55],
    ['2023/06/28', 40.52, 41.59, 41.76, 40.22],
    ['2023/06/29', 41.51, 43.19, 43.25, 41.38],
    ['2023/06/30', 43.77, 44.23, 44.39, 43.07],
    ['2023/07/03', 44.04, 44.61, 44.8, 43.88],
    ['2023/07/05', 43.85, 43.91, 44.16, 43.39],
    ['2023/07/06', 43.54, 43.42, 43.89, 42.64],
    ['2023/07/07', 43.73, 44.24, 44.98, 43.34],
    ['2023/07/10', 44.01, 46.05, 46.11, 43.9],
    ['2023/07/11', 46.5, 45.51, 46.54, 44.98],
    ['2023/07/12', 46.43, 45.62, 47.27, 45.54],
    ['2023/07/13', 45.89, 46.53, 46.6, 45.2],
    ['2023/07/14', 46.45, 45.65, 46.64, 45.54],
    ['2023/07/17', 45.54, 44.84, 45.72, 44.67],
    ['2023/07/18', 44.87, 45.56, 45.76, 44.66],
    ['2023/07/19', 45.61, 45.46, 45.99, 44.83],
    ['2023/07/20', 46.26, 45.78, 46.26, 45.33],
    ['2023/07/21', 45.95, 45.35, 46.2, 45.01],
    ['2023/07/24', 45.42, 45.73, 46.12, 45.33],
    ['2023/07/25', 45.76, 46.28, 46.73, 45.74],
    ['2023/07/26', 45.99, 46.96, 47.1, 45.83],
    ['2023/07/27', 47.26, 46.45, 47.36, 46.12],
    ['2023/07/28', 46.55, 47.01, 47.22, 46.24],
    ['2023/07/31', 47.3, 47.68, 47.84, 47.29],
    ['2023/08/01', 47.21, 46.92, 47.92, 46.81],
    ['2023/08/02', 45.82, 45.07, 45.93, 44.26],
    ['2023/08/03', 44.53, 44.16, 44.92, 43.77],
    ['2023/08/04', 44.07, 43.64, 44.64, 43.57],
    ['2023/08/07', 43.92, 44.54, 44.9, 43.91],
    ['2023/08/08', 44.24, 43.88, 44.24, 43.04],
    ['2023/08/09', 43.98, 43.28, 43.98, 42.68],
    ['2023/08/10', 43.57, 44.16, 44.37, 43.43],
    ['2023/08/11', 43.99, 43.26, 44.02, 43.15],
]);
var volumes = [
    1551300.0,
    1371400.0,
    1742900.0,
    869300.0,
    636500.0,
    2458000.0,
    1480800.0,
    963600.0,
    1927000.0,
    730700.0,
    836200.0,
    853700.0,
    2357800.0,
    1674500.0,
    882000.0,
    810300.0,
    894700.0,
    891700.0,
    1090000.0,
    1115800.0,
    979500.0,
    1890200.0,
    1625500.0,
    3491200.0,
    1698200.0,
    1260900.0,
    858700.0,
    1162300.0,
    997800.0,
    1214300.0,
    1037500.0,
    1083700.0,
    1332800.0,
    1110800.0,
    1173300.0,
    1074200.0,
    792500.0,
    720100.0,
    1282900.0,
    706400.0,
    827000.0,
    587200.0,
    754300.0,
    850800.0,
    775500.0,
    809200.0,
    778900.0,
    657100.0,
    764600.0,
    704900.0,
    733400.0,
    1442200.0,
    736400.0,
    991900.0,
    911900.0,
    1881100.0,
    3425400.0,
    1938500.0,
    1858100.0,
    1080100.0,
    1721000.0,
    1099600.0,
    1238900.0,
    1459200.0,
    776000.0,
    992400.0,
    618800.0,
    600900.0,
    652500.0,
    768300.0,
    677400.0,
    896600.0,
    290400.0,
    2173400.0,
    1216100.0,
    2150400.0,
    1808500.0,
    1296300.0,
    1001700.0,
    1117900.0,
    997800.0,
    1142200.0,
    978300.0,
    1527300.0,
    1523100.0,
    2559300.0,
    2279600.0,
    2930000.0,
    1116300.0,
    913600.0,
    1590600.0,
    959500.0,
    457700.0,
    1048300.0,
    1104300.0,
    712600.0,
    697500.0,
    710400.0,
    1302400.0,
    1710600.0,
    1056600.0,
    1691400.0,
    1414000.0,
    1638300.0,
    2429800.0,
    1609500.0,
    1136400.0,
    1453800.0,
    1871400.0,
    858100.0,
    1013900.0,
    956800.0,
    1674800.0,
    1328500.0,
    889300.0,
    776100.0,
    1488900.0,
    1692900.0,
    3040000.0,
    3047800.0,
    1869400.0,
    2070900.0,
    1030900.0,
    805400.0,
    698200.0,
    621200.0,
    1005000.0,
    2002000.0,
    1262900.0,
    1926200.0,
    1316700.0,
    886200.0,
    946000.0,
    1002200.0,
    1231200.0,
    2015000.0,
    1500500.0,
    1245800.0,
    2146500.0,
    1391600.0,
    1004400.0,
    897700.0,
    1117400.0,
    1239300.0,
    1661800.0,
    2102900.0,
    2540700.0,
    2415800.0,
    4042100.0,
    1340300.0,
    1595500.0,
    1058500.0,
    961500.0,
    1171200.0,
    979800.0,
    901600.0,
    666900.0,
    990500.0,
    1320500.0,
    747500.0,
    1246100.0,
    924100.0,
    742400.0,
    845100.0,
    564800.0,
    474500.0,
    505500.0,
    1308300.0,
    1397100.0,
    946200.0,
    1013900.0,
    737100.0,
    815000.0,
    665500.0,
    876300.0,
    991300.0,
    767500.0,
    1189400.0,
    976900.0,
    1068400.0,
    1294800.0,
    3053200.0,
    1656900.0,
    1021600.0,
    1939800.0,
    1487600.0,
    797000.0,
    1217400.0,
    1283100.0,
    1100400.0,
    1388100.0,
    1429600.0,
    1215900.0,
    1021000.0,
    762800.0,
    793300.0,
    828600.0,
    756600.0,
    678800.0,
    1137500.0,
    1396800.0,
    1558600.0,
    845600.0,
    1091800.0,
    1181400.0,
    795100.0,
    429700.0,
    787000.0,
    1368400.0,
    1061100.0,
    812200.0,
    3098400.0,
    1523000.0,
    1019900.0,
    963700.0,
    1783100.0,
    761400.0,
    680600.0,
    1078900.0,
    1981400.0,
    1680800.0,
    1120700.0,
    1141700.0,
    1091000.0,
    1117900.0,
    1483100.0,
    1531400.0,
    1698400.0,
    1425600.0,
    843900.0,
    1104900.0,
    1311100.0,
    902100.0,
    574900.0,
    704200.0,
    668800.0,
    945400.0,
    1093000.0,
    820000.0,
    697800.0,
    902300.0,
    1743600.0,
    1351500.0,
    1232400.0,
    1072700.0,
    836400.0,
    971300.0,
    1069500.0,
    848500.0,
    834000.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "ATI",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);