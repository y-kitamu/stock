/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_AEIS");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 90.04, 92.48, 93.56, 89.42],
    ['2022/08/04', 94.6, 93.71, 97.58, 90.74],
    ['2022/08/05', 94.09, 93.85, 94.27, 90.27],
    ['2022/08/08', 93.6, 94.09, 94.6, 92.47],
    ['2022/08/09', 92.88, 89.94, 93.04, 89.47],
    ['2022/08/10', 92.51, 93.69, 94.09, 91.64],
    ['2022/08/11', 94.48, 93.29, 95.35, 93.19],
    ['2022/08/12', 93.92, 94.6, 95.01, 92.73],
    ['2022/08/15', 94.39, 95.05, 95.54, 93.36],
    ['2022/08/16', 94.63, 96.01, 96.36, 93.77],
    ['2022/08/17', 94.51, 94.64, 95.19, 93.4],
    ['2022/08/18', 94.12, 97.59, 97.65, 93.64],
    ['2022/08/19', 96.09, 94.8, 96.09, 94.02],
    ['2022/08/22', 93.28, 92.31, 94.0, 91.79],
    ['2022/08/23', 92.7, 93.06, 94.02, 92.7],
    ['2022/08/24', 93.16, 93.26, 94.08, 92.38],
    ['2022/08/25', 93.77, 95.81, 96.0, 93.77],
    ['2022/08/26', 96.27, 90.34, 96.45, 90.27],
    ['2022/08/29', 89.43, 90.73, 91.27, 88.97],
    ['2022/08/30', 91.48, 89.48, 92.17, 88.59],
    ['2022/08/31', 90.45, 89.5, 90.45, 88.58],
    ['2022/09/01', 88.01, 86.83, 88.01, 84.83],
    ['2022/09/02', 87.91, 86.31, 88.77, 85.71],
    ['2022/09/06', 86.03, 85.83, 86.03, 83.83],
    ['2022/09/07', 85.91, 85.82, 87.23, 84.35],
    ['2022/09/08', 84.93, 86.79, 87.22, 84.23],
    ['2022/09/09', 88.0, 88.34, 89.25, 87.43],
    ['2022/09/12', 88.57, 89.02, 89.61, 87.35],
    ['2022/09/13', 86.39, 84.65, 86.53, 84.42],
    ['2022/09/14', 85.01, 85.49, 89.7, 83.75],
    ['2022/09/15', 84.87, 84.1, 85.8, 83.32],
    ['2022/09/16', 82.73, 84.06, 84.19, 82.16],
    ['2022/09/19', 83.11, 84.53, 84.99, 82.98],
    ['2022/09/20', 83.73, 83.73, 84.48, 82.57],
    ['2022/09/21', 84.29, 83.04, 85.41, 82.88],
    ['2022/09/22', 82.6, 80.94, 82.6, 79.98],
    ['2022/09/23', 79.69, 79.66, 80.01, 78.36],
    ['2022/09/26', 79.41, 78.47, 80.83, 78.34],
    ['2022/09/27', 79.65, 78.96, 79.98, 78.1],
    ['2022/09/28', 78.09, 80.81, 81.6, 77.99],
    ['2022/09/29', 79.86, 79.82, 80.2, 78.22],
    ['2022/09/30', 78.35, 77.16, 80.37, 76.89],
    ['2022/10/03', 78.35, 81.33, 81.83, 77.45],
    ['2022/10/04', 83.63, 83.74, 84.44, 82.42],
    ['2022/10/05', 82.38, 83.52, 83.7, 81.4],
    ['2022/10/06', 83.52, 82.88, 84.24, 82.62],
    ['2022/10/07', 81.53, 77.83, 81.75, 77.39],
    ['2022/10/10', 78.39, 75.28, 78.39, 74.22],
    ['2022/10/11', 74.64, 73.25, 75.44, 72.05],
    ['2022/10/12', 73.28, 71.49, 73.28, 70.93],
    ['2022/10/13', 69.28, 73.62, 73.84, 67.78],
    ['2022/10/14', 74.27, 70.5, 74.69, 70.08],
    ['2022/10/17', 72.06, 70.97, 72.71, 70.56],
    ['2022/10/18', 72.74, 71.45, 73.03, 70.77],
    ['2022/10/19', 71.12, 71.03, 71.17, 69.19],
    ['2022/10/20', 71.64, 70.65, 72.95, 70.14],
    ['2022/10/21', 71.12, 74.42, 75.14, 70.5],
    ['2022/10/24', 74.74, 73.95, 74.84, 72.74],
    ['2022/10/25', 74.14, 75.64, 76.59, 74.14],
    ['2022/10/26', 75.58, 75.77, 78.09, 74.4],
    ['2022/10/27', 76.81, 76.26, 77.78, 75.71],
    ['2022/10/28', 76.82, 78.76, 79.04, 76.24],
    ['2022/10/31', 78.39, 78.4, 79.3, 76.75],
    ['2022/11/01', 79.66, 79.52, 79.84, 78.15],
    ['2022/11/02', 79.74, 80.0, 86.15, 78.88],
    ['2022/11/03', 79.42, 80.18, 81.72, 78.99],
    ['2022/11/04', 83.03, 82.73, 84.14, 81.41],
    ['2022/11/07', 83.27, 81.94, 83.28, 80.35],
    ['2022/11/08', 83.03, 82.47, 84.38, 81.2],
    ['2022/11/09', 81.42, 81.71, 82.84, 80.97],
    ['2022/11/10', 86.57, 87.2, 87.81, 84.58],
    ['2022/11/11', 87.78, 92.09, 93.02, 86.21],
    ['2022/11/14', 91.45, 89.82, 92.59, 89.57],
    ['2022/11/15', 91.83, 92.98, 94.52, 91.01],
    ['2022/11/16', 91.86, 89.34, 92.0, 89.04],
    ['2022/11/17', 87.16, 87.77, 88.3, 86.48],
    ['2022/11/18', 89.85, 89.11, 90.15, 87.82],
    ['2022/11/21', 88.57, 89.3, 89.59, 87.85],
    ['2022/11/22', 89.91, 90.72, 91.06, 88.54],
    ['2022/11/23', 90.81, 91.83, 91.92, 90.81],
    ['2022/11/25', 91.83, 90.75, 92.26, 90.72],
    ['2022/11/28', 89.91, 88.5, 90.01, 87.94],
    ['2022/11/29', 88.5, 88.24, 89.57, 88.24],
    ['2022/11/30', 88.86, 92.45, 92.6, 86.94],
    ['2022/12/01', 92.64, 92.93, 93.3, 90.37],
    ['2022/12/02', 91.1, 92.48, 93.38, 90.59],
    ['2022/12/05', 92.14, 90.41, 92.14, 88.94],
    ['2022/12/06', 90.0, 89.32, 90.56, 88.05],
    ['2022/12/07', 89.14, 89.7, 90.62, 87.98],
    ['2022/12/08', 90.35, 91.31, 91.56, 89.31],
    ['2022/12/09', 90.85, 90.52, 91.92, 90.21],
    ['2022/12/12', 91.0, 91.81, 92.92, 90.06],
    ['2022/12/13', 95.04, 94.65, 97.12, 93.56],
    ['2022/12/14', 94.06, 93.71, 95.94, 92.99],
    ['2022/12/15', 92.04, 89.57, 92.31, 88.01],
    ['2022/12/16', 88.15, 88.65, 89.96, 87.38],
    ['2022/12/19', 88.84, 84.64, 88.84, 84.37],
    ['2022/12/20', 84.72, 85.45, 86.6, 84.68],
    ['2022/12/21', 86.2, 86.69, 87.6, 85.57],
    ['2022/12/22', 85.41, 83.11, 85.41, 81.64],
    ['2022/12/23', 83.29, 83.54, 84.12, 81.92],
    ['2022/12/27', 83.76, 83.79, 84.11, 82.22],
    ['2022/12/28', 83.77, 82.58, 84.14, 81.85],
    ['2022/12/29', 83.79, 85.55, 85.75, 83.61],
    ['2022/12/30', 84.69, 85.6, 85.93, 84.15],
    ['2023/01/03', 86.51, 85.36, 87.23, 84.55],
    ['2023/01/04', 86.26, 86.46, 87.36, 85.66],
    ['2023/01/05', 86.46, 85.91, 87.19, 84.22],
    ['2023/01/06', 87.22, 91.06, 91.09, 86.66],
    ['2023/01/09', 92.13, 92.08, 93.78, 91.33],
    ['2023/01/10', 92.24, 92.5, 93.3, 91.02],
    ['2023/01/11', 91.96, 92.12, 93.0, 89.85],
    ['2023/01/12', 92.76, 93.8, 93.8, 90.9],
    ['2023/01/13', 92.69, 92.8, 93.63, 92.53],
    ['2023/01/17', 92.99, 92.22, 93.51, 91.66],
    ['2023/01/18', 93.19, 92.55, 95.59, 92.44],
    ['2023/01/19', 91.79, 89.65, 91.79, 88.57],
    ['2023/01/20', 90.98, 91.72, 91.98, 89.82],
    ['2023/01/23', 92.76, 95.55, 96.12, 92.69],
    ['2023/01/24', 95.13, 95.04, 95.47, 94.04],
    ['2023/01/25', 94.32, 94.68, 95.96, 93.3],
    ['2023/01/26', 95.48, 95.06, 96.05, 92.13],
    ['2023/01/27', 93.32, 93.24, 94.56, 92.71],
    ['2023/01/30', 92.22, 90.0, 92.32, 89.63],
    ['2023/01/31', 89.7, 92.55, 92.66, 89.7],
    ['2023/02/01', 92.92, 97.9, 99.33, 92.92],
    ['2023/02/02', 98.48, 99.23, 100.79, 98.06],
    ['2023/02/03', 98.07, 98.95, 100.45, 98.03],
    ['2023/02/06', 97.56, 95.59, 97.7, 95.47],
    ['2023/02/07', 95.25, 97.46, 97.63, 94.48],
    ['2023/02/08', 95.9, 97.05, 97.84, 95.9],
    ['2023/02/09', 98.47, 92.9, 99.25, 91.99],
    ['2023/02/10', 92.62, 93.36, 97.17, 91.77],
    ['2023/02/13', 93.94, 95.4, 95.79, 93.43],
    ['2023/02/14', 94.7, 95.73, 96.53, 94.11],
    ['2023/02/15', 95.28, 98.17, 98.17, 95.01],
    ['2023/02/16', 96.3, 97.14, 98.36, 96.19],
    ['2023/02/17', 97.18, 97.03, 97.18, 95.25],
    ['2023/02/21', 95.35, 92.66, 95.67, 92.41],
    ['2023/02/22', 92.8, 92.35, 94.42, 91.38],
    ['2023/02/23', 93.53, 92.98, 94.47, 90.89],
    ['2023/02/24', 91.39, 91.76, 93.46, 91.05],
    ['2023/02/27', 92.88, 93.04, 94.1, 92.71],
    ['2023/02/28', 92.92, 92.98, 94.66, 92.9],
    ['2023/03/01', 93.34, 93.37, 94.87, 93.07],
    ['2023/03/02', 92.4, 94.27, 94.53, 91.08],
    ['2023/03/03', 94.91, 94.48, 95.26, 93.35],
    ['2023/03/06', 94.63, 93.59, 95.18, 92.46],
    ['2023/03/07', 93.56, 92.91, 94.18, 92.33],
    ['2023/03/08', 93.51, 95.2, 95.38, 93.43],
    ['2023/03/09', 95.36, 94.51, 96.81, 94.25],
    ['2023/03/10', 94.26, 92.52, 94.52, 91.31],
    ['2023/03/13', 91.14, 91.92, 94.1, 89.14],
    ['2023/03/14', 94.47, 97.08, 97.21, 92.94],
    ['2023/03/15', 94.73, 94.37, 95.22, 91.57],
    ['2023/03/16', 93.16, 96.26, 97.85, 91.93],
    ['2023/03/17', 95.91, 93.71, 96.15, 92.58],
    ['2023/03/20', 94.37, 95.67, 96.39, 94.25],
    ['2023/03/21', 96.67, 97.05, 98.89, 95.53],
    ['2023/03/22', 96.9, 96.08, 98.51, 95.75],
    ['2023/03/23', 97.14, 96.94, 99.13, 95.75],
    ['2023/03/24', 95.68, 96.86, 97.28, 93.85],
    ['2023/03/27', 97.39, 94.08, 98.2, 93.77],
    ['2023/03/28', 93.46, 93.35, 93.83, 91.85],
    ['2023/03/29', 94.52, 95.88, 96.54, 94.43],
    ['2023/03/30', 96.8, 96.48, 97.21, 95.81],
    ['2023/03/31', 96.41, 97.89, 98.63, 96.41],
    ['2023/04/03', 97.65, 96.07, 97.65, 94.99],
    ['2023/04/04', 96.3, 93.35, 96.3, 91.94],
    ['2023/04/05', 92.8, 91.09, 94.05, 90.66],
    ['2023/04/06', 90.68, 90.03, 91.33, 89.46],
    ['2023/04/10', 89.29, 91.54, 91.73, 89.29],
    ['2023/04/11', 92.18, 92.49, 93.66, 91.47],
    ['2023/04/12', 93.28, 91.87, 93.41, 91.23],
    ['2023/04/13', 92.34, 91.7, 92.34, 90.64],
    ['2023/04/14', 91.16, 91.05, 92.7, 89.87],
    ['2023/04/17', 90.67, 91.13, 91.63, 89.48],
    ['2023/04/18', 91.73, 90.44, 92.2, 89.52],
    ['2023/04/19', 89.34, 88.36, 89.47, 88.1],
    ['2023/04/20', 87.64, 88.85, 89.34, 87.17],
    ['2023/04/21', 88.65, 87.72, 88.69, 87.38],
    ['2023/04/24', 87.69, 86.42, 88.79, 86.29],
    ['2023/04/25', 85.83, 84.78, 86.65, 84.78],
    ['2023/04/26', 85.06, 83.88, 85.06, 83.42],
    ['2023/04/27', 84.11, 84.96, 85.25, 82.93],
    ['2023/04/28', 85.08, 86.41, 86.42, 85.02],
    ['2023/05/01', 86.46, 87.39, 87.63, 86.46],
    ['2023/05/02', 86.9, 87.41, 87.95, 86.4],
    ['2023/05/03', 87.59, 87.37, 89.0, 86.78],
    ['2023/05/04', 85.47, 83.96, 86.39, 82.86],
    ['2023/05/05', 85.01, 86.83, 87.09, 84.76],
    ['2023/05/08', 86.54, 86.3, 87.82, 85.35],
    ['2023/05/09', 85.46, 84.84, 85.87, 84.5],
    ['2023/05/10', 85.96, 85.71, 86.18, 84.73],
    ['2023/05/11', 85.19, 85.46, 85.61, 84.16],
    ['2023/05/12', 85.46, 85.31, 85.91, 84.75],
    ['2023/05/15', 85.54, 87.15, 87.59, 85.47],
    ['2023/05/16', 86.38, 87.62, 87.87, 85.96],
    ['2023/05/17', 88.2, 90.51, 90.9, 87.98],
    ['2023/05/18', 90.72, 92.26, 92.9, 90.3],
    ['2023/05/19', 93.48, 92.77, 93.48, 92.0],
    ['2023/05/22', 92.46, 93.47, 93.51, 91.72],
    ['2023/05/23', 93.01, 93.29, 94.36, 92.58],
    ['2023/05/24', 92.36, 92.81, 92.98, 91.55],
    ['2023/05/25', 94.59, 97.94, 98.07, 93.99],
    ['2023/05/26', 98.0, 100.65, 101.81, 97.1],
    ['2023/05/30', 101.63, 99.15, 102.15, 98.47],
    ['2023/05/31', 98.07, 98.15, 98.86, 96.33],
    ['2023/06/01', 97.98, 97.61, 98.29, 94.71],
    ['2023/06/02', 98.08, 99.34, 99.57, 96.93],
    ['2023/06/05', 98.32, 96.87, 98.51, 94.47],
    ['2023/06/06', 96.28, 100.53, 100.8, 95.68],
    ['2023/06/07', 101.18, 106.85, 106.87, 101.18],
    ['2023/06/08', 106.43, 106.09, 106.63, 104.59],
    ['2023/06/09', 106.78, 105.05, 106.78, 104.2],
    ['2023/06/12', 104.98, 107.21, 108.18, 104.11],
    ['2023/06/13', 107.74, 108.75, 108.99, 106.74],
    ['2023/06/14', 106.38, 107.36, 109.22, 106.38],
    ['2023/06/15', 106.94, 107.0, 107.83, 105.44],
    ['2023/06/16', 107.83, 107.59, 107.86, 105.58],
    ['2023/06/20', 107.5, 107.82, 108.81, 107.12],
    ['2023/06/21', 106.92, 106.35, 107.84, 105.7],
    ['2023/06/22', 105.81, 105.72, 106.8, 104.74],
    ['2023/06/23', 105.72, 105.1, 106.77, 104.2],
    ['2023/06/26', 105.26, 105.24, 107.05, 105.11],
    ['2023/06/27', 105.79, 108.57, 108.88, 105.02],
    ['2023/06/28', 107.78, 109.0, 109.42, 107.3],
    ['2023/06/29', 109.79, 110.54, 110.58, 108.47],
    ['2023/06/30', 111.11, 111.45, 112.89, 111.11],
    ['2023/07/03', 111.1, 111.37, 111.87, 109.69],
    ['2023/07/05', 110.25, 108.69, 110.51, 108.61],
    ['2023/07/06', 106.98, 107.56, 108.2, 106.22],
    ['2023/07/07', 108.12, 107.91, 109.69, 107.87],
    ['2023/07/10', 107.73, 109.78, 109.9, 107.73],
    ['2023/07/11', 110.07, 110.22, 111.34, 107.77],
    ['2023/07/12', 112.23, 114.39, 114.69, 111.15],
    ['2023/07/13', 115.27, 118.01, 118.19, 114.69],
    ['2023/07/14', 118.1, 116.59, 118.23, 115.71],
    ['2023/07/17', 116.96, 120.3, 121.01, 116.83],
    ['2023/07/18', 120.16, 122.12, 122.31, 119.29],
    ['2023/07/19', 121.68, 119.62, 122.1, 118.04],
    ['2023/07/20', 118.43, 116.42, 118.92, 115.04],
    ['2023/07/21', 117.51, 116.88, 118.79, 116.12],
    ['2023/07/24', 116.67, 116.29, 117.99, 115.65],
    ['2023/07/25', 116.06, 117.58, 118.31, 116.06],
    ['2023/07/26', 117.13, 116.92, 117.83, 116.1],
    ['2023/07/27', 118.82, 120.22, 122.22, 117.04],
    ['2023/07/28', 121.85, 121.16, 122.77, 120.17],
    ['2023/07/31', 121.29, 125.18, 125.4, 121.29],
    ['2023/08/01', 123.46, 126.03, 126.38, 123.0],
    ['2023/08/02', 124.0, 123.18, 125.31, 122.64],
]);
var volumes = [
    260600.0,
    397000.0,
    290000.0,
    169600.0,
    184100.0,
    151200.0,
    101500.0,
    251200.0,
    137100.0,
    157400.0,
    95900.0,
    105300.0,
    101400.0,
    82800.0,
    99600.0,
    61300.0,
    97100.0,
    157500.0,
    179000.0,
    120500.0,
    151300.0,
    188500.0,
    96700.0,
    153600.0,
    142300.0,
    137000.0,
    102300.0,
    148600.0,
    115700.0,
    137300.0,
    121500.0,
    322600.0,
    85600.0,
    97700.0,
    100000.0,
    92800.0,
    117400.0,
    126600.0,
    115900.0,
    164900.0,
    126900.0,
    207200.0,
    150800.0,
    163800.0,
    191000.0,
    177300.0,
    198400.0,
    186600.0,
    295300.0,
    146800.0,
    323500.0,
    129300.0,
    191500.0,
    187600.0,
    160000.0,
    238900.0,
    248900.0,
    230400.0,
    223700.0,
    199500.0,
    124600.0,
    249600.0,
    223900.0,
    202300.0,
    721200.0,
    296500.0,
    250700.0,
    209200.0,
    157500.0,
    108800.0,
    204000.0,
    394800.0,
    155100.0,
    237000.0,
    276600.0,
    302000.0,
    148100.0,
    119000.0,
    130900.0,
    113500.0,
    60300.0,
    174300.0,
    95900.0,
    227900.0,
    161000.0,
    141100.0,
    218200.0,
    140600.0,
    111000.0,
    125400.0,
    117300.0,
    227600.0,
    211600.0,
    148200.0,
    276000.0,
    458500.0,
    207000.0,
    212300.0,
    185400.0,
    194800.0,
    148700.0,
    106400.0,
    119900.0,
    133500.0,
    105500.0,
    180900.0,
    129900.0,
    125000.0,
    159600.0,
    196700.0,
    206500.0,
    198700.0,
    162100.0,
    162500.0,
    83500.0,
    132300.0,
    142500.0,
    107200.0,
    172100.0,
    80600.0,
    146100.0,
    156600.0,
    120300.0,
    186000.0,
    187500.0,
    281600.0,
    379000.0,
    230400.0,
    293500.0,
    187200.0,
    304400.0,
    342600.0,
    172700.0,
    124500.0,
    93500.0,
    143000.0,
    139000.0,
    175900.0,
    141200.0,
    133400.0,
    101600.0,
    95800.0,
    172600.0,
    136300.0,
    120200.0,
    215000.0,
    86800.0,
    238800.0,
    269300.0,
    137700.0,
    215200.0,
    283300.0,
    234600.0,
    222800.0,
    299100.0,
    204400.0,
    573100.0,
    138400.0,
    147700.0,
    220500.0,
    176900.0,
    280100.0,
    202800.0,
    194600.0,
    127600.0,
    110100.0,
    274800.0,
    141600.0,
    191400.0,
    141000.0,
    141200.0,
    222100.0,
    165400.0,
    121200.0,
    76200.0,
    76600.0,
    123200.0,
    191900.0,
    154300.0,
    199600.0,
    317100.0,
    133600.0,
    155800.0,
    156700.0,
    159100.0,
    191000.0,
    139900.0,
    201200.0,
    222400.0,
    336500.0,
    165600.0,
    146700.0,
    109400.0,
    109400.0,
    135600.0,
    80500.0,
    152900.0,
    127300.0,
    131700.0,
    99600.0,
    155700.0,
    116400.0,
    159600.0,
    202400.0,
    210400.0,
    353800.0,
    246200.0,
    564600.0,
    232500.0,
    166300.0,
    193000.0,
    203200.0,
    413700.0,
    187800.0,
    136100.0,
    154600.0,
    129300.0,
    231700.0,
    199100.0,
    675500.0,
    172400.0,
    138000.0,
    202700.0,
    330400.0,
    164300.0,
    124300.0,
    125400.0,
    140000.0,
    124900.0,
    61800.0,
    134000.0,
    120000.0,
    166500.0,
    138200.0,
    164700.0,
    301000.0,
    278700.0,
    172100.0,
    239200.0,
    169800.0,
    181200.0,
    219400.0,
    231300.0,
    91600.0,
    166600.0,
    157700.0,
    331300.0,
    152100.0,
    335400.0,
    236100.0,
    389200.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "AEIS",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);