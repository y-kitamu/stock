/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_AEIS");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/05', 94.49, 94.25, 94.67, 90.66],
    ['2022/08/08', 94.0, 94.49, 95.0, 92.86],
    ['2022/08/09', 93.28, 90.32, 93.44, 89.85],
    ['2022/08/10', 92.9, 94.09, 94.49, 92.03],
    ['2022/08/11', 94.88, 93.69, 95.76, 93.59],
    ['2022/08/12', 94.32, 95.0, 95.42, 93.13],
    ['2022/08/15', 94.79, 95.46, 95.95, 93.76],
    ['2022/08/16', 95.03, 96.42, 96.77, 94.17],
    ['2022/08/17', 94.91, 95.04, 95.6, 93.8],
    ['2022/08/18', 94.52, 98.01, 98.07, 94.04],
    ['2022/08/19', 96.4, 95.11, 96.4, 94.32],
    ['2022/08/22', 93.58, 92.61, 94.3, 92.09],
    ['2022/08/23', 93.0, 93.36, 94.32, 93.0],
    ['2022/08/24', 93.46, 93.56, 94.39, 92.68],
    ['2022/08/25', 94.07, 96.12, 96.31, 94.07],
    ['2022/08/26', 96.58, 90.63, 96.76, 90.56],
    ['2022/08/29', 89.72, 91.02, 91.57, 89.26],
    ['2022/08/30', 91.78, 89.77, 92.47, 88.88],
    ['2022/08/31', 90.74, 89.79, 90.74, 88.87],
    ['2022/09/01', 88.3, 87.11, 88.3, 85.11],
    ['2022/09/02', 88.2, 86.59, 89.06, 85.99],
    ['2022/09/06', 86.31, 86.11, 86.31, 84.1],
    ['2022/09/07', 86.19, 86.1, 87.51, 84.62],
    ['2022/09/08', 85.21, 87.07, 87.5, 84.5],
    ['2022/09/09', 88.29, 88.63, 89.54, 87.71],
    ['2022/09/12', 88.86, 89.31, 89.9, 87.63],
    ['2022/09/13', 86.67, 84.92, 86.81, 84.69],
    ['2022/09/14', 85.29, 85.77, 89.99, 84.02],
    ['2022/09/15', 85.15, 84.37, 86.08, 83.59],
    ['2022/09/16', 83.0, 84.33, 84.46, 82.43],
    ['2022/09/19', 83.38, 84.8, 85.27, 83.25],
    ['2022/09/20', 84.0, 84.0, 84.75, 82.84],
    ['2022/09/21', 84.56, 83.31, 85.69, 83.15],
    ['2022/09/22', 82.87, 81.2, 82.87, 80.24],
    ['2022/09/23', 79.95, 79.92, 80.27, 78.61],
    ['2022/09/26', 79.67, 78.72, 81.09, 78.59],
    ['2022/09/27', 79.91, 79.22, 80.24, 78.35],
    ['2022/09/28', 78.34, 81.07, 81.86, 78.24],
    ['2022/09/29', 80.12, 80.08, 80.46, 78.47],
    ['2022/09/30', 78.6, 77.41, 80.63, 77.14],
    ['2022/10/03', 78.6, 81.59, 82.1, 77.7],
    ['2022/10/04', 83.9, 84.01, 84.71, 82.69],
    ['2022/10/05', 82.65, 83.79, 83.97, 81.66],
    ['2022/10/06', 83.79, 83.15, 84.51, 82.89],
    ['2022/10/07', 81.79, 78.08, 82.02, 77.64],
    ['2022/10/10', 78.64, 75.52, 78.64, 74.46],
    ['2022/10/11', 74.88, 73.49, 75.68, 72.28],
    ['2022/10/12', 73.52, 71.72, 73.52, 71.16],
    ['2022/10/13', 69.5, 73.86, 74.08, 68.0],
    ['2022/10/14', 74.51, 70.73, 74.93, 70.31],
    ['2022/10/17', 72.29, 71.2, 72.95, 70.79],
    ['2022/10/18', 72.98, 71.68, 73.27, 71.0],
    ['2022/10/19', 71.35, 71.26, 71.4, 69.41],
    ['2022/10/20', 71.87, 70.88, 73.19, 70.37],
    ['2022/10/21', 71.35, 74.66, 75.38, 70.73],
    ['2022/10/24', 74.98, 74.19, 75.08, 72.98],
    ['2022/10/25', 74.38, 75.89, 76.84, 74.38],
    ['2022/10/26', 75.83, 76.02, 78.34, 74.64],
    ['2022/10/27', 77.06, 76.51, 78.03, 75.96],
    ['2022/10/28', 77.07, 79.02, 79.3, 76.49],
    ['2022/10/31', 78.64, 78.65, 79.56, 77.0],
    ['2022/11/01', 79.92, 79.78, 80.1, 78.4],
    ['2022/11/02', 80.0, 80.26, 86.43, 79.14],
    ['2022/11/03', 79.68, 80.44, 81.98, 79.25],
    ['2022/11/04', 83.3, 83.0, 84.41, 81.67],
    ['2022/11/07', 83.54, 82.21, 83.55, 80.61],
    ['2022/11/08', 83.3, 82.74, 84.65, 81.46],
    ['2022/11/09', 81.68, 81.97, 83.11, 81.23],
    ['2022/11/10', 86.85, 87.48, 88.09, 84.85],
    ['2022/11/11', 88.06, 92.39, 93.32, 86.49],
    ['2022/11/14', 91.75, 90.11, 92.89, 89.86],
    ['2022/11/15', 92.13, 93.28, 94.83, 91.31],
    ['2022/11/16', 92.16, 89.63, 92.3, 89.33],
    ['2022/11/17', 87.44, 88.05, 88.59, 86.76],
    ['2022/11/18', 90.04, 89.3, 90.34, 88.0],
    ['2022/11/21', 88.76, 89.49, 89.78, 88.03],
    ['2022/11/22', 90.1, 90.91, 91.25, 88.73],
    ['2022/11/23', 91.0, 92.02, 92.11, 91.0],
    ['2022/11/25', 92.02, 90.94, 92.45, 90.91],
    ['2022/11/28', 90.1, 88.69, 90.2, 88.12],
    ['2022/11/29', 88.69, 88.43, 89.76, 88.43],
    ['2022/11/30', 89.05, 92.64, 92.79, 87.12],
    ['2022/12/01', 92.83, 93.13, 93.5, 90.56],
    ['2022/12/02', 91.29, 92.67, 93.58, 90.78],
    ['2022/12/05', 92.33, 90.6, 92.33, 89.13],
    ['2022/12/06', 90.19, 89.51, 90.75, 88.24],
    ['2022/12/07', 89.33, 89.89, 90.81, 88.16],
    ['2022/12/08', 90.54, 91.5, 91.75, 89.5],
    ['2022/12/09', 91.04, 90.71, 92.11, 90.4],
    ['2022/12/12', 91.19, 92.0, 93.12, 90.25],
    ['2022/12/13', 95.24, 94.85, 97.32, 93.76],
    ['2022/12/14', 94.26, 93.91, 96.14, 93.19],
    ['2022/12/15', 92.23, 89.76, 92.5, 88.2],
    ['2022/12/16', 88.34, 88.84, 90.15, 87.56],
    ['2022/12/19', 89.03, 84.82, 89.03, 84.55],
    ['2022/12/20', 84.9, 85.63, 86.78, 84.86],
    ['2022/12/21', 86.38, 86.87, 87.78, 85.75],
    ['2022/12/22', 85.59, 83.28, 85.59, 81.81],
    ['2022/12/23', 83.47, 83.72, 84.3, 82.09],
    ['2022/12/27', 83.94, 83.97, 84.29, 82.39],
    ['2022/12/28', 83.95, 82.75, 84.32, 82.02],
    ['2022/12/29', 83.97, 85.73, 85.93, 83.79],
    ['2022/12/30', 84.87, 85.78, 86.11, 84.33],
    ['2023/01/03', 86.69, 85.54, 87.41, 84.73],
    ['2023/01/04', 86.44, 86.64, 87.54, 85.84],
    ['2023/01/05', 86.64, 86.09, 87.37, 84.4],
    ['2023/01/06', 87.4, 91.25, 91.28, 86.84],
    ['2023/01/09', 92.32, 92.27, 93.98, 91.52],
    ['2023/01/10', 92.43, 92.69, 93.5, 91.21],
    ['2023/01/11', 92.15, 92.31, 93.2, 90.04],
    ['2023/01/12', 92.96, 94.0, 94.0, 91.09],
    ['2023/01/13', 92.88, 93.0, 93.83, 92.72],
    ['2023/01/17', 93.19, 92.41, 93.71, 91.85],
    ['2023/01/18', 93.39, 92.74, 95.79, 92.63],
    ['2023/01/19', 91.98, 89.84, 91.98, 88.76],
    ['2023/01/20', 91.17, 91.91, 92.17, 90.01],
    ['2023/01/23', 92.96, 95.75, 96.32, 92.88],
    ['2023/01/24', 95.33, 95.24, 95.67, 94.24],
    ['2023/01/25', 94.52, 94.88, 96.16, 93.5],
    ['2023/01/26', 95.68, 95.26, 96.25, 92.32],
    ['2023/01/27', 93.52, 93.44, 94.76, 92.9],
    ['2023/01/30', 92.41, 90.19, 92.51, 89.82],
    ['2023/01/31', 89.89, 92.74, 92.85, 89.89],
    ['2023/02/01', 93.12, 98.11, 99.54, 93.12],
    ['2023/02/02', 98.69, 99.44, 101.0, 98.27],
    ['2023/02/03', 98.28, 99.16, 100.66, 98.24],
    ['2023/02/06', 97.77, 95.79, 97.91, 95.67],
    ['2023/02/07', 95.45, 97.66, 97.84, 94.68],
    ['2023/02/08', 96.1, 97.25, 98.05, 96.1],
    ['2023/02/09', 98.68, 93.1, 99.46, 92.18],
    ['2023/02/10', 92.81, 93.56, 97.37, 91.96],
    ['2023/02/13', 94.14, 95.6, 95.99, 93.63],
    ['2023/02/14', 94.9, 95.93, 96.73, 94.31],
    ['2023/02/15', 95.48, 98.38, 98.38, 95.21],
    ['2023/02/16', 96.4, 97.25, 98.47, 96.29],
    ['2023/02/17', 97.29, 97.14, 97.29, 95.35],
    ['2023/02/21', 95.45, 92.76, 95.77, 92.51],
    ['2023/02/22', 92.9, 92.45, 94.52, 91.48],
    ['2023/02/23', 93.63, 93.08, 94.57, 90.99],
    ['2023/02/24', 91.49, 91.86, 93.56, 91.15],
    ['2023/02/27', 92.98, 93.14, 94.2, 92.81],
    ['2023/02/28', 93.02, 93.08, 94.76, 93.0],
    ['2023/03/01', 93.44, 93.47, 94.97, 93.17],
    ['2023/03/02', 92.5, 94.37, 94.63, 91.18],
    ['2023/03/03', 95.01, 94.58, 95.36, 93.45],
    ['2023/03/06', 94.73, 93.69, 95.28, 92.56],
    ['2023/03/07', 93.66, 93.01, 94.28, 92.43],
    ['2023/03/08', 93.61, 95.3, 95.48, 93.53],
    ['2023/03/09', 95.46, 94.61, 96.91, 94.35],
    ['2023/03/10', 94.36, 92.62, 94.62, 91.41],
    ['2023/03/13', 91.24, 92.02, 94.2, 89.24],
    ['2023/03/14', 94.57, 97.19, 97.32, 93.04],
    ['2023/03/15', 94.83, 94.47, 95.32, 91.67],
    ['2023/03/16', 93.26, 96.36, 97.96, 92.03],
    ['2023/03/17', 96.01, 93.81, 96.25, 92.68],
    ['2023/03/20', 94.47, 95.77, 96.49, 94.35],
    ['2023/03/21', 96.77, 97.16, 99.0, 95.63],
    ['2023/03/22', 97.01, 96.18, 98.62, 95.85],
    ['2023/03/23', 97.25, 97.05, 99.24, 95.85],
    ['2023/03/24', 95.78, 96.96, 97.39, 93.95],
    ['2023/03/27', 97.5, 94.18, 98.31, 93.87],
    ['2023/03/28', 93.56, 93.45, 93.93, 91.95],
    ['2023/03/29', 94.62, 95.98, 96.64, 94.53],
    ['2023/03/30', 96.9, 96.58, 97.32, 95.91],
    ['2023/03/31', 96.51, 98.0, 98.74, 96.51],
    ['2023/04/03', 97.76, 96.17, 97.76, 95.09],
    ['2023/04/04', 96.4, 93.45, 96.4, 92.04],
    ['2023/04/05', 92.9, 91.19, 94.15, 90.76],
    ['2023/04/06', 90.78, 90.13, 91.43, 89.56],
    ['2023/04/10', 89.39, 91.64, 91.83, 89.39],
    ['2023/04/11', 92.28, 92.59, 93.76, 91.57],
    ['2023/04/12', 93.38, 91.97, 93.51, 91.33],
    ['2023/04/13', 92.44, 91.8, 92.44, 90.74],
    ['2023/04/14', 91.26, 91.15, 92.8, 89.97],
    ['2023/04/17', 90.77, 91.23, 91.73, 89.58],
    ['2023/04/18', 91.83, 90.54, 92.3, 89.62],
    ['2023/04/19', 89.44, 88.46, 89.57, 88.2],
    ['2023/04/20', 87.73, 88.95, 89.44, 87.26],
    ['2023/04/21', 88.75, 87.82, 88.79, 87.47],
    ['2023/04/24', 87.79, 86.51, 88.89, 86.38],
    ['2023/04/25', 85.92, 84.87, 86.74, 84.87],
    ['2023/04/26', 85.15, 83.97, 85.15, 83.51],
    ['2023/04/27', 84.2, 85.05, 85.34, 83.02],
    ['2023/04/28', 85.17, 86.5, 86.51, 85.11],
    ['2023/05/01', 86.55, 87.48, 87.72, 86.55],
    ['2023/05/02', 86.99, 87.5, 88.05, 86.49],
    ['2023/05/03', 87.68, 87.46, 89.1, 86.87],
    ['2023/05/04', 85.56, 84.05, 86.48, 82.95],
    ['2023/05/05', 85.1, 86.92, 87.18, 84.85],
    ['2023/05/08', 86.63, 86.39, 87.92, 85.44],
    ['2023/05/09', 85.55, 84.93, 85.96, 84.59],
    ['2023/05/10', 86.05, 85.8, 86.27, 84.82],
    ['2023/05/11', 85.28, 85.55, 85.7, 84.25],
    ['2023/05/12', 85.55, 85.4, 86.0, 84.84],
    ['2023/05/15', 85.63, 87.24, 87.68, 85.56],
    ['2023/05/16', 86.47, 87.71, 87.97, 86.05],
    ['2023/05/17', 88.3, 90.61, 91.0, 88.08],
    ['2023/05/18', 90.82, 92.36, 93.0, 90.4],
    ['2023/05/19', 93.48, 92.77, 93.48, 92.0],
    ['2023/05/22', 92.46, 93.47, 93.51, 91.72],
    ['2023/05/23', 93.01, 93.29, 94.36, 92.58],
    ['2023/05/24', 92.36, 92.81, 92.98, 91.55],
    ['2023/05/25', 94.59, 97.94, 98.07, 93.99],
    ['2023/05/26', 98.0, 100.65, 101.81, 97.1],
    ['2023/05/30', 101.63, 99.15, 102.15, 98.47],
    ['2023/05/31', 98.07, 98.15, 98.86, 96.33],
    ['2023/06/01', 97.98, 97.61, 98.29, 94.71],
    ['2023/06/02', 98.08, 99.34, 99.57, 96.93],
    ['2023/06/05', 98.32, 96.87, 98.51, 94.47],
    ['2023/06/06', 96.28, 100.53, 100.8, 95.68],
    ['2023/06/07', 101.18, 106.85, 106.87, 101.18],
    ['2023/06/08', 106.43, 106.09, 106.63, 104.59],
    ['2023/06/09', 106.78, 105.05, 106.78, 104.2],
    ['2023/06/12', 104.98, 107.21, 108.18, 104.11],
    ['2023/06/13', 107.74, 108.75, 108.99, 106.74],
    ['2023/06/14', 106.38, 107.36, 109.22, 106.38],
    ['2023/06/15', 106.94, 107.0, 107.83, 105.44],
    ['2023/06/16', 107.83, 107.59, 107.86, 105.58],
    ['2023/06/20', 107.5, 107.82, 108.81, 107.12],
    ['2023/06/21', 106.92, 106.35, 107.84, 105.7],
    ['2023/06/22', 105.81, 105.72, 106.8, 104.74],
    ['2023/06/23', 105.72, 105.1, 106.77, 104.2],
    ['2023/06/26', 105.26, 105.24, 107.05, 105.11],
    ['2023/06/27', 105.79, 108.57, 108.88, 105.02],
    ['2023/06/28', 107.78, 109.0, 109.42, 107.3],
    ['2023/06/29', 109.79, 110.54, 110.58, 108.47],
    ['2023/06/30', 111.11, 111.45, 112.89, 111.11],
    ['2023/07/03', 111.1, 111.37, 111.87, 109.69],
    ['2023/07/05', 110.25, 108.69, 110.51, 108.61],
    ['2023/07/06', 106.98, 107.56, 108.2, 106.22],
    ['2023/07/07', 108.12, 107.91, 109.69, 107.87],
    ['2023/07/10', 107.73, 109.78, 109.9, 107.73],
    ['2023/07/11', 110.07, 110.22, 111.34, 107.77],
    ['2023/07/12', 112.23, 114.39, 114.69, 111.15],
    ['2023/07/13', 115.27, 118.01, 118.19, 114.69],
    ['2023/07/14', 118.1, 116.59, 118.23, 115.71],
    ['2023/07/17', 116.96, 120.3, 121.01, 116.83],
    ['2023/07/18', 120.16, 122.12, 122.31, 119.29],
    ['2023/07/19', 121.68, 119.62, 122.1, 118.04],
    ['2023/07/20', 118.43, 116.42, 118.92, 115.04],
    ['2023/07/21', 117.51, 116.88, 118.79, 116.12],
    ['2023/07/24', 116.67, 116.29, 117.99, 115.65],
    ['2023/07/25', 116.06, 117.58, 118.31, 116.06],
    ['2023/07/26', 117.13, 116.92, 117.83, 116.1],
    ['2023/07/27', 118.82, 120.22, 122.22, 117.04],
    ['2023/07/28', 121.85, 121.16, 122.77, 120.17],
    ['2023/07/31', 121.29, 125.18, 125.4, 121.29],
    ['2023/08/01', 123.46, 126.03, 126.38, 123.0],
    ['2023/08/02', 124.0, 123.18, 125.31, 122.64],
    ['2023/08/03', 122.46, 122.61, 124.74, 121.05],
]);
var volumes = [
    290000.0,
    169600.0,
    184100.0,
    151200.0,
    101500.0,
    251200.0,
    137100.0,
    157400.0,
    95900.0,
    105300.0,
    101400.0,
    82800.0,
    99600.0,
    61300.0,
    97100.0,
    157500.0,
    179000.0,
    120500.0,
    151300.0,
    188500.0,
    96700.0,
    153600.0,
    142300.0,
    137000.0,
    102300.0,
    148600.0,
    115700.0,
    137300.0,
    121500.0,
    322600.0,
    85600.0,
    97700.0,
    100000.0,
    92800.0,
    117400.0,
    126600.0,
    115900.0,
    164900.0,
    126900.0,
    207200.0,
    150800.0,
    163800.0,
    191000.0,
    177300.0,
    198400.0,
    186600.0,
    295300.0,
    146800.0,
    323500.0,
    129300.0,
    191500.0,
    187600.0,
    160000.0,
    238900.0,
    248900.0,
    230400.0,
    223700.0,
    199500.0,
    124600.0,
    249600.0,
    223900.0,
    202300.0,
    721200.0,
    296500.0,
    250700.0,
    209200.0,
    157500.0,
    108800.0,
    204000.0,
    394800.0,
    155100.0,
    237000.0,
    276600.0,
    302000.0,
    148100.0,
    119000.0,
    130900.0,
    113500.0,
    60300.0,
    174300.0,
    95900.0,
    227900.0,
    161000.0,
    141100.0,
    218200.0,
    140600.0,
    111000.0,
    125400.0,
    117300.0,
    227600.0,
    211600.0,
    148200.0,
    276000.0,
    458500.0,
    207000.0,
    212300.0,
    185400.0,
    194800.0,
    148700.0,
    106400.0,
    119900.0,
    133500.0,
    105500.0,
    180900.0,
    129900.0,
    125000.0,
    159600.0,
    196700.0,
    206500.0,
    198700.0,
    162100.0,
    162500.0,
    83500.0,
    132300.0,
    142500.0,
    107200.0,
    172100.0,
    80600.0,
    146100.0,
    156600.0,
    120300.0,
    186000.0,
    187500.0,
    281600.0,
    379000.0,
    230400.0,
    293500.0,
    187200.0,
    304400.0,
    342600.0,
    172700.0,
    124500.0,
    93500.0,
    143000.0,
    139000.0,
    175900.0,
    141200.0,
    133400.0,
    101600.0,
    95800.0,
    172600.0,
    136300.0,
    120200.0,
    215000.0,
    86800.0,
    238800.0,
    269300.0,
    137700.0,
    215200.0,
    283300.0,
    234600.0,
    222800.0,
    299100.0,
    204400.0,
    573100.0,
    138400.0,
    147700.0,
    220500.0,
    176900.0,
    280100.0,
    202800.0,
    194600.0,
    127600.0,
    110100.0,
    274800.0,
    141600.0,
    191400.0,
    141000.0,
    141200.0,
    222100.0,
    165400.0,
    121200.0,
    76200.0,
    76600.0,
    123200.0,
    191900.0,
    154300.0,
    199600.0,
    317100.0,
    133600.0,
    155800.0,
    156700.0,
    159100.0,
    191000.0,
    139900.0,
    201200.0,
    222400.0,
    336500.0,
    165600.0,
    146700.0,
    109400.0,
    109400.0,
    135600.0,
    80500.0,
    152900.0,
    127300.0,
    131700.0,
    99600.0,
    155700.0,
    116400.0,
    159600.0,
    202400.0,
    210400.0,
    353800.0,
    246200.0,
    564600.0,
    232500.0,
    166300.0,
    193000.0,
    203200.0,
    413700.0,
    187800.0,
    136100.0,
    154600.0,
    129300.0,
    231700.0,
    199100.0,
    675500.0,
    172400.0,
    138000.0,
    202700.0,
    330400.0,
    164300.0,
    124300.0,
    125400.0,
    140000.0,
    124900.0,
    61800.0,
    134000.0,
    120000.0,
    166500.0,
    138200.0,
    164700.0,
    301000.0,
    278700.0,
    172100.0,
    239200.0,
    169800.0,
    181200.0,
    219400.0,
    231300.0,
    91600.0,
    166600.0,
    157700.0,
    331300.0,
    152100.0,
    335400.0,
    236100.0,
    389200.0,
    328600.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "AEIS",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);