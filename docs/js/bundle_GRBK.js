/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_GRBK");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/03', 26.1, 25.81, 26.23, 25.55],
    ['2022/08/04', 26.27, 29.32, 29.97, 26.27],
    ['2022/08/05', 29.17, 27.5, 29.17, 27.0],
    ['2022/08/08', 27.15, 27.89, 28.14, 26.86],
    ['2022/08/09', 28.07, 27.75, 28.07, 27.28],
    ['2022/08/10', 28.45, 28.76, 29.41, 28.45],
    ['2022/08/11', 29.11, 29.65, 30.1, 29.04],
    ['2022/08/12', 29.61, 30.36, 30.37, 29.34],
    ['2022/08/15', 30.36, 30.58, 30.8, 30.02],
    ['2022/08/16', 30.45, 30.64, 30.66, 29.77],
    ['2022/08/17', 30.35, 29.6, 30.35, 29.43],
    ['2022/08/18', 29.7, 29.76, 29.86, 29.41],
    ['2022/08/19', 28.27, 27.01, 28.37, 26.7],
    ['2022/08/22', 26.6, 26.58, 27.1, 26.37],
    ['2022/08/23', 26.6, 26.56, 27.12, 26.46],
    ['2022/08/24', 26.28, 27.14, 27.39, 26.08],
    ['2022/08/25', 26.85, 27.28, 27.54, 26.83],
    ['2022/08/26', 27.09, 25.5, 27.3, 25.47],
    ['2022/08/29', 25.17, 25.22, 25.71, 25.09],
    ['2022/08/30', 25.49, 24.88, 25.7, 24.82],
    ['2022/08/31', 24.79, 24.36, 25.0, 24.35],
    ['2022/09/01', 24.17, 23.48, 24.22, 23.22],
    ['2022/09/02', 23.72, 23.46, 24.05, 23.21],
    ['2022/09/06', 23.42, 22.67, 23.42, 22.19],
    ['2022/09/07', 22.74, 23.07, 23.08, 22.21],
    ['2022/09/08', 22.75, 23.0, 23.0, 22.21],
    ['2022/09/09', 23.15, 24.01, 24.11, 23.08],
    ['2022/09/12', 24.21, 24.73, 24.91, 24.2],
    ['2022/09/13', 23.81, 22.67, 23.81, 22.59],
    ['2022/09/14', 22.73, 22.41, 22.79, 21.74],
    ['2022/09/15', 22.41, 22.41, 22.81, 22.2],
    ['2022/09/16', 22.14, 23.0, 23.12, 22.05],
    ['2022/09/19', 22.94, 23.38, 23.54, 22.94],
    ['2022/09/20', 23.08, 23.08, 23.31, 22.74],
    ['2022/09/21', 23.34, 22.78, 23.62, 22.69],
    ['2022/09/22', 22.59, 22.0, 22.62, 21.76],
    ['2022/09/23', 21.59, 21.78, 21.93, 21.38],
    ['2022/09/26', 21.63, 20.89, 22.0, 20.88],
    ['2022/09/27', 21.38, 20.83, 21.55, 20.53],
    ['2022/09/28', 21.19, 21.94, 22.14, 20.95],
    ['2022/09/29', 21.4, 21.46, 21.58, 21.12],
    ['2022/09/30', 21.34, 21.38, 21.81, 21.27],
    ['2022/10/03', 21.83, 22.54, 22.67, 21.53],
    ['2022/10/04', 22.98, 23.81, 23.84, 22.98],
    ['2022/10/05', 23.28, 23.2, 23.39, 22.91],
    ['2022/10/06', 23.22, 23.49, 23.59, 23.13],
    ['2022/10/07', 23.08, 22.49, 23.08, 22.27],
    ['2022/10/10', 22.56, 22.45, 22.69, 22.22],
    ['2022/10/11', 22.31, 22.43, 23.01, 21.98],
    ['2022/10/12', 22.52, 22.05, 22.52, 21.84],
    ['2022/10/13', 21.35, 22.05, 22.31, 20.69],
    ['2022/10/14', 22.24, 20.92, 22.47, 20.81],
    ['2022/10/17', 21.47, 21.49, 21.89, 21.07],
    ['2022/10/18', 21.72, 21.66, 22.16, 21.35],
    ['2022/10/19', 21.24, 20.24, 21.24, 19.79],
    ['2022/10/20', 20.26, 19.85, 20.58, 19.61],
    ['2022/10/21', 19.79, 20.36, 20.5, 19.52],
    ['2022/10/24', 20.48, 20.79, 20.91, 20.17],
    ['2022/10/25', 20.91, 22.44, 22.76, 20.9],
    ['2022/10/26', 22.35, 22.2, 22.97, 22.16],
    ['2022/10/27', 22.3, 22.5, 22.98, 21.94],
    ['2022/10/28', 22.49, 23.3, 23.41, 22.32],
    ['2022/10/31', 22.97, 23.13, 23.25, 22.77],
    ['2022/11/01', 23.93, 23.75, 23.93, 23.13],
    ['2022/11/02', 23.75, 22.43, 23.75, 22.33],
    ['2022/11/03', 22.45, 21.07, 23.0, 20.17],
    ['2022/11/04', 21.46, 20.58, 21.46, 20.2],
    ['2022/11/07', 20.64, 20.42, 20.81, 19.53],
    ['2022/11/08', 20.39, 20.35, 20.78, 19.99],
    ['2022/11/09', 20.18, 20.59, 21.5, 19.79],
    ['2022/11/10', 22.01, 24.12, 24.36, 21.99],
    ['2022/11/11', 24.05, 23.7, 24.17, 23.5],
    ['2022/11/14', 23.51, 23.21, 23.7, 23.04],
    ['2022/11/15', 23.98, 24.14, 24.64, 23.69],
    ['2022/11/16', 23.92, 23.79, 24.08, 23.5],
    ['2022/11/17', 22.76, 23.17, 23.19, 22.56],
    ['2022/11/18', 23.71, 22.97, 23.81, 22.86],
    ['2022/11/21', 23.07, 23.15, 23.3, 22.8],
    ['2022/11/22', 24.13, 24.31, 24.47, 23.6],
    ['2022/11/23', 24.24, 24.43, 24.47, 23.96],
    ['2022/11/25', 24.23, 24.42, 24.76, 24.23],
    ['2022/11/28', 24.16, 23.93, 24.31, 23.67],
    ['2022/11/29', 23.71, 23.74, 24.13, 23.71],
    ['2022/11/30', 23.55, 24.18, 24.21, 22.92],
    ['2022/12/01', 24.49, 24.79, 25.15, 24.35],
    ['2022/12/02', 24.08, 24.71, 24.94, 24.0],
    ['2022/12/05', 24.24, 23.84, 24.24, 23.61],
    ['2022/12/06', 23.98, 23.31, 24.01, 22.98],
    ['2022/12/07', 23.48, 24.37, 24.46, 23.36],
    ['2022/12/08', 24.25, 24.3, 24.91, 24.2],
    ['2022/12/09', 24.0, 23.81, 24.27, 23.69],
    ['2022/12/12', 24.0, 24.26, 24.51, 23.69],
    ['2022/12/13', 25.83, 24.54, 26.14, 24.38],
    ['2022/12/14', 24.64, 24.89, 25.2, 24.54],
    ['2022/12/15', 24.11, 25.54, 25.58, 23.83],
    ['2022/12/16', 25.03, 25.07, 25.35, 24.82],
    ['2022/12/19', 24.93, 24.61, 25.23, 24.48],
    ['2022/12/20', 24.15, 24.21, 24.63, 23.69],
    ['2022/12/21', 24.58, 24.49, 24.94, 24.43],
    ['2022/12/22', 24.12, 24.53, 24.58, 23.82],
    ['2022/12/23', 24.47, 24.27, 24.62, 24.08],
    ['2022/12/27', 24.02, 24.07, 24.3, 23.88],
    ['2022/12/28', 24.15, 23.09, 24.15, 23.08],
    ['2022/12/29', 23.23, 24.11, 24.11, 23.23],
    ['2022/12/30', 23.77, 24.23, 24.23, 23.77],
    ['2023/01/03', 24.61, 24.8, 24.98, 24.19],
    ['2023/01/04', 25.24, 25.65, 26.11, 25.24],
    ['2023/01/05', 25.37, 26.11, 26.27, 25.13],
    ['2023/01/06', 26.59, 26.71, 27.1, 26.59],
    ['2023/01/09', 26.97, 27.03, 27.49, 26.72],
    ['2023/01/10', 26.71, 26.8, 26.95, 26.46],
    ['2023/01/11', 27.28, 27.21, 27.28, 26.95],
    ['2023/01/12', 27.35, 27.38, 27.57, 26.51],
    ['2023/01/13', 26.9, 27.7, 28.05, 26.77],
    ['2023/01/17', 27.54, 28.19, 28.3, 27.54],
    ['2023/01/18', 28.44, 27.66, 29.2, 27.55],
    ['2023/01/19', 27.35, 27.78, 27.98, 27.1],
    ['2023/01/20', 27.89, 29.23, 29.25, 27.36],
    ['2023/01/23', 29.0, 28.58, 29.38, 28.37],
    ['2023/01/24', 28.22, 28.91, 29.22, 28.18],
    ['2023/01/25', 28.55, 29.24, 29.25, 28.55],
    ['2023/01/26', 29.47, 29.71, 29.99, 28.93],
    ['2023/01/27', 29.56, 30.23, 30.35, 29.56],
    ['2023/01/30', 29.84, 29.61, 30.56, 29.32],
    ['2023/01/31', 29.84, 31.2, 31.25, 29.61],
    ['2023/02/01', 30.96, 32.39, 32.66, 30.36],
    ['2023/02/02', 33.1, 32.87, 34.22, 32.63],
    ['2023/02/03', 31.96, 32.49, 33.08, 31.5],
    ['2023/02/06', 32.07, 32.47, 32.98, 32.07],
    ['2023/02/07', 31.98, 32.62, 33.01, 31.76],
    ['2023/02/08', 32.42, 31.89, 32.42, 31.66],
    ['2023/02/09', 32.26, 31.75, 32.47, 31.65],
    ['2023/02/10', 31.46, 31.44, 31.92, 31.13],
    ['2023/02/13', 31.52, 32.4, 32.54, 31.31],
    ['2023/02/14', 31.96, 32.25, 32.35, 31.26],
    ['2023/02/15', 31.92, 32.44, 32.58, 31.56],
    ['2023/02/16', 31.77, 32.04, 32.4, 31.57],
    ['2023/02/17', 31.98, 31.63, 31.98, 30.93],
    ['2023/02/21', 30.79, 30.28, 31.45, 30.17],
    ['2023/02/22', 30.32, 29.84, 30.8, 29.57],
    ['2023/02/23', 29.75, 30.45, 30.59, 29.75],
    ['2023/02/24', 29.78, 30.1, 30.29, 29.36],
    ['2023/02/27', 30.48, 30.58, 30.72, 30.17],
    ['2023/02/28', 31.31, 31.2, 33.25, 31.17],
    ['2023/03/01', 31.44, 31.82, 32.18, 31.12],
    ['2023/03/02', 31.4, 32.16, 32.2, 30.8],
    ['2023/03/03', 32.52, 33.01, 33.16, 32.21],
    ['2023/03/06', 33.01, 32.35, 33.05, 32.15],
    ['2023/03/07', 32.55, 32.16, 32.55, 32.02],
    ['2023/03/08', 32.36, 32.91, 32.92, 31.9],
    ['2023/03/09', 32.87, 32.55, 33.39, 32.53],
    ['2023/03/10', 32.54, 31.18, 32.55, 30.84],
    ['2023/03/13', 30.39, 30.68, 31.57, 30.36],
    ['2023/03/14', 31.41, 31.62, 32.33, 31.22],
    ['2023/03/15', 31.48, 31.29, 31.76, 30.63],
    ['2023/03/16', 30.9, 32.77, 32.81, 30.9],
    ['2023/03/17', 32.77, 32.5, 33.05, 32.2],
    ['2023/03/20', 32.6, 32.19, 33.07, 32.14],
    ['2023/03/21', 32.61, 32.87, 33.39, 32.61],
    ['2023/03/22', 32.77, 32.86, 33.96, 32.7],
    ['2023/03/23', 33.2, 33.38, 34.09, 32.92],
    ['2023/03/24', 33.1, 34.34, 34.64, 32.69],
    ['2023/03/27', 34.66, 34.26, 35.01, 34.03],
    ['2023/03/28', 34.16, 34.38, 34.44, 34.02],
    ['2023/03/29', 34.66, 34.1, 34.8, 33.91],
    ['2023/03/30', 34.36, 34.35, 34.7, 33.97],
    ['2023/03/31', 34.59, 35.06, 35.06, 34.46],
    ['2023/04/03', 34.99, 35.2, 35.6, 34.35],
    ['2023/04/04', 35.21, 34.15, 35.22, 33.94],
    ['2023/04/05', 33.97, 33.65, 34.0, 33.47],
    ['2023/04/06', 33.63, 32.94, 33.63, 32.71],
    ['2023/04/10', 32.97, 33.43, 33.62, 32.96],
    ['2023/04/11', 33.66, 35.13, 35.28, 33.51],
    ['2023/04/12', 35.38, 35.24, 35.93, 35.12],
    ['2023/04/13', 35.37, 35.15, 35.57, 34.78],
    ['2023/04/14', 35.12, 35.06, 35.34, 34.69],
    ['2023/04/17', 34.95, 35.73, 36.4, 34.89],
    ['2023/04/18', 35.9, 37.21, 37.23, 35.88],
    ['2023/04/19', 37.12, 36.93, 37.13, 36.53],
    ['2023/04/20', 37.14, 37.01, 37.97, 36.9],
    ['2023/04/21', 37.05, 36.99, 37.25, 36.59],
    ['2023/04/24', 36.96, 37.22, 37.24, 36.39],
    ['2023/04/25', 37.01, 36.46, 37.27, 36.39],
    ['2023/04/26', 36.12, 35.89, 36.69, 35.71],
    ['2023/04/27', 36.2, 36.84, 36.89, 36.09],
    ['2023/04/28', 36.78, 37.27, 37.3, 36.78],
    ['2023/05/01', 37.07, 36.99, 37.53, 36.58],
    ['2023/05/02', 36.79, 36.73, 36.85, 35.62],
    ['2023/05/03', 36.91, 37.17, 38.13, 36.8],
    ['2023/05/04', 40.08, 45.76, 45.8, 39.0],
    ['2023/05/05', 46.39, 48.08, 48.16, 46.29],
    ['2023/05/08', 48.43, 50.06, 50.07, 47.91],
    ['2023/05/09', 50.08, 51.95, 51.96, 50.08],
    ['2023/05/10', 52.82, 53.13, 53.72, 51.56],
    ['2023/05/11', 53.0, 51.08, 53.04, 49.38],
    ['2023/05/12', 51.44, 50.26, 51.86, 49.83],
    ['2023/05/15', 50.31, 50.37, 50.59, 49.86],
    ['2023/05/16', 50.11, 50.75, 51.23, 49.53],
    ['2023/05/17', 50.79, 51.77, 51.93, 50.46],
    ['2023/05/18', 51.82, 52.71, 53.09, 51.82],
    ['2023/05/19', 52.85, 51.97, 53.01, 50.88],
    ['2023/05/22', 52.15, 51.63, 52.66, 51.6],
    ['2023/05/23', 51.2, 48.88, 51.24, 48.85],
    ['2023/05/24', 48.29, 48.33, 49.67, 48.02],
    ['2023/05/25', 48.9, 48.64, 49.56, 48.39],
    ['2023/05/26', 48.51, 48.02, 48.66, 47.44],
    ['2023/05/30', 48.06, 48.46, 48.55, 47.77],
    ['2023/05/31', 48.15, 47.87, 49.08, 47.1],
    ['2023/06/01', 47.8, 49.14, 49.4, 47.6],
    ['2023/06/02', 49.51, 51.14, 51.69, 49.18],
    ['2023/06/05', 50.9, 51.68, 52.0, 50.4],
    ['2023/06/06', 51.57, 53.96, 54.13, 51.56],
    ['2023/06/07', 54.33, 55.14, 55.37, 53.95],
    ['2023/06/08', 55.02, 55.77, 56.23, 54.91],
    ['2023/06/09', 55.93, 55.69, 56.92, 55.43],
    ['2023/06/12', 55.77, 56.27, 56.53, 53.79],
    ['2023/06/13', 56.63, 55.74, 57.18, 55.74],
    ['2023/06/14', 55.74, 54.6, 56.06, 54.2],
    ['2023/06/15', 55.04, 55.25, 55.82, 54.43],
    ['2023/06/16', 55.81, 54.33, 56.0, 53.87],
    ['2023/06/20', 54.53, 55.09, 56.58, 54.51],
    ['2023/06/21', 54.71, 56.44, 56.68, 54.34],
    ['2023/06/22', 55.97, 55.63, 56.5, 55.53],
    ['2023/06/23', 55.33, 54.63, 55.87, 54.17],
    ['2023/06/26', 54.25, 53.12, 55.13, 52.99],
    ['2023/06/27', 53.34, 55.19, 56.08, 53.29],
    ['2023/06/28', 55.05, 55.35, 56.24, 54.99],
    ['2023/06/29', 55.28, 56.31, 56.6, 54.84],
    ['2023/06/30', 57.04, 56.8, 57.53, 56.51],
    ['2023/07/03', 56.89, 55.87, 57.48, 55.32],
    ['2023/07/05', 55.71, 54.68, 56.69, 54.55],
    ['2023/07/06', 54.03, 50.42, 54.11, 50.41],
    ['2023/07/07', 50.77, 50.01, 51.69, 50.0],
    ['2023/07/10', 50.0, 51.76, 51.87, 49.51],
    ['2023/07/11', 51.74, 51.34, 52.27, 51.3],
    ['2023/07/12', 52.01, 54.28, 54.61, 51.84],
    ['2023/07/13', 54.52, 55.47, 55.59, 54.04],
    ['2023/07/14', 55.7, 55.69, 56.21, 55.26],
    ['2023/07/17', 57.24, 58.35, 58.44, 56.1],
    ['2023/07/18', 58.48, 58.09, 59.1, 57.54],
    ['2023/07/19', 57.91, 58.51, 58.55, 56.68],
    ['2023/07/20', 59.0, 55.34, 59.3, 54.85],
    ['2023/07/21', 56.03, 54.57, 56.43, 54.4],
    ['2023/07/24', 54.32, 55.17, 55.37, 53.76],
    ['2023/07/25', 55.17, 56.19, 57.43, 55.17],
    ['2023/07/26', 56.0, 54.74, 56.31, 54.34],
    ['2023/07/27', 55.44, 53.78, 55.85, 53.48],
    ['2023/07/28', 54.6, 56.34, 56.42, 54.54],
    ['2023/07/31', 57.0, 56.52, 57.38, 55.96],
    ['2023/08/01', 56.21, 56.81, 57.06, 56.08],
    ['2023/08/02', 55.92, 55.51, 56.6, 55.02],
]);
var volumes = [
    490900.0,
    1942000.0,
    867000.0,
    579700.0,
    671600.0,
    597200.0,
    512800.0,
    318300.0,
    375200.0,
    510600.0,
    430000.0,
    239600.0,
    929900.0,
    546100.0,
    337300.0,
    455200.0,
    555200.0,
    600800.0,
    462600.0,
    645400.0,
    358900.0,
    585500.0,
    559000.0,
    1204100.0,
    667800.0,
    486600.0,
    458200.0,
    468000.0,
    607500.0,
    793400.0,
    743600.0,
    5524500.0,
    507200.0,
    425800.0,
    584200.0,
    454500.0,
    432100.0,
    461600.0,
    409400.0,
    371600.0,
    375700.0,
    517700.0,
    352900.0,
    385100.0,
    262100.0,
    400700.0,
    520300.0,
    250600.0,
    260500.0,
    258900.0,
    272300.0,
    280800.0,
    376200.0,
    356900.0,
    345300.0,
    325900.0,
    340200.0,
    300500.0,
    460100.0,
    385300.0,
    486500.0,
    326500.0,
    336500.0,
    542600.0,
    480100.0,
    635500.0,
    544600.0,
    515600.0,
    524600.0,
    502900.0,
    879900.0,
    609600.0,
    397700.0,
    439600.0,
    225800.0,
    286800.0,
    281800.0,
    249600.0,
    401700.0,
    254200.0,
    98500.0,
    185500.0,
    185000.0,
    384300.0,
    461100.0,
    237900.0,
    216600.0,
    206900.0,
    271500.0,
    245000.0,
    155400.0,
    210800.0,
    431200.0,
    296600.0,
    494900.0,
    1329300.0,
    432100.0,
    344600.0,
    210700.0,
    202100.0,
    114800.0,
    125300.0,
    176200.0,
    226300.0,
    239600.0,
    403400.0,
    392500.0,
    263800.0,
    436300.0,
    399700.0,
    201600.0,
    256700.0,
    251200.0,
    488100.0,
    281200.0,
    252700.0,
    266300.0,
    340900.0,
    306800.0,
    205400.0,
    216500.0,
    219100.0,
    173200.0,
    296300.0,
    342100.0,
    610000.0,
    574300.0,
    344700.0,
    236800.0,
    267200.0,
    275700.0,
    136000.0,
    254700.0,
    194600.0,
    191900.0,
    146800.0,
    173000.0,
    267700.0,
    322300.0,
    349900.0,
    233200.0,
    208400.0,
    325100.0,
    1065800.0,
    583500.0,
    239500.0,
    276900.0,
    295700.0,
    343400.0,
    289200.0,
    492800.0,
    356100.0,
    253500.0,
    351900.0,
    386900.0,
    329900.0,
    694000.0,
    363500.0,
    230900.0,
    267600.0,
    387100.0,
    515100.0,
    407400.0,
    203100.0,
    321400.0,
    222200.0,
    287100.0,
    443700.0,
    240000.0,
    236000.0,
    236600.0,
    271300.0,
    274100.0,
    263600.0,
    165500.0,
    167600.0,
    515200.0,
    299700.0,
    183500.0,
    228000.0,
    252100.0,
    278500.0,
    242600.0,
    214200.0,
    207000.0,
    188800.0,
    250000.0,
    286000.0,
    332100.0,
    1399000.0,
    772000.0,
    734300.0,
    789400.0,
    757700.0,
    1113900.0,
    718400.0,
    401300.0,
    508500.0,
    348300.0,
    411600.0,
    453700.0,
    436200.0,
    539300.0,
    485100.0,
    379200.0,
    422600.0,
    255400.0,
    603300.0,
    351200.0,
    545900.0,
    466700.0,
    436900.0,
    506400.0,
    365500.0,
    464600.0,
    456700.0,
    307900.0,
    404400.0,
    448800.0,
    1293900.0,
    400700.0,
    350500.0,
    297500.0,
    566200.0,
    424400.0,
    490500.0,
    287000.0,
    457500.0,
    513700.0,
    294800.0,
    726300.0,
    529200.0,
    467500.0,
    368700.0,
    246100.0,
    420600.0,
    439000.0,
    336600.0,
    635400.0,
    552800.0,
    360500.0,
    402100.0,
    334800.0,
    240600.0,
    295000.0,
    244000.0,
    302000.0,
    267400.0,
    458300.0,
    380400.0,
    390700.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    title: {
        text: "GRBK",
        left: 0,
    },
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);