/* var echarts = require("echarts"); */

var chartDom = document.getElementById("main_EME");
var myChart = echarts.init(chartDom);
var option;

var upColor = "#ec0000";
var upBorderColor = "#8A0000";
var downColor = "#00da3c";
var downBorderColor = "#008F28";

// Each item: open，close，lowest，highest
var data = splitData([
    ['2022/08/11', 118.48, 118.29, 119.27, 117.79],
    ['2022/08/12', 119.02, 121.25, 121.35, 118.39],
    ['2022/08/15', 120.7, 121.39, 121.63, 119.82],
    ['2022/08/16', 120.45, 122.4, 123.0, 120.45],
    ['2022/08/17', 121.0, 122.2, 122.9, 120.51],
    ['2022/08/18', 122.5, 123.72, 124.25, 122.2],
    ['2022/08/19', 123.22, 121.6, 123.33, 121.43],
    ['2022/08/22', 120.16, 119.91, 121.01, 119.75],
    ['2022/08/23', 119.91, 119.93, 121.75, 119.91],
    ['2022/08/24', 120.35, 121.76, 122.18, 120.09],
    ['2022/08/25', 121.96, 124.01, 124.13, 121.96],
    ['2022/08/26', 123.99, 120.72, 124.27, 120.48],
    ['2022/08/29', 119.87, 120.7, 121.74, 119.05],
    ['2022/08/30', 120.63, 118.59, 120.63, 118.29],
    ['2022/08/31', 118.53, 118.92, 119.71, 118.3],
    ['2022/09/01', 118.24, 117.24, 118.27, 116.58],
    ['2022/09/02', 118.65, 116.37, 119.91, 116.22],
    ['2022/09/06', 116.73, 115.99, 116.73, 114.91],
    ['2022/09/07', 116.28, 118.45, 118.71, 115.75],
    ['2022/09/08', 117.62, 120.41, 120.42, 116.89],
    ['2022/09/09', 121.47, 122.07, 122.47, 120.63],
    ['2022/09/12', 122.62, 122.43, 123.22, 121.75],
    ['2022/09/13', 119.55, 117.8, 120.47, 117.22],
    ['2022/09/14', 117.48, 118.53, 118.96, 116.85],
    ['2022/09/15', 117.45, 118.63, 119.6, 116.9],
    ['2022/09/16', 117.53, 118.05, 118.38, 117.03],
    ['2022/09/19', 117.21, 119.67, 119.81, 117.21],
    ['2022/09/20', 118.59, 118.97, 119.41, 117.63],
    ['2022/09/21', 120.78, 118.77, 121.99, 118.54],
    ['2022/09/22', 119.03, 117.64, 119.19, 117.42],
    ['2022/09/23', 116.44, 115.16, 116.54, 114.1],
    ['2022/09/26', 115.01, 114.9, 117.02, 114.39],
    ['2022/09/27', 115.98, 113.85, 116.16, 112.85],
    ['2022/09/28', 114.82, 117.34, 118.07, 114.26],
    ['2022/09/29', 116.09, 115.96, 117.28, 114.13],
    ['2022/09/30', 116.27, 115.48, 118.3, 115.3],
    ['2022/10/03', 117.41, 118.62, 119.15, 115.84],
    ['2022/10/04', 120.14, 122.26, 122.72, 120.14],
    ['2022/10/05', 120.78, 121.46, 122.21, 120.74],
    ['2022/10/06', 120.72, 121.79, 122.17, 120.33],
    ['2022/10/07', 121.19, 120.28, 121.19, 119.22],
    ['2022/10/10', 121.18, 121.94, 122.66, 120.55],
    ['2022/10/11', 121.46, 122.97, 123.81, 121.19],
    ['2022/10/12', 123.02, 121.4, 123.19, 121.36],
    ['2022/10/13', 119.42, 123.7, 124.46, 119.12],
    ['2022/10/14', 124.42, 121.95, 124.46, 121.44],
    ['2022/10/17', 123.88, 127.43, 127.58, 123.6],
    ['2022/10/18', 130.0, 127.98, 131.57, 126.28],
    ['2022/10/19', 127.37, 127.84, 128.37, 126.32],
    ['2022/10/20', 127.86, 124.82, 128.5, 124.25],
    ['2022/10/21', 125.22, 126.68, 127.71, 123.79],
    ['2022/10/24', 127.49, 128.09, 129.17, 126.54],
    ['2022/10/25', 128.23, 130.11, 130.99, 128.23],
    ['2022/10/26', 130.72, 129.12, 131.92, 128.86],
    ['2022/10/27', 134.03, 134.44, 137.31, 131.73],
    ['2022/10/28', 135.59, 140.03, 142.08, 135.55],
    ['2022/10/31', 139.24, 141.1, 141.87, 138.65],
    ['2022/11/01', 141.58, 144.34, 144.63, 141.08],
    ['2022/11/02', 142.65, 140.34, 144.65, 140.15],
    ['2022/11/03', 139.28, 142.34, 143.79, 138.53],
    ['2022/11/04', 145.08, 144.35, 145.9, 142.12],
    ['2022/11/07', 145.74, 145.7, 146.02, 143.63],
    ['2022/11/08', 146.33, 145.9, 148.3, 144.54],
    ['2022/11/09', 143.98, 146.49, 146.99, 143.98],
    ['2022/11/10', 150.0, 152.06, 152.12, 148.54],
    ['2022/11/11', 151.72, 150.79, 153.42, 150.27],
    ['2022/11/14', 150.7, 149.52, 153.58, 149.36],
    ['2022/11/15', 150.43, 152.83, 153.42, 149.57],
    ['2022/11/16', 153.0, 154.38, 155.29, 152.56],
    ['2022/11/17', 152.65, 152.84, 153.79, 151.2],
    ['2022/11/18', 154.65, 155.33, 155.54, 151.92],
    ['2022/11/21', 154.4, 154.76, 155.97, 154.03],
    ['2022/11/22', 155.6, 154.79, 156.67, 151.87],
    ['2022/11/23', 153.95, 153.59, 155.75, 153.32],
    ['2022/11/25', 154.28, 155.4, 155.95, 154.28],
    ['2022/11/28', 154.51, 152.81, 155.58, 152.06],
    ['2022/11/29', 152.52, 152.12, 153.92, 151.78],
    ['2022/11/30', 151.91, 154.9, 154.92, 149.74],
    ['2022/12/01', 155.55, 154.01, 156.15, 153.56],
    ['2022/12/02', 152.76, 153.89, 155.23, 152.13],
    ['2022/12/05', 152.04, 149.11, 152.04, 147.15],
    ['2022/12/06', 149.72, 148.98, 150.49, 147.29],
    ['2022/12/07', 148.58, 149.33, 150.64, 148.13],
    ['2022/12/08', 150.52, 150.83, 151.53, 149.21],
    ['2022/12/09', 150.46, 148.56, 150.55, 148.52],
    ['2022/12/12', 148.68, 149.43, 149.68, 147.95],
    ['2022/12/13', 153.24, 150.22, 153.24, 149.3],
    ['2022/12/14', 151.11, 147.56, 151.31, 146.43],
    ['2022/12/15', 146.79, 145.73, 147.33, 144.15],
    ['2022/12/16', 144.0, 148.17, 148.22, 143.68],
    ['2022/12/19', 148.19, 146.9, 148.81, 146.12],
    ['2022/12/20', 146.5, 146.63, 148.3, 146.48],
    ['2022/12/21', 147.49, 149.34, 150.63, 146.9],
    ['2022/12/22', 148.15, 149.08, 149.57, 146.31],
    ['2022/12/23', 148.91, 149.85, 150.47, 148.68],
    ['2022/12/27', 149.8, 150.08, 151.4, 149.27],
    ['2022/12/28', 150.19, 147.6, 150.75, 147.57],
    ['2022/12/29', 148.67, 149.12, 150.0, 148.31],
    ['2022/12/30', 148.84, 148.11, 148.93, 147.34],
    ['2023/01/03', 148.86, 148.31, 149.32, 146.39],
    ['2023/01/04', 149.13, 145.44, 149.75, 144.54],
    ['2023/01/05', 144.5, 142.4, 145.58, 141.89],
    ['2023/01/06', 144.42, 147.64, 147.72, 143.52],
    ['2023/01/09', 147.81, 145.04, 149.31, 144.44],
    ['2023/01/10', 144.44, 147.05, 147.33, 143.71],
    ['2023/01/11', 147.78, 147.79, 149.69, 147.65],
    ['2023/01/12', 147.95, 151.85, 151.91, 147.45],
    ['2023/01/13', 151.82, 152.69, 152.98, 150.74],
    ['2023/01/17', 150.35, 148.4, 152.59, 148.33],
    ['2023/01/18', 148.26, 147.23, 150.81, 146.85],
    ['2023/01/19', 146.46, 144.03, 146.83, 143.28],
    ['2023/01/20', 144.98, 145.32, 145.33, 142.63],
    ['2023/01/23', 145.18, 144.38, 145.69, 143.9],
    ['2023/01/24', 144.1, 146.55, 147.75, 143.32],
    ['2023/01/25', 145.48, 146.22, 147.25, 144.69],
    ['2023/01/26', 147.47, 146.35, 147.89, 145.27],
    ['2023/01/27', 145.59, 146.58, 147.19, 145.59],
    ['2023/01/30', 146.24, 145.45, 148.56, 145.09],
    ['2023/01/31', 145.93, 148.25, 148.52, 145.93],
    ['2023/02/01', 148.02, 149.08, 150.77, 147.15],
    ['2023/02/02', 149.46, 149.58, 149.9, 147.34],
    ['2023/02/03', 149.1, 148.64, 150.67, 148.42],
    ['2023/02/06', 148.0, 147.41, 148.98, 145.98],
    ['2023/02/07', 146.49, 148.13, 148.29, 144.64],
    ['2023/02/08', 147.08, 147.61, 148.49, 146.93],
    ['2023/02/09', 148.5, 145.15, 149.32, 145.12],
    ['2023/02/10', 145.16, 145.87, 145.92, 143.85],
    ['2023/02/13', 146.18, 147.26, 148.13, 145.79],
    ['2023/02/14', 146.91, 147.01, 148.45, 145.85],
    ['2023/02/15', 145.56, 148.64, 148.98, 145.47],
    ['2023/02/16', 146.85, 148.76, 150.74, 146.85],
    ['2023/02/17', 149.33, 151.19, 152.23, 149.2],
    ['2023/02/21', 149.76, 146.48, 149.83, 145.77],
    ['2023/02/22', 147.14, 146.54, 148.07, 146.22],
    ['2023/02/23', 155.4, 162.12, 165.82, 153.47],
    ['2023/02/24', 165.94, 165.52, 169.89, 161.0],
    ['2023/02/27', 166.12, 166.04, 166.94, 164.76],
    ['2023/02/28', 166.16, 167.22, 168.9, 166.16],
    ['2023/03/01', 167.47, 166.99, 168.38, 166.0],
    ['2023/03/02', 166.29, 166.86, 167.98, 165.78],
    ['2023/03/03', 167.8, 168.95, 169.47, 165.36],
    ['2023/03/06', 168.38, 166.49, 168.8, 165.59],
    ['2023/03/07', 167.2, 165.81, 168.36, 165.63],
    ['2023/03/08', 166.22, 167.97, 168.02, 164.72],
    ['2023/03/09', 168.69, 164.89, 168.83, 164.8],
    ['2023/03/10', 164.07, 158.49, 164.07, 157.12],
    ['2023/03/13', 155.76, 155.68, 158.75, 154.77],
    ['2023/03/14', 159.13, 158.39, 160.13, 157.45],
    ['2023/03/15', 154.95, 155.91, 155.95, 152.75],
    ['2023/03/16', 154.26, 160.54, 160.64, 153.95],
    ['2023/03/17', 160.07, 160.4, 161.1, 157.17],
    ['2023/03/20', 161.49, 161.65, 163.68, 160.91],
    ['2023/03/21', 163.87, 162.02, 165.44, 161.21],
    ['2023/03/22', 160.9, 159.91, 163.15, 159.29],
    ['2023/03/23', 159.79, 157.64, 160.55, 156.02],
    ['2023/03/24', 155.89, 156.7, 157.66, 153.56],
    ['2023/03/27', 158.02, 159.17, 159.96, 155.78],
    ['2023/03/28', 158.8, 159.52, 159.91, 157.94],
    ['2023/03/29', 160.53, 160.56, 161.22, 159.17],
    ['2023/03/30', 160.96, 160.94, 162.28, 159.35],
    ['2023/03/31', 161.67, 162.59, 162.84, 160.73],
    ['2023/04/03', 162.82, 164.52, 164.94, 162.78],
    ['2023/04/04', 164.99, 158.7, 164.99, 158.09],
    ['2023/04/05', 157.65, 154.24, 158.1, 151.61],
    ['2023/04/06', 154.14, 152.82, 154.29, 151.52],
    ['2023/04/10', 152.16, 156.73, 157.27, 152.16],
    ['2023/04/11', 157.41, 154.92, 158.37, 154.63],
    ['2023/04/12', 155.96, 154.77, 156.3, 154.23],
    ['2023/04/13', 154.77, 155.99, 156.4, 154.0],
    ['2023/04/14', 155.16, 155.91, 157.31, 154.95],
    ['2023/04/17', 156.26, 157.18, 157.21, 155.35],
    ['2023/04/18', 157.73, 156.69, 159.5, 155.4],
    ['2023/04/19', 156.39, 155.94, 157.16, 155.14],
    ['2023/04/20', 155.35, 158.93, 159.22, 155.35],
    ['2023/04/21', 158.98, 157.78, 159.62, 157.01],
    ['2023/04/24', 158.13, 159.73, 160.54, 158.13],
    ['2023/04/25', 157.95, 160.0, 160.63, 157.95],
    ['2023/04/26', 158.37, 157.86, 159.26, 155.47],
    ['2023/04/27', 162.09, 171.44, 171.58, 161.8],
    ['2023/04/28', 171.22, 171.0, 174.05, 169.51],
    ['2023/05/01', 170.85, 167.62, 171.99, 167.04],
    ['2023/05/02', 167.34, 166.74, 167.34, 164.83],
    ['2023/05/03', 167.65, 165.96, 168.87, 165.57],
    ['2023/05/04', 165.02, 165.27, 166.51, 164.3],
    ['2023/05/05', 167.03, 167.88, 168.78, 166.69],
    ['2023/05/08', 168.35, 166.47, 168.77, 165.74],
    ['2023/05/09', 166.46, 166.36, 166.89, 165.11],
    ['2023/05/10', 167.18, 166.31, 168.25, 164.94],
    ['2023/05/11', 164.93, 165.04, 166.27, 164.71],
    ['2023/05/12', 165.32, 165.1, 167.03, 164.7],
    ['2023/05/15', 165.35, 165.6, 166.57, 164.55],
    ['2023/05/16', 165.0, 164.28, 165.25, 162.49],
    ['2023/05/17', 165.03, 165.46, 166.18, 164.93],
    ['2023/05/18', 164.93, 166.71, 166.9, 164.56],
    ['2023/05/19', 167.84, 164.95, 167.84, 164.76],
    ['2023/05/22', 165.2, 164.91, 166.39, 163.24],
    ['2023/05/23', 163.52, 163.1, 165.07, 162.68],
    ['2023/05/24', 163.77, 161.68, 164.9, 161.49],
    ['2023/05/25', 162.22, 167.48, 167.88, 161.95],
    ['2023/05/26', 167.91, 170.86, 171.65, 167.91],
    ['2023/05/30', 171.67, 171.02, 173.78, 170.35],
    ['2023/05/31', 170.16, 164.84, 172.25, 163.4],
    ['2023/06/01', 164.85, 165.46, 165.94, 163.44],
    ['2023/06/02', 166.58, 173.19, 173.2, 166.33],
    ['2023/06/05', 172.19, 170.32, 172.69, 168.0],
    ['2023/06/06', 170.49, 174.65, 175.25, 170.11],
    ['2023/06/07', 175.0, 176.72, 176.8, 174.5],
    ['2023/06/08', 175.93, 176.52, 176.9, 174.68],
    ['2023/06/09', 175.2, 174.59, 175.55, 172.83],
    ['2023/06/12', 174.66, 174.71, 176.25, 172.8],
    ['2023/06/13', 174.65, 177.14, 178.46, 174.65],
    ['2023/06/14', 176.57, 175.77, 177.08, 173.77],
    ['2023/06/15', 175.36, 176.83, 176.98, 173.2],
    ['2023/06/16', 178.61, 175.73, 178.91, 175.11],
    ['2023/06/20', 175.0, 174.74, 175.01, 173.24],
    ['2023/06/21', 174.48, 177.92, 178.02, 174.11],
    ['2023/06/22', 177.84, 177.36, 179.26, 176.41],
    ['2023/06/23', 176.02, 175.55, 177.93, 174.01],
    ['2023/06/26', 176.8, 177.56, 178.99, 176.26],
    ['2023/06/27', 178.0, 179.88, 180.23, 177.96],
    ['2023/06/28', 180.41, 179.36, 180.85, 178.84],
    ['2023/06/29', 179.25, 183.44, 183.94, 178.52],
    ['2023/06/30', 184.19, 184.78, 185.66, 182.34],
    ['2023/07/03', 184.35, 184.27, 184.76, 182.94],
    ['2023/07/05', 182.95, 182.65, 184.11, 181.65],
    ['2023/07/06', 181.68, 183.12, 183.41, 180.63],
    ['2023/07/07', 182.56, 184.35, 185.1, 182.56],
    ['2023/07/10', 184.34, 186.18, 187.5, 184.34],
    ['2023/07/11', 186.2, 186.26, 187.66, 184.79],
    ['2023/07/12', 187.76, 187.56, 188.46, 186.49],
    ['2023/07/13', 187.81, 187.64, 188.41, 186.73],
    ['2023/07/14', 187.92, 187.68, 188.0, 186.0],
    ['2023/07/17', 187.99, 189.08, 189.67, 187.05],
    ['2023/07/18', 189.08, 190.95, 192.63, 189.08],
    ['2023/07/19', 192.31, 191.23, 192.38, 187.8],
    ['2023/07/20', 191.78, 190.68, 191.78, 189.04],
    ['2023/07/21', 191.88, 190.35, 191.9, 190.02],
    ['2023/07/24', 191.31, 190.47, 192.13, 189.11],
    ['2023/07/25', 190.13, 189.81, 191.46, 189.55],
    ['2023/07/26', 189.07, 189.2, 190.8, 187.53],
    ['2023/07/27', 195.0, 200.56, 200.6, 193.04],
    ['2023/07/28', 202.21, 211.82, 212.71, 201.85],
    ['2023/07/31', 212.7, 215.04, 215.93, 212.59],
    ['2023/08/01', 214.57, 214.38, 218.03, 213.82],
    ['2023/08/02', 213.6, 216.18, 216.66, 213.3],
    ['2023/08/03', 215.58, 215.24, 217.47, 213.72],
    ['2023/08/04', 216.41, 216.88, 217.68, 212.89],
    ['2023/08/07', 217.36, 220.78, 221.73, 217.22],
    ['2023/08/08', 219.84, 221.18, 222.27, 217.71],
    ['2023/08/09', 220.41, 217.0, 220.54, 216.44],
]);
var volumes = [
    168000.0,
    189000.0,
    227500.0,
    331400.0,
    248600.0,
    308900.0,
    315100.0,
    313400.0,
    328000.0,
    247600.0,
    270300.0,
    252500.0,
    199800.0,
    318600.0,
    291800.0,
    455700.0,
    317800.0,
    358800.0,
    350300.0,
    340400.0,
    201200.0,
    196200.0,
    243800.0,
    366900.0,
    351000.0,
    1106100.0,
    248800.0,
    172200.0,
    265000.0,
    327600.0,
    350100.0,
    335800.0,
    301800.0,
    239900.0,
    246800.0,
    303900.0,
    216400.0,
    233500.0,
    265000.0,
    161300.0,
    177800.0,
    205600.0,
    285100.0,
    246400.0,
    282200.0,
    194700.0,
    321700.0,
    386800.0,
    336200.0,
    171800.0,
    325900.0,
    288400.0,
    245700.0,
    507300.0,
    588000.0,
    682800.0,
    559800.0,
    373300.0,
    454200.0,
    277200.0,
    333100.0,
    359200.0,
    320500.0,
    398200.0,
    511700.0,
    478100.0,
    470500.0,
    440000.0,
    508100.0,
    404800.0,
    695400.0,
    318500.0,
    364700.0,
    214200.0,
    119000.0,
    224200.0,
    209500.0,
    348700.0,
    149800.0,
    207200.0,
    376000.0,
    298200.0,
    194200.0,
    160400.0,
    194800.0,
    232000.0,
    306600.0,
    433000.0,
    462800.0,
    2007700.0,
    267600.0,
    339900.0,
    307100.0,
    311100.0,
    130800.0,
    132500.0,
    132800.0,
    161500.0,
    157700.0,
    188300.0,
    375800.0,
    261200.0,
    221900.0,
    290100.0,
    244300.0,
    177100.0,
    229600.0,
    175400.0,
    278600.0,
    197600.0,
    130200.0,
    191700.0,
    202200.0,
    213300.0,
    152900.0,
    137000.0,
    153500.0,
    176200.0,
    331900.0,
    247600.0,
    189000.0,
    263800.0,
    284800.0,
    301100.0,
    212900.0,
    428700.0,
    207200.0,
    256600.0,
    154800.0,
    183900.0,
    294500.0,
    268400.0,
    203200.0,
    239200.0,
    743200.0,
    576900.0,
    472600.0,
    555400.0,
    347700.0,
    217500.0,
    209200.0,
    367000.0,
    346900.0,
    320900.0,
    216800.0,
    417200.0,
    272700.0,
    363400.0,
    460600.0,
    453100.0,
    898100.0,
    337600.0,
    314800.0,
    374800.0,
    327200.0,
    339500.0,
    435100.0,
    185100.0,
    205600.0,
    239700.0,
    302900.0,
    776300.0,
    288700.0,
    444900.0,
    245100.0,
    620300.0,
    256700.0,
    287400.0,
    179500.0,
    192600.0,
    174400.0,
    193600.0,
    292900.0,
    403700.0,
    480100.0,
    467200.0,
    690100.0,
    928700.0,
    630900.0,
    623500.0,
    414800.0,
    335400.0,
    318600.0,
    271600.0,
    232200.0,
    237700.0,
    210700.0,
    333000.0,
    237200.0,
    267300.0,
    171100.0,
    335500.0,
    240100.0,
    323000.0,
    372300.0,
    245400.0,
    413200.0,
    539800.0,
    386500.0,
    373800.0,
    276600.0,
    619100.0,
    363300.0,
    499200.0,
    201800.0,
    388800.0,
    310800.0,
    273500.0,
    258300.0,
    379800.0,
    486500.0,
    339900.0,
    366800.0,
    530100.0,
    341400.0,
    448500.0,
    577500.0,
    5885600.0,
    450400.0,
    314800.0,
    567300.0,
    368900.0,
    383200.0,
    114400.0,
    238800.0,
    429500.0,
    583600.0,
    291800.0,
    274500.0,
    218000.0,
    192200.0,
    252300.0,
    213800.0,
    231100.0,
    275900.0,
    250200.0,
    300100.0,
    296400.0,
    302600.0,
    450300.0,
    796800.0,
    857200.0,
    550300.0,
    545400.0,
    368000.0,
    436100.0,
    381800.0,
    360300.0,
    314400.0,
    385400.0,
]

function splitData(rawData) {
    const categoryData = [];
    const values = [];
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
        values.push(rawData[i]);
    }
    return {
        categoryData: categoryData,
        values: values,
    };
}

function calculateMA(dayCount) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push("-");
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += +data.values[i - j][1];
        }
        result.push(sum / dayCount);
    }
    return result;
}

option = {
    /* title: {
     *     text: "EME",
     *     left: 0,
     * }, */
    tooltip: {
        trigger: "axis",
        axisPointer: {
            type: "cross",
        },
    },
    legend: {
        data: ["日K", "MA5", "MA20", "MA30"],
    },
    grid: [
        {
            left: "10%",
            right: "10%",
            top: "5%",
            bottom: "30%",
        },
        {
            left: "10%",
            right: "10%",
            top: "70%",
            bottom: "5%",
        },
    ],
    axisPointer: {
        link: [
            {
                xAxisIndex: [0, 1],
            },
        ],
    },
    xAxis: [
        {
            type: "category",
            gridIndex: 0,
            data: data.categoryData,
            boundaryGap: false,
            axisLine: { onZero: false },
            splitLine: { show: false },
            min: "dataMin",
            max: "dataMax",
        },
        {
            type: "category",
            gridIndex: 1,
            data: data.categoryData,
            boundaryGap: false,
            splitLine: { show: false },
            axisLabel: { show: false },
            axisTick: { show: false },
            axisLine: { lineStyle: { color: "#777" } },
            min: "dataMin",
            max: "dataMax",
        },
    ],
    yAxis: [
        {
            scale: true,
            gridIndex: 0,
            splitNumber: 2,
            splitArea: {
                show: true,
            },
            min: (value) => {return value.min * 0.9},
            max: (value) => {return value.max * 1.1},
        },
        {
            scale: true,
            gridIndex: 1,
            splitNumber: 2,
            axisLabel: { show: false },
            axisLine: { show: false },
            axisTick: { show: false },
            splitLine: { show: false },
        },
    ],
    dataZoom: [
        {
            type: "inside",
            xAxisIndex: [0, 1],
            start: 50,
            end: 100,
        },
    ],
    series: [
        {
            name: "volume",
            type: "bar",
            xAxisIndex: 1,
            yAxisIndex: 1,
            itemStyle: {
                color: "#7fbe9e",
            },
            emphasis: {
                itemStyle: {
                    color: "#140",
                },
            },
            data: volumes,
        },
        {
            name: "日K",
            type: "candlestick",
            data: data.values,
            itemStyle: {
                color: upColor,
                color0: downColor,
                borderColor: upBorderColor,
                borderColor0: downBorderColor,
            },
            markLine: {
                symbol: ["none", "none"],
                data: [
                    {
                        name: "min line on close",
                        type: "min",
                        valueDim: "close",
                    },
                    {
                        name: "max line on close",
                        type: "max",
                        valueDim: "close",
                    },
                ],
            },
        },
        {
            name: "MA5",
            type: "line",
            data: calculateMA(5),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA20",
            type: "line",
            data: calculateMA(20),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
        {
            name: "MA30",
            type: "line",
            data: calculateMA(30),
            smooth: true,
            lineStyle: {
                opacity: 0.5,
            },
        },
    ],
};

option && myChart.setOption(option);